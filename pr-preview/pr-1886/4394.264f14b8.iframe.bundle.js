(self.webpackChunklayerswap=self.webpackChunklayerswap||[]).push([[4394],{"./node_modules/@solflare-wallet/sdk/lib/esm/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>esm});var extendStatics,index_browser_esm=__webpack_require__("./node_modules/@solana/web3.js/lib/index.browser.esm.js"),eventemitter3=__webpack_require__("./node_modules/eventemitter3/index.mjs"),__extends=(extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)},function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});const base=function(_super){function WalletAdapter(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(WalletAdapter,_super),WalletAdapter}(eventemitter3.A);var bs58=__webpack_require__("./node_modules/@solflare-wallet/sdk/node_modules/bs58/index.js"),bs58_default=__webpack_require__.n(bs58),WalletProvider_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)};return function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__assign=function(){return __assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},__assign.apply(this,arguments)},__awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function step(op){if(f)throw new TypeError("Generator is already executing.");for(;g&&(g=0,op[0]&&(_=0)),_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=_.trys,(t=t.length>0&&t[t.length-1])||6!==op[0]&&2!==op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}},__read=function(o,n){var m="function"==typeof Symbol&&o[Symbol.iterator];if(!m)return o;var r,e,i=m.call(o),ar=[];try{for(;(void 0===n||n-- >0)&&!(r=i.next()).done;)ar.push(r.value)}catch(error){e={error}}finally{try{r&&!r.done&&(m=i.return)&&m.call(i)}finally{if(e)throw e.error}}return ar};const WalletProvider=function(_super){function Wallet(provider,network){var _this=_super.call(this)||this;if(_this._handleMessage=function(e){if(_this._injectedProvider&&e.source===window||e.origin===_this._providerUrl.origin&&e.source===_this._popup)if("connected"===e.data.method){var newPublicKey=new index_browser_esm.PublicKey(e.data.params.publicKey);_this._publicKey&&_this._publicKey.equals(newPublicKey)||(_this._publicKey&&!_this._publicKey.equals(newPublicKey)&&_this._handleDisconnect(),_this._publicKey=newPublicKey,_this._autoApprove=!!e.data.params.autoApprove,_this.emit("connect",_this._publicKey))}else if("disconnected"===e.data.method)_this._handleDisconnect();else if((e.data.result||e.data.error)&&_this._responsePromises.has(e.data.id)){var _a=__read(_this._responsePromises.get(e.data.id),2),resolve=_a[0],reject=_a[1];e.data.result?resolve(e.data.result):reject(new Error(e.data.error))}},_this._handleConnect=function(){return _this._handlerAdded||(_this._handlerAdded=!0,window.addEventListener("message",_this._handleMessage),window.addEventListener("beforeunload",_this.disconnect)),_this._injectedProvider?new Promise(function(resolve){_this._sendRequest("connect",{}),resolve()}):(window.name="parent",_this._popup=window.open(_this._providerUrl.toString(),"_blank","location,resizable,width=460,height=675"),new Promise(function(resolve){_this.once("connect",resolve)}))},_this._handleDisconnect=function(){_this._handlerAdded&&(_this._handlerAdded=!1,window.removeEventListener("message",_this._handleMessage),window.removeEventListener("beforeunload",_this.disconnect)),_this._publicKey&&(_this._publicKey=null,_this.emit("disconnect")),_this._responsePromises.forEach(function(_a,id){var _b=__read(_a,2),reject=(_b[0],_b[1]);_this._responsePromises.delete(id),reject("Wallet disconnected")})},_this._sendRequest=function(method,params){return __awaiter(_this,void 0,void 0,function(){var requestId,_this=this;return __generator(this,function(_a){if("connect"!==method&&!this.connected)throw new Error("Wallet not connected");return requestId=this._nextRequestId,++this._nextRequestId,[2,new Promise(function(resolve,reject){_this._responsePromises.set(requestId,[resolve,reject]),_this._injectedProvider?_this._injectedProvider.postMessage({jsonrpc:"2.0",id:requestId,method,params:__assign({network:_this._network},params)}):(_this._popup.postMessage({jsonrpc:"2.0",id:requestId,method,params},_this._providerUrl.origin),_this.autoApprove||_this._popup.focus())})]})})},_this.connect=function(){return _this._popup&&_this._popup.close(),_this._handleConnect()},_this.disconnect=function(){return __awaiter(_this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return this._injectedProvider?[4,this._sendRequest("disconnect",{})]:[3,2];case 1:_a.sent(),_a.label=2;case 2:return this._popup&&this._popup.close(),this._handleDisconnect(),[2]}})})},_this.sign=function(data,display){return __awaiter(_this,void 0,void 0,function(){var response,signature,publicKey;return __generator(this,function(_a){switch(_a.label){case 0:if(!(data instanceof Uint8Array))throw new Error("Data must be an instance of Uint8Array");return[4,this._sendRequest("sign",{data,display})];case 1:return response=_a.sent(),signature=bs58_default().decode(response.signature),publicKey=new index_browser_esm.PublicKey(response.publicKey),[2,{signature,publicKey}]}})})},function isInjectedProvider(a){return function isObject(a){return"object"==typeof a&&null!==a}(a)&&function isFunction(a){return"function"==typeof a}(a.postMessage)}(provider))_this._injectedProvider=provider;else{if(!function isString(a){return"string"==typeof a}(provider))throw new Error("provider parameter must be an injected provider or a URL string.");_this._providerUrl=new URL(provider),_this._providerUrl.hash=new URLSearchParams({origin:window.location.origin,network}).toString()}return _this._network=network,_this._publicKey=null,_this._autoApprove=!1,_this._popup=null,_this._handlerAdded=!1,_this._nextRequestId=1,_this._responsePromises=new Map,_this}return WalletProvider_extends(Wallet,_super),Object.defineProperty(Wallet.prototype,"publicKey",{get:function(){return this._publicKey},enumerable:!1,configurable:!0}),Object.defineProperty(Wallet.prototype,"connected",{get:function(){return null!==this._publicKey},enumerable:!1,configurable:!0}),Object.defineProperty(Wallet.prototype,"autoApprove",{get:function(){return this._autoApprove},enumerable:!1,configurable:!0}),Wallet}(eventemitter3.A);var web_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)};return function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),web_awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},web_generator=function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function step(op){if(f)throw new TypeError("Generator is already executing.");for(;g&&(g=0,op[0]&&(_=0)),_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=_.trys,(t=t.length>0&&t[t.length-1])||6!==op[0]&&2!==op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}};const web=function(_super){function WebAdapter(iframe,network,provider){var _this=_super.call(this)||this;return _this._instance=null,_this.handleMessage=function(data){},_this._sendRequest=function(method,params){return web_awaiter(_this,void 0,void 0,function(){var _a,_b;return web_generator(this,function(_c){switch(_c.label){case 0:return(null===(_a=this._instance)||void 0===_a?void 0:_a.sendRequest)?[4,this._instance.sendRequest(method,params)]:[3,2];case 1:case 3:return[2,_c.sent()];case 2:return(null===(_b=this._instance)||void 0===_b?void 0:_b._sendRequest)?[4,this._instance._sendRequest(method,params)]:[3,4];case 4:throw new Error("Unsupported version of `@project-serum/sol-wallet-adapter`")}})})},_this._handleConnect=function(){_this.emit("connect")},_this._handleDisconnect=function(){window.clearInterval(_this._pollTimer),_this.emit("disconnect")},_this._network=network,_this._provider=provider,_this}return web_extends(WebAdapter,_super),Object.defineProperty(WebAdapter.prototype,"publicKey",{get:function(){return this._instance.publicKey||null},enumerable:!1,configurable:!0}),Object.defineProperty(WebAdapter.prototype,"connected",{get:function(){return this._instance.connected||!1},enumerable:!1,configurable:!0}),WebAdapter.prototype.connect=function(){return web_awaiter(this,void 0,void 0,function(){var _this=this;return web_generator(this,function(_a){switch(_a.label){case 0:return this._instance=new WalletProvider(this._provider,this._network),this._instance.on("connect",this._handleConnect),this._instance.on("disconnect",this._handleDisconnect),this._pollTimer=window.setInterval(function(){var _a,_b;!1!==(null===(_b=null===(_a=_this._instance)||void 0===_a?void 0:_a._popup)||void 0===_b?void 0:_b.closed)&&_this._handleDisconnect()},200),[4,this._instance.connect()];case 1:return _a.sent(),[2]}})})},WebAdapter.prototype.disconnect=function(){return web_awaiter(this,void 0,void 0,function(){return web_generator(this,function(_a){switch(_a.label){case 0:if(!this.connected)throw new Error("Wallet not connected");return this._instance.removeAllListeners("connect"),this._instance.removeAllListeners("disconnect"),[4,this._instance.disconnect()];case 1:return _a.sent(),[2]}})})},WebAdapter.prototype.signTransaction=function(transaction){return web_awaiter(this,void 0,void 0,function(){var signedTransaction;return web_generator(this,function(_a){switch(_a.label){case 0:if(!this.connected)throw new Error("Wallet not connected");return[4,this._sendRequest("signTransactionV2",{transaction:bs58_default().encode(transaction)})];case 1:return signedTransaction=_a.sent().transaction,[2,bs58_default().decode(signedTransaction)]}})})},WebAdapter.prototype.signAllTransactions=function(transactions){return web_awaiter(this,void 0,void 0,function(){return web_generator(this,function(_a){switch(_a.label){case 0:if(!this.connected)throw new Error("Wallet not connected");return[4,this._sendRequest("signAllTransactionsV2",{transactions:transactions.map(function(transaction){return bs58_default().encode(transaction)})})];case 1:return[2,_a.sent().transactions.map(function(transaction){return bs58_default().decode(transaction)})]}})})},WebAdapter.prototype.signAndSendTransaction=function(transaction,options){return web_awaiter(this,void 0,void 0,function(){return web_generator(this,function(_a){switch(_a.label){case 0:if(!this.connected)throw new Error("Wallet not connected");return[4,this._sendRequest("signAndSendTransaction",{transaction:bs58_default().encode(transaction),options})];case 1:return[2,_a.sent().signature]}})})},WebAdapter.prototype.signMessage=function(data,display){return void 0===display&&(display="hex"),web_awaiter(this,void 0,void 0,function(){var signature;return web_generator(this,function(_a){switch(_a.label){case 0:if(!this.connected)throw new Error("Wallet not connected");return[4,this._instance.sign(data,display)];case 1:return signature=_a.sent().signature,[2,Uint8Array.from(signature)]}})})},WebAdapter}(base);var v4=__webpack_require__("./node_modules/uuid/dist/esm-browser/v4.js"),iframe_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)};return function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),iframe_assign=function(){return iframe_assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},iframe_assign.apply(this,arguments)},iframe_awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},iframe_generator=function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function step(op){if(f)throw new TypeError("Generator is already executing.");for(;g&&(g=0,op[0]&&(_=0)),_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=_.trys,(t=t.length>0&&t[t.length-1])||6!==op[0]&&2!==op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}},IframeAdapter=function(_super){function IframeAdapter(iframe,publicKey){var _a,_this=this;return(_this=_super.call(this)||this)._publicKey=null,_this._messageHandlers={},_this.handleMessage=function(data){if(_this._messageHandlers[data.id]){var _a=_this._messageHandlers[data.id],resolve=_a.resolve,reject=_a.reject;delete _this._messageHandlers[data.id],data.error?reject(data.error):resolve(data.result)}},_this._sendMessage=function(data){if(!_this.connected)throw new Error("Wallet not connected");return new Promise(function(resolve,reject){var _a,_b,messageId=(0,v4.A)();_this._messageHandlers[messageId]={resolve,reject},null===(_b=null===(_a=_this._iframe)||void 0===_a?void 0:_a.contentWindow)||void 0===_b||_b.postMessage({channel:"solflareWalletAdapterToIframe",data:iframe_assign({id:messageId},data)},"*")})},_this._iframe=iframe,_this._publicKey=new index_browser_esm.PublicKey(null===(_a=null==publicKey?void 0:publicKey.toString)||void 0===_a?void 0:_a.call(publicKey)),_this}return iframe_extends(IframeAdapter,_super),Object.defineProperty(IframeAdapter.prototype,"publicKey",{get:function(){return this._publicKey||null},enumerable:!1,configurable:!0}),Object.defineProperty(IframeAdapter.prototype,"connected",{get:function(){return!0},enumerable:!1,configurable:!0}),IframeAdapter.prototype.connect=function(){return iframe_awaiter(this,void 0,void 0,function(){return iframe_generator(this,function(_a){return[2]})})},IframeAdapter.prototype.disconnect=function(){return iframe_awaiter(this,void 0,void 0,function(){return iframe_generator(this,function(_a){switch(_a.label){case 0:return[4,this._sendMessage({method:"disconnect"})];case 1:return _a.sent(),[2]}})})},IframeAdapter.prototype.signTransaction=function(transaction){var _a;return iframe_awaiter(this,void 0,void 0,function(){var signedTransaction,e_1;return iframe_generator(this,function(_b){switch(_b.label){case 0:if(!this.connected)throw new Error("Wallet not connected");_b.label=1;case 1:return _b.trys.push([1,3,,4]),[4,this._sendMessage({method:"signTransaction",params:{transaction:bs58_default().encode(transaction)}})];case 2:return signedTransaction=_b.sent(),[2,bs58_default().decode(signedTransaction)];case 3:throw e_1=_b.sent(),new Error((null===(_a=null==e_1?void 0:e_1.toString)||void 0===_a?void 0:_a.call(e_1))||"Failed to sign transaction");case 4:return[2]}})})},IframeAdapter.prototype.signAllTransactions=function(transactions){var _a;return iframe_awaiter(this,void 0,void 0,function(){var e_2;return iframe_generator(this,function(_b){switch(_b.label){case 0:if(!this.connected)throw new Error("Wallet not connected");_b.label=1;case 1:return _b.trys.push([1,3,,4]),[4,this._sendMessage({method:"signAllTransactions",params:{transactions:transactions.map(function(transaction){return bs58_default().encode(transaction)})}})];case 2:return[2,_b.sent().map(function(transaction){return bs58_default().decode(transaction)})];case 3:throw e_2=_b.sent(),new Error((null===(_a=null==e_2?void 0:e_2.toString)||void 0===_a?void 0:_a.call(e_2))||"Failed to sign transactions");case 4:return[2]}})})},IframeAdapter.prototype.signAndSendTransaction=function(transaction,options){var _a;return iframe_awaiter(this,void 0,void 0,function(){var e_3;return iframe_generator(this,function(_b){switch(_b.label){case 0:if(!this.connected)throw new Error("Wallet not connected");_b.label=1;case 1:return _b.trys.push([1,3,,4]),[4,this._sendMessage({method:"signAndSendTransaction",params:{transaction:bs58_default().encode(transaction),options}})];case 2:return[2,_b.sent()];case 3:throw e_3=_b.sent(),new Error((null===(_a=null==e_3?void 0:e_3.toString)||void 0===_a?void 0:_a.call(e_3))||"Failed to sign and send transaction");case 4:return[2]}})})},IframeAdapter.prototype.signMessage=function(data,display){var _a;return void 0===display&&(display="hex"),iframe_awaiter(this,void 0,void 0,function(){var result,e_4;return iframe_generator(this,function(_b){switch(_b.label){case 0:if(!this.connected)throw new Error("Wallet not connected");_b.label=1;case 1:return _b.trys.push([1,3,,4]),[4,this._sendMessage({method:"signMessage",params:{data,display}})];case 2:return result=_b.sent(),[2,Uint8Array.from(bs58_default().decode(result))];case 3:throw e_4=_b.sent(),new Error((null===(_a=null==e_4?void 0:e_4.toString)||void 0===_a?void 0:_a.call(e_4))||"Failed to sign message");case 4:return[2]}})})},IframeAdapter}(base);const iframe=IframeAdapter;function isLegacyTransactionInstance(transaction){return void 0===transaction.version}var esm_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)};return function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),esm_assign=function(){return esm_assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},esm_assign.apply(this,arguments)},esm_awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},esm_generator=function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function step(op){if(f)throw new TypeError("Generator is already executing.");for(;g&&(g=0,op[0]&&(_=0)),_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=_.trys,(t=t.length>0&&t[t.length-1])||6!==op[0]&&2!==op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}},__values=function(o){var s="function"==typeof Symbol&&Symbol.iterator,m=s&&o[s],i=0;if(m)return m.call(o);if(o&&"number"==typeof o.length)return{next:function(){return o&&i>=o.length&&(o=void 0),{value:o&&o[i++],done:!o}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")};const esm=function(_super){function Solflare(config){var _this=_super.call(this)||this;return _this._network="mainnet-beta",_this._provider=null,_this._iframeParams={},_this._adapterInstance=null,_this._element=null,_this._iframe=null,_this._connectHandler=null,_this._flutterHandlerInterval=null,_this._handleEvent=function(event){var _a,_b,_c,_d;switch(event.type){case"connect_native_web":return _this._collapseIframe(),_this._adapterInstance=new web(_this._iframe,_this._network,(null===(_a=event.data)||void 0===_a?void 0:_a.provider)||_this._provider||"https://solflare.com/provider"),_this._adapterInstance.on("connect",_this._webConnected),_this._adapterInstance.on("disconnect",_this._webDisconnected),_this._adapterInstance.connect(),void _this._setPreferredAdapter("native_web");case"connect":return _this._collapseIframe(),_this._adapterInstance=new iframe(_this._iframe,(null===(_b=event.data)||void 0===_b?void 0:_b.publicKey)||""),_this._adapterInstance.connect(),_this._setPreferredAdapter(null===(_c=event.data)||void 0===_c?void 0:_c.adapter),_this._connectHandler&&(_this._connectHandler.resolve(),_this._connectHandler=null),void _this.emit("connect",_this.publicKey);case"disconnect":return _this._connectHandler&&(_this._connectHandler.reject(),_this._connectHandler=null),_this._disconnected(),void _this.emit("disconnect");case"accountChanged":return void((null===(_d=event.data)||void 0===_d?void 0:_d.publicKey)?(_this._adapterInstance=new iframe(_this._iframe,event.data.publicKey),_this._adapterInstance.connect(),_this.emit("accountChanged",_this.publicKey)):_this.emit("accountChanged",void 0));case"collapse":return void _this._collapseIframe();default:return}},_this._handleResize=function(data){"full"===data.resizeMode?"fullscreen"===data.params.mode?_this._expandIframe():"hide"===data.params.mode&&_this._collapseIframe():"coordinates"===data.resizeMode&&_this._iframe&&(_this._iframe.style.top=isFinite(data.params.top)?"".concat(data.params.top,"px"):"",_this._iframe.style.bottom=isFinite(data.params.bottom)?"".concat(data.params.bottom,"px"):"",_this._iframe.style.left=isFinite(data.params.left)?"".concat(data.params.left,"px"):"",_this._iframe.style.right=isFinite(data.params.right)?"".concat(data.params.right,"px"):"",_this._iframe.style.width=isFinite(data.params.width)?"".concat(data.params.width,"px"):data.params.width,_this._iframe.style.height=isFinite(data.params.height)?"".concat(data.params.height,"px"):data.params.height)},_this._handleMessage=function(event){var _a;if("solflareIframeToWalletAdapter"===(null===(_a=event.data)||void 0===_a?void 0:_a.channel)){var data=event.data.data||{};"event"===data.type?_this._handleEvent(data.event):"resize"===data.type?_this._handleResize(data):"response"===data.type&&_this._adapterInstance&&_this._adapterInstance.handleMessage(data)}},_this._removeElement=function(){null!==_this._flutterHandlerInterval&&(clearInterval(_this._flutterHandlerInterval),_this._flutterHandlerInterval=null),_this._element&&(_this._element.remove(),_this._element=null)},_this._removeDanglingElements=function(){var e_1,_a,elements=document.getElementsByClassName("solflare-wallet-adapter-iframe");try{for(var elements_1=__values(elements),elements_1_1=elements_1.next();!elements_1_1.done;elements_1_1=elements_1.next()){var element=elements_1_1.value;element.parentElement&&element.remove()}}catch(e_1_1){e_1={error:e_1_1}}finally{try{elements_1_1&&!elements_1_1.done&&(_a=elements_1.return)&&_a.call(elements_1)}finally{if(e_1)throw e_1.error}}},_this._injectElement=function(){_this._removeElement(),_this._removeDanglingElements();var params=esm_assign(esm_assign({},_this._iframeParams),{cluster:_this._network||"mainnet-beta",origin:window.location.origin||"",title:document.title||"",version:1,sdkVersion:"1.4.2"}),preferredAdapter=_this._getPreferredAdapter();preferredAdapter&&(params.adapter=preferredAdapter),_this._provider&&(params.provider=_this._provider);var queryString=Object.keys(params).map(function(key){return"".concat(key,"=").concat(encodeURIComponent(params[key]))}).join("&"),iframeUrl="".concat(Solflare.IFRAME_URL,"?").concat(queryString);_this._element=document.createElement("div"),_this._element.className="solflare-wallet-adapter-iframe",_this._element.innerHTML="\n      <iframe src='".concat(iframeUrl,"' referrerPolicy='strict-origin-when-cross-origin' style='position: fixed; top: 0; bottom: 0; left: 0; right: 0; width: 100%; height: 100%; border: none; border-radius: 0; z-index: 99999; color-scheme: auto;' allowtransparency='true'></iframe>\n    "),document.body.appendChild(_this._element),_this._iframe=_this._element.querySelector("iframe"),window.fromFlutter=_this._handleMobileMessage,_this._flutterHandlerInterval=setInterval(function(){window.fromFlutter=_this._handleMobileMessage},100),window.addEventListener("message",_this._handleMessage,!1)},_this._collapseIframe=function(){_this._iframe&&(_this._iframe.style.top="",_this._iframe.style.right="",_this._iframe.style.height="2px",_this._iframe.style.width="2px")},_this._expandIframe=function(){_this._iframe&&(_this._iframe.style.top="0px",_this._iframe.style.bottom="0px",_this._iframe.style.left="0px",_this._iframe.style.right="0px",_this._iframe.style.width="100%",_this._iframe.style.height="100%")},_this._getPreferredAdapter=function(){return localStorage&&localStorage.getItem("solflarePreferredWalletAdapter")||null},_this._setPreferredAdapter=function(adapter){localStorage&&adapter&&localStorage.setItem("solflarePreferredWalletAdapter",adapter)},_this._clearPreferredAdapter=function(){localStorage&&localStorage.removeItem("solflarePreferredWalletAdapter")},_this._webConnected=function(){_this._connectHandler&&(_this._connectHandler.resolve(),_this._connectHandler=null),_this.emit("connect",_this.publicKey)},_this._webDisconnected=function(){_this._connectHandler&&(_this._connectHandler.reject(),_this._connectHandler=null),_this._disconnected(),_this.emit("disconnect")},_this._disconnected=function(){window.removeEventListener("message",_this._handleMessage,!1),_this._removeElement(),_this._clearPreferredAdapter(),_this._adapterInstance=null},_this._handleMobileMessage=function(data){var _a,_b;null===(_b=null===(_a=_this._iframe)||void 0===_a?void 0:_a.contentWindow)||void 0===_b||_b.postMessage({channel:"solflareMobileToIframe",data},"*")},(null==config?void 0:config.network)&&(_this._network=null==config?void 0:config.network),(null==config?void 0:config.provider)&&(_this._provider=null==config?void 0:config.provider),(null==config?void 0:config.params)&&(_this._iframeParams=esm_assign({},null==config?void 0:config.params)),_this}return esm_extends(Solflare,_super),Object.defineProperty(Solflare.prototype,"publicKey",{get:function(){var _a;return(null===(_a=this._adapterInstance)||void 0===_a?void 0:_a.publicKey)||null},enumerable:!1,configurable:!0}),Object.defineProperty(Solflare.prototype,"isConnected",{get:function(){var _a;return!!(null===(_a=this._adapterInstance)||void 0===_a?void 0:_a.connected)},enumerable:!1,configurable:!0}),Object.defineProperty(Solflare.prototype,"connected",{get:function(){return this.isConnected},enumerable:!1,configurable:!0}),Object.defineProperty(Solflare.prototype,"autoApprove",{get:function(){return!1},enumerable:!1,configurable:!0}),Solflare.prototype.connect=function(){return esm_awaiter(this,void 0,void 0,function(){var _this=this;return esm_generator(this,function(_a){switch(_a.label){case 0:return this.connected?[2]:(this._injectElement(),[4,new Promise(function(resolve,reject){_this._connectHandler={resolve,reject}})]);case 1:return _a.sent(),[2]}})})},Solflare.prototype.disconnect=function(){return esm_awaiter(this,void 0,void 0,function(){return esm_generator(this,function(_a){switch(_a.label){case 0:return this._adapterInstance?[4,this._adapterInstance.disconnect()]:[2];case 1:return _a.sent(),this._disconnected(),this.emit("disconnect"),[2]}})})},Solflare.prototype.signTransaction=function(transaction){return esm_awaiter(this,void 0,void 0,function(){var serializedTransaction,signedTransaction;return esm_generator(this,function(_a){switch(_a.label){case 0:if(!this.connected)throw new Error("Wallet not connected");return serializedTransaction=isLegacyTransactionInstance(transaction)?Uint8Array.from(transaction.serialize({verifySignatures:!1,requireAllSignatures:!1})):transaction.serialize(),[4,this._adapterInstance.signTransaction(serializedTransaction)];case 1:return signedTransaction=_a.sent(),[2,isLegacyTransactionInstance(transaction)?index_browser_esm.ZX.from(signedTransaction):index_browser_esm.Kt.deserialize(signedTransaction)]}})})},Solflare.prototype.signAllTransactions=function(transactions){return esm_awaiter(this,void 0,void 0,function(){var serializedTransactions,signedTransactions;return esm_generator(this,function(_a){switch(_a.label){case 0:if(!this.connected)throw new Error("Wallet not connected");return serializedTransactions=transactions.map(function(transaction){return isLegacyTransactionInstance(transaction)?Uint8Array.from(transaction.serialize({verifySignatures:!1,requireAllSignatures:!1})):transaction.serialize()}),[4,this._adapterInstance.signAllTransactions(serializedTransactions)];case 1:if((signedTransactions=_a.sent()).length!==transactions.length)throw new Error("Failed to sign all transactions");return[2,signedTransactions.map(function(signedTransaction,index){return isLegacyTransactionInstance(transactions[index])?index_browser_esm.ZX.from(signedTransaction):index_browser_esm.Kt.deserialize(signedTransaction)})]}})})},Solflare.prototype.signAndSendTransaction=function(transaction,options){return esm_awaiter(this,void 0,void 0,function(){var serializedTransaction;return esm_generator(this,function(_a){switch(_a.label){case 0:if(!this.connected)throw new Error("Wallet not connected");return serializedTransaction=isLegacyTransactionInstance(transaction)?transaction.serialize({verifySignatures:!1,requireAllSignatures:!1}):transaction.serialize(),[4,this._adapterInstance.signAndSendTransaction(serializedTransaction,options)];case 1:return[2,_a.sent()]}})})},Solflare.prototype.signMessage=function(data,display){return void 0===display&&(display="utf8"),esm_awaiter(this,void 0,void 0,function(){return esm_generator(this,function(_a){switch(_a.label){case 0:if(!this.connected)throw new Error("Wallet not connected");return[4,this._adapterInstance.signMessage(data,display)];case 1:return[2,_a.sent()]}})})},Solflare.prototype.sign=function(data,display){return void 0===display&&(display="utf8"),esm_awaiter(this,void 0,void 0,function(){return esm_generator(this,function(_a){switch(_a.label){case 0:return[4,this.signMessage(data,display)];case 1:return[2,_a.sent()]}})})},Solflare.prototype.detectWallet=function(timeout){var _a;return void 0===timeout&&(timeout=10),esm_awaiter(this,void 0,void 0,function(){return esm_generator(this,function(_b){return window.SolflareApp||(null===(_a=window.solflare)||void 0===_a?void 0:_a.isSolflare)?[2,!0]:[2,new Promise(function(resolve){var pollInterval,pollTimeout;pollInterval=setInterval(function(){var _a;(window.SolflareApp||(null===(_a=window.solflare)||void 0===_a?void 0:_a.isSolflare))&&(clearInterval(pollInterval),clearTimeout(pollTimeout),resolve(!0))},500),pollTimeout=setTimeout(function(){clearInterval(pollInterval),resolve(!1)},1e3*timeout)})]})})},Solflare.IFRAME_URL="https://connect.solflare.com/",Solflare}(eventemitter3.A)},"./node_modules/@solflare-wallet/sdk/node_modules/base-x/src/index.js":module=>{"use strict";module.exports=function base(ALPHABET){if(ALPHABET.length>=255)throw new TypeError("Alphabet too long");for(var BASE_MAP=new Uint8Array(256),j=0;j<BASE_MAP.length;j++)BASE_MAP[j]=255;for(var i=0;i<ALPHABET.length;i++){var x=ALPHABET.charAt(i),xc=x.charCodeAt(0);if(255!==BASE_MAP[xc])throw new TypeError(x+" is ambiguous");BASE_MAP[xc]=i}var BASE=ALPHABET.length,LEADER=ALPHABET.charAt(0),FACTOR=Math.log(BASE)/Math.log(256),iFACTOR=Math.log(256)/Math.log(BASE);function decodeUnsafe(source){if("string"!=typeof source)throw new TypeError("Expected String");if(0===source.length)return new Uint8Array;for(var psz=0,zeroes=0,length=0;source[psz]===LEADER;)zeroes++,psz++;for(var size=(source.length-psz)*FACTOR+1>>>0,b256=new Uint8Array(size);source[psz];){var charCode=source.charCodeAt(psz);if(charCode>255)return;var carry=BASE_MAP[charCode];if(255===carry)return;for(var i=0,it3=size-1;(0!==carry||i<length)&&-1!==it3;it3--,i++)carry+=BASE*b256[it3]>>>0,b256[it3]=carry%256>>>0,carry=carry/256>>>0;if(0!==carry)throw new Error("Non-zero carry");length=i,psz++}for(var it4=size-length;it4!==size&&0===b256[it4];)it4++;for(var vch=new Uint8Array(zeroes+(size-it4)),j=zeroes;it4!==size;)vch[j++]=b256[it4++];return vch}return{encode:function encode(source){if(source instanceof Uint8Array||(ArrayBuffer.isView(source)?source=new Uint8Array(source.buffer,source.byteOffset,source.byteLength):Array.isArray(source)&&(source=Uint8Array.from(source))),!(source instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===source.length)return"";for(var zeroes=0,length=0,pbegin=0,pend=source.length;pbegin!==pend&&0===source[pbegin];)pbegin++,zeroes++;for(var size=(pend-pbegin)*iFACTOR+1>>>0,b58=new Uint8Array(size);pbegin!==pend;){for(var carry=source[pbegin],i=0,it1=size-1;(0!==carry||i<length)&&-1!==it1;it1--,i++)carry+=256*b58[it1]>>>0,b58[it1]=carry%BASE>>>0,carry=carry/BASE>>>0;if(0!==carry)throw new Error("Non-zero carry");length=i,pbegin++}for(var it2=size-length;it2!==size&&0===b58[it2];)it2++;for(var str=LEADER.repeat(zeroes);it2<size;++it2)str+=ALPHABET.charAt(b58[it2]);return str},decodeUnsafe,decode:function decode(string){var buffer=decodeUnsafe(string);if(buffer)return buffer;throw new Error("Non-base"+BASE+" character")}}}},"./node_modules/@solflare-wallet/sdk/node_modules/bs58/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{const basex=__webpack_require__("./node_modules/@solflare-wallet/sdk/node_modules/base-x/src/index.js");module.exports=basex("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")}}]);