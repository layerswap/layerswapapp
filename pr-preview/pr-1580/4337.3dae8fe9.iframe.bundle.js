/*! For license information please see 4337.3dae8fe9.iframe.bundle.js.LICENSE.txt */
(self.webpackChunklayerswap=self.webpackChunklayerswap||[]).push([[4337],{"./node_modules/@ledgerhq/errors/lib-es/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{AccountAwaitingSendPendingOperations:()=>AccountAwaitingSendPendingOperations,AccountNameRequiredError:()=>AccountNameRequiredError,AccountNotSupported:()=>AccountNotSupported,AmountRequired:()=>AmountRequired,BluetoothRequired:()=>BluetoothRequired,BtcUnmatchedApp:()=>BtcUnmatchedApp,CantOpenDevice:()=>CantOpenDevice,CantScanQRCode:()=>CantScanQRCode,CashAddrNotSupported:()=>CashAddrNotSupported,ClaimRewardsFeesWarning:()=>ClaimRewardsFeesWarning,CurrencyNotSupported:()=>CurrencyNotSupported,DBNotReset:()=>DBNotReset,DBWrongPassword:()=>DBWrongPassword,DeviceAppVerifyNotSupported:()=>DeviceAppVerifyNotSupported,DeviceExtractOnboardingStateError:()=>DeviceExtractOnboardingStateError,DeviceGenuineSocketEarlyClose:()=>DeviceGenuineSocketEarlyClose,DeviceHalted:()=>DeviceHalted,DeviceInOSUExpected:()=>DeviceInOSUExpected,DeviceMangementKitError:()=>DeviceMangementKitError,DeviceNameInvalid:()=>DeviceNameInvalid,DeviceNeedsRestart:()=>DeviceNeedsRestart,DeviceNotGenuineError:()=>DeviceNotGenuineError,DeviceOnDashboardExpected:()=>DeviceOnDashboardExpected,DeviceOnDashboardUnexpected:()=>DeviceOnDashboardUnexpected,DeviceOnboardingStatePollingError:()=>DeviceOnboardingStatePollingError,DeviceShouldStayInApp:()=>DeviceShouldStayInApp,DeviceSocketFail:()=>DeviceSocketFail,DeviceSocketNoBulkStatus:()=>DeviceSocketNoBulkStatus,DisabledTransactionBroadcastError:()=>DisabledTransactionBroadcastError,DisconnectedDevice:()=>DisconnectedDevice,DisconnectedDeviceDuringOperation:()=>DisconnectedDeviceDuringOperation,DustLimit:()=>DustLimit,ETHAddressNonEIP:()=>ETHAddressNonEIP,EnpointConfigError:()=>EnpointConfigError,EthAppPleaseEnableContractData:()=>EthAppPleaseEnableContractData,ExpertModeRequired:()=>ExpertModeRequired,FeeEstimationFailed:()=>FeeEstimationFailed,FeeNotLoaded:()=>FeeNotLoaded,FeeNotLoadedSwap:()=>FeeNotLoadedSwap,FeeRequired:()=>FeeRequired,FeeTooHigh:()=>FeeTooHigh,FirmwareNotRecognized:()=>FirmwareNotRecognized,FirmwareOrAppUpdateRequired:()=>FirmwareOrAppUpdateRequired,GasLessThanEstimate:()=>GasLessThanEstimate,GenuineCheckFailed:()=>GenuineCheckFailed,HardResetFail:()=>HardResetFail,HwTransportError:()=>HwTransportError,HwTransportErrorType:()=>HwTransportErrorType,InvalidAddress:()=>InvalidAddress,InvalidAddressBecauseDestinationIsAlsoSource:()=>InvalidAddressBecauseDestinationIsAlsoSource,InvalidNonce:()=>InvalidNonce,InvalidXRPTag:()=>InvalidXRPTag,LanguageNotFound:()=>LanguageNotFound,LatestFirmwareVersionRequired:()=>LatestFirmwareVersionRequired,LatestMCUInstalledError:()=>LatestMCUInstalledError,LedgerAPI4xx:()=>LedgerAPI4xx,LedgerAPI5xx:()=>LedgerAPI5xx,LedgerAPIError:()=>LedgerAPIError,LedgerAPIErrorWithMessage:()=>LedgerAPIErrorWithMessage,LedgerAPINotAvailable:()=>LedgerAPINotAvailable,LockedDeviceError:()=>LockedDeviceError,MCUNotGenuineToDashboard:()=>MCUNotGenuineToDashboard,ManagerAppAlreadyInstalledError:()=>ManagerAppAlreadyInstalledError,ManagerAppDepInstallRequired:()=>ManagerAppDepInstallRequired,ManagerAppDepUninstallRequired:()=>ManagerAppDepUninstallRequired,ManagerAppRelyOnBTCError:()=>ManagerAppRelyOnBTCError,ManagerDeviceLockedError:()=>ManagerDeviceLockedError,ManagerFirmwareNotEnoughSpaceError:()=>ManagerFirmwareNotEnoughSpaceError,ManagerNotEnoughSpaceError:()=>ManagerNotEnoughSpaceError,ManagerUninstallBTCDep:()=>ManagerUninstallBTCDep,MaxFeeTooLow:()=>MaxFeeTooLow,MaybeKeepTronAccountAlive:()=>MaybeKeepTronAccountAlive,MissingSwapPayloadParamaters:()=>MissingSwapPayloadParamaters,NetworkDown:()=>NetworkDown,NetworkError:()=>NetworkError,NoAccessToCamera:()=>NoAccessToCamera,NoAddressesFound:()=>NoAddressesFound,NoDBPathGiven:()=>NoDBPathGiven,NotEnoughBalance:()=>NotEnoughBalance,NotEnoughBalanceBecauseDestinationNotCreated:()=>NotEnoughBalanceBecauseDestinationNotCreated,NotEnoughBalanceFees:()=>NotEnoughBalanceFees,NotEnoughBalanceInParentAccount:()=>NotEnoughBalanceInParentAccount,NotEnoughBalanceSwap:()=>NotEnoughBalanceSwap,NotEnoughBalanceToDelegate:()=>NotEnoughBalanceToDelegate,NotEnoughGas:()=>NotEnoughGas,NotEnoughGasSwap:()=>NotEnoughGasSwap,NotEnoughSpendableBalance:()=>NotEnoughSpendableBalance,NotEnoughToRestake:()=>NotEnoughToRestake,NotEnoughToStake:()=>NotEnoughToStake,NotEnoughToUnstake:()=>NotEnoughToUnstake,NotSupportedLegacyAddress:()=>NotSupportedLegacyAddress,OpReturnDataSizeLimit:()=>OpReturnDataSizeLimit,PairingFailed:()=>PairingFailed,PasswordIncorrectError:()=>PasswordIncorrectError,PasswordsDontMatchError:()=>PasswordsDontMatchError,PeerRemovedPairing:()=>PeerRemovedPairing,PendingOperation:()=>PendingOperation,PinNotSet:()=>PinNotSet,PriorityFeeHigherThanMaxFee:()=>PriorityFeeHigherThanMaxFee,PriorityFeeTooHigh:()=>PriorityFeeTooHigh,PriorityFeeTooLow:()=>PriorityFeeTooLow,RecipientRequired:()=>RecipientRequired,RecommendSubAccountsToEmpty:()=>RecommendSubAccountsToEmpty,RecommendUndelegation:()=>RecommendUndelegation,ReplacementTransactionUnderpriced:()=>ReplacementTransactionUnderpriced,RestakeNotEnoughStakedBalanceLeft:()=>RestakeNotEnoughStakedBalanceLeft,SequenceNumberError:()=>SequenceNumberError,StatusCodes:()=>StatusCodes,SyncError:()=>SyncError,TimeoutTagged:()=>TimeoutTagged,TransactionHasBeenValidatedError:()=>TransactionHasBeenValidatedError,TransportError:()=>TransportError,TransportExchangeTimeoutError:()=>TransportExchangeTimeoutError,TransportInterfaceNotAvailable:()=>TransportInterfaceNotAvailable,TransportOpenUserCancelled:()=>TransportOpenUserCancelled,TransportRaceCondition:()=>TransportRaceCondition,TransportStatusError:()=>TransportStatusError,TransportWebUSBGestureRequired:()=>TransportWebUSBGestureRequired,TronEmptyAccount:()=>TronEmptyAccount,UnavailableTezosOriginatedAccountReceive:()=>UnavailableTezosOriginatedAccountReceive,UnavailableTezosOriginatedAccountSend:()=>UnavailableTezosOriginatedAccountSend,UnexpectedBootloader:()=>UnexpectedBootloader,UnknownMCU:()=>UnknownMCU,UnresponsiveDeviceError:()=>UnresponsiveDeviceError,UnstakeNotEnoughStakedBalanceLeft:()=>UnstakeNotEnoughStakedBalanceLeft,UpdateFetchFileFail:()=>UpdateFetchFileFail,UpdateIncorrectHash:()=>UpdateIncorrectHash,UpdateIncorrectSig:()=>UpdateIncorrectSig,UpdateYourApp:()=>UpdateYourApp,UserRefusedAddress:()=>UserRefusedAddress,UserRefusedAllowManager:()=>UserRefusedAllowManager,UserRefusedDeviceNameChange:()=>UserRefusedDeviceNameChange,UserRefusedFirmwareUpdate:()=>UserRefusedFirmwareUpdate,UserRefusedOnDevice:()=>UserRefusedOnDevice,WebsocketConnectionError:()=>WebsocketConnectionError,WebsocketConnectionFailed:()=>WebsocketConnectionFailed,WrongAppForCurrency:()=>WrongAppForCurrency,WrongDeviceForAccount:()=>WrongDeviceForAccount,WrongDeviceForAccountPayout:()=>WrongDeviceForAccountPayout,WrongDeviceForAccountRefund:()=>WrongDeviceForAccountRefund,addCustomErrorDeserializer:()=>addCustomErrorDeserializer,createCustomErrorClass:()=>createCustomErrorClass,deserializeError:()=>deserializeError,getAltStatusMessage:()=>getAltStatusMessage,serializeError:()=>serializeError});var console=__webpack_require__("./node_modules/console-browserify/index.js");const errorClasses={},deserializers={},addCustomErrorDeserializer=(name,deserializer)=>{deserializers[name]=deserializer},createCustomErrorClass=name=>{class CustomErrorClass extends Error{cause;constructor(message,fields,options){if(super(message||name,options),Object.setPrototypeOf(this,CustomErrorClass.prototype),this.name=name,fields)for(const k in fields)this[k]=fields[k];if(options&&function isObject(value){return"object"==typeof value}(options)&&"cause"in options&&!this.cause){const cause=options.cause;this.cause=cause,"stack"in cause&&(this.stack=this.stack+"\nCAUSE: "+cause.stack)}}}return errorClasses[name]=CustomErrorClass,CustomErrorClass};const deserializeError=object=>{if(object&&"object"==typeof object){try{if("string"==typeof object.message){const msg=JSON.parse(object.message);msg.message&&msg.name&&(object=msg)}}catch(e){}let error;if("string"==typeof object.name){const{name}=object,des=deserializers[name];if(des)error=des(object);else{let constructor="Error"===name?Error:errorClasses[name];constructor||(console.warn("deserializing an unknown class '"+name+"'"),constructor=createCustomErrorClass(name)),error=Object.create(constructor.prototype);try{for(const prop in object)object.hasOwnProperty(prop)&&(error[prop]=object[prop])}catch(e){}}}else"string"==typeof object.message&&(error=new Error(object.message));return error&&!error.stack&&Error.captureStackTrace&&Error.captureStackTrace(error,deserializeError),error}return new Error(String(object))},serializeError=value=>value?"object"==typeof value?destroyCircular(value,[]):"function"==typeof value?`[Function: ${value.name||"anonymous"}]`:value:value;function destroyCircular(from,seen){const to={};seen.push(from);for(const key of Object.keys(from)){const value=from[key];"function"!=typeof value&&(value&&"object"==typeof value?-1!==seen.indexOf(from[key])?to[key]="[Circular]":to[key]=destroyCircular(from[key],seen.slice(0)):to[key]=value)}return"string"==typeof from.name&&(to.name=from.name),"string"==typeof from.message&&(to.message=from.message),"string"==typeof from.stack&&(to.stack=from.stack),to}const AccountNameRequiredError=createCustomErrorClass("AccountNameRequired"),AccountNotSupported=createCustomErrorClass("AccountNotSupported"),AccountAwaitingSendPendingOperations=createCustomErrorClass("AccountAwaitingSendPendingOperations"),AmountRequired=createCustomErrorClass("AmountRequired"),BluetoothRequired=createCustomErrorClass("BluetoothRequired"),BtcUnmatchedApp=createCustomErrorClass("BtcUnmatchedApp"),CantOpenDevice=createCustomErrorClass("CantOpenDevice"),CashAddrNotSupported=createCustomErrorClass("CashAddrNotSupported"),ClaimRewardsFeesWarning=createCustomErrorClass("ClaimRewardsFeesWarning"),CurrencyNotSupported=createCustomErrorClass("CurrencyNotSupported"),DeviceAppVerifyNotSupported=createCustomErrorClass("DeviceAppVerifyNotSupported"),DeviceGenuineSocketEarlyClose=createCustomErrorClass("DeviceGenuineSocketEarlyClose"),DeviceNotGenuineError=createCustomErrorClass("DeviceNotGenuine"),DeviceOnDashboardExpected=createCustomErrorClass("DeviceOnDashboardExpected"),DeviceOnDashboardUnexpected=createCustomErrorClass("DeviceOnDashboardUnexpected"),DeviceInOSUExpected=createCustomErrorClass("DeviceInOSUExpected"),DeviceHalted=createCustomErrorClass("DeviceHalted"),DeviceNameInvalid=createCustomErrorClass("DeviceNameInvalid"),DeviceSocketFail=createCustomErrorClass("DeviceSocketFail"),DeviceSocketNoBulkStatus=createCustomErrorClass("DeviceSocketNoBulkStatus"),DeviceNeedsRestart=createCustomErrorClass("DeviceSocketNoBulkStatus"),UnresponsiveDeviceError=createCustomErrorClass("UnresponsiveDeviceError"),DisconnectedDevice=createCustomErrorClass("DisconnectedDevice"),DisconnectedDeviceDuringOperation=createCustomErrorClass("DisconnectedDeviceDuringOperation"),DeviceExtractOnboardingStateError=createCustomErrorClass("DeviceExtractOnboardingStateError"),DeviceOnboardingStatePollingError=createCustomErrorClass("DeviceOnboardingStatePollingError"),EnpointConfigError=createCustomErrorClass("EnpointConfig"),EthAppPleaseEnableContractData=createCustomErrorClass("EthAppPleaseEnableContractData"),FeeEstimationFailed=createCustomErrorClass("FeeEstimationFailed"),FirmwareNotRecognized=createCustomErrorClass("FirmwareNotRecognized"),HardResetFail=createCustomErrorClass("HardResetFail"),InvalidXRPTag=createCustomErrorClass("InvalidXRPTag"),InvalidAddress=createCustomErrorClass("InvalidAddress"),InvalidNonce=createCustomErrorClass("InvalidNonce"),InvalidAddressBecauseDestinationIsAlsoSource=createCustomErrorClass("InvalidAddressBecauseDestinationIsAlsoSource"),LatestMCUInstalledError=createCustomErrorClass("LatestMCUInstalledError"),LatestFirmwareVersionRequired=createCustomErrorClass("LatestFirmwareVersionRequired"),UnknownMCU=createCustomErrorClass("UnknownMCU"),LedgerAPIError=createCustomErrorClass("LedgerAPIError"),LedgerAPIErrorWithMessage=createCustomErrorClass("LedgerAPIErrorWithMessage"),LedgerAPINotAvailable=createCustomErrorClass("LedgerAPINotAvailable"),ManagerAppAlreadyInstalledError=createCustomErrorClass("ManagerAppAlreadyInstalled"),ManagerAppRelyOnBTCError=createCustomErrorClass("ManagerAppRelyOnBTC"),ManagerAppDepInstallRequired=createCustomErrorClass("ManagerAppDepInstallRequired"),ManagerAppDepUninstallRequired=createCustomErrorClass("ManagerAppDepUninstallRequired"),ManagerDeviceLockedError=createCustomErrorClass("ManagerDeviceLocked"),ManagerFirmwareNotEnoughSpaceError=createCustomErrorClass("ManagerFirmwareNotEnoughSpace"),ManagerNotEnoughSpaceError=createCustomErrorClass("ManagerNotEnoughSpace"),ManagerUninstallBTCDep=createCustomErrorClass("ManagerUninstallBTCDep"),NetworkDown=createCustomErrorClass("NetworkDown"),NetworkError=createCustomErrorClass("NetworkError"),NoAddressesFound=createCustomErrorClass("NoAddressesFound"),NotEnoughBalance=createCustomErrorClass("NotEnoughBalance"),NotEnoughBalanceFees=createCustomErrorClass("NotEnoughBalanceFees"),NotEnoughBalanceSwap=createCustomErrorClass("NotEnoughBalanceSwap"),NotEnoughBalanceToDelegate=createCustomErrorClass("NotEnoughBalanceToDelegate"),UnstakeNotEnoughStakedBalanceLeft=createCustomErrorClass("UnstakeNotEnoughStakedBalanceLeft"),RestakeNotEnoughStakedBalanceLeft=createCustomErrorClass("RestakeNotEnoughStakedBalanceLeft"),NotEnoughToRestake=createCustomErrorClass("NotEnoughToRestake"),NotEnoughToUnstake=createCustomErrorClass("NotEnoughToUnstake"),NotEnoughBalanceInParentAccount=createCustomErrorClass("NotEnoughBalanceInParentAccount"),NotEnoughSpendableBalance=createCustomErrorClass("NotEnoughSpendableBalance"),NotEnoughBalanceBecauseDestinationNotCreated=createCustomErrorClass("NotEnoughBalanceBecauseDestinationNotCreated"),NotEnoughToStake=createCustomErrorClass("NotEnoughToStake"),NoAccessToCamera=createCustomErrorClass("NoAccessToCamera"),NotEnoughGas=createCustomErrorClass("NotEnoughGas"),NotEnoughGasSwap=createCustomErrorClass("NotEnoughGasSwap"),TronEmptyAccount=createCustomErrorClass("TronEmptyAccount"),MaybeKeepTronAccountAlive=createCustomErrorClass("MaybeKeepTronAccountAlive"),NotSupportedLegacyAddress=createCustomErrorClass("NotSupportedLegacyAddress"),GasLessThanEstimate=createCustomErrorClass("GasLessThanEstimate"),PriorityFeeTooLow=createCustomErrorClass("PriorityFeeTooLow"),PriorityFeeTooHigh=createCustomErrorClass("PriorityFeeTooHigh"),PriorityFeeHigherThanMaxFee=createCustomErrorClass("PriorityFeeHigherThanMaxFee"),MaxFeeTooLow=createCustomErrorClass("MaxFeeTooLow"),PasswordsDontMatchError=createCustomErrorClass("PasswordsDontMatch"),PasswordIncorrectError=createCustomErrorClass("PasswordIncorrect"),RecommendSubAccountsToEmpty=createCustomErrorClass("RecommendSubAccountsToEmpty"),RecommendUndelegation=createCustomErrorClass("RecommendUndelegation"),TimeoutTagged=createCustomErrorClass("TimeoutTagged"),UnexpectedBootloader=createCustomErrorClass("UnexpectedBootloader"),MCUNotGenuineToDashboard=createCustomErrorClass("MCUNotGenuineToDashboard"),RecipientRequired=createCustomErrorClass("RecipientRequired"),UnavailableTezosOriginatedAccountReceive=createCustomErrorClass("UnavailableTezosOriginatedAccountReceive"),UnavailableTezosOriginatedAccountSend=createCustomErrorClass("UnavailableTezosOriginatedAccountSend"),UpdateFetchFileFail=createCustomErrorClass("UpdateFetchFileFail"),UpdateIncorrectHash=createCustomErrorClass("UpdateIncorrectHash"),UpdateIncorrectSig=createCustomErrorClass("UpdateIncorrectSig"),UpdateYourApp=createCustomErrorClass("UpdateYourApp"),UserRefusedDeviceNameChange=createCustomErrorClass("UserRefusedDeviceNameChange"),UserRefusedAddress=createCustomErrorClass("UserRefusedAddress"),UserRefusedFirmwareUpdate=createCustomErrorClass("UserRefusedFirmwareUpdate"),UserRefusedAllowManager=createCustomErrorClass("UserRefusedAllowManager"),UserRefusedOnDevice=createCustomErrorClass("UserRefusedOnDevice"),PinNotSet=createCustomErrorClass("PinNotSet"),ExpertModeRequired=createCustomErrorClass("ExpertModeRequired"),TransportOpenUserCancelled=createCustomErrorClass("TransportOpenUserCancelled"),TransportInterfaceNotAvailable=createCustomErrorClass("TransportInterfaceNotAvailable"),TransportRaceCondition=createCustomErrorClass("TransportRaceCondition"),TransportWebUSBGestureRequired=createCustomErrorClass("TransportWebUSBGestureRequired"),TransactionHasBeenValidatedError=createCustomErrorClass("TransactionHasBeenValidatedError"),TransportExchangeTimeoutError=createCustomErrorClass("TransportExchangeTimeoutError"),DeviceShouldStayInApp=createCustomErrorClass("DeviceShouldStayInApp"),WebsocketConnectionError=createCustomErrorClass("WebsocketConnectionError"),WebsocketConnectionFailed=createCustomErrorClass("WebsocketConnectionFailed"),WrongDeviceForAccount=createCustomErrorClass("WrongDeviceForAccount"),WrongDeviceForAccountPayout=createCustomErrorClass("WrongDeviceForAccountPayout"),MissingSwapPayloadParamaters=createCustomErrorClass("MissingSwapPayloadParamaters"),WrongDeviceForAccountRefund=createCustomErrorClass("WrongDeviceForAccountRefund"),WrongAppForCurrency=createCustomErrorClass("WrongAppForCurrency"),ETHAddressNonEIP=createCustomErrorClass("ETHAddressNonEIP"),CantScanQRCode=createCustomErrorClass("CantScanQRCode"),FeeNotLoaded=createCustomErrorClass("FeeNotLoaded"),FeeNotLoadedSwap=createCustomErrorClass("FeeNotLoadedSwap"),FeeRequired=createCustomErrorClass("FeeRequired"),FeeTooHigh=createCustomErrorClass("FeeTooHigh"),PendingOperation=createCustomErrorClass("PendingOperation"),SyncError=createCustomErrorClass("SyncError"),PairingFailed=createCustomErrorClass("PairingFailed"),PeerRemovedPairing=createCustomErrorClass("PeerRemovedPairing"),GenuineCheckFailed=createCustomErrorClass("GenuineCheckFailed"),LedgerAPI4xx=createCustomErrorClass("LedgerAPI4xx"),LedgerAPI5xx=createCustomErrorClass("LedgerAPI5xx"),FirmwareOrAppUpdateRequired=createCustomErrorClass("FirmwareOrAppUpdateRequired"),ReplacementTransactionUnderpriced=createCustomErrorClass("ReplacementTransactionUnderpriced"),OpReturnDataSizeLimit=createCustomErrorClass("OpReturnSizeLimit"),DustLimit=createCustomErrorClass("DustLimit"),LanguageNotFound=createCustomErrorClass("LanguageNotFound"),NoDBPathGiven=createCustomErrorClass("NoDBPathGiven"),DBWrongPassword=createCustomErrorClass("DBWrongPassword"),DBNotReset=createCustomErrorClass("DBNotReset"),SequenceNumberError=createCustomErrorClass("SequenceNumberError"),DisabledTransactionBroadcastError=createCustomErrorClass("DisabledTransactionBroadcastError");var HwTransportErrorType;!function(HwTransportErrorType){HwTransportErrorType.Unknown="Unknown",HwTransportErrorType.LocationServicesDisabled="LocationServicesDisabled",HwTransportErrorType.LocationServicesUnauthorized="LocationServicesUnauthorized",HwTransportErrorType.BluetoothScanStartFailed="BluetoothScanStartFailed"}(HwTransportErrorType||(HwTransportErrorType={}));class HwTransportError extends Error{type;constructor(type,message){super(message),this.name="HwTransportError",this.type=type,Object.setPrototypeOf(this,HwTransportError.prototype)}}class TransportError extends Error{id;constructor(message,id){const name="TransportError";super(message||name),this.name=name,this.message=message,this.stack=new Error(message).stack,this.id=id}}addCustomErrorDeserializer("TransportError",e=>new TransportError(e.message,e.id));const StatusCodes={ACCESS_CONDITION_NOT_FULFILLED:38916,ALGORITHM_NOT_SUPPORTED:38020,CLA_NOT_SUPPORTED:28160,CODE_BLOCKED:38976,CODE_NOT_INITIALIZED:38914,COMMAND_INCOMPATIBLE_FILE_STRUCTURE:27009,CONDITIONS_OF_USE_NOT_SATISFIED:27013,CONTRADICTION_INVALIDATION:38928,CONTRADICTION_SECRET_CODE_STATUS:38920,DEVICE_IN_RECOVERY_MODE:26159,CUSTOM_IMAGE_EMPTY:26158,FILE_ALREADY_EXISTS:27273,FILE_NOT_FOUND:37892,GP_AUTH_FAILED:25344,HALTED:28586,INCONSISTENT_FILE:37896,INCORRECT_DATA:27264,INCORRECT_LENGTH:26368,INCORRECT_P1_P2:27392,INS_NOT_SUPPORTED:27904,DEVICE_NOT_ONBOARDED:27911,DEVICE_NOT_ONBOARDED_2:26129,INVALID_KCV:38021,INVALID_OFFSET:37890,LICENSING:28482,LOCKED_DEVICE:21781,MAX_VALUE_REACHED:38992,MEMORY_PROBLEM:37440,MISSING_CRITICAL_PARAMETER:26624,NO_EF_SELECTED:37888,NOT_ENOUGH_MEMORY_SPACE:27268,OK:36864,PIN_REMAINING_ATTEMPTS:25536,REFERENCED_DATA_NOT_FOUND:27272,SECURITY_STATUS_NOT_SATISFIED:27010,TECHNICAL_PROBLEM:28416,UNKNOWN_APDU:27906,USER_REFUSED_ON_DEVICE:21761,NOT_ENOUGH_SPACE:20738,APP_NOT_FOUND_OR_INVALID_CONTEXT:20771,INVALID_APP_NAME_LENGTH:26378,GEN_AES_KEY_FAILED:21529,INTERNAL_CRYPTO_OPERATION_FAILED:21530,INTERNAL_COMPUTE_AES_CMAC_FAILED:21531,ENCRYPT_APP_STORAGE_FAILED:21532,INVALID_BACKUP_STATE:26178,PIN_NOT_SET:21762,INVALID_BACKUP_LENGTH:26419,INVALID_RESTORE_STATE:26179,INVALID_CHUNK_LENGTH:26420,INVALID_BACKUP_HEADER:26698,TRUSTCHAIN_WRONG_SEED:45063};function getAltStatusMessage(code){switch(code){case 26368:return"Incorrect length";case 26624:return"Missing critical parameter";case 27010:return"Security not satisfied (dongle locked or have invalid access rights)";case 27013:return"Condition of use not satisfied (denied by the user?)";case 27264:return"Invalid data received";case 27392:return"Invalid parameter received";case 21781:return"Locked device"}if(28416<=code&&code<=28671)return"Internal error, please report"}class TransportStatusError extends Error{statusCode;statusText;constructor(statusCode,{canBeMappedToChildError=!0}={}){const statusText=Object.keys(StatusCodes).find(k=>StatusCodes[k]===statusCode)||"UNKNOWN_ERROR",message=`Ledger device: ${getAltStatusMessage(statusCode)||statusText} (0x${statusCode.toString(16)})`;if(super(message),this.name="TransportStatusError",this.statusCode=statusCode,this.statusText=statusText,Object.setPrototypeOf(this,TransportStatusError.prototype),canBeMappedToChildError&&statusCode===StatusCodes.LOCKED_DEVICE)return new LockedDeviceError(message)}}class LockedDeviceError extends TransportStatusError{constructor(message){super(StatusCodes.LOCKED_DEVICE,{canBeMappedToChildError:!1}),message&&(this.message=message),this.name="LockedDeviceError",Object.setPrototypeOf(this,LockedDeviceError.prototype)}}class DeviceMangementKitError extends Error{constructor(name,message){super(message),this.name=name,Object.setPrototypeOf(this,DeviceMangementKitError.prototype)}}addCustomErrorDeserializer("TransportStatusError",e=>new TransportStatusError(e.statusCode))},"./node_modules/@ledgerhq/hw-transport-webhid/node_modules/@ledgerhq/devices/lib/hid-framing.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var Buffer=__webpack_require__("./node_modules/buffer/index.js").Buffer;var errors_1=__webpack_require__("./node_modules/@ledgerhq/errors/lib-es/index.js");var initialAcc={data:Buffer.alloc(0),dataLength:0,sequence:0};exports.A=function(channel,packetSize){return{makeBlocks:function(apdu){var value,b,data=Buffer.concat([(value=apdu.length,b=Buffer.alloc(2),b.writeUInt16BE(value,0),b),apdu]),blockSize=packetSize-5,nbBlocks=Math.ceil(data.length/blockSize);data=Buffer.concat([data,Buffer.alloc(nbBlocks*blockSize-data.length+1).fill(0)]);for(var blocks=[],i=0;i<nbBlocks;i++){var head=Buffer.alloc(5);head.writeUInt16BE(channel,0),head.writeUInt8(5,2),head.writeUInt16BE(i,3);var chunk=data.slice(i*blockSize,(i+1)*blockSize);blocks.push(Buffer.concat([head,chunk]))}return blocks},reduceResponse:function(acc,chunk){var _a=acc||initialAcc,data=_a.data,dataLength=_a.dataLength,sequence=_a.sequence;if(chunk.readUInt16BE(0)!==channel)throw new errors_1.TransportError("Invalid channel","InvalidChannel");if(5!==chunk.readUInt8(2))throw new errors_1.TransportError("Invalid tag","InvalidTag");if(chunk.readUInt16BE(3)!==sequence)throw new errors_1.TransportError("Invalid sequence","InvalidSequence");acc||(dataLength=chunk.readUInt16BE(5)),sequence++;var chunkData=chunk.slice(acc?5:7);return(data=Buffer.concat([data,chunkData])).length>dataLength&&(data=data.slice(0,dataLength)),{data,dataLength,sequence}},getReducedResult:function(acc){if(acc&&acc.dataLength===acc.data.length)return acc.data}}}},"./node_modules/@reown/appkit-scaffold-ui/dist/esm/src/utils/ConnectorUtil.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{g:()=>ConnectorUtil});var ConstantsUtil=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-common/dist/esm/src/utils/ConstantsUtil.js"),OptionsController=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/OptionsController.js"),StorageUtil=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/utils/StorageUtil.js"),ApiController=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ApiController.js"),CoreHelperUtil=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/utils/CoreHelperUtil.js"),ConnectionController=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectionController.js"),ChainController=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ChainController.js"),ConnectorController=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectorController.js");const ConstantsUtil_ConstantsUtil_EIP155="eip155",HelpersUtil={getCaipTokens(tokens){if(!tokens)return;const caipTokens={};return Object.entries(tokens).forEach(([id,token])=>{caipTokens[`${ConstantsUtil_ConstantsUtil_EIP155}:${id}`]=token}),caipTokens},isLowerCaseMatch:(str1,str2)=>str1?.toLowerCase()===str2?.toLowerCase()};var WalletUtil=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/dist/esm/src/utils/WalletUtil.js");const ConnectorUtil={getConnectorsByType(connectors,recommended,featured){const{customWallets}=OptionsController.H.state,recent=StorageUtil.i.getRecentWallets(),filteredRecommended=WalletUtil.A.filterOutDuplicateWallets(recommended),filteredFeatured=WalletUtil.A.filterOutDuplicateWallets(featured),multiChain=connectors.filter(connector=>"MULTI_CHAIN"===connector.type),announced=connectors.filter(connector=>"ANNOUNCED"===connector.type),injected=connectors.filter(connector=>"INJECTED"===connector.type);return{custom:customWallets,recent,external:connectors.filter(connector=>"EXTERNAL"===connector.type),multiChain,announced,injected,recommended:filteredRecommended,featured:filteredFeatured}},showConnector(connector){const rdns=connector.info?.rdns,isRDNSExcluded=Boolean(rdns)&&ApiController.N.state.excludedWallets.some(wallet=>wallet.rdns===rdns),isNameExcluded=Boolean(connector.name)&&ApiController.N.state.excludedWallets.some(wallet=>HelpersUtil.isLowerCaseMatch(wallet.name,connector.name));if("INJECTED"===connector.type){if(!CoreHelperUtil.w.isMobile()&&"Browser Wallet"===connector.name)return!1;if(!rdns&&!ConnectionController.x.checkInstalled())return!1;if(isRDNSExcluded||isNameExcluded)return!1}return"ANNOUNCED"!==connector.type||!isRDNSExcluded&&!isNameExcluded},getIsConnectedWithWC:()=>Array.from(ChainController.W.state.chains.values()).some(chain=>ConnectorController.a.getConnectorId(chain.namespace)===ConstantsUtil.o.CONNECTOR_ID.WALLET_CONNECT),getConnectorTypeOrder({recommended,featured,custom,recent,announced,injected,multiChain,external,overriddenConnectors=OptionsController.H.state.features?.connectorTypeOrder??[]}){const isConnectedWithWC=ConnectorUtil.getIsConnectedWithWC(),enabledConnectors=[{type:"walletConnect",isEnabled:OptionsController.H.state.enableWalletConnect&&!isConnectedWithWC},{type:"recent",isEnabled:recent.length>0},{type:"injected",isEnabled:[...injected,...announced,...multiChain].length>0},{type:"featured",isEnabled:featured.length>0},{type:"custom",isEnabled:custom&&custom.length>0},{type:"external",isEnabled:external.length>0},{type:"recommended",isEnabled:recommended.length>0}].filter(option=>option.isEnabled),enabledConnectorTypes=new Set(enabledConnectors.map(option=>option.type)),prioritizedConnectors=overriddenConnectors.filter(type=>enabledConnectorTypes.has(type)).map(type=>({type,isEnabled:!0})),remainingConnectors=enabledConnectors.filter(({type:enabledConnectorType})=>!prioritizedConnectors.some(({type:prioritizedConnectorType})=>prioritizedConnectorType===enabledConnectorType));return Array.from(new Set([...prioritizedConnectors,...remainingConnectors].map(({type})=>type)))}}},"./node_modules/@reown/appkit-scaffold-ui/dist/esm/src/utils/ConstantsUtil.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{o:()=>ConstantsUtil});var process=__webpack_require__("./node_modules/process/browser.js");const ConstantsUtil={ACCOUNT_TABS:[{label:"Tokens"},{label:"NFTs"},{label:"Activity"}],SECURE_SITE_ORIGIN:(void 0!==process&&void 0!==process.env?process.env.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",VIEW_DIRECTION:{Next:"next",Prev:"prev"},DEFAULT_CONNECT_METHOD_ORDER:["email","social","wallet"],ANIMATION_DURATIONS:{HeaderText:120,ModalHeight:150,ViewTransition:150}}},"./node_modules/@reown/appkit-scaffold-ui/dist/esm/src/utils/WalletUtil.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>WalletUtil});var _reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectorController.js"),_reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ApiController.js"),_reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/OptionsController.js"),_reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/utils/CoreHelperUtil.js"),_reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/utils/StorageUtil.js"),_ConnectorUtil_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/dist/esm/src/utils/ConnectorUtil.js"),_ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/dist/esm/src/utils/ConstantsUtil.js");const WalletUtil={filterOutDuplicatesByRDNS(wallets){const connectors=_reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_2__.H.state.enableEIP6963?_reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_0__.a.state.connectors:[],recent=_reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_4__.i.getRecentWallets(),connectorRDNSs=connectors.map(connector=>connector.info?.rdns).filter(Boolean),recentRDNSs=recent.map(wallet=>wallet.rdns).filter(Boolean),allRDNSs=connectorRDNSs.concat(recentRDNSs);if(allRDNSs.includes("io.metamask.mobile")&&_reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_3__.w.isMobile()){const index=allRDNSs.indexOf("io.metamask.mobile");allRDNSs[index]="io.metamask"}return wallets.filter(wallet=>!allRDNSs.includes(String(wallet?.rdns)))},filterOutDuplicatesByIds(wallets){const connectors=_reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_0__.a.state.connectors.filter(connector=>"ANNOUNCED"===connector.type||"INJECTED"===connector.type),recent=_reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_4__.i.getRecentWallets(),connectorIds=connectors.map(connector=>connector.explorerId),recentIds=recent.map(wallet=>wallet.id),allIds=connectorIds.concat(recentIds);return wallets.filter(wallet=>!allIds.includes(wallet?.id))},filterOutDuplicateWallets(wallets){const uniqueByRDNS=this.filterOutDuplicatesByRDNS(wallets);return this.filterOutDuplicatesByIds(uniqueByRDNS)},markWalletsAsInstalled(wallets){const{connectors}=_reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_0__.a.state,installedConnectors=connectors.filter(c=>"ANNOUNCED"===c.type).reduce((acum,val)=>val.info?.rdns?(acum[val.info.rdns]=!0,acum):acum,{});return wallets.map(wallet=>({...wallet,installed:Boolean(wallet.rdns)&&Boolean(installedConnectors[wallet.rdns??""])})).sort((a,b)=>Number(b.installed)-Number(a.installed))},getConnectOrderMethod(_features,_connectors){const connectMethodOrder=_features?.connectMethodsOrder||_reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_2__.H.state.features?.connectMethodsOrder,connectors=_connectors||_reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_0__.a.state.connectors;if(connectMethodOrder)return connectMethodOrder;const{injected,announced}=_ConnectorUtil_js__WEBPACK_IMPORTED_MODULE_5__.g.getConnectorsByType(connectors,_reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_1__.N.state.recommended,_reown_appkit_controllers__WEBPACK_IMPORTED_MODULE_1__.N.state.featured),shownInjected=injected.filter(_ConnectorUtil_js__WEBPACK_IMPORTED_MODULE_5__.g.showConnector),shownAnnounced=announced.filter(_ConnectorUtil_js__WEBPACK_IMPORTED_MODULE_5__.g.showConnector);return shownInjected.length||shownAnnounced.length?["wallet","email","social"]:_ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_6__.o.DEFAULT_CONNECT_METHOD_ORDER}}},"./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-common/dist/esm/src/utils/ConstantsUtil.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{o:()=>ConstantsUtil});const ConstantsUtil={WC_NAME_SUFFIX:".reown.id",WC_NAME_SUFFIX_LEGACY:".wcn.id",BLOCKCHAIN_API_RPC_URL:"https://rpc.walletconnect.org",PULSE_API_URL:"https://pulse.walletconnect.org",W3M_API_URL:"https://api.web3modal.org",CONNECTOR_ID:{WALLET_CONNECT:"walletConnect",INJECTED:"injected",WALLET_STANDARD:"announced",COINBASE:"coinbaseWallet",COINBASE_SDK:"coinbaseWalletSDK",SAFE:"safe",LEDGER:"ledger",OKX:"okx",EIP6963:"eip6963",AUTH:"ID_AUTH"},CONNECTOR_NAMES:{AUTH:"Auth"},AUTH_CONNECTOR_SUPPORTED_CHAINS:["eip155","solana"],LIMITS:{PENDING_TRANSACTIONS:99},CHAIN:{EVM:"eip155",SOLANA:"solana",POLKADOT:"polkadot",BITCOIN:"bip122"},CHAIN_NAME_MAP:{eip155:"EVM Networks",solana:"Solana",polkadot:"Polkadot",bip122:"Bitcoin"},ADAPTER_TYPES:{BITCOIN:"bitcoin",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5"},USDT_CONTRACT_ADDRESSES:["0xdac17f958d2ee523a2206206994597c13d831ec7","0xc2132d05d31c914a87c6611c10748aeb04b58e8f","0x9702230a8ea53601f5cd2dc00fdbc13d4df4a8c7","0x919C1c267BC06a7039e03fcc2eF738525769109c","0x48065fbBE25f71C9282ddf5e1cD6D6A887483D5e","0x55d398326f99059fF775485246999027B3197955","0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9"],HTTP_STATUS_CODES:{SERVICE_UNAVAILABLE:503,FORBIDDEN:403},UNSUPPORTED_NETWORK_NAME:"Unknown Network"}},"./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-common/dist/esm/src/utils/SafeLocalStorage.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{IP:()=>isSafe,T8:()=>getSafeConnectorIdKey,Ud:()=>SafeLocalStorage,Ws:()=>SafeLocalStorageKeys});const SafeLocalStorageKeys={WALLET_ID:"@appkit/wallet_id",WALLET_NAME:"@appkit/wallet_name",SOLANA_WALLET:"@appkit/solana_wallet",SOLANA_CAIP_CHAIN:"@appkit/solana_caip_chain",ACTIVE_CAIP_NETWORK_ID:"@appkit/active_caip_network_id",CONNECTED_SOCIAL:"@appkit/connected_social",CONNECTED_SOCIAL_USERNAME:"@appkit-wallet/SOCIAL_USERNAME",RECENT_WALLETS:"@appkit/recent_wallets",DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",ACTIVE_NAMESPACE:"@appkit/active_namespace",CONNECTED_NAMESPACES:"@appkit/connected_namespaces",CONNECTION_STATUS:"@appkit/connection_status",SIWX_AUTH_TOKEN:"@appkit/siwx-auth-token",SIWX_NONCE_TOKEN:"@appkit/siwx-nonce-token",TELEGRAM_SOCIAL_PROVIDER:"@appkit/social_provider",NATIVE_BALANCE_CACHE:"@appkit/native_balance_cache",PORTFOLIO_CACHE:"@appkit/portfolio_cache",ENS_CACHE:"@appkit/ens_cache",IDENTITY_CACHE:"@appkit/identity_cache"};function getSafeConnectorIdKey(namespace){if(!namespace)throw new Error("Namespace is required for CONNECTED_CONNECTOR_ID");return`@appkit/${namespace}:connected_connector_id`}const SafeLocalStorage={setItem(key,value){isSafe()&&void 0!==value&&localStorage.setItem(key,value)},getItem(key){if(isSafe())return localStorage.getItem(key)||void 0},removeItem(key){isSafe()&&localStorage.removeItem(key)},clear(){isSafe()&&localStorage.clear()}};function isSafe(){return"undefined"!=typeof window&&"undefined"!=typeof localStorage}},"./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-common/dist/esm/src/utils/ThemeUtil.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function getW3mThemeVariables(themeVariables,themeType){return"light"===themeType?{"--w3m-accent":themeVariables?.["--w3m-accent"]||"hsla(231, 100%, 70%, 1)","--w3m-background":"#fff"}:{"--w3m-accent":themeVariables?.["--w3m-accent"]||"hsla(230, 100%, 67%, 1)","--w3m-background":"#121313"}}__webpack_require__.d(__webpack_exports__,{o:()=>getW3mThemeVariables})},"./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/AccountController.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{U:()=>AccountController});var valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/valtio/esm/vanilla.mjs"),_utils_ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ConstantsUtil.js"),_utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/utils/CoreHelperUtil.js"),_BlockchainApiController_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/BlockchainApiController.js"),_ChainController_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ChainController.js"),_SnackController_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/SnackController.js");const state=(0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.BX)({currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,allAccounts:[]}),AccountController={state,replaceState(newState){newState&&Object.assign(state,(0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.KR)(newState))},subscribe:callback=>_ChainController_js__WEBPACK_IMPORTED_MODULE_4__.W.subscribeChainProp("accountState",accountState=>{if(accountState)return callback(accountState)}),subscribeKey(property,callback,chain){let prev;return _ChainController_js__WEBPACK_IMPORTED_MODULE_4__.W.subscribeChainProp("accountState",accountState=>{if(accountState){const nextValue=accountState[property];prev!==nextValue&&(prev=nextValue,callback(nextValue))}},chain)},setStatus(status,chain){_ChainController_js__WEBPACK_IMPORTED_MODULE_4__.W.setAccountProp("status",status,chain)},getCaipAddress:chain=>_ChainController_js__WEBPACK_IMPORTED_MODULE_4__.W.getAccountProp("caipAddress",chain),setCaipAddress(caipAddress,chain){const newAddress=caipAddress?_utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_2__.w.getPlainAddress(caipAddress):void 0;chain===_ChainController_js__WEBPACK_IMPORTED_MODULE_4__.W.state.activeChain&&(_ChainController_js__WEBPACK_IMPORTED_MODULE_4__.W.state.activeCaipAddress=caipAddress),_ChainController_js__WEBPACK_IMPORTED_MODULE_4__.W.setAccountProp("caipAddress",caipAddress,chain),_ChainController_js__WEBPACK_IMPORTED_MODULE_4__.W.setAccountProp("address",newAddress,chain)},setBalance(balance,balanceSymbol,chain){_ChainController_js__WEBPACK_IMPORTED_MODULE_4__.W.setAccountProp("balance",balance,chain),_ChainController_js__WEBPACK_IMPORTED_MODULE_4__.W.setAccountProp("balanceSymbol",balanceSymbol,chain)},setProfileName(profileName,chain){_ChainController_js__WEBPACK_IMPORTED_MODULE_4__.W.setAccountProp("profileName",profileName,chain)},setProfileImage(profileImage,chain){_ChainController_js__WEBPACK_IMPORTED_MODULE_4__.W.setAccountProp("profileImage",profileImage,chain)},setUser(user,chain){_ChainController_js__WEBPACK_IMPORTED_MODULE_4__.W.setAccountProp("user",user,chain)},setAddressExplorerUrl(explorerUrl,chain){_ChainController_js__WEBPACK_IMPORTED_MODULE_4__.W.setAccountProp("addressExplorerUrl",explorerUrl,chain)},setSmartAccountDeployed(isDeployed,chain){_ChainController_js__WEBPACK_IMPORTED_MODULE_4__.W.setAccountProp("smartAccountDeployed",isDeployed,chain)},setCurrentTab(currentTab){_ChainController_js__WEBPACK_IMPORTED_MODULE_4__.W.setAccountProp("currentTab",currentTab,_ChainController_js__WEBPACK_IMPORTED_MODULE_4__.W.state.activeChain)},setTokenBalance(tokenBalance,chain){tokenBalance&&_ChainController_js__WEBPACK_IMPORTED_MODULE_4__.W.setAccountProp("tokenBalance",tokenBalance,chain)},setShouldUpdateToAddress(address,chain){_ChainController_js__WEBPACK_IMPORTED_MODULE_4__.W.setAccountProp("shouldUpdateToAddress",address,chain)},setAllAccounts(accounts,namespace){_ChainController_js__WEBPACK_IMPORTED_MODULE_4__.W.setAccountProp("allAccounts",accounts,namespace)},addAddressLabel(address,label,chain){const map=_ChainController_js__WEBPACK_IMPORTED_MODULE_4__.W.getAccountProp("addressLabels",chain)||new Map;map.set(address,label),_ChainController_js__WEBPACK_IMPORTED_MODULE_4__.W.setAccountProp("addressLabels",map,chain)},removeAddressLabel(address,chain){const map=_ChainController_js__WEBPACK_IMPORTED_MODULE_4__.W.getAccountProp("addressLabels",chain)||new Map;map.delete(address),_ChainController_js__WEBPACK_IMPORTED_MODULE_4__.W.setAccountProp("addressLabels",map,chain)},setConnectedWalletInfo(connectedWalletInfo,chain){_ChainController_js__WEBPACK_IMPORTED_MODULE_4__.W.setAccountProp("connectedWalletInfo",connectedWalletInfo,chain,!1)},setPreferredAccountType(preferredAccountType,chain){_ChainController_js__WEBPACK_IMPORTED_MODULE_4__.W.setAccountProp("preferredAccountType",preferredAccountType,chain)},setSocialProvider(socialProvider,chain){socialProvider&&_ChainController_js__WEBPACK_IMPORTED_MODULE_4__.W.setAccountProp("socialProvider",socialProvider,chain)},setSocialWindow(socialWindow,chain){_ChainController_js__WEBPACK_IMPORTED_MODULE_4__.W.setAccountProp("socialWindow",socialWindow?(0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.KR)(socialWindow):void 0,chain)},setFarcasterUrl(farcasterUrl,chain){_ChainController_js__WEBPACK_IMPORTED_MODULE_4__.W.setAccountProp("farcasterUrl",farcasterUrl,chain)},async fetchTokenBalance(onError){state.balanceLoading=!0;const chainId=_ChainController_js__WEBPACK_IMPORTED_MODULE_4__.W.state.activeCaipNetwork?.caipNetworkId,chain=_ChainController_js__WEBPACK_IMPORTED_MODULE_4__.W.state.activeCaipNetwork?.chainNamespace,caipAddress=_ChainController_js__WEBPACK_IMPORTED_MODULE_4__.W.state.activeCaipAddress,address=caipAddress?_utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_2__.w.getPlainAddress(caipAddress):void 0;if(state.lastRetry&&!_utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_2__.w.isAllowedRetry(state.lastRetry,30*_utils_ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_1__.oU.ONE_SEC_MS))return state.balanceLoading=!1,[];try{if(address&&chainId&&chain){const filteredBalances=(await _BlockchainApiController_js__WEBPACK_IMPORTED_MODULE_3__.T.getBalance(address,chainId)).balances.filter(balance=>"0"!==balance.quantity.decimals);return this.setTokenBalance(filteredBalances,chain),state.lastRetry=void 0,state.balanceLoading=!1,filteredBalances}}catch(error){state.lastRetry=Date.now(),onError?.(error),_SnackController_js__WEBPACK_IMPORTED_MODULE_5__.P.showError("Token Balance Unavailable")}finally{state.balanceLoading=!1}return[]},resetAccount(chain){_ChainController_js__WEBPACK_IMPORTED_MODULE_4__.W.resetAccount(chain)}}},"./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/AlertController.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{h:()=>AlertController});var valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/valtio/esm/vanilla.mjs"),valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/valtio/esm/vanilla/utils.mjs"),_OptionsController_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/OptionsController.js"),console=__webpack_require__("./node_modules/console-browserify/index.js");const state=(0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.BX)({message:"",variant:"info",open:!1}),AlertController={state,subscribeKey:(key,callback)=>(0,valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_1__.u$)(state,key,callback),open(message,variant){const{debug}=_OptionsController_js__WEBPACK_IMPORTED_MODULE_2__.H.state,{shortMessage,longMessage}=message;debug&&(state.message=shortMessage,state.variant=variant,state.open=!0),longMessage&&console.error("function"==typeof longMessage?longMessage():longMessage)},close(){state.open=!1,state.message="",state.variant="info"}}},"./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ApiController.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{N:()=>ApiController});var valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/valtio/esm/vanilla.mjs"),valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/valtio/esm/vanilla/utils.mjs"),_utils_AssetUtil_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/utils/AssetUtil.js"),_utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/utils/CoreHelperUtil.js"),_utils_FetchUtil_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/utils/FetchUtil.js"),_utils_StorageUtil_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/utils/StorageUtil.js"),_AssetController_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/AssetController.js"),_ChainController_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ChainController.js"),_ConnectorController_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectorController.js"),_EventsController_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/EventsController.js"),_OptionsController_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/OptionsController.js");const baseUrl=_utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_3__.w.getApiUrl(),api=new _utils_FetchUtil_js__WEBPACK_IMPORTED_MODULE_4__.Z({baseUrl,clientId:null}),state=(0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.BX)({promises:{},page:1,count:0,featured:[],allFeatured:[],recommended:[],allRecommended:[],wallets:[],search:[],isAnalyticsEnabled:!1,excludedWallets:[],isFetchingRecommendedWallets:!1}),ApiController={state,subscribeKey:(key,callback)=>(0,valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_1__.u$)(state,key,callback),_getSdkProperties(){const{projectId,sdkType,sdkVersion}=_OptionsController_js__WEBPACK_IMPORTED_MODULE_10__.H.state;return{projectId,st:sdkType||"appkit",sv:sdkVersion||"html-wagmi-4.2.2"}},_filterOutExtensions:wallets=>_OptionsController_js__WEBPACK_IMPORTED_MODULE_10__.H.state.isUniversalProvider?wallets.filter(w=>Boolean(w.mobile_link||w.desktop_link||w.webapp_link)):wallets,async _fetchWalletImage(imageId){const imageUrl=`${api.baseUrl}/getWalletImage/${imageId}`,blob=await api.getBlob({path:imageUrl,params:ApiController._getSdkProperties()});_AssetController_js__WEBPACK_IMPORTED_MODULE_6__.j.setWalletImage(imageId,URL.createObjectURL(blob))},async _fetchNetworkImage(imageId){const imageUrl=`${api.baseUrl}/public/getAssetImage/${imageId}`,blob=await api.getBlob({path:imageUrl,params:ApiController._getSdkProperties()});_AssetController_js__WEBPACK_IMPORTED_MODULE_6__.j.setNetworkImage(imageId,URL.createObjectURL(blob))},async _fetchConnectorImage(imageId){const imageUrl=`${api.baseUrl}/public/getAssetImage/${imageId}`,blob=await api.getBlob({path:imageUrl,params:ApiController._getSdkProperties()});_AssetController_js__WEBPACK_IMPORTED_MODULE_6__.j.setConnectorImage(imageId,URL.createObjectURL(blob))},async _fetchCurrencyImage(countryCode){const imageUrl=`${api.baseUrl}/public/getCurrencyImage/${countryCode}`,blob=await api.getBlob({path:imageUrl,params:ApiController._getSdkProperties()});_AssetController_js__WEBPACK_IMPORTED_MODULE_6__.j.setCurrencyImage(countryCode,URL.createObjectURL(blob))},async _fetchTokenImage(symbol){const imageUrl=`${api.baseUrl}/public/getTokenImage/${symbol}`,blob=await api.getBlob({path:imageUrl,params:ApiController._getSdkProperties()});_AssetController_js__WEBPACK_IMPORTED_MODULE_6__.j.setTokenImage(symbol,URL.createObjectURL(blob))},async fetchNetworkImages(){const requestedCaipNetworks=_ChainController_js__WEBPACK_IMPORTED_MODULE_7__.W.getAllRequestedCaipNetworks(),ids=requestedCaipNetworks?.map(({assets})=>assets?.imageId).filter(Boolean).filter(imageId=>!_utils_AssetUtil_js__WEBPACK_IMPORTED_MODULE_2__.$.getNetworkImageById(imageId));ids&&await Promise.allSettled(ids.map(id=>ApiController._fetchNetworkImage(id)))},async fetchConnectorImages(){const{connectors}=_ConnectorController_js__WEBPACK_IMPORTED_MODULE_8__.a.state,ids=connectors.map(({imageId})=>imageId).filter(Boolean);await Promise.allSettled(ids.map(id=>ApiController._fetchConnectorImage(id)))},async fetchCurrencyImages(currencies=[]){await Promise.allSettled(currencies.map(currency=>ApiController._fetchCurrencyImage(currency)))},async fetchTokenImages(tokens=[]){await Promise.allSettled(tokens.map(token=>ApiController._fetchTokenImage(token)))},async fetchFeaturedWallets(){const{featuredWalletIds}=_OptionsController_js__WEBPACK_IMPORTED_MODULE_10__.H.state;if(featuredWalletIds?.length){const{data}=await api.get({path:"/getWallets",params:{...ApiController._getSdkProperties(),page:"1",entries:featuredWalletIds?.length?String(featuredWalletIds.length):"4",include:featuredWalletIds?.join(",")}});data.sort((a,b)=>featuredWalletIds.indexOf(a.id)-featuredWalletIds.indexOf(b.id));const images=data.map(d=>d.image_id).filter(Boolean);await Promise.allSettled(images.map(id=>ApiController._fetchWalletImage(id))),state.featured=data,state.allFeatured=data}},async fetchRecommendedWallets(){try{state.isFetchingRecommendedWallets=!0;const{includeWalletIds,excludeWalletIds,featuredWalletIds}=_OptionsController_js__WEBPACK_IMPORTED_MODULE_10__.H.state,exclude=[...excludeWalletIds??[],...featuredWalletIds??[]].filter(Boolean),caipNetworkIds=_ChainController_js__WEBPACK_IMPORTED_MODULE_7__.W.getRequestedCaipNetworkIds().join(","),{data,count}=await api.get({path:"/getWallets",params:{...ApiController._getSdkProperties(),page:"1",chains:caipNetworkIds,entries:"4",include:includeWalletIds?.join(","),exclude:exclude?.join(",")}}),recent=_utils_StorageUtil_js__WEBPACK_IMPORTED_MODULE_5__.i.getRecentWallets(),recommendedImages=data.map(d=>d.image_id).filter(Boolean),recentImages=recent.map(r=>r.image_id).filter(Boolean);await Promise.allSettled([...recommendedImages,...recentImages].map(id=>ApiController._fetchWalletImage(id))),state.recommended=data,state.allRecommended=data,state.count=count??0}catch{}finally{state.isFetchingRecommendedWallets=!1}},async fetchWallets({page}){const{includeWalletIds,excludeWalletIds,featuredWalletIds}=_OptionsController_js__WEBPACK_IMPORTED_MODULE_10__.H.state,caipNetworkIds=_ChainController_js__WEBPACK_IMPORTED_MODULE_7__.W.getRequestedCaipNetworkIds().join(","),exclude=[...state.recommended.map(({id})=>id),...excludeWalletIds??[],...featuredWalletIds??[]].filter(Boolean),{data,count}=await api.get({path:"/getWallets",params:{...ApiController._getSdkProperties(),page:String(page),entries:"40",chains:caipNetworkIds,include:includeWalletIds?.join(","),exclude:exclude.join(",")}}),images=data.slice(0,20).map(w=>w.image_id).filter(Boolean);await Promise.allSettled(images.map(id=>ApiController._fetchWalletImage(id))),state.wallets=_utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_3__.w.uniqueBy([...state.wallets,...ApiController._filterOutExtensions(data)],"id"),state.count=count>state.count?count:state.count,state.page=page},async initializeExcludedWallets({ids}){const caipNetworkIds=_ChainController_js__WEBPACK_IMPORTED_MODULE_7__.W.getRequestedCaipNetworkIds().join(","),{data}=await api.get({path:"/getWallets",params:{...ApiController._getSdkProperties(),page:"1",entries:String(ids.length),chains:caipNetworkIds,include:ids?.join(",")}});data&&data.forEach(wallet=>{wallet?.rdns&&state.excludedWallets.push({rdns:wallet.rdns,name:wallet.name})})},async searchWallet({search,badge}){const{includeWalletIds,excludeWalletIds}=_OptionsController_js__WEBPACK_IMPORTED_MODULE_10__.H.state;state.search=[];const caipNetworkIds=_ChainController_js__WEBPACK_IMPORTED_MODULE_7__.W.getRequestedCaipNetworkIds().join(","),{data}=await api.get({path:"/getWallets",params:{...ApiController._getSdkProperties(),page:"1",entries:"100",search:search?.trim(),badge_type:badge,chains:caipNetworkIds,include:includeWalletIds?.join(","),exclude:excludeWalletIds?.join(",")}});_EventsController_js__WEBPACK_IMPORTED_MODULE_9__.E.sendEvent({type:"track",event:"SEARCH_WALLET",properties:{badge:badge??"",search:search??""}});const images=data.map(w=>w.image_id).filter(Boolean);await Promise.allSettled([...images.map(id=>ApiController._fetchWalletImage(id)),_utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_3__.w.wait(300)]),state.search=ApiController._filterOutExtensions(data)},initPromise(key,fetchFn){const existingPromise=state.promises[key];return existingPromise||(state.promises[key]=fetchFn())},prefetch({fetchConnectorImages=!0,fetchFeaturedWallets=!0,fetchRecommendedWallets=!0,fetchNetworkImages=!0}={}){const promises=[fetchConnectorImages&&ApiController.initPromise("connectorImages",ApiController.fetchConnectorImages),fetchFeaturedWallets&&ApiController.initPromise("featuredWallets",ApiController.fetchFeaturedWallets),fetchRecommendedWallets&&ApiController.initPromise("recommendedWallets",ApiController.fetchRecommendedWallets),fetchNetworkImages&&ApiController.initPromise("networkImages",ApiController.fetchNetworkImages)].filter(Boolean);return Promise.allSettled(promises)},prefetchAnalyticsConfig(){_OptionsController_js__WEBPACK_IMPORTED_MODULE_10__.H.state.features?.analytics&&ApiController.fetchAnalyticsConfig()},async fetchAnalyticsConfig(){try{const{isAnalyticsEnabled}=await api.get({path:"/getAnalyticsConfig",params:ApiController._getSdkProperties()});_OptionsController_js__WEBPACK_IMPORTED_MODULE_10__.H.setFeatures({analytics:isAnalyticsEnabled})}catch(error){_OptionsController_js__WEBPACK_IMPORTED_MODULE_10__.H.setFeatures({analytics:!1})}},setFilterByNamespace(namespace){if(!namespace)return state.featured=state.allFeatured,void(state.recommended=state.allRecommended);const caipNetworkIds=_ChainController_js__WEBPACK_IMPORTED_MODULE_7__.W.getRequestedCaipNetworkIds().join(",");state.featured=state.allFeatured.filter(wallet=>wallet.chains?.some(chain=>caipNetworkIds.includes(chain))),state.recommended=state.allRecommended.filter(wallet=>wallet.chains?.some(chain=>caipNetworkIds.includes(chain)))}}},"./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/AssetController.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{j:()=>AssetController});var valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/valtio/esm/vanilla.mjs"),valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/valtio/esm/vanilla/utils.mjs");const state=(0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.BX)({walletImages:{},networkImages:{},chainImages:{},connectorImages:{},tokenImages:{},currencyImages:{}}),AssetController={state,subscribeNetworkImages:callback=>(0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.B1)(state.networkImages,()=>callback(state.networkImages)),subscribeKey:(key,callback)=>(0,valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_1__.u$)(state,key,callback),subscribe:callback=>(0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.B1)(state,()=>callback(state)),setWalletImage(key,value){state.walletImages[key]=value},setNetworkImage(key,value){state.networkImages[key]=value},setChainImage(key,value){state.chainImages[key]=value},setConnectorImage(key,value){state.connectorImages={...state.connectorImages,[key]:value}},setTokenImage(key,value){state.tokenImages[key]=value},setCurrencyImage(key,value){state.currencyImages[key]=value}}},"./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/BlockchainApiController.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{T:()=>BlockchainApiController});var valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/valtio/esm/vanilla.mjs"),_utils_ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ConstantsUtil.js"),_utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/utils/CoreHelperUtil.js"),_utils_FetchUtil_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/utils/FetchUtil.js"),_utils_StorageUtil_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/utils/StorageUtil.js"),_AccountController_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/AccountController.js"),_ChainController_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ChainController.js"),_OptionsController_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/OptionsController.js"),_SnackController_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/SnackController.js");const DEFAULT_OPTIONS={purchaseCurrencies:[{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"Ether",symbol:"ETH",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]}],paymentCurrencies:[{id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},{id:"EUR",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]}]},baseUrl=_utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_2__.w.getBlockchainApiUrl(),state=(0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.BX)({clientId:null,api:new _utils_FetchUtil_js__WEBPACK_IMPORTED_MODULE_3__.Z({baseUrl,clientId:null}),supportedChains:{http:[],ws:[]}}),BlockchainApiController={state,async get(request){const{st,sv}=BlockchainApiController.getSdkProperties(),projectId=_OptionsController_js__WEBPACK_IMPORTED_MODULE_7__.H.state.projectId,params={...request.params||{},st,sv,projectId};return state.api.get({...request,params})},getSdkProperties(){const{sdkType,sdkVersion}=_OptionsController_js__WEBPACK_IMPORTED_MODULE_7__.H.state;return{st:sdkType||"unknown",sv:sdkVersion||"unknown"}},async isNetworkSupported(networkId){if(!networkId)return!1;try{state.supportedChains.http.length||await BlockchainApiController.getSupportedNetworks()}catch(e){return!1}return state.supportedChains.http.includes(networkId)},async getSupportedNetworks(){const supportedChains=await BlockchainApiController.get({path:"v1/supported-chains"});return state.supportedChains=supportedChains,supportedChains},async fetchIdentity({address,caipNetworkId}){if(!await BlockchainApiController.isNetworkSupported(caipNetworkId))return{avatar:"",name:""};const identityCache=_utils_StorageUtil_js__WEBPACK_IMPORTED_MODULE_4__.i.getIdentityFromCacheForAddress(address);if(identityCache)return identityCache;const result=await BlockchainApiController.get({path:`/v1/identity/${address}`,params:{sender:_ChainController_js__WEBPACK_IMPORTED_MODULE_6__.W.state.activeCaipAddress?_utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_2__.w.getPlainAddress(_ChainController_js__WEBPACK_IMPORTED_MODULE_6__.W.state.activeCaipAddress):void 0}});return _utils_StorageUtil_js__WEBPACK_IMPORTED_MODULE_4__.i.updateIdentityCache({address,identity:result,timestamp:Date.now()}),result},fetchTransactions:async({account,cursor,onramp,signal,cache,chainId})=>await BlockchainApiController.isNetworkSupported(_ChainController_js__WEBPACK_IMPORTED_MODULE_6__.W.state.activeCaipNetwork?.caipNetworkId)?BlockchainApiController.get({path:`/v1/account/${account}/history`,params:{cursor,onramp,chainId},signal,cache}):{data:[],next:void 0},fetchSwapQuote:async({amount,userAddress,from,to,gasPrice})=>await BlockchainApiController.isNetworkSupported(_ChainController_js__WEBPACK_IMPORTED_MODULE_6__.W.state.activeCaipNetwork?.caipNetworkId)?BlockchainApiController.get({path:"/v1/convert/quotes",headers:{"Content-Type":"application/json"},params:{amount,userAddress,from,to,gasPrice}}):{quotes:[]},fetchSwapTokens:async({chainId})=>await BlockchainApiController.isNetworkSupported(_ChainController_js__WEBPACK_IMPORTED_MODULE_6__.W.state.activeCaipNetwork?.caipNetworkId)?BlockchainApiController.get({path:"/v1/convert/tokens",params:{chainId}}):{tokens:[]},fetchTokenPrice:async({addresses})=>await BlockchainApiController.isNetworkSupported(_ChainController_js__WEBPACK_IMPORTED_MODULE_6__.W.state.activeCaipNetwork?.caipNetworkId)?state.api.post({path:"/v1/fungible/price",body:{currency:"usd",addresses,projectId:_OptionsController_js__WEBPACK_IMPORTED_MODULE_7__.H.state.projectId},headers:{"Content-Type":"application/json"}}):{fungibles:[]},fetchSwapAllowance:async({tokenAddress,userAddress})=>await BlockchainApiController.isNetworkSupported(_ChainController_js__WEBPACK_IMPORTED_MODULE_6__.W.state.activeCaipNetwork?.caipNetworkId)?BlockchainApiController.get({path:"/v1/convert/allowance",params:{tokenAddress,userAddress},headers:{"Content-Type":"application/json"}}):{allowance:"0"},async fetchGasPrice({chainId}){const{st,sv}=BlockchainApiController.getSdkProperties();if(!await BlockchainApiController.isNetworkSupported(_ChainController_js__WEBPACK_IMPORTED_MODULE_6__.W.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Gas Price");return BlockchainApiController.get({path:"/v1/convert/gas-price",headers:{"Content-Type":"application/json"},params:{chainId,st,sv}})},async generateSwapCalldata({amount,from,to,userAddress,disableEstimate}){if(!await BlockchainApiController.isNetworkSupported(_ChainController_js__WEBPACK_IMPORTED_MODULE_6__.W.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Swaps");return state.api.post({path:"/v1/convert/build-transaction",headers:{"Content-Type":"application/json"},body:{amount,eip155:{slippage:_utils_ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_1__.oU.CONVERT_SLIPPAGE_TOLERANCE},projectId:_OptionsController_js__WEBPACK_IMPORTED_MODULE_7__.H.state.projectId,from,to,userAddress,disableEstimate}})},async generateApproveCalldata({from,to,userAddress}){const{st,sv}=BlockchainApiController.getSdkProperties();if(!await BlockchainApiController.isNetworkSupported(_ChainController_js__WEBPACK_IMPORTED_MODULE_6__.W.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Swaps");return BlockchainApiController.get({path:"/v1/convert/build-approve",headers:{"Content-Type":"application/json"},params:{userAddress,from,to,st,sv}})},async getBalance(address,chainId,forceUpdate){const{st,sv}=BlockchainApiController.getSdkProperties();if(!await BlockchainApiController.isNetworkSupported(_ChainController_js__WEBPACK_IMPORTED_MODULE_6__.W.state.activeCaipNetwork?.caipNetworkId))return _SnackController_js__WEBPACK_IMPORTED_MODULE_8__.P.showError("Token Balance Unavailable"),{balances:[]};const caipAddress=`${chainId}:${address}`,cachedBalance=_utils_StorageUtil_js__WEBPACK_IMPORTED_MODULE_4__.i.getBalanceCacheForCaipAddress(caipAddress);if(cachedBalance)return cachedBalance;const balance=await BlockchainApiController.get({path:`/v1/account/${address}/balance`,params:{currency:"usd",chainId,forceUpdate,st,sv}});return _utils_StorageUtil_js__WEBPACK_IMPORTED_MODULE_4__.i.updateBalanceCache({caipAddress,balance,timestamp:Date.now()}),balance},lookupEnsName:async name=>await BlockchainApiController.isNetworkSupported(_ChainController_js__WEBPACK_IMPORTED_MODULE_6__.W.state.activeCaipNetwork?.caipNetworkId)?BlockchainApiController.get({path:`/v1/profile/account/${name}`,params:{apiVersion:"2"}}):{addresses:{},attributes:[]},reverseLookupEnsName:async({address})=>await BlockchainApiController.isNetworkSupported(_ChainController_js__WEBPACK_IMPORTED_MODULE_6__.W.state.activeCaipNetwork?.caipNetworkId)?BlockchainApiController.get({path:`/v1/profile/reverse/${address}`,params:{sender:_AccountController_js__WEBPACK_IMPORTED_MODULE_5__.U.state.address,apiVersion:"2"}}):[],getEnsNameSuggestions:async name=>await BlockchainApiController.isNetworkSupported(_ChainController_js__WEBPACK_IMPORTED_MODULE_6__.W.state.activeCaipNetwork?.caipNetworkId)?BlockchainApiController.get({path:`/v1/profile/suggestions/${name}`,params:{zone:"reown.id"}}):{suggestions:[]},registerEnsName:async({coinType,address,message,signature})=>await BlockchainApiController.isNetworkSupported(_ChainController_js__WEBPACK_IMPORTED_MODULE_6__.W.state.activeCaipNetwork?.caipNetworkId)?state.api.post({path:"/v1/profile/account",body:{coin_type:coinType,address,message,signature},headers:{"Content-Type":"application/json"}}):{success:!1},async generateOnRampURL({destinationWallets,partnerUserId,defaultNetwork,purchaseAmount,paymentAmount}){if(!await BlockchainApiController.isNetworkSupported(_ChainController_js__WEBPACK_IMPORTED_MODULE_6__.W.state.activeCaipNetwork?.caipNetworkId))return"";return(await state.api.post({path:"/v1/generators/onrampurl",params:{projectId:_OptionsController_js__WEBPACK_IMPORTED_MODULE_7__.H.state.projectId},body:{destinationWallets,defaultNetwork,partnerUserId,defaultExperience:"buy",presetCryptoAmount:purchaseAmount,presetFiatAmount:paymentAmount}})).url},async getOnrampOptions(){if(!await BlockchainApiController.isNetworkSupported(_ChainController_js__WEBPACK_IMPORTED_MODULE_6__.W.state.activeCaipNetwork?.caipNetworkId))return{paymentCurrencies:[],purchaseCurrencies:[]};try{return await BlockchainApiController.get({path:"/v1/onramp/options"})}catch(e){return DEFAULT_OPTIONS}},async getOnrampQuote({purchaseCurrency,paymentCurrency,amount,network}){try{if(!await BlockchainApiController.isNetworkSupported(_ChainController_js__WEBPACK_IMPORTED_MODULE_6__.W.state.activeCaipNetwork?.caipNetworkId))return null;return await state.api.post({path:"/v1/onramp/quote",params:{projectId:_OptionsController_js__WEBPACK_IMPORTED_MODULE_7__.H.state.projectId},body:{purchaseCurrency,paymentCurrency,amount,network}})}catch(e){return{coinbaseFee:{amount,currency:paymentCurrency.id},networkFee:{amount,currency:paymentCurrency.id},paymentSubtotal:{amount,currency:paymentCurrency.id},paymentTotal:{amount,currency:paymentCurrency.id},purchaseAmount:{amount,currency:paymentCurrency.id},quoteId:"mocked-quote-id"}}},getSmartSessions:async caipAddress=>await BlockchainApiController.isNetworkSupported(_ChainController_js__WEBPACK_IMPORTED_MODULE_6__.W.state.activeCaipNetwork?.caipNetworkId)?BlockchainApiController.get({path:`/v1/sessions/${caipAddress}`}):[],revokeSmartSession:async(address,pci,signature)=>await BlockchainApiController.isNetworkSupported(_ChainController_js__WEBPACK_IMPORTED_MODULE_6__.W.state.activeCaipNetwork?.caipNetworkId)?state.api.post({path:`/v1/sessions/${address}/revoke`,params:{projectId:_OptionsController_js__WEBPACK_IMPORTED_MODULE_7__.H.state.projectId},body:{pci,signature}}):{success:!1},setClientId(clientId){state.clientId=clientId,state.api=new _utils_FetchUtil_js__WEBPACK_IMPORTED_MODULE_3__.Z({baseUrl,clientId})}}},"./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ChainController.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{W:()=>ChainController});var vanilla=__webpack_require__("./node_modules/valtio/esm/vanilla.mjs"),utils=__webpack_require__("./node_modules/valtio/esm/vanilla/utils.mjs");const NetworkUtil={caipNetworkIdToNumber:caipnetworkId=>caipnetworkId?Number(caipnetworkId.split(":")[1]):void 0,parseEvmChainId(chainId){return"string"==typeof chainId?this.caipNetworkIdToNumber(chainId):chainId},getNetworksByNamespace:(networks,namespace)=>networks?.filter(network=>network.chainNamespace===namespace)||[],getFirstNetworkByNamespace(networks,namespace){return this.getNetworksByNamespace(networks,namespace)[0]}};var ConstantsUtil=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-common/dist/esm/src/utils/ConstantsUtil.js"),ConnectorController=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectorController.js");function checkNamespaceConnectorId(namespace,connectorId){return ConnectorController.a.getConnectorId(namespace)===connectorId}var utils_ConstantsUtil=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ConstantsUtil.js"),CoreHelperUtil=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/utils/CoreHelperUtil.js"),StorageUtil=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/utils/StorageUtil.js"),AccountController=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/AccountController.js"),ConnectionController=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectionController.js"),EventsController=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/EventsController.js"),ModalController=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ModalController.js"),OptionsController=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/OptionsController.js"),PublicStateController=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/PublicStateController.js"),RouterController=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/RouterController.js"),NAME="[big.js] ",INVALID=NAME+"Invalid ",INVALID_DP=INVALID+"decimal places",INVALID_RM=INVALID+"rounding mode",DIV_BY_ZERO=NAME+"Division by zero",P={},NUMERIC=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function round(x,sd,rm,more){var xc=x.c;if(undefined===rm&&(rm=x.constructor.RM),0!==rm&&1!==rm&&2!==rm&&3!==rm)throw Error(INVALID_RM);if(sd<1)more=3===rm&&(more||!!xc[0])||0===sd&&(1===rm&&xc[0]>=5||2===rm&&(xc[0]>5||5===xc[0]&&(more||undefined!==xc[1]))),xc.length=1,more?(x.e=x.e-sd+1,xc[0]=1):xc[0]=x.e=0;else if(sd<xc.length){if(more=1===rm&&xc[sd]>=5||2===rm&&(xc[sd]>5||5===xc[sd]&&(more||undefined!==xc[sd+1]||1&xc[sd-1]))||3===rm&&(more||!!xc[0]),xc.length=sd,more)for(;++xc[--sd]>9;)if(xc[sd]=0,0===sd){++x.e,xc.unshift(1);break}for(sd=xc.length;!xc[--sd];)xc.pop()}return x}function stringify(x,doExponential,isNonzero){var e=x.e,s=x.c.join(""),n=s.length;if(doExponential)s=s.charAt(0)+(n>1?"."+s.slice(1):"")+(e<0?"e":"e+")+e;else if(e<0){for(;++e;)s="0"+s;s="0."+s}else if(e>0)if(++e>n)for(e-=n;e--;)s+="0";else e<n&&(s=s.slice(0,e)+"."+s.slice(e));else n>1&&(s=s.charAt(0)+"."+s.slice(1));return x.s<0&&isNonzero?"-"+s:s}P.abs=function(){var x=new this.constructor(this);return x.s=1,x},P.cmp=function(y){var isneg,x=this,xc=x.c,yc=(y=new x.constructor(y)).c,i=x.s,j=y.s,k=x.e,l=y.e;if(!xc[0]||!yc[0])return xc[0]?i:yc[0]?-j:0;if(i!=j)return i;if(isneg=i<0,k!=l)return k>l^isneg?1:-1;for(j=(k=xc.length)<(l=yc.length)?k:l,i=-1;++i<j;)if(xc[i]!=yc[i])return xc[i]>yc[i]^isneg?1:-1;return k==l?0:k>l^isneg?1:-1},P.div=function(y){var x=this,Big=x.constructor,a=x.c,b=(y=new Big(y)).c,k=x.s==y.s?1:-1,dp=Big.DP;if(dp!==~~dp||dp<0||dp>1e6)throw Error(INVALID_DP);if(!b[0])throw Error(DIV_BY_ZERO);if(!a[0])return y.s=k,y.c=[y.e=0],y;var bl,bt,n,cmp,ri,bz=b.slice(),ai=bl=b.length,al=a.length,r=a.slice(0,bl),rl=r.length,q=y,qc=q.c=[],qi=0,p=dp+(q.e=x.e-y.e)+1;for(q.s=k,k=p<0?0:p,bz.unshift(0);rl++<bl;)r.push(0);do{for(n=0;n<10;n++){if(bl!=(rl=r.length))cmp=bl>rl?1:-1;else for(ri=-1,cmp=0;++ri<bl;)if(b[ri]!=r[ri]){cmp=b[ri]>r[ri]?1:-1;break}if(!(cmp<0))break;for(bt=rl==bl?b:bz;rl;){if(r[--rl]<bt[rl]){for(ri=rl;ri&&!r[--ri];)r[ri]=9;--r[ri],r[rl]+=10}r[rl]-=bt[rl]}for(;!r[0];)r.shift()}qc[qi++]=cmp?n:++n,r[0]&&cmp?r[rl]=a[ai]||0:r=[a[ai]]}while((ai++<al||undefined!==r[0])&&k--);return qc[0]||1==qi||(qc.shift(),q.e--,p--),qi>p&&round(q,p,Big.RM,undefined!==r[0]),q},P.eq=function(y){return 0===this.cmp(y)},P.gt=function(y){return this.cmp(y)>0},P.gte=function(y){return this.cmp(y)>-1},P.lt=function(y){return this.cmp(y)<0},P.lte=function(y){return this.cmp(y)<1},P.minus=P.sub=function(y){var i,j,t,xlty,x=this,Big=x.constructor,a=x.s,b=(y=new Big(y)).s;if(a!=b)return y.s=-b,x.plus(y);var xc=x.c.slice(),xe=x.e,yc=y.c,ye=y.e;if(!xc[0]||!yc[0])return yc[0]?y.s=-b:xc[0]?y=new Big(x):y.s=1,y;if(a=xe-ye){for((xlty=a<0)?(a=-a,t=xc):(ye=xe,t=yc),t.reverse(),b=a;b--;)t.push(0);t.reverse()}else for(j=((xlty=xc.length<yc.length)?xc:yc).length,a=b=0;b<j;b++)if(xc[b]!=yc[b]){xlty=xc[b]<yc[b];break}if(xlty&&(t=xc,xc=yc,yc=t,y.s=-y.s),(b=(j=yc.length)-(i=xc.length))>0)for(;b--;)xc[i++]=0;for(b=i;j>a;){if(xc[--j]<yc[j]){for(i=j;i&&!xc[--i];)xc[i]=9;--xc[i],xc[j]+=10}xc[j]-=yc[j]}for(;0===xc[--b];)xc.pop();for(;0===xc[0];)xc.shift(),--ye;return xc[0]||(y.s=1,xc=[ye=0]),y.c=xc,y.e=ye,y},P.mod=function(y){var ygtx,x=this,Big=x.constructor,a=x.s,b=(y=new Big(y)).s;if(!y.c[0])throw Error(DIV_BY_ZERO);return x.s=y.s=1,ygtx=1==y.cmp(x),x.s=a,y.s=b,ygtx?new Big(x):(a=Big.DP,b=Big.RM,Big.DP=Big.RM=0,x=x.div(y),Big.DP=a,Big.RM=b,this.minus(x.times(y)))},P.neg=function(){var x=new this.constructor(this);return x.s=-x.s,x},P.plus=P.add=function(y){var e,k,t,x=this,Big=x.constructor;if(y=new Big(y),x.s!=y.s)return y.s=-y.s,x.minus(y);var xe=x.e,xc=x.c,ye=y.e,yc=y.c;if(!xc[0]||!yc[0])return yc[0]||(xc[0]?y=new Big(x):y.s=x.s),y;if(xc=xc.slice(),e=xe-ye){for(e>0?(ye=xe,t=yc):(e=-e,t=xc),t.reverse();e--;)t.push(0);t.reverse()}for(xc.length-yc.length<0&&(t=yc,yc=xc,xc=t),e=yc.length,k=0;e;xc[e]%=10)k=(xc[--e]=xc[e]+yc[e]+k)/10|0;for(k&&(xc.unshift(k),++ye),e=xc.length;0===xc[--e];)xc.pop();return y.c=xc,y.e=ye,y},P.pow=function(n){var x=this,one=new x.constructor("1"),y=one,isneg=n<0;if(n!==~~n||n<-1e6||n>1e6)throw Error(INVALID+"exponent");for(isneg&&(n=-n);1&n&&(y=y.times(x)),n>>=1;)x=x.times(x);return isneg?one.div(y):y},P.prec=function(sd,rm){if(sd!==~~sd||sd<1||sd>1e6)throw Error(INVALID+"precision");return round(new this.constructor(this),sd,rm)},P.round=function(dp,rm){if(undefined===dp)dp=0;else if(dp!==~~dp||dp<-1e6||dp>1e6)throw Error(INVALID_DP);return round(new this.constructor(this),dp+this.e+1,rm)},P.sqrt=function(){var r,c,t,x=this,Big=x.constructor,s=x.s,e=x.e,half=new Big("0.5");if(!x.c[0])return new Big(x);if(s<0)throw Error(NAME+"No square root");0===(s=Math.sqrt(+stringify(x,!0,!0)))||s===1/0?((c=x.c.join("")).length+e&1||(c+="0"),e=((e+1)/2|0)-(e<0||1&e),r=new Big(((s=Math.sqrt(c))==1/0?"5e":(s=s.toExponential()).slice(0,s.indexOf("e")+1))+e)):r=new Big(s+""),e=r.e+(Big.DP+=4);do{t=r,r=half.times(t.plus(x.div(t)))}while(t.c.slice(0,e).join("")!==r.c.slice(0,e).join(""));return round(r,(Big.DP-=4)+r.e+1,Big.RM)},P.times=P.mul=function(y){var c,x=this,Big=x.constructor,xc=x.c,yc=(y=new Big(y)).c,a=xc.length,b=yc.length,i=x.e,j=y.e;if(y.s=x.s==y.s?1:-1,!xc[0]||!yc[0])return y.c=[y.e=0],y;for(y.e=i+j,a<b&&(c=xc,xc=yc,yc=c,j=a,a=b,b=j),c=new Array(j=a+b);j--;)c[j]=0;for(i=b;i--;){for(b=0,j=a+i;j>i;)b=c[j]+yc[i]*xc[j-i-1]+b,c[j--]=b%10,b=b/10|0;c[j]=b}for(b?++y.e:c.shift(),i=c.length;!c[--i];)c.pop();return y.c=c,y},P.toExponential=function(dp,rm){var x=this,n=x.c[0];if(undefined!==dp){if(dp!==~~dp||dp<0||dp>1e6)throw Error(INVALID_DP);for(x=round(new x.constructor(x),++dp,rm);x.c.length<dp;)x.c.push(0)}return stringify(x,!0,!!n)},P.toFixed=function(dp,rm){var x=this,n=x.c[0];if(undefined!==dp){if(dp!==~~dp||dp<0||dp>1e6)throw Error(INVALID_DP);for(dp=dp+(x=round(new x.constructor(x),dp+x.e+1,rm)).e+1;x.c.length<dp;)x.c.push(0)}return stringify(x,!1,!!n)},P[Symbol.for("nodejs.util.inspect.custom")]=P.toJSON=P.toString=function(){var x=this,Big=x.constructor;return stringify(x,x.e<=Big.NE||x.e>=Big.PE,!!x.c[0])},P.toNumber=function(){var n=+stringify(this,!0,!0);if(!0===this.constructor.strict&&!this.eq(n.toString()))throw Error(NAME+"Imprecise conversion");return n},P.toPrecision=function(sd,rm){var x=this,Big=x.constructor,n=x.c[0];if(undefined!==sd){if(sd!==~~sd||sd<1||sd>1e6)throw Error(INVALID+"precision");for(x=round(new Big(x),sd,rm);x.c.length<sd;)x.c.push(0)}return stringify(x,sd<=x.e||x.e<=Big.NE||x.e>=Big.PE,!!n)},P.valueOf=function(){var x=this,Big=x.constructor;if(!0===Big.strict)throw Error(NAME+"valueOf disallowed");return stringify(x,x.e<=Big.NE||x.e>=Big.PE,!0)};var Big=function _Big_(){function Big(n){var x=this;if(!(x instanceof Big))return undefined===n?_Big_():new Big(n);if(n instanceof Big)x.s=n.s,x.e=n.e,x.c=n.c.slice();else{if("string"!=typeof n){if(!0===Big.strict&&"bigint"!=typeof n)throw TypeError(INVALID+"value");n=0===n&&1/n<0?"-0":String(n)}!function parse(x,n){var e,i,nl;if(!NUMERIC.test(n))throw Error(INVALID+"number");x.s="-"==n.charAt(0)?(n=n.slice(1),-1):1,(e=n.indexOf("."))>-1&&(n=n.replace(".",""));(i=n.search(/e/i))>0?(e<0&&(e=i),e+=+n.slice(i+1),n=n.substring(0,i)):e<0&&(e=n.length);for(nl=n.length,i=0;i<nl&&"0"==n.charAt(i);)++i;if(i==nl)x.c=[x.e=0];else{for(;nl>0&&"0"==n.charAt(--nl););for(x.e=e-i-1,x.c=[],e=0;i<=nl;)x.c[e++]=+n.charAt(i++)}return x}(x,n)}x.constructor=Big}return Big.prototype=P,Big.DP=20,Big.RM=1,Big.NE=-7,Big.PE=21,Big.strict=false,Big.roundDown=0,Big.roundHalfUp=1,Big.roundHalfEven=2,Big.roundUp=3,Big}();const big=Big,NumberUtil={bigNumber:value=>new big(value||0),multiply(a,b){if(void 0===a||void 0===b)return new big(0);const aBigNumber=new big(a),bBigNumber=new big(b);return aBigNumber.times(bBigNumber)},formatNumberToLocalString:(value,decimals=2)=>void 0===value?"0.00":"number"==typeof value?value.toLocaleString("en-US",{maximumFractionDigits:decimals,minimumFractionDigits:decimals}):parseFloat(value).toLocaleString("en-US",{maximumFractionDigits:decimals,minimumFractionDigits:decimals}),parseLocalStringToNumber:value=>void 0===value?0:parseFloat(value.replace(/,/gu,""))},erc20ABI=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],usdtABI=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],ContractUtil_getERC20Abi=tokenAddress=>ConstantsUtil.o.USDT_CONTRACT_ADDRESSES.includes(tokenAddress)?usdtABI:erc20ABI;var W3mFrameConstants=__webpack_require__("./node_modules/@reown/appkit-wallet/dist/esm/src/W3mFrameConstants.js"),BlockchainApiController=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/BlockchainApiController.js"),formatUnits=__webpack_require__("./node_modules/viem/_esm/utils/unit/formatUnits.js");const ERC7811Utils={createBalance(asset,chainId){const metadata={name:asset.metadata.name||"",symbol:asset.metadata.symbol||"",decimals:asset.metadata.decimals||0,value:asset.metadata.value||0,price:asset.metadata.price||0,iconUrl:asset.metadata.iconUrl||""};return{name:metadata.name,symbol:metadata.symbol,chainId,address:"native"===asset.address?void 0:this.convertAddressToCAIP10Address(asset.address,chainId),value:metadata.value,price:metadata.price,quantity:{decimals:metadata.decimals.toString(),numeric:this.convertHexToBalance({hex:asset.balance,decimals:metadata.decimals})},iconUrl:metadata.iconUrl}},convertHexToBalance:({hex,decimals})=>(0,formatUnits.J)(BigInt(hex),decimals),convertAddressToCAIP10Address:(address,chainId)=>`${chainId}:${address}`,createCAIP2ChainId:(chainId,namespace)=>`${namespace}:${parseInt(chainId,16)}`,getChainIdHexFromCAIP2ChainId(caip2ChainId){const parts=caip2ChainId.split(":");if(parts.length<2||!parts[1])return"0x0";const chainPart=parts[1],parsed=parseInt(chainPart,10);return isNaN(parsed)?"0x0":`0x${parsed.toString(16)}`},isWalletGetAssetsResponse(response){return"object"==typeof response&&null!==response&&Object.values(response).every(value=>Array.isArray(value)&&value.every(asset=>this.isValidAsset(asset)))},isValidAsset:asset=>"object"==typeof asset&&null!==asset&&"string"==typeof asset.address&&"string"==typeof asset.balance&&("ERC20"===asset.type||"NATIVE"===asset.type)&&"object"==typeof asset.metadata&&null!==asset.metadata&&"string"==typeof asset.metadata.name&&"string"==typeof asset.metadata.symbol&&"number"==typeof asset.metadata.decimals&&"number"==typeof asset.metadata.price&&"string"==typeof asset.metadata.iconUrl},SendApiUtil={async getMyTokensWithBalance(forceUpdate){const address=AccountController.U.state.address,caipNetwork=ChainController.state.activeCaipNetwork;if(!address||!caipNetwork)return[];if("eip155"===caipNetwork.chainNamespace){const eip155Balances=await this.getEIP155Balances(address,caipNetwork);if(eip155Balances)return this.filterLowQualityTokens(eip155Balances)}const response=await BlockchainApiController.T.getBalance(address,caipNetwork.caipNetworkId,forceUpdate);return this.filterLowQualityTokens(response.balances)},async getEIP155Balances(address,caipNetwork){try{const chainIdHex=ERC7811Utils.getChainIdHexFromCAIP2ChainId(caipNetwork.caipNetworkId),walletCapabilities=await ConnectionController.x.getCapabilities(address);if(!walletCapabilities?.[chainIdHex]?.assetDiscovery?.supported)return null;const walletGetAssetsResponse=await ConnectionController.x.walletGetAssets({account:address,chainFilter:[chainIdHex]});if(!ERC7811Utils.isWalletGetAssetsResponse(walletGetAssetsResponse))return null;return(walletGetAssetsResponse[chainIdHex]||[]).map(asset=>ERC7811Utils.createBalance(asset,caipNetwork.caipNetworkId))}catch(error){return null}},filterLowQualityTokens:balances=>balances.filter(balance=>"0"!==balance.quantity.decimals),mapBalancesToSwapTokens:balances=>balances?.map(token=>({...token,address:token?.address?token.address:ChainController.getActiveNetworkTokenAddress(),decimals:parseInt(token.quantity.decimals,10),logoUri:token.iconUrl,eip2612:!1}))||[]};var SnackController=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/SnackController.js"),console=__webpack_require__("./node_modules/console-browserify/index.js");const state=(0,vanilla.BX)({tokenBalances:[],loading:!1}),SendController={state,subscribe:callback=>(0,vanilla.B1)(state,()=>callback(state)),subscribeKey:(key,callback)=>(0,utils.u$)(state,key,callback),setToken(token){token&&(state.token=(0,vanilla.KR)(token))},setTokenAmount(sendTokenAmount){state.sendTokenAmount=sendTokenAmount},setReceiverAddress(receiverAddress){state.receiverAddress=receiverAddress},setReceiverProfileImageUrl(receiverProfileImageUrl){state.receiverProfileImageUrl=receiverProfileImageUrl},setReceiverProfileName(receiverProfileName){state.receiverProfileName=receiverProfileName},setGasPrice(gasPrice){state.gasPrice=gasPrice},setGasPriceInUsd(gasPriceInUSD){state.gasPriceInUSD=gasPriceInUSD},setNetworkBalanceInUsd(networkBalanceInUSD){state.networkBalanceInUSD=networkBalanceInUSD},setLoading(loading){state.loading=loading},sendToken(){switch(ChainController.state.activeCaipNetwork?.chainNamespace){case"eip155":return void this.sendEvmToken();case"solana":return void this.sendSolanaToken();default:throw new Error("Unsupported chain")}},sendEvmToken(){this.state.token?.address&&this.state.sendTokenAmount&&this.state.receiverAddress?(EventsController.E.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:AccountController.U.state.preferredAccountType===W3mFrameConstants.Vl.ACCOUNT_TYPES.SMART_ACCOUNT,token:this.state.token.address,amount:this.state.sendTokenAmount,network:ChainController.state.activeCaipNetwork?.caipNetworkId||""}}),this.sendERC20Token({receiverAddress:this.state.receiverAddress,tokenAddress:this.state.token.address,sendTokenAmount:this.state.sendTokenAmount,decimals:this.state.token.quantity.decimals})):this.state.receiverAddress&&this.state.sendTokenAmount&&this.state.gasPrice&&this.state.token?.quantity.decimals&&(EventsController.E.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:AccountController.U.state.preferredAccountType===W3mFrameConstants.Vl.ACCOUNT_TYPES.SMART_ACCOUNT,token:this.state.token?.symbol,amount:this.state.sendTokenAmount,network:ChainController.state.activeCaipNetwork?.caipNetworkId||""}}),this.sendNativeToken({receiverAddress:this.state.receiverAddress,sendTokenAmount:this.state.sendTokenAmount,gasPrice:this.state.gasPrice,decimals:this.state.token.quantity.decimals}))},async fetchTokenBalance(onError){state.loading=!0;const chainId=ChainController.state.activeCaipNetwork?.caipNetworkId,chain=ChainController.state.activeCaipNetwork?.chainNamespace,caipAddress=ChainController.state.activeCaipAddress,address=caipAddress?CoreHelperUtil.w.getPlainAddress(caipAddress):void 0;if(state.lastRetry&&!CoreHelperUtil.w.isAllowedRetry(state.lastRetry,30*utils_ConstantsUtil.oU.ONE_SEC_MS))return state.loading=!1,[];try{if(address&&chainId&&chain){const balances=await SendApiUtil.getMyTokensWithBalance();return state.tokenBalances=balances,state.lastRetry=void 0,balances}}catch(error){state.lastRetry=Date.now(),onError?.(error),SnackController.P.showError("Token Balance Unavailable")}finally{state.loading=!1}return[]},fetchNetworkBalance(){if(0===state.tokenBalances.length)return;const networkTokenBalances=SendApiUtil.mapBalancesToSwapTokens(state.tokenBalances);if(!networkTokenBalances)return;const networkToken=networkTokenBalances.find(token=>token.address===ChainController.getActiveNetworkTokenAddress());networkToken&&(state.networkBalanceInUSD=networkToken?NumberUtil.multiply(networkToken.quantity.numeric,networkToken.price).toString():"0")},isInsufficientNetworkTokenForGas(networkBalanceInUSD,gasPriceInUSD){const gasPrice=gasPriceInUSD||"0";return!!NumberUtil.bigNumber(networkBalanceInUSD).eq(0)||NumberUtil.bigNumber(NumberUtil.bigNumber(gasPrice)).gt(networkBalanceInUSD)},hasInsufficientGasFunds(){let isInsufficientNetworkTokenForGas=!0;return AccountController.U.state.preferredAccountType===W3mFrameConstants.Vl.ACCOUNT_TYPES.SMART_ACCOUNT?isInsufficientNetworkTokenForGas=!1:state.networkBalanceInUSD&&(isInsufficientNetworkTokenForGas=this.isInsufficientNetworkTokenForGas(state.networkBalanceInUSD,state.gasPriceInUSD)),isInsufficientNetworkTokenForGas},async sendNativeToken(params){RouterController.I.pushTransactionStack({view:"Account",goBack:!1});const to=params.receiverAddress,address=AccountController.U.state.address,value=ConnectionController.x.parseUnits(params.sendTokenAmount.toString(),Number(params.decimals));try{await ConnectionController.x.sendTransaction({chainNamespace:"eip155",to,address,data:"0x",value:value??BigInt(0),gasPrice:params.gasPrice}),SnackController.P.showSuccess("Transaction started"),EventsController.E.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:AccountController.U.state.preferredAccountType===W3mFrameConstants.Vl.ACCOUNT_TYPES.SMART_ACCOUNT,token:this.state.token?.symbol||"",amount:params.sendTokenAmount,network:ChainController.state.activeCaipNetwork?.caipNetworkId||""}}),this.resetSend()}catch(error){console.error("SendController:sendERC20Token - failed to send native token",error);const errorMessage=error instanceof Error?error.message:"Unknown error";EventsController.E.sendEvent({type:"track",event:"SEND_ERROR",properties:{message:errorMessage,isSmartAccount:AccountController.U.state.preferredAccountType===W3mFrameConstants.Vl.ACCOUNT_TYPES.SMART_ACCOUNT,token:this.state.token?.symbol||"",amount:params.sendTokenAmount,network:ChainController.state.activeCaipNetwork?.caipNetworkId||""}}),SnackController.P.showError("Something went wrong")}},async sendERC20Token(params){RouterController.I.pushTransactionStack({view:"Account",goBack:!1});const amount=ConnectionController.x.parseUnits(params.sendTokenAmount.toString(),Number(params.decimals));try{if(AccountController.U.state.address&&params.sendTokenAmount&&params.receiverAddress&&params.tokenAddress){const tokenAddress=CoreHelperUtil.w.getPlainAddress(params.tokenAddress);await ConnectionController.x.writeContract({fromAddress:AccountController.U.state.address,tokenAddress,args:[params.receiverAddress,amount??BigInt(0)],method:"transfer",abi:ContractUtil_getERC20Abi(tokenAddress),chainNamespace:"eip155"}),SnackController.P.showSuccess("Transaction started"),this.resetSend()}}catch(error){console.error("SendController:sendERC20Token - failed to send erc20 token",error);const errorMessage=error instanceof Error?error.message:"Unknown error";EventsController.E.sendEvent({type:"track",event:"SEND_ERROR",properties:{message:errorMessage,isSmartAccount:AccountController.U.state.preferredAccountType===W3mFrameConstants.Vl.ACCOUNT_TYPES.SMART_ACCOUNT,token:this.state.token?.symbol||"",amount:params.sendTokenAmount,network:ChainController.state.activeCaipNetwork?.caipNetworkId||""}}),SnackController.P.showError("Something went wrong")}},sendSolanaToken(){this.state.sendTokenAmount&&this.state.receiverAddress?(RouterController.I.pushTransactionStack({view:"Account",goBack:!1}),ConnectionController.x.sendTransaction({chainNamespace:"solana",to:this.state.receiverAddress,value:this.state.sendTokenAmount}).then(()=>{this.resetSend(),AccountController.U.fetchTokenBalance()}).catch(error=>{SnackController.P.showError("Failed to send transaction. Please try again."),console.error("SendController:sendToken - failed to send solana transaction",error)})):SnackController.P.showError("Please enter a valid amount and receiver address")},resetSend(){state.token=void 0,state.sendTokenAmount=void 0,state.receiverAddress=void 0,state.receiverProfileImageUrl=void 0,state.receiverProfileName=void 0,state.loading=!1,state.tokenBalances=[]}};var ChainController_console=__webpack_require__("./node_modules/console-browserify/index.js");const accountState={currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,allAccounts:[],user:void 0},networkState={caipNetwork:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]},ChainController_state=(0,vanilla.BX)({chains:(0,utils.zC)(),activeCaipAddress:void 0,activeChain:void 0,activeCaipNetwork:void 0,noAdapters:!1,universalAdapter:{networkControllerClient:void 0,connectionControllerClient:void 0},isSwitchingNamespace:!1}),ChainController={state:ChainController_state,subscribe:callback=>(0,vanilla.B1)(ChainController_state,()=>{callback(ChainController_state)}),subscribeKey:(key,callback)=>(0,utils.u$)(ChainController_state,key,callback),subscribeChainProp(property,callback,chain){let prev;return(0,vanilla.B1)(ChainController_state.chains,()=>{const activeChain=chain||ChainController_state.activeChain;if(activeChain){const nextValue=ChainController_state.chains.get(activeChain)?.[property];prev!==nextValue&&(prev=nextValue,callback(nextValue))}})},initialize(adapters,caipNetworks,clients){const{chainId:activeChainId,namespace:activeNamespace}=StorageUtil.i.getActiveNetworkProps(),activeCaipNetwork=caipNetworks?.find(network=>network.id.toString()===activeChainId?.toString()),adapterToActivate=adapters.find(adapter=>adapter?.namespace===activeNamespace)||adapters?.[0],namespaces=new Set([...caipNetworks?.map(network=>network.chainNamespace)??[]]);0!==adapters?.length&&adapterToActivate||(ChainController_state.noAdapters=!0),ChainController_state.noAdapters||(ChainController_state.activeChain=adapterToActivate?.namespace,ChainController_state.activeCaipNetwork=activeCaipNetwork,this.setChainNetworkData(adapterToActivate?.namespace,{caipNetwork:activeCaipNetwork}),ChainController_state.activeChain&&PublicStateController.z.set({activeChain:adapterToActivate?.namespace})),namespaces.forEach(namespace=>{const namespaceNetworks=caipNetworks?.filter(network=>network.chainNamespace===namespace);ChainController.state.chains.set(namespace,{namespace,networkState:(0,vanilla.BX)({...networkState,caipNetwork:namespaceNetworks?.[0]}),accountState:(0,vanilla.BX)(accountState),caipNetworks:namespaceNetworks??[],...clients}),this.setRequestedCaipNetworks(namespaceNetworks??[],namespace)})},removeAdapter(namespace){if(ChainController_state.activeChain===namespace){const nextAdapter=Array.from(ChainController_state.chains.entries()).find(([chainNamespace])=>chainNamespace!==namespace);if(nextAdapter){const caipNetwork=nextAdapter[1]?.caipNetworks?.[0];caipNetwork&&this.setActiveCaipNetwork(caipNetwork)}}ChainController_state.chains.delete(namespace)},addAdapter(adapter,{networkControllerClient,connectionControllerClient},caipNetworks){ChainController_state.chains.set(adapter.namespace,{namespace:adapter.namespace,networkState:{...networkState,caipNetwork:caipNetworks[0]},accountState,caipNetworks,connectionControllerClient,networkControllerClient}),this.setRequestedCaipNetworks(caipNetworks?.filter(caipNetwork=>caipNetwork.chainNamespace===adapter.namespace)??[],adapter.namespace)},addNetwork(network){const chainAdapter=ChainController_state.chains.get(network.chainNamespace);if(chainAdapter){const newNetworks=[...chainAdapter.caipNetworks||[]];chainAdapter.caipNetworks?.find(caipNetwork=>caipNetwork.id===network.id)||newNetworks.push(network),ChainController_state.chains.set(network.chainNamespace,{...chainAdapter,caipNetworks:newNetworks}),this.setRequestedCaipNetworks(newNetworks,network.chainNamespace)}},removeNetwork(namespace,networkId){const chainAdapter=ChainController_state.chains.get(namespace);if(chainAdapter){const isActiveNetwork=ChainController_state.activeCaipNetwork?.id===networkId,newCaipNetworksOfAdapter=[...chainAdapter.caipNetworks?.filter(network=>network.id!==networkId)||[]];isActiveNetwork&&chainAdapter?.caipNetworks?.[0]&&this.setActiveCaipNetwork(chainAdapter.caipNetworks[0]),ChainController_state.chains.set(namespace,{...chainAdapter,caipNetworks:newCaipNetworksOfAdapter}),this.setRequestedCaipNetworks(newCaipNetworksOfAdapter||[],namespace)}},setAdapterNetworkState(chain,props){const chainAdapter=ChainController_state.chains.get(chain);chainAdapter&&(chainAdapter.networkState={...chainAdapter.networkState||networkState,...props},ChainController_state.chains.set(chain,chainAdapter))},setChainAccountData(chain,accountProps,_unknown=!0){if(!chain)throw new Error("Chain is required to update chain account data");const chainAdapter=ChainController_state.chains.get(chain);if(chainAdapter){const newAccountState={...chainAdapter.accountState||accountState,...accountProps};ChainController_state.chains.set(chain,{...chainAdapter,accountState:newAccountState}),1!==ChainController_state.chains.size&&ChainController_state.activeChain!==chain||(accountProps.caipAddress&&(ChainController_state.activeCaipAddress=accountProps.caipAddress),AccountController.U.replaceState(newAccountState))}},setChainNetworkData(chain,networkProps){if(!chain)return;const chainAdapter=ChainController_state.chains.get(chain);if(chainAdapter){const newNetworkState={...chainAdapter.networkState||networkState,...networkProps};ChainController_state.chains.set(chain,{...chainAdapter,networkState:newNetworkState})}},setAccountProp(prop,value,chain,replaceState=!0){this.setChainAccountData(chain,{[prop]:value},replaceState),"status"===prop&&"disconnected"===value&&chain&&ConnectorController.a.removeConnectorId(chain)},setActiveNamespace(chain){ChainController_state.activeChain=chain;const newAdapter=chain?ChainController_state.chains.get(chain):void 0,caipNetwork=newAdapter?.networkState?.caipNetwork;caipNetwork?.id&&chain&&(ChainController_state.activeCaipAddress=newAdapter?.accountState?.caipAddress,ChainController_state.activeCaipNetwork=caipNetwork,this.setChainNetworkData(chain,{caipNetwork}),StorageUtil.i.setActiveCaipNetworkId(caipNetwork?.caipNetworkId),PublicStateController.z.set({activeChain:chain,selectedNetworkId:caipNetwork?.caipNetworkId}))},setActiveCaipNetwork(caipNetwork){if(!caipNetwork)return;ChainController_state.activeChain!==caipNetwork.chainNamespace&&this.setIsSwitchingNamespace(!0);const newAdapter=ChainController_state.chains.get(caipNetwork.chainNamespace);ChainController_state.activeChain=caipNetwork.chainNamespace,ChainController_state.activeCaipNetwork=caipNetwork,this.setChainNetworkData(caipNetwork.chainNamespace,{caipNetwork}),ChainController_state.activeCaipAddress=newAdapter?.accountState?.address?`${caipNetwork.chainNamespace}:${caipNetwork.id}:${newAdapter?.accountState?.address}`:void 0,this.setAccountProp("caipAddress",ChainController_state.activeCaipAddress,caipNetwork.chainNamespace),newAdapter&&AccountController.U.replaceState(newAdapter.accountState),SendController.resetSend(),PublicStateController.z.set({activeChain:ChainController_state.activeChain,selectedNetworkId:ChainController_state.activeCaipNetwork?.caipNetworkId}),StorageUtil.i.setActiveCaipNetworkId(caipNetwork.caipNetworkId);this.checkIfSupportedNetwork(caipNetwork.chainNamespace)||!OptionsController.H.state.enableNetworkSwitch||OptionsController.H.state.allowUnsupportedChain||ConnectionController.x.state.wcBasic||this.showUnsupportedChainUI()},addCaipNetwork(caipNetwork){if(!caipNetwork)return;const chain=ChainController_state.chains.get(caipNetwork.chainNamespace);chain&&chain?.caipNetworks?.push(caipNetwork)},async switchActiveNamespace(namespace){if(!namespace)return;const isDifferentChain=namespace!==ChainController.state.activeChain,caipNetworkOfNamespace=ChainController.getNetworkData(namespace)?.caipNetwork,firstNetworkWithChain=ChainController.getCaipNetworkByNamespace(namespace,caipNetworkOfNamespace?.id);isDifferentChain&&firstNetworkWithChain&&await ChainController.switchActiveNetwork(firstNetworkWithChain)},async switchActiveNetwork(network){const activeAdapter=ChainController.state.chains.get(ChainController.state.activeChain);!activeAdapter?.caipNetworks?.some(caipNetwork=>caipNetwork.id===ChainController_state.activeCaipNetwork?.id)&&RouterController.I.goBack();const networkControllerClient=this.getNetworkControllerClient(network.chainNamespace);networkControllerClient&&(await networkControllerClient.switchCaipNetwork(network),EventsController.E.sendEvent({type:"track",event:"SWITCH_NETWORK",properties:{network:network.caipNetworkId}}))},getNetworkControllerClient(chainNamespace){const chain=chainNamespace||ChainController_state.activeChain,chainAdapter=ChainController_state.chains.get(chain);if(!chainAdapter)throw new Error("Chain adapter not found");if(!chainAdapter.networkControllerClient)throw new Error("NetworkController client not set");return chainAdapter.networkControllerClient},getConnectionControllerClient(_chain){const chain=_chain||ChainController_state.activeChain;if(!chain)throw new Error("Chain is required to get connection controller client");const chainAdapter=ChainController_state.chains.get(chain);if(!chainAdapter?.connectionControllerClient)throw new Error("ConnectionController client not set");return chainAdapter.connectionControllerClient},getAccountProp(key,_chain){let chain=ChainController_state.activeChain;if(_chain&&(chain=_chain),!chain)return;const chainAccountState=ChainController_state.chains.get(chain)?.accountState;return chainAccountState?chainAccountState[key]:void 0},getNetworkProp(key,namespace){const chainNetworkState=ChainController_state.chains.get(namespace)?.networkState;if(chainNetworkState)return chainNetworkState[key]},getRequestedCaipNetworks(chainToFilter){const adapter=ChainController_state.chains.get(chainToFilter),{approvedCaipNetworkIds=[],requestedCaipNetworks=[]}=adapter?.networkState||{};return CoreHelperUtil.w.sortRequestedNetworks(approvedCaipNetworkIds,requestedCaipNetworks)},getAllRequestedCaipNetworks(){const requestedCaipNetworks=[];return ChainController_state.chains.forEach(chainAdapter=>{const caipNetworks=this.getRequestedCaipNetworks(chainAdapter.namespace);requestedCaipNetworks.push(...caipNetworks)}),requestedCaipNetworks},setRequestedCaipNetworks(requestedCaipNetworks,chain){this.setAdapterNetworkState(chain,{requestedCaipNetworks})},getAllApprovedCaipNetworkIds(){const approvedCaipNetworkIds=[];return ChainController_state.chains.forEach(chainAdapter=>{const approvedIds=this.getApprovedCaipNetworkIds(chainAdapter.namespace);approvedCaipNetworkIds.push(...approvedIds)}),approvedCaipNetworkIds},getActiveCaipNetwork:()=>ChainController_state.activeCaipNetwork,getActiveCaipAddress:()=>ChainController_state.activeCaipAddress,getApprovedCaipNetworkIds(namespace){const adapter=ChainController_state.chains.get(namespace);return adapter?.networkState?.approvedCaipNetworkIds||[]},async setApprovedCaipNetworksData(namespace){const networkControllerClient=this.getNetworkControllerClient(),data=await(networkControllerClient?.getApprovedCaipNetworksData());this.setAdapterNetworkState(namespace,{approvedCaipNetworkIds:data?.approvedCaipNetworkIds,supportsAllNetworks:data?.supportsAllNetworks})},checkIfSupportedNetwork(namespace,caipNetwork){const activeCaipNetwork=caipNetwork||ChainController_state.activeCaipNetwork,requestedCaipNetworks=this.getRequestedCaipNetworks(namespace);return!requestedCaipNetworks.length||requestedCaipNetworks?.some(network=>network.id===activeCaipNetwork?.id)},checkIfSupportedChainId(chainId){if(!ChainController_state.activeChain)return!0;const requestedCaipNetworks=this.getRequestedCaipNetworks(ChainController_state.activeChain);return requestedCaipNetworks?.some(network=>network.id===chainId)},setSmartAccountEnabledNetworks(smartAccountEnabledNetworks,chain){this.setAdapterNetworkState(chain,{smartAccountEnabledNetworks})},checkIfSmartAccountEnabled(){const networkId=NetworkUtil.caipNetworkIdToNumber(ChainController_state.activeCaipNetwork?.caipNetworkId),activeChain=ChainController_state.activeChain;if(!activeChain||!networkId)return!1;const smartAccountEnabledNetworks=this.getNetworkProp("smartAccountEnabledNetworks",activeChain);return Boolean(smartAccountEnabledNetworks?.includes(Number(networkId)))},getActiveNetworkTokenAddress(){const namespace=ChainController_state.activeCaipNetwork?.chainNamespace||"eip155";return`${namespace}:${ChainController_state.activeCaipNetwork?.id||1}:${utils_ConstantsUtil.oU.NATIVE_TOKEN_ADDRESS[namespace]}`},showUnsupportedChainUI(){ModalController.W.open({view:"UnsupportedChain"})},checkIfNamesSupported(){const activeCaipNetwork=ChainController_state.activeCaipNetwork;return Boolean(activeCaipNetwork?.chainNamespace&&utils_ConstantsUtil.oU.NAMES_SUPPORTED_CHAIN_NAMESPACES.includes(activeCaipNetwork.chainNamespace))},resetNetwork(namespace){this.setAdapterNetworkState(namespace,{approvedCaipNetworkIds:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]})},resetAccount(chain){const chainToWrite=chain;if(!chainToWrite)throw new Error("Chain is required to set account prop");ChainController_state.activeCaipAddress=void 0,this.setChainAccountData(chainToWrite,{smartAccountDeployed:!1,currentTab:0,caipAddress:void 0,address:void 0,balance:void 0,balanceSymbol:void 0,profileName:void 0,profileImage:void 0,addressExplorerUrl:void 0,tokenBalance:[],connectedWalletInfo:void 0,preferredAccountType:void 0,socialProvider:void 0,socialWindow:void 0,farcasterUrl:void 0,allAccounts:[],user:void 0,status:"disconnected"}),ConnectorController.a.removeConnectorId(chainToWrite)},async disconnect(namespace){const chainsToDisconnect=function getChainsToDisconnect(namespace){const namespaces=Array.from(ChainController.state.chains.keys());let chains=[];return namespace?(chains.push([namespace,ChainController.state.chains.get(namespace)]),checkNamespaceConnectorId(namespace,ConstantsUtil.o.CONNECTOR_ID.WALLET_CONNECT)?namespaces.forEach(ns=>{ns!==namespace&&checkNamespaceConnectorId(ns,ConstantsUtil.o.CONNECTOR_ID.WALLET_CONNECT)&&chains.push([ns,ChainController.state.chains.get(ns)])}):checkNamespaceConnectorId(namespace,ConstantsUtil.o.CONNECTOR_ID.AUTH)&&namespaces.forEach(ns=>{ns!==namespace&&checkNamespaceConnectorId(ns,ConstantsUtil.o.CONNECTOR_ID.AUTH)&&chains.push([ns,ChainController.state.chains.get(ns)])})):chains=Array.from(ChainController.state.chains.entries()),chains}(namespace);try{SendController.resetSend();const disconnectResults=await Promise.allSettled(chainsToDisconnect.map(async([ns,adapter])=>{try{const{caipAddress}=this.getAccountData(ns)||{};caipAddress&&adapter.connectionControllerClient?.disconnect&&await adapter.connectionControllerClient.disconnect(ns),this.resetAccount(ns),this.resetNetwork(ns)}catch(error){throw new Error(`Failed to disconnect chain ${ns}: ${error.message}`)}}));ConnectionController.x.resetWcConnection();const failures=disconnectResults.filter(result=>"rejected"===result.status);if(failures.length>0)throw new Error(failures.map(f=>f.reason.message).join(", "));StorageUtil.i.deleteConnectedSocialProvider(),namespace?ConnectorController.a.removeConnectorId(namespace):ConnectorController.a.resetConnectorIds(),EventsController.E.sendEvent({type:"track",event:"DISCONNECT_SUCCESS",properties:{namespace:namespace||"all"}})}catch(error){ChainController_console.error(error.message||"Failed to disconnect chains"),EventsController.E.sendEvent({type:"track",event:"DISCONNECT_ERROR",properties:{message:error.message||"Failed to disconnect chains"}})}},setIsSwitchingNamespace(isSwitchingNamespace){ChainController_state.isSwitchingNamespace=isSwitchingNamespace},getFirstCaipNetworkSupportsAuthConnector(){const availableChains=[];let firstCaipNetwork;if(ChainController_state.chains.forEach(chain=>{ConstantsUtil.o.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(ns=>ns===chain.namespace)&&chain.namespace&&availableChains.push(chain.namespace)}),availableChains.length>0){const firstAvailableChain=availableChains[0];return firstCaipNetwork=firstAvailableChain?ChainController_state.chains.get(firstAvailableChain)?.caipNetworks?.[0]:void 0,firstCaipNetwork}},getAccountData:chainNamespace=>chainNamespace?ChainController.state.chains.get(chainNamespace)?.accountState:AccountController.U.state,getNetworkData(chainNamespace){const namespace=chainNamespace||ChainController_state.activeChain;if(namespace)return ChainController.state.chains.get(namespace)?.networkState},getCaipNetworkByNamespace(chainNamespace,chainId){if(!chainNamespace)return;const chain=ChainController.state.chains.get(chainNamespace),byChainId=chain?.caipNetworks?.find(network=>network.id===chainId);return byChainId||(chain?.networkState?.caipNetwork||chain?.caipNetworks?.[0])},getRequestedCaipNetworkIds(){const namespace=ConnectorController.a.state.filterByNamespace;return(namespace?[ChainController_state.chains.get(namespace)]:Array.from(ChainController_state.chains.values())).flatMap(chain=>chain?.caipNetworks||[]).map(caipNetwork=>caipNetwork.caipNetworkId)}}},"./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectionController.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{x:()=>ConnectionController});var vanilla=__webpack_require__("./node_modules/valtio/esm/vanilla.mjs"),utils=__webpack_require__("./node_modules/valtio/esm/vanilla/utils.mjs"),CoreHelperUtil=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/utils/CoreHelperUtil.js"),SIWXUtil=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/utils/SIWXUtil.js"),StorageUtil=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/utils/StorageUtil.js"),ChainController=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ChainController.js"),ConnectorController=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectorController.js"),EventsController=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/EventsController.js"),ModalController=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ModalController.js"),RouterController=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/RouterController.js"),W3mFrameConstants=__webpack_require__("./node_modules/@reown/appkit-wallet/dist/esm/src/W3mFrameConstants.js"),AccountController=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/AccountController.js"),BlockchainApiController=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/BlockchainApiController.js"),OptionsController=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/OptionsController.js"),SnackController=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/SnackController.js");const state=(0,vanilla.BX)({transactions:[],coinbaseTransactions:{},transactionsByYear:{},lastNetworkInView:void 0,loading:!1,empty:!1,next:void 0}),TransactionsController={state,subscribe:callback=>(0,vanilla.B1)(state,()=>callback(state)),setLastNetworkInView(lastNetworkInView){state.lastNetworkInView=lastNetworkInView},async fetchTransactions(accountAddress,onramp){if(!accountAddress)throw new Error("Transactions can't be fetched without an accountAddress");state.loading=!0;try{const response=await BlockchainApiController.T.fetchTransactions({account:accountAddress,cursor:state.next,onramp,cache:"coinbase"===onramp?"no-cache":void 0,chainId:ChainController.W.state.activeCaipNetwork?.caipNetworkId}),nonSpamTransactions=this.filterSpamTransactions(response.data),sameChainTransactions=this.filterByConnectedChain(nonSpamTransactions),filteredTransactions=[...state.transactions,...sameChainTransactions];state.loading=!1,"coinbase"===onramp?state.coinbaseTransactions=this.groupTransactionsByYearAndMonth(state.coinbaseTransactions,response.data):(state.transactions=filteredTransactions,state.transactionsByYear=this.groupTransactionsByYearAndMonth(state.transactionsByYear,sameChainTransactions)),state.empty=0===filteredTransactions.length,state.next=response.next?response.next:void 0}catch(error){EventsController.E.sendEvent({type:"track",event:"ERROR_FETCH_TRANSACTIONS",properties:{address:accountAddress,projectId:OptionsController.H.state.projectId,cursor:state.next,isSmartAccount:AccountController.U.state.preferredAccountType===W3mFrameConstants.Vl.ACCOUNT_TYPES.SMART_ACCOUNT}}),SnackController.P.showError("Failed to fetch transactions"),state.loading=!1,state.empty=!0,state.next=void 0}},groupTransactionsByYearAndMonth(transactionsMap={},transactions=[]){const grouped=transactionsMap;return transactions.forEach(transaction=>{const year=new Date(transaction.metadata.minedAt).getFullYear(),month=new Date(transaction.metadata.minedAt).getMonth(),yearTransactions=grouped[year]??{},newMonthTransactions=(yearTransactions[month]??[]).filter(tx=>tx.id!==transaction.id);grouped[year]={...yearTransactions,[month]:[...newMonthTransactions,transaction].sort((a,b)=>new Date(b.metadata.minedAt).getTime()-new Date(a.metadata.minedAt).getTime())}}),grouped},filterSpamTransactions:transactions=>transactions.filter(transaction=>!transaction.transfers.every(transfer=>!0===transfer.nft_info?.flags.is_spam)),filterByConnectedChain(transactions){const chainId=ChainController.W.state.activeCaipNetwork?.caipNetworkId;return transactions.filter(transaction=>transaction.metadata.chain===chainId)},clearCursor(){state.next=void 0},resetTransactions(){state.transactions=[],state.transactionsByYear={},state.lastNetworkInView=void 0,state.loading=!1,state.empty=!1,state.next=void 0}},ConnectionController_state=(0,vanilla.BX)({wcError:!1,buffering:!1,status:"disconnected"});let wcConnectionPromise;const ConnectionController={state:ConnectionController_state,subscribeKey:(key,callback)=>(0,utils.u$)(ConnectionController_state,key,callback),_getClient:()=>ConnectionController_state._client,setClient(client){ConnectionController_state._client=(0,vanilla.KR)(client)},async connectWalletConnect(){if(CoreHelperUtil.w.isTelegram()||CoreHelperUtil.w.isSafari()&&CoreHelperUtil.w.isIos()){if(wcConnectionPromise)return await wcConnectionPromise,void(wcConnectionPromise=void 0);if(!CoreHelperUtil.w.isPairingExpired(ConnectionController_state?.wcPairingExpiry)){const link=ConnectionController_state.wcUri;return void(ConnectionController_state.wcUri=link)}wcConnectionPromise=this._getClient()?.connectWalletConnect?.().catch(()=>{}),this.state.status="connecting",await wcConnectionPromise,wcConnectionPromise=void 0,ConnectionController_state.wcPairingExpiry=void 0,this.state.status="connected"}else await(this._getClient()?.connectWalletConnect?.())},async connectExternal(options,chain,setChain=!0){await(this._getClient()?.connectExternal?.(options)),setChain&&ChainController.W.setActiveNamespace(chain)},async reconnectExternal(options){await(this._getClient()?.reconnectExternal?.(options));const namespace=options.chain||ChainController.W.state.activeChain;namespace&&ConnectorController.a.setConnectorId(options.id,namespace)},async setPreferredAccountType(accountType){ModalController.W.setLoading(!0,ChainController.W.state.activeChain);const authConnector=ConnectorController.a.getAuthConnector();authConnector&&(await(authConnector?.provider.setPreferredAccount(accountType)),await this.reconnectExternal(authConnector),ModalController.W.setLoading(!1,ChainController.W.state.activeChain),EventsController.E.sendEvent({type:"track",event:"SET_PREFERRED_ACCOUNT_TYPE",properties:{accountType,network:ChainController.W.state.activeCaipNetwork?.caipNetworkId||""}}))},async signMessage(message){return this._getClient()?.signMessage(message)},parseUnits(value,decimals){return this._getClient()?.parseUnits(value,decimals)},formatUnits(value,decimals){return this._getClient()?.formatUnits(value,decimals)},async sendTransaction(args){return this._getClient()?.sendTransaction(args)},async getCapabilities(params){return this._getClient()?.getCapabilities(params)},async grantPermissions(params){return this._getClient()?.grantPermissions(params)},async walletGetAssets(params){return this._getClient()?.walletGetAssets(params)??{}},async estimateGas(args){return this._getClient()?.estimateGas(args)},async writeContract(args){return this._getClient()?.writeContract(args)},async getEnsAddress(value){return this._getClient()?.getEnsAddress(value)},async getEnsAvatar(value){return this._getClient()?.getEnsAvatar(value)},checkInstalled(ids){return this._getClient()?.checkInstalled?.(ids)||!1},resetWcConnection(){ConnectionController_state.wcUri=void 0,ConnectionController_state.wcPairingExpiry=void 0,ConnectionController_state.wcLinking=void 0,ConnectionController_state.recentWallet=void 0,ConnectionController_state.status="disconnected",TransactionsController.resetTransactions(),StorageUtil.i.deleteWalletConnectDeepLink()},resetUri(){ConnectionController_state.wcUri=void 0,ConnectionController_state.wcPairingExpiry=void 0},finalizeWcConnection(){const{wcLinking,recentWallet}=ConnectionController.state;wcLinking&&StorageUtil.i.setWalletConnectDeepLink(wcLinking),recentWallet&&StorageUtil.i.setAppKitRecent(recentWallet),EventsController.E.sendEvent({type:"track",event:"CONNECT_SUCCESS",properties:{method:wcLinking?"mobile":"qrcode",name:RouterController.I.state.data?.wallet?.name||"Unknown"}})},setWcBasic(wcBasic){ConnectionController_state.wcBasic=wcBasic},setUri(uri){ConnectionController_state.wcUri=uri,ConnectionController_state.wcPairingExpiry=CoreHelperUtil.w.getPairingExpiry()},setWcLinking(wcLinking){ConnectionController_state.wcLinking=wcLinking},setWcError(wcError){ConnectionController_state.wcError=wcError,ConnectionController_state.buffering=!1},setRecentWallet(wallet){ConnectionController_state.recentWallet=wallet},setBuffering(buffering){ConnectionController_state.buffering=buffering},setStatus(status){ConnectionController_state.status=status},async disconnect(namespace){try{ModalController.W.setLoading(!0,namespace),await SIWXUtil.U.clearSessions(),await ChainController.W.disconnect(namespace),ModalController.W.setLoading(!1,namespace),ConnectorController.a.setFilterByNamespace(void 0)}catch(error){throw new Error("Failed to disconnect")}}}},"./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectorController.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{a:()=>ConnectorController});var vanilla=__webpack_require__("./node_modules/valtio/esm/vanilla.mjs"),utils=__webpack_require__("./node_modules/valtio/esm/vanilla/utils.mjs"),ConstantsUtil=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-common/dist/esm/src/utils/ConstantsUtil.js"),ThemeUtil=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-common/dist/esm/src/utils/ThemeUtil.js"),ChainController=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ChainController.js");const MobileWalletUtil={handleSolanaDeeplinkRedirect(name){if(ChainController.W.state.activeChain===ConstantsUtil.o.CHAIN.SOLANA){const href=window.location.href,encodedHref=encodeURIComponent(href);if("Phantom"===name&&!("phantom"in window)){const protocol=href.startsWith("https")?"https":"http",host=href.split("/")[2],encodedRef=encodeURIComponent(`${protocol}://${host}`);window.location.href=`https://phantom.app/ul/browse/${encodedHref}?ref=${encodedRef}`}"Coinbase Wallet"!==name||"coinbaseSolana"in window||(window.location.href=`https://go.cb-w.com/dapp?cb_url=${encodedHref}`)}}};var StorageUtil=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/utils/StorageUtil.js"),ApiController=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ApiController.js"),OptionsController=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/OptionsController.js"),RouterController=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/RouterController.js"),ThemeController=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ThemeController.js");const defaultActiveConnectors={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0},state=(0,vanilla.BX)({allConnectors:[],connectors:[],activeConnector:void 0,filterByNamespace:void 0,activeConnectorIds:{...defaultActiveConnectors}}),ConnectorController={state,subscribe:callback=>(0,vanilla.B1)(state,()=>{callback(state)}),subscribeKey:(key,callback)=>(0,utils.u$)(state,key,callback),initialize(namespaces){namespaces.forEach(namespace=>{const connectorId=StorageUtil.i.getConnectedConnectorId(namespace);connectorId&&this.setConnectorId(connectorId,namespace)})},setActiveConnector(connector){connector&&(state.activeConnector=(0,vanilla.KR)(connector))},setConnectors(connectors){connectors.filter(newConnector=>!state.allConnectors.some(existingConnector=>existingConnector.id===newConnector.id&&this.getConnectorName(existingConnector.name)===this.getConnectorName(newConnector.name)&&existingConnector.chain===newConnector.chain)).forEach(connector=>{"MULTI_CHAIN"!==connector.type&&state.allConnectors.push((0,vanilla.KR)(connector))}),state.connectors=this.mergeMultiChainConnectors(state.allConnectors)},removeAdapter(namespace){state.allConnectors=state.allConnectors.filter(connector=>connector.chain!==namespace),state.connectors=this.mergeMultiChainConnectors(state.allConnectors)},mergeMultiChainConnectors(connectors){const connectorsByNameMap=this.generateConnectorMapByName(connectors),mergedConnectors=[];return connectorsByNameMap.forEach(keyConnectors=>{const firstItem=keyConnectors[0],isAuthConnector=firstItem?.id===ConstantsUtil.o.CONNECTOR_ID.AUTH;keyConnectors.length>1&&firstItem?mergedConnectors.push({name:firstItem.name,imageUrl:firstItem.imageUrl,imageId:firstItem.imageId,connectors:[...keyConnectors],type:isAuthConnector?"AUTH":"MULTI_CHAIN",chain:"eip155",id:firstItem?.id||""}):firstItem&&mergedConnectors.push(firstItem)}),mergedConnectors},generateConnectorMapByName(connectors){const connectorsByNameMap=new Map;return connectors.forEach(connector=>{const{name}=connector,connectorName=this.getConnectorName(name);if(!connectorName)return;const connectorsByName=connectorsByNameMap.get(connectorName)||[];connectorsByName.find(c=>c.chain===connector.chain)||connectorsByName.push(connector),connectorsByNameMap.set(connectorName,connectorsByName)}),connectorsByNameMap},getConnectorName(name){if(!name)return name;return{"Trust Wallet":"Trust"}[name]||name},getUniqueConnectorsByName(connectors){const uniqueConnectors=[];return connectors.forEach(c=>{uniqueConnectors.find(uc=>uc.chain===c.chain)||uniqueConnectors.push(c)}),uniqueConnectors},addConnector(connector){if(connector.id===ConstantsUtil.o.CONNECTOR_ID.AUTH){const authConnector=connector,optionsState=(0,vanilla.P9)(OptionsController.H.state),themeMode=ThemeController.W.getSnapshot().themeMode,themeVariables=ThemeController.W.getSnapshot().themeVariables;authConnector?.provider?.syncDappData?.({metadata:optionsState.metadata,sdkVersion:optionsState.sdkVersion,projectId:optionsState.projectId,sdkType:optionsState.sdkType}),authConnector?.provider?.syncTheme({themeMode,themeVariables,w3mThemeVariables:(0,ThemeUtil.o)(themeVariables,themeMode)}),this.setConnectors([connector])}else this.setConnectors([connector])},getAuthConnector(chainNamespace){const activeNamespace=chainNamespace||ChainController.W.state.activeChain,authConnector=state.connectors.find(c=>c.id===ConstantsUtil.o.CONNECTOR_ID.AUTH);if(authConnector){if(authConnector?.connectors?.length){return authConnector.connectors.find(c=>c.chain===activeNamespace)}return authConnector}},getAnnouncedConnectorRdns:()=>state.connectors.filter(c=>"ANNOUNCED"===c.type).map(c=>c.info?.rdns),getConnectorById:id=>state.allConnectors.find(c=>c.id===id),getConnector:(id,rdns)=>state.allConnectors.filter(c=>c.chain===ChainController.W.state.activeChain).find(c=>c.explorerId===id||c.info?.rdns===rdns),syncIfAuthConnector(connector){if("ID_AUTH"!==connector.id)return;const authConnector=connector,optionsState=(0,vanilla.P9)(OptionsController.H.state),themeMode=ThemeController.W.getSnapshot().themeMode,themeVariables=ThemeController.W.getSnapshot().themeVariables;authConnector?.provider?.syncDappData?.({metadata:optionsState.metadata,sdkVersion:optionsState.sdkVersion,sdkType:optionsState.sdkType,projectId:optionsState.projectId}),authConnector.provider.syncTheme({themeMode,themeVariables,w3mThemeVariables:(0,ThemeUtil.o)(themeVariables,themeMode)})},getConnectorsByNamespace(namespace){const namespaceConnectors=state.allConnectors.filter(connector=>connector.chain===namespace);return this.mergeMultiChainConnectors(namespaceConnectors)},selectWalletConnector(wallet){const connector=ConnectorController.getConnector(wallet.id,wallet.rdns);ChainController.W.state.activeChain===ConstantsUtil.o.CHAIN.SOLANA&&MobileWalletUtil.handleSolanaDeeplinkRedirect(connector?.name||wallet.name||""),connector?RouterController.I.push("ConnectingExternal",{connector}):RouterController.I.push("ConnectingWalletConnect",{wallet})},getConnectors(namespace){return namespace?this.getConnectorsByNamespace(namespace):this.mergeMultiChainConnectors(state.allConnectors)},setFilterByNamespace(namespace){state.filterByNamespace=namespace,state.connectors=this.getConnectors(namespace),ApiController.N.setFilterByNamespace(namespace)},setConnectorId(connectorId,namespace){connectorId&&(state.activeConnectorIds={...state.activeConnectorIds,[namespace]:connectorId},StorageUtil.i.setConnectedConnectorId(namespace,connectorId))},removeConnectorId(namespace){state.activeConnectorIds={...state.activeConnectorIds,[namespace]:void 0},StorageUtil.i.deleteConnectedConnectorId(namespace)},getConnectorId(namespace){if(namespace)return state.activeConnectorIds[namespace]},isConnected:namespace=>namespace?Boolean(state.activeConnectorIds[namespace]):Object.values(state.activeConnectorIds).some(id=>Boolean(id)),resetConnectorIds(){state.activeConnectorIds={...defaultActiveConnectors}}}},"./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/EventsController.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{E:()=>EventsController});var valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/valtio/esm/vanilla.mjs"),_reown_appkit_common__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-common/dist/esm/src/utils/ConstantsUtil.js"),_reown_appkit_common__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-common/dist/esm/src/utils/SafeLocalStorage.js"),_utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/utils/CoreHelperUtil.js"),_utils_FetchUtil_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/utils/FetchUtil.js"),_AccountController_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/AccountController.js"),_AlertController_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/AlertController.js"),_OptionsController_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/OptionsController.js");const baseUrl=_utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_3__.w.getAnalyticsUrl(),api=new _utils_FetchUtil_js__WEBPACK_IMPORTED_MODULE_4__.Z({baseUrl,clientId:null}),excluded=["MODAL_CREATED"],state=(0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.BX)({timestamp:Date.now(),reportedErrors:{},data:{type:"track",event:"MODAL_CREATED"}}),EventsController={state,subscribe:callback=>(0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.B1)(state,()=>callback(state)),getSdkProperties(){const{projectId,sdkType,sdkVersion}=_OptionsController_js__WEBPACK_IMPORTED_MODULE_7__.H.state;return{projectId,st:sdkType,sv:sdkVersion||"html-wagmi-4.2.2"}},async _sendAnalyticsEvent(payload){try{const address=_AccountController_js__WEBPACK_IMPORTED_MODULE_5__.U.state.address;if(excluded.includes(payload.data.event)||"undefined"==typeof window)return;await api.post({path:"/e",params:EventsController.getSdkProperties(),body:{eventId:_utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_3__.w.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:payload.timestamp,props:{...payload.data,address}}}),state.reportedErrors.FORBIDDEN=!1}catch(err){err instanceof Error&&err.cause instanceof Response&&err.cause.status===_reown_appkit_common__WEBPACK_IMPORTED_MODULE_1__.o.HTTP_STATUS_CODES.FORBIDDEN&&!state.reportedErrors.FORBIDDEN&&(_AlertController_js__WEBPACK_IMPORTED_MODULE_6__.h.open({shortMessage:"Invalid App Configuration",longMessage:`Origin ${(0,_reown_appkit_common__WEBPACK_IMPORTED_MODULE_2__.IP)()?window.origin:"uknown"} not found on Allowlist - update configuration on cloud.reown.com`},"error"),state.reportedErrors.FORBIDDEN=!0)}},sendEvent(data){state.timestamp=Date.now(),state.data=data,_OptionsController_js__WEBPACK_IMPORTED_MODULE_7__.H.state.features?.analytics&&EventsController._sendAnalyticsEvent(state)}}},"./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ModalController.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{W:()=>ModalController});var valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/valtio/esm/vanilla.mjs"),valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/valtio/esm/vanilla/utils.mjs"),_utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/utils/CoreHelperUtil.js"),_AccountController_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/AccountController.js"),_ApiController_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ApiController.js"),_ChainController_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ChainController.js"),_ConnectionController_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectionController.js"),_ConnectorController_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectorController.js"),_EventsController_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/EventsController.js"),_OptionsController_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/OptionsController.js"),_PublicStateController_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/PublicStateController.js"),_RouterController_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/RouterController.js");const state=(0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.BX)({loading:!1,loadingNamespaceMap:new Map,open:!1,shake:!1,namespace:void 0}),ModalController={state,subscribe:callback=>(0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.B1)(state,()=>callback(state)),subscribeKey:(key,callback)=>(0,valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_1__.u$)(state,key,callback),async open(options){const isConnected="connected"===_AccountController_js__WEBPACK_IMPORTED_MODULE_3__.U.state.status;_ConnectionController_js__WEBPACK_IMPORTED_MODULE_6__.x.state.wcBasic?_ApiController_js__WEBPACK_IMPORTED_MODULE_4__.N.prefetch({fetchNetworkImages:!1,fetchConnectorImages:!1}):await _ApiController_js__WEBPACK_IMPORTED_MODULE_4__.N.prefetch({fetchConnectorImages:!isConnected,fetchFeaturedWallets:!isConnected,fetchRecommendedWallets:!isConnected}),options?.namespace?(await _ChainController_js__WEBPACK_IMPORTED_MODULE_5__.W.switchActiveNamespace(options.namespace),ModalController.setLoading(!0,options.namespace)):ModalController.setLoading(!0),_ConnectorController_js__WEBPACK_IMPORTED_MODULE_7__.a.setFilterByNamespace(options?.namespace);const caipAddress=_ChainController_js__WEBPACK_IMPORTED_MODULE_5__.W.getAccountData(options?.namespace)?.caipAddress;_ChainController_js__WEBPACK_IMPORTED_MODULE_5__.W.state.noAdapters&&!caipAddress?_utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_2__.w.isMobile()?_RouterController_js__WEBPACK_IMPORTED_MODULE_11__.I.reset("AllWallets"):_RouterController_js__WEBPACK_IMPORTED_MODULE_11__.I.reset("ConnectingWalletConnectBasic"):options?.view?_RouterController_js__WEBPACK_IMPORTED_MODULE_11__.I.reset(options.view):caipAddress?_RouterController_js__WEBPACK_IMPORTED_MODULE_11__.I.reset("Account"):_RouterController_js__WEBPACK_IMPORTED_MODULE_11__.I.reset("Connect"),state.open=!0,_PublicStateController_js__WEBPACK_IMPORTED_MODULE_10__.z.set({open:!0}),_EventsController_js__WEBPACK_IMPORTED_MODULE_8__.E.sendEvent({type:"track",event:"MODAL_OPEN",properties:{connected:Boolean(caipAddress)}})},close(){const isEmbeddedEnabled=_OptionsController_js__WEBPACK_IMPORTED_MODULE_9__.H.state.enableEmbedded,isConnected=Boolean(_ChainController_js__WEBPACK_IMPORTED_MODULE_5__.W.state.activeCaipAddress);state.open&&_EventsController_js__WEBPACK_IMPORTED_MODULE_8__.E.sendEvent({type:"track",event:"MODAL_CLOSE",properties:{connected:isConnected}}),state.open=!1,ModalController.clearLoading(),isEmbeddedEnabled?isConnected?_RouterController_js__WEBPACK_IMPORTED_MODULE_11__.I.replace("Account"):_RouterController_js__WEBPACK_IMPORTED_MODULE_11__.I.push("Connect"):_PublicStateController_js__WEBPACK_IMPORTED_MODULE_10__.z.set({open:!1}),_ConnectionController_js__WEBPACK_IMPORTED_MODULE_6__.x.resetUri()},setLoading(loading,namespace){namespace&&state.loadingNamespaceMap.set(namespace,loading),state.loading=loading,_PublicStateController_js__WEBPACK_IMPORTED_MODULE_10__.z.set({loading})},clearLoading(){state.loadingNamespaceMap.clear(),state.loading=!1},shake(){state.shake||(state.shake=!0,setTimeout(()=>{state.shake=!1},500))}}},"./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/OptionsController.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{H:()=>OptionsController});var vanilla=__webpack_require__("./node_modules/valtio/esm/vanilla.mjs"),utils=__webpack_require__("./node_modules/valtio/esm/vanilla/utils.mjs"),ConstantsUtil=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ConstantsUtil.js"),CoreHelperUtil=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/utils/CoreHelperUtil.js");const OptionsUtil={getFeatureValue(key,features){const optionValue=features?.[key];return void 0===optionValue?ConstantsUtil.oU.DEFAULT_FEATURES[key]:optionValue},filterSocialsByPlatform(socials){if(!socials||!socials.length)return socials;if(CoreHelperUtil.w.isTelegram()){if(CoreHelperUtil.w.isIos())return socials.filter(s=>"google"!==s);if(CoreHelperUtil.w.isMac())return socials.filter(s=>"x"!==s);if(CoreHelperUtil.w.isAndroid())return socials.filter(s=>!["facebook","x"].includes(s))}return socials}},state=(0,vanilla.BX)({features:ConstantsUtil.oU.DEFAULT_FEATURES,projectId:"",sdkType:"appkit",sdkVersion:"html-wagmi-undefined",defaultAccountTypes:ConstantsUtil.oU.DEFAULT_ACCOUNT_TYPES,enableNetworkSwitch:!0}),OptionsController={state,subscribeKey:(key,callback)=>(0,utils.u$)(state,key,callback),setOptions(options){Object.assign(state,options)},setFeatures(features){if(!features)return;state.features||(state.features=ConstantsUtil.oU.DEFAULT_FEATURES);const newFeatures={...state.features,...features};state.features=newFeatures,state.features.socials&&(state.features.socials=OptionsUtil.filterSocialsByPlatform(state.features.socials))},setProjectId(projectId){state.projectId=projectId},setCustomRpcUrls(customRpcUrls){state.customRpcUrls=customRpcUrls},setAllWallets(allWallets){state.allWallets=allWallets},setIncludeWalletIds(includeWalletIds){state.includeWalletIds=includeWalletIds},setExcludeWalletIds(excludeWalletIds){state.excludeWalletIds=excludeWalletIds},setFeaturedWalletIds(featuredWalletIds){state.featuredWalletIds=featuredWalletIds},setTokens(tokens){state.tokens=tokens},setTermsConditionsUrl(termsConditionsUrl){state.termsConditionsUrl=termsConditionsUrl},setPrivacyPolicyUrl(privacyPolicyUrl){state.privacyPolicyUrl=privacyPolicyUrl},setCustomWallets(customWallets){state.customWallets=customWallets},setIsSiweEnabled(isSiweEnabled){state.isSiweEnabled=isSiweEnabled},setIsUniversalProvider(isUniversalProvider){state.isUniversalProvider=isUniversalProvider},setSdkVersion(sdkVersion){state.sdkVersion=sdkVersion},setMetadata(metadata){state.metadata=metadata},setDisableAppend(disableAppend){state.disableAppend=disableAppend},setEIP6963Enabled(enableEIP6963){state.enableEIP6963=enableEIP6963},setDebug(debug){state.debug=debug},setEnableWalletConnect(enableWalletConnect){state.enableWalletConnect=enableWalletConnect},setEnableWalletGuide(enableWalletGuide){state.enableWalletGuide=enableWalletGuide},setEnableAuthLogger(enableAuthLogger){state.enableAuthLogger=enableAuthLogger},setEnableWallets(enableWallets){state.enableWallets=enableWallets},setHasMultipleAddresses(hasMultipleAddresses){state.hasMultipleAddresses=hasMultipleAddresses},setSIWX(siwx){state.siwx=siwx},setConnectMethodsOrder(connectMethodsOrder){state.features={...state.features,connectMethodsOrder}},setWalletFeaturesOrder(walletFeaturesOrder){state.features={...state.features,walletFeaturesOrder}},setSocialsOrder(socialsOrder){state.features={...state.features,socials:socialsOrder}},setCollapseWallets(collapseWallets){state.features={...state.features,collapseWallets}},setEnableEmbedded(enableEmbedded){state.enableEmbedded=enableEmbedded},setAllowUnsupportedChain(allowUnsupportedChain){state.allowUnsupportedChain=allowUnsupportedChain},setManualWCControl(manualWCControl){state.manualWCControl=manualWCControl},setEnableNetworkSwitch(enableNetworkSwitch){state.enableNetworkSwitch=enableNetworkSwitch},setDefaultAccountTypes(defaultAccountType={}){Object.entries(defaultAccountType).forEach(([namespace,accountType])=>{accountType&&(state.defaultAccountTypes[namespace]=accountType)})},setUniversalProviderConfigOverride(universalProviderConfigOverride){state.universalProviderConfigOverride=universalProviderConfigOverride},getUniversalProviderConfigOverride:()=>state.universalProviderConfigOverride,getSnapshot:()=>(0,vanilla.P9)(state)}},"./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/PublicStateController.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{z:()=>PublicStateController});var valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/valtio/esm/vanilla.mjs");const state=(0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.BX)({loading:!1,open:!1,selectedNetworkId:void 0,activeChain:void 0,initialized:!1}),PublicStateController={state,subscribe:callback=>(0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.B1)(state,()=>callback(state)),set(newState){Object.assign(state,{...state,...newState})}}},"./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/RouterController.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{I:()=>RouterController});var valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/valtio/esm/vanilla.mjs"),valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/valtio/esm/vanilla/utils.mjs"),_AccountController_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/AccountController.js"),_ChainController_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ChainController.js"),_ConnectorController_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectorController.js"),_ModalController_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ModalController.js"),_OptionsController_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/OptionsController.js");const state=(0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.BX)({view:"Connect",history:["Connect"],transactionStack:[]}),RouterController={state,subscribeKey:(key,callback)=>(0,valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_1__.u$)(state,key,callback),pushTransactionStack(action){state.transactionStack.push(action)},popTransactionStack(cancel){const action=state.transactionStack.pop();if(action)if(cancel)this.goBack(),action?.onCancel?.();else{if(action.goBack)this.goBack();else if(action.replace){const connectingSiweIndex=state.history.indexOf("ConnectingSiwe");connectingSiweIndex>0?this.goBackToIndex(connectingSiweIndex-1):(_ModalController_js__WEBPACK_IMPORTED_MODULE_5__.W.close(),state.history=[])}else action.view&&this.reset(action.view);action?.onSuccess?.()}},push(view,data){view!==state.view&&(state.view=view,state.history.push(view),state.data=data)},reset(view,data){state.view=view,state.history=[view],state.data=data},replace(view,data){state.history.at(-1)===view||(state.view=view,state.history[state.history.length-1]=view,state.data=data)},goBack(){const shouldReload=!_ChainController_js__WEBPACK_IMPORTED_MODULE_3__.W.state.activeCaipAddress&&"ConnectingFarcaster"===this.state.view;if(state.history.length>1&&!state.history.includes("UnsupportedChain")){state.history.pop();const[last]=state.history.slice(-1);last&&(state.view=last)}else _ModalController_js__WEBPACK_IMPORTED_MODULE_5__.W.close();state.data?.wallet&&(state.data.wallet=void 0),setTimeout(()=>{if(shouldReload){_AccountController_js__WEBPACK_IMPORTED_MODULE_2__.U.setFarcasterUrl(void 0,_ChainController_js__WEBPACK_IMPORTED_MODULE_3__.W.state.activeChain);const authConnector=_ConnectorController_js__WEBPACK_IMPORTED_MODULE_4__.a.getAuthConnector();authConnector?.provider?.reload();const optionsState=(0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.P9)(_OptionsController_js__WEBPACK_IMPORTED_MODULE_6__.H.state);authConnector?.provider?.syncDappData?.({metadata:optionsState.metadata,sdkVersion:optionsState.sdkVersion,projectId:optionsState.projectId,sdkType:optionsState.sdkType})}},100)},goBackToIndex(historyIndex){if(state.history.length>1){state.history=state.history.slice(0,historyIndex+1);const[last]=state.history.slice(-1);last&&(state.view=last)}}}},"./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/SnackController.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{P:()=>SnackController});var valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/valtio/esm/vanilla.mjs"),valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/valtio/esm/vanilla/utils.mjs"),_utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/utils/CoreHelperUtil.js");const DEFAULT_STATE=Object.freeze({message:"",variant:"success",svg:void 0,open:!1,autoClose:!0}),state=(0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.BX)({...DEFAULT_STATE}),SnackController={state,subscribeKey:(key,callback)=>(0,valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_1__.u$)(state,key,callback),showLoading(message,options={}){this._showMessage({message,variant:"loading",...options})},showSuccess(message){this._showMessage({message,variant:"success"})},showSvg(message,svg){this._showMessage({message,svg})},showError(message){const errorMessage=_utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_2__.w.parseError(message);this._showMessage({message:errorMessage,variant:"error"})},hide(){state.message=DEFAULT_STATE.message,state.variant=DEFAULT_STATE.variant,state.svg=DEFAULT_STATE.svg,state.open=DEFAULT_STATE.open,state.autoClose=DEFAULT_STATE.autoClose},_showMessage({message,svg,variant="success",autoClose=DEFAULT_STATE.autoClose}){state.open?(state.open=!1,setTimeout(()=>{state.message=message,state.variant=variant,state.svg=svg,state.open=!0,state.autoClose=autoClose},150)):(state.message=message,state.variant=variant,state.svg=svg,state.open=!0,state.autoClose=autoClose)}}},"./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ThemeController.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{W:()=>ThemeController});var valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/valtio/esm/vanilla.mjs"),_reown_appkit_common__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-common/dist/esm/src/utils/ThemeUtil.js"),_ConnectorController_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectorController.js"),console=__webpack_require__("./node_modules/console-browserify/index.js");const state=(0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.BX)({themeMode:"dark",themeVariables:{},w3mThemeVariables:void 0}),ThemeController={state,subscribe:callback=>(0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.B1)(state,()=>callback(state)),setThemeMode(themeMode){state.themeMode=themeMode;try{const authConnector=_ConnectorController_js__WEBPACK_IMPORTED_MODULE_2__.a.getAuthConnector();if(authConnector){const themeVariables=ThemeController.getSnapshot().themeVariables;authConnector.provider.syncTheme({themeMode,themeVariables,w3mThemeVariables:(0,_reown_appkit_common__WEBPACK_IMPORTED_MODULE_1__.o)(themeVariables,themeMode)})}}catch{console.info("Unable to sync theme to auth connector")}},setThemeVariables(themeVariables){state.themeVariables={...state.themeVariables,...themeVariables};try{const authConnector=_ConnectorController_js__WEBPACK_IMPORTED_MODULE_2__.a.getAuthConnector();if(authConnector){const themeVariablesSnapshot=ThemeController.getSnapshot().themeVariables;authConnector.provider.syncTheme({themeVariables:themeVariablesSnapshot,w3mThemeVariables:(0,_reown_appkit_common__WEBPACK_IMPORTED_MODULE_1__.o)(state.themeVariables,state.themeMode)})}}catch{console.info("Unable to sync theme to auth connector")}},getSnapshot:()=>(0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.P9)(state)}},"./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/utils/AssetUtil.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{$:()=>AssetUtil});var valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/valtio/esm/vanilla.mjs"),_controllers_ApiController_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ApiController.js"),_controllers_AssetController_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/AssetController.js");const namespaceImageIds={eip155:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",solana:"a1b58899-f671-4276-6a5e-56ca5bd59700",polkadot:"",bip122:"0b4838db-0161-4ffe-022d-532bf03dba00"},state=(0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.BX)({networkImagePromises:{}}),AssetUtil={async fetchWalletImage(imageId){if(imageId)return await _controllers_ApiController_js__WEBPACK_IMPORTED_MODULE_1__.N._fetchWalletImage(imageId),this.getWalletImageById(imageId)},async fetchNetworkImage(imageId){if(!imageId)return;const existingImage=this.getNetworkImageById(imageId);return existingImage||(state.networkImagePromises[imageId]||(state.networkImagePromises[imageId]=_controllers_ApiController_js__WEBPACK_IMPORTED_MODULE_1__.N._fetchNetworkImage(imageId)),await state.networkImagePromises[imageId],this.getNetworkImageById(imageId))},getWalletImageById(imageId){if(imageId)return _controllers_AssetController_js__WEBPACK_IMPORTED_MODULE_2__.j.state.walletImages[imageId]},getWalletImage:wallet=>wallet?.image_url?wallet?.image_url:wallet?.image_id?_controllers_AssetController_js__WEBPACK_IMPORTED_MODULE_2__.j.state.walletImages[wallet.image_id]:void 0,getNetworkImage:network=>network?.assets?.imageUrl?network?.assets?.imageUrl:network?.assets?.imageId?_controllers_AssetController_js__WEBPACK_IMPORTED_MODULE_2__.j.state.networkImages[network.assets.imageId]:void 0,getNetworkImageById(imageId){if(imageId)return _controllers_AssetController_js__WEBPACK_IMPORTED_MODULE_2__.j.state.networkImages[imageId]},getConnectorImage:connector=>connector?.imageUrl?connector.imageUrl:connector?.imageId?_controllers_AssetController_js__WEBPACK_IMPORTED_MODULE_2__.j.state.connectorImages[connector.imageId]:void 0,getChainImage:chain=>_controllers_AssetController_js__WEBPACK_IMPORTED_MODULE_2__.j.state.networkImages[namespaceImageIds[chain]]}},"./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ConstantsUtil.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{oU:()=>ConstantsUtil});var process=__webpack_require__("./node_modules/process/browser.js");const SECURE_SITE=(void 0!==process&&void 0!==process.env?process.env.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",ConstantsUtil={FOUR_MINUTES_MS:24e4,TEN_SEC_MS:1e4,FIVE_SEC_MS:5e3,THREE_SEC_MS:3e3,ONE_SEC_MS:1e3,SECURE_SITE,SECURE_SITE_DASHBOARD:`${SECURE_SITE}/dashboard`,SECURE_SITE_FAVICON:`${SECURE_SITE}/images/favicon.png`,RESTRICTED_TIMEZONES:["ASIA/SHANGHAI","ASIA/URUMQI","ASIA/CHONGQING","ASIA/HARBIN","ASIA/KASHGAR","ASIA/MACAU","ASIA/HONG_KONG","ASIA/MACAO","ASIA/BEIJING","ASIA/HARBIN"],WC_COINBASE_PAY_SDK_CHAINS:["ethereum","arbitrum","polygon","berachain","avalanche-c-chain","optimism","celo","base"],WC_COINBASE_PAY_SDK_FALLBACK_CHAIN:"ethereum",WC_COINBASE_PAY_SDK_CHAIN_NAME_MAP:{Ethereum:"ethereum","Arbitrum One":"arbitrum",Polygon:"polygon",Berachain:"berachain",Avalanche:"avalanche-c-chain","OP Mainnet":"optimism",Celo:"celo",Base:"base"},WC_COINBASE_ONRAMP_APP_ID:"bf18c88d-495a-463b-b249-0b9d3656cf5e",SWAP_SUGGESTED_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP"],SWAP_POPULAR_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP","METAL","DAI","CHAMP","WOLF","SALE","BAL","BUSD","MUST","BTCpx","ROUTE","HEX","WELT","amDAI","VSQ","VISION","AURUM","pSP","SNX","VC","LINK","CHP","amUSDT","SPHERE","FOX","GIDDY","GFC","OMEN","OX_OLD","DE","WNT"],BALANCE_SUPPORTED_CHAINS:["eip155","solana"],SWAP_SUPPORTED_NETWORKS:["eip155:1","eip155:42161","eip155:10","eip155:324","eip155:8453","eip155:56","eip155:137","eip155:100","eip155:43114","eip155:250","eip155:8217","eip155:1313161554"],NAMES_SUPPORTED_CHAIN_NAMESPACES:["eip155"],ONRAMP_SUPPORTED_CHAIN_NAMESPACES:["eip155","solana"],ACTIVITY_ENABLED_CHAIN_NAMESPACES:["eip155","solana"],NATIVE_TOKEN_ADDRESS:{eip155:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",solana:"So11111111111111111111111111111111111111111",polkadot:"0x",bip122:"0x"},CONVERT_SLIPPAGE_TOLERANCE:1,CONNECT_LABELS:{MOBILE:"Open and continue in a new browser tab"},DEFAULT_FEATURES:{swaps:!0,onramp:!0,receive:!0,send:!0,email:!0,emailShowWallets:!0,socials:["google","x","discord","farcaster","github","apple","facebook"],connectorTypeOrder:["walletConnect","recent","injected","featured","custom","external","recommended"],history:!0,analytics:!0,allWallets:!0,legalCheckbox:!1,smartSessions:!1,collapseWallets:!1,walletFeaturesOrder:["onramp","swaps","receive","send"],connectMethodsOrder:void 0},DEFAULT_ACCOUNT_TYPES:{bip122:"payment",eip155:"smartAccount",polkadot:"eoa",solana:"eoa"},ADAPTER_TYPES:{UNIVERSAL:"universal",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5",BITCOIN:"bitcoin"}}},"./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/utils/CoreHelperUtil.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{w:()=>CoreHelperUtil});var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-common/dist/esm/src/utils/ConstantsUtil.js"),_ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ConstantsUtil.js"),_StorageUtil_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/utils/StorageUtil.js");const CoreHelperUtil={isMobile(){return!!this.isClient()&&Boolean(window?.matchMedia("(pointer:coarse)")?.matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent))},checkCaipNetwork:(network,networkName="")=>network?.caipNetworkId.toLocaleLowerCase().includes(networkName.toLowerCase()),isAndroid(){if(!this.isMobile())return!1;const ua=window?.navigator.userAgent.toLowerCase();return CoreHelperUtil.isMobile()&&ua.includes("android")},isIos(){if(!this.isMobile())return!1;const ua=window?.navigator.userAgent.toLowerCase();return ua.includes("iphone")||ua.includes("ipad")},isSafari(){if(!this.isClient())return!1;const ua=window?.navigator.userAgent.toLowerCase();return ua.includes("safari")},isClient:()=>"undefined"!=typeof window,isPairingExpired:expiry=>!expiry||expiry-Date.now()<=_ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_1__.oU.TEN_SEC_MS,isAllowedRetry:(lastRetry,differenceMs=_ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_1__.oU.ONE_SEC_MS)=>Date.now()-lastRetry>=differenceMs,copyToClopboard(text){navigator.clipboard.writeText(text)},isIframe(){try{return window?.self!==window?.top}catch(e){return!1}},getPairingExpiry:()=>Date.now()+_ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_1__.oU.FOUR_MINUTES_MS,getNetworkId:caipAddress=>caipAddress?.split(":")[1],getPlainAddress:caipAddress=>caipAddress?.split(":")[2],wait:async milliseconds=>new Promise(resolve=>{setTimeout(resolve,milliseconds)}),debounce(func,timeout=500){let timer;return(...args)=>{timer&&clearTimeout(timer),timer=setTimeout(function next(){func(...args)},timeout)}},isHttpUrl:url=>url.startsWith("http://")||url.startsWith("https://"),formatNativeUrl(appUrl,wcUri){if(CoreHelperUtil.isHttpUrl(appUrl))return this.formatUniversalUrl(appUrl,wcUri);let safeAppUrl=appUrl;safeAppUrl.includes("://")||(safeAppUrl=appUrl.replaceAll("/","").replaceAll(":",""),safeAppUrl=`${safeAppUrl}://`),safeAppUrl.endsWith("/")||(safeAppUrl=`${safeAppUrl}/`),this.isTelegram()&&this.isAndroid()&&(wcUri=encodeURIComponent(wcUri));return{redirect:`${safeAppUrl}wc?uri=${encodeURIComponent(wcUri)}`,href:safeAppUrl}},formatUniversalUrl(appUrl,wcUri){if(!CoreHelperUtil.isHttpUrl(appUrl))return this.formatNativeUrl(appUrl,wcUri);let safeAppUrl=appUrl;safeAppUrl.endsWith("/")||(safeAppUrl=`${safeAppUrl}/`);return{redirect:`${safeAppUrl}wc?uri=${encodeURIComponent(wcUri)}`,href:safeAppUrl}},getOpenTargetForPlatform(target){return"popupWindow"===target?target:this.isTelegram()?_StorageUtil_js__WEBPACK_IMPORTED_MODULE_2__.i.getTelegramSocialProvider()?"_top":"_blank":target},openHref(href,target,features){window?.open(href,this.getOpenTargetForPlatform(target),features||"noreferrer noopener")},returnOpenHref(href,target,features){return window?.open(href,this.getOpenTargetForPlatform(target),features||"noreferrer noopener")},isTelegram:()=>"undefined"!=typeof window&&(Boolean(window.TelegramWebviewProxy)||Boolean(window.Telegram)||Boolean(window.TelegramWebviewProxyProto)),async preloadImage(src){const imagePromise=new Promise((resolve,reject)=>{const image=new Image;image.onload=resolve,image.onerror=reject,image.crossOrigin="anonymous",image.src=src});return Promise.race([imagePromise,CoreHelperUtil.wait(2e3)])},formatBalance(balance,symbol){let formattedBalance="0.000";if("string"==typeof balance){const number=Number(balance);if(number){const formattedValue=Math.floor(1e3*number)/1e3;formattedValue&&(formattedBalance=formattedValue.toString())}}return`${formattedBalance}${symbol?` ${symbol}`:""}`},formatBalance2(balance,symbol){let formattedBalance;if("0"===balance)formattedBalance="0";else if("string"==typeof balance){const number=Number(balance);number&&(formattedBalance=number.toString().match(/^-?\d+(?:\.\d{0,3})?/u)?.[0])}return{value:formattedBalance??"0",rest:"0"===formattedBalance?"000":"",symbol}},getApiUrl:()=>_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.o.W3M_API_URL,getBlockchainApiUrl:()=>_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.o.BLOCKCHAIN_API_RPC_URL,getAnalyticsUrl:()=>_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.o.PULSE_API_URL,getUUID:()=>crypto?.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,c=>{const r=16*Math.random()|0;return("x"===c?r:3&r|8).toString(16)}),parseError:error=>"string"==typeof error?error:"string"==typeof error?.issues?.[0]?.message?error.issues[0].message:error instanceof Error?error.message:"Unknown error",sortRequestedNetworks(approvedIds,requestedNetworks=[]){const approvedIndexMap={};return requestedNetworks&&approvedIds&&(approvedIds.forEach((id,index)=>{approvedIndexMap[id]=index}),requestedNetworks.sort((a,b)=>{const indexA=approvedIndexMap[a.id],indexB=approvedIndexMap[b.id];return void 0!==indexA&&void 0!==indexB?indexA-indexB:void 0!==indexA?-1:void 0!==indexB?1:0})),requestedNetworks},calculateBalance(array){let sum=0;for(const item of array)sum+=item.value??0;return sum},formatTokenBalance(number){const roundedNumber=number.toFixed(2),[dollars,pennies]=roundedNumber.split(".");return{dollars,pennies}},isAddress(address,chain="eip155"){switch(chain){case"eip155":return!!/^(?:0x)?[0-9a-f]{40}$/iu.test(address)&&!(!/^(?:0x)?[0-9a-f]{40}$/iu.test(address)&&!/^(?:0x)?[0-9A-F]{40}$/iu.test(address));case"solana":return/[1-9A-HJ-NP-Za-km-z]{32,44}$/iu.test(address);default:return!1}},uniqueBy(arr,key){const set=new Set;return arr.filter(item=>{const keyValue=item[key];return!set.has(keyValue)&&(set.add(keyValue),!0)})},generateSdkVersion:(adapters,platform,version)=>`${platform}-${0===adapters.length?_ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_1__.oU.ADAPTER_TYPES.UNIVERSAL:adapters.map(adapter=>adapter.adapterType).join(",")}-${version}`,createAccount:(namespace,address,type,publicKey,path)=>({namespace,address,type,publicKey,path}),isCaipAddress(address){if("string"!=typeof address)return!1;const sections=address.split(":"),namespace=sections[0];return 3===sections.filter(Boolean).length&&namespace in _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.o.CHAIN_NAME_MAP},isMac(){const ua=window?.navigator.userAgent.toLowerCase();return ua.includes("macintosh")&&!ua.includes("safari")},formatTelegramSocialLoginUrl(url){const valueToInject=`--${encodeURIComponent(window?.location.href)}`;if("auth.magic.link"===new URL(url).host){const providerParam="provider_authorization_url=",providerUrl=url.substring(url.indexOf(providerParam)+providerParam.length),resultUrl=this.injectIntoUrl(decodeURIComponent(providerUrl),"state=",valueToInject);return url.replace(providerUrl,encodeURIComponent(resultUrl))}return this.injectIntoUrl(url,"state=",valueToInject)},injectIntoUrl(url,key,appendString){const keyIndex=url.indexOf(key);if(-1===keyIndex)throw new Error(`${key} parameter not found in the URL: ${url}`);const keyEndIndex=url.indexOf("&",keyIndex),keyLength=key.length,keyParamEnd=-1!==keyEndIndex?keyEndIndex:url.length;return url.substring(0,keyIndex+keyLength)+(url.substring(keyIndex+keyLength,keyParamEnd)+appendString)+url.substring(keyEndIndex)}}},"./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/utils/FetchUtil.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";async function fetchData(...args){const response=await fetch(...args);if(!response.ok){throw new Error(`HTTP status code: ${response.status}`,{cause:response})}return response}__webpack_require__.d(__webpack_exports__,{Z:()=>FetchUtil});class FetchUtil{constructor({baseUrl,clientId}){this.baseUrl=baseUrl,this.clientId=clientId}async get({headers,signal,cache,...args}){const url=this.createUrl(args);return(await fetchData(url,{method:"GET",headers,signal,cache})).json()}async getBlob({headers,signal,...args}){const url=this.createUrl(args);return(await fetchData(url,{method:"GET",headers,signal})).blob()}async post({body,headers,signal,...args}){const url=this.createUrl(args);return(await fetchData(url,{method:"POST",headers,body:body?JSON.stringify(body):void 0,signal})).json()}async put({body,headers,signal,...args}){const url=this.createUrl(args);return(await fetchData(url,{method:"PUT",headers,body:body?JSON.stringify(body):void 0,signal})).json()}async delete({body,headers,signal,...args}){const url=this.createUrl(args);return(await fetchData(url,{method:"DELETE",headers,body:body?JSON.stringify(body):void 0,signal})).json()}createUrl({path,params}){const url=new URL(path,this.baseUrl);return params&&Object.entries(params).forEach(([key,value])=>{value&&url.searchParams.append(key,value)}),this.clientId&&url.searchParams.append("clientId",this.clientId),url}}},"./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/utils/SIWXUtil.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{U:()=>SIWXUtil});__webpack_require__("./node_modules/@walletconnect/universal-provider/dist/index.es.js");var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-common/dist/esm/src/utils/ConstantsUtil.js"),_reown_appkit_wallet_utils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@reown/appkit-wallet/dist/esm/src/W3mFrameConstants.js"),_controllers_AccountController_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/AccountController.js"),_controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ChainController.js"),_controllers_ConnectionController_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectionController.js"),_controllers_ConnectorController_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectorController.js"),_controllers_EventsController_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/EventsController.js"),_controllers_ModalController_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ModalController.js"),_controllers_OptionsController_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/OptionsController.js"),_controllers_RouterController_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/RouterController.js"),_controllers_SnackController_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/SnackController.js"),_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/utils/CoreHelperUtil.js"),console=__webpack_require__("./node_modules/console-browserify/index.js");const SIWXUtil={getSIWX:()=>_controllers_OptionsController_js__WEBPACK_IMPORTED_MODULE_9__.H.state.siwx,async initializeIfEnabled(){const siwx=_controllers_OptionsController_js__WEBPACK_IMPORTED_MODULE_9__.H.state.siwx,caipAddress=_controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_4__.W.getActiveCaipAddress();if(!siwx||!caipAddress)return;const[namespace,chainId,address]=caipAddress.split(":");if(_controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_4__.W.checkIfSupportedNetwork(namespace))try{if((await siwx.getSessions(`${namespace}:${chainId}`,address)).length)return;await _controllers_ModalController_js__WEBPACK_IMPORTED_MODULE_8__.W.open({view:"SIWXSignMessage"})}catch(error){console.error("SIWXUtil:initializeIfEnabled",error),_controllers_EventsController_js__WEBPACK_IMPORTED_MODULE_7__.E.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:this.getSIWXEventProperties()}),await(_controllers_ConnectionController_js__WEBPACK_IMPORTED_MODULE_5__.x._getClient()?.disconnect().catch(console.error)),_controllers_RouterController_js__WEBPACK_IMPORTED_MODULE_10__.I.reset("Connect"),_controllers_SnackController_js__WEBPACK_IMPORTED_MODULE_11__.P.showError("A problem occurred while trying initialize authentication")}},async requestSignMessage(){const siwx=_controllers_OptionsController_js__WEBPACK_IMPORTED_MODULE_9__.H.state.siwx,address=_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_12__.w.getPlainAddress(_controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_4__.W.getActiveCaipAddress()),network=_controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_4__.W.getActiveCaipNetwork(),client=_controllers_ConnectionController_js__WEBPACK_IMPORTED_MODULE_5__.x._getClient();if(!siwx)throw new Error("SIWX is not enabled");if(!address)throw new Error("No ActiveCaipAddress found");if(!network)throw new Error("No ActiveCaipNetwork or client found");if(!client)throw new Error("No ConnectionController client found");try{const siwxMessage=await siwx.createMessage({chainId:network.caipNetworkId,accountAddress:address}),message=siwxMessage.toString();_controllers_ConnectorController_js__WEBPACK_IMPORTED_MODULE_6__.a.getConnectorId(network.chainNamespace)===_reown_appkit_common__WEBPACK_IMPORTED_MODULE_1__.o.CONNECTOR_ID.AUTH&&_controllers_RouterController_js__WEBPACK_IMPORTED_MODULE_10__.I.pushTransactionStack({view:null,goBack:!1,replace:!0});const signature=await client.signMessage(message);await siwx.addSession({data:siwxMessage,message,signature}),_controllers_ModalController_js__WEBPACK_IMPORTED_MODULE_8__.W.close(),_controllers_EventsController_js__WEBPACK_IMPORTED_MODULE_7__.E.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:this.getSIWXEventProperties()})}catch(error){const properties=this.getSIWXEventProperties();_controllers_ModalController_js__WEBPACK_IMPORTED_MODULE_8__.W.state.open&&"ApproveTransaction"!==_controllers_RouterController_js__WEBPACK_IMPORTED_MODULE_10__.I.state.view||await _controllers_ModalController_js__WEBPACK_IMPORTED_MODULE_8__.W.open({view:"SIWXSignMessage"}),properties.isSmartAccount?_controllers_SnackController_js__WEBPACK_IMPORTED_MODULE_11__.P.showError("This application might not support Smart Accounts"):_controllers_SnackController_js__WEBPACK_IMPORTED_MODULE_11__.P.showError("Signature declined"),_controllers_EventsController_js__WEBPACK_IMPORTED_MODULE_7__.E.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties}),console.error("SWIXUtil:requestSignMessage",error)}},async cancelSignMessage(){try{const siwx=this.getSIWX(),isRequired=siwx?.getRequired?.();isRequired?await _controllers_ConnectionController_js__WEBPACK_IMPORTED_MODULE_5__.x.disconnect():_controllers_ModalController_js__WEBPACK_IMPORTED_MODULE_8__.W.close(),_controllers_RouterController_js__WEBPACK_IMPORTED_MODULE_10__.I.reset("Connect"),_controllers_EventsController_js__WEBPACK_IMPORTED_MODULE_7__.E.sendEvent({event:"CLICK_CANCEL_SIWX",type:"track",properties:this.getSIWXEventProperties()})}catch(error){console.error("SIWXUtil:cancelSignMessage",error)}},async getSessions(){const siwx=_controllers_OptionsController_js__WEBPACK_IMPORTED_MODULE_9__.H.state.siwx,address=_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_12__.w.getPlainAddress(_controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_4__.W.getActiveCaipAddress()),network=_controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_4__.W.getActiveCaipNetwork();return siwx&&address&&network?siwx.getSessions(network.caipNetworkId,address):[]},async isSIWXCloseDisabled(){const siwx=this.getSIWX();if(siwx){const isApproveSignScreen="ApproveTransaction"===_controllers_RouterController_js__WEBPACK_IMPORTED_MODULE_10__.I.state.view,isSiwxSignMessage="SIWXSignMessage"===_controllers_RouterController_js__WEBPACK_IMPORTED_MODULE_10__.I.state.view;if(isApproveSignScreen||isSiwxSignMessage)return siwx.getRequired?.()&&0===(await this.getSessions()).length}return!1},async universalProviderAuthenticate({universalProvider,chains,methods}){const siwx=SIWXUtil.getSIWX(),namespaces=new Set(chains.map(chain=>chain.split(":")[0]));if(!siwx||1!==namespaces.size||!namespaces.has("eip155"))return!1;const siwxMessage=await siwx.createMessage({chainId:_controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_4__.W.getActiveCaipNetwork()?.caipNetworkId||"",accountAddress:""}),result=await universalProvider.authenticate({nonce:siwxMessage.nonce,domain:siwxMessage.domain,uri:siwxMessage.uri,exp:siwxMessage.expirationTime,iat:siwxMessage.issuedAt,nbf:siwxMessage.notBefore,requestId:siwxMessage.requestId,version:siwxMessage.version,resources:siwxMessage.resources,statement:siwxMessage.statement,chainId:siwxMessage.chainId,methods,chains:[siwxMessage.chainId,...chains.filter(chain=>chain!==siwxMessage.chainId)]});if(_controllers_SnackController_js__WEBPACK_IMPORTED_MODULE_11__.P.showLoading("Authenticating...",{autoClose:!1}),_controllers_AccountController_js__WEBPACK_IMPORTED_MODULE_3__.U.setConnectedWalletInfo({...result.session.peer.metadata,name:result.session.peer.metadata.name,icon:result.session.peer.metadata.icons?.[0],type:"WALLET_CONNECT"},Array.from(namespaces)[0]),result?.auths?.length){const sessions=result.auths.map(cacao=>{const message=universalProvider.client.formatAuthMessage({request:cacao.p,iss:cacao.p.iss});return{data:{...cacao.p,accountAddress:cacao.p.iss.split(":").slice(-1).join(""),chainId:cacao.p.iss.split(":").slice(2,4).join(":"),uri:cacao.p.aud,version:cacao.p.version||siwxMessage.version,expirationTime:cacao.p.exp,issuedAt:cacao.p.iat,notBefore:cacao.p.nbf},message,signature:cacao.s.s,cacao}});try{await siwx.setSessions(sessions),_controllers_EventsController_js__WEBPACK_IMPORTED_MODULE_7__.E.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:SIWXUtil.getSIWXEventProperties()})}catch(error){throw console.error("SIWX:universalProviderAuth - failed to set sessions",error),_controllers_EventsController_js__WEBPACK_IMPORTED_MODULE_7__.E.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:SIWXUtil.getSIWXEventProperties()}),await universalProvider.disconnect().catch(console.error),error}finally{_controllers_SnackController_js__WEBPACK_IMPORTED_MODULE_11__.P.hide()}}return!0},getSIWXEventProperties:()=>({network:_controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_4__.W.state.activeCaipNetwork?.caipNetworkId||"",isSmartAccount:_controllers_AccountController_js__WEBPACK_IMPORTED_MODULE_3__.U.state.preferredAccountType===_reown_appkit_wallet_utils__WEBPACK_IMPORTED_MODULE_2__.Vl.ACCOUNT_TYPES.SMART_ACCOUNT}),async clearSessions(){const siwx=this.getSIWX();siwx&&await siwx.setSessions([])}}},"./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-controllers/dist/esm/src/utils/StorageUtil.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{i:()=>StorageUtil});var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/node_modules/@reown/appkit-common/dist/esm/src/utils/SafeLocalStorage.js"),console=__webpack_require__("./node_modules/console-browserify/index.js");const StorageUtil={cacheExpiry:{portfolio:3e4,nativeBalance:3e4,ens:3e5,identity:3e5},isCacheExpired:(timestamp,cacheExpiry)=>Date.now()-timestamp>cacheExpiry,getActiveNetworkProps(){const namespace=StorageUtil.getActiveNamespace(),caipNetworkId=StorageUtil.getActiveCaipNetworkId(),stringChainId=caipNetworkId?caipNetworkId.split(":")[1]:void 0;return{namespace,caipNetworkId,chainId:stringChainId?isNaN(Number(stringChainId))?stringChainId:Number(stringChainId):void 0}},setWalletConnectDeepLink({name,href}){try{_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.Ud.setItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.Ws.DEEPLINK_CHOICE,JSON.stringify({href,name}))}catch{console.info("Unable to set WalletConnect deep link")}},getWalletConnectDeepLink(){try{const deepLink=_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.Ud.getItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.Ws.DEEPLINK_CHOICE);if(deepLink)return JSON.parse(deepLink)}catch{console.info("Unable to get WalletConnect deep link")}},deleteWalletConnectDeepLink(){try{_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.Ud.removeItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.Ws.DEEPLINK_CHOICE)}catch{console.info("Unable to delete WalletConnect deep link")}},setActiveNamespace(namespace){try{_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.Ud.setItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.Ws.ACTIVE_NAMESPACE,namespace)}catch{console.info("Unable to set active namespace")}},setActiveCaipNetworkId(caipNetworkId){try{_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.Ud.setItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.Ws.ACTIVE_CAIP_NETWORK_ID,caipNetworkId),StorageUtil.setActiveNamespace(caipNetworkId.split(":")[0])}catch{console.info("Unable to set active caip network id")}},getActiveCaipNetworkId(){try{return _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.Ud.getItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.Ws.ACTIVE_CAIP_NETWORK_ID)}catch{return void console.info("Unable to get active caip network id")}},deleteActiveCaipNetworkId(){try{_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.Ud.removeItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.Ws.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to delete active caip network id")}},deleteConnectedConnectorId(namespace){try{const key=(0,_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.T8)(namespace);_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.Ud.removeItem(key)}catch{console.info("Unable to delete connected connector id")}},setAppKitRecent(wallet){try{const recentWallets=StorageUtil.getRecentWallets();recentWallets.find(w=>w.id===wallet.id)||(recentWallets.unshift(wallet),recentWallets.length>2&&recentWallets.pop(),_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.Ud.setItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.Ws.RECENT_WALLETS,JSON.stringify(recentWallets)))}catch{console.info("Unable to set AppKit recent")}},getRecentWallets(){try{const recent=_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.Ud.getItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.Ws.RECENT_WALLETS);return recent?JSON.parse(recent):[]}catch{console.info("Unable to get AppKit recent")}return[]},setConnectedConnectorId(namespace,connectorId){try{const key=(0,_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.T8)(namespace);_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.Ud.setItem(key,connectorId)}catch{console.info("Unable to set Connected Connector Id")}},getActiveNamespace(){try{return _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.Ud.getItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.Ws.ACTIVE_NAMESPACE)}catch{console.info("Unable to get active namespace")}},getConnectedConnectorId(namespace){if(namespace)try{const key=(0,_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.T8)(namespace);return _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.Ud.getItem(key)}catch(e){console.info("Unable to get connected connector id in namespace ",namespace)}},setConnectedSocialProvider(socialProvider){try{_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.Ud.setItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.Ws.CONNECTED_SOCIAL,socialProvider)}catch{console.info("Unable to set connected social provider")}},getConnectedSocialProvider(){try{return _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.Ud.getItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.Ws.CONNECTED_SOCIAL)}catch{console.info("Unable to get connected social provider")}},deleteConnectedSocialProvider(){try{_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.Ud.removeItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.Ws.CONNECTED_SOCIAL)}catch{console.info("Unable to delete connected social provider")}},getConnectedSocialUsername(){try{return _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.Ud.getItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.Ws.CONNECTED_SOCIAL_USERNAME)}catch{console.info("Unable to get connected social username")}},getStoredActiveCaipNetworkId(){const storedCaipNetworkId=_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.Ud.getItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.Ws.ACTIVE_CAIP_NETWORK_ID),networkId=storedCaipNetworkId?.split(":")?.[1];return networkId},setConnectionStatus(status){try{_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.Ud.setItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.Ws.CONNECTION_STATUS,status)}catch{console.info("Unable to set connection status")}},getConnectionStatus(){try{return _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.Ud.getItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.Ws.CONNECTION_STATUS)}catch{return}},getConnectedNamespaces(){try{const namespaces=_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.Ud.getItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.Ws.CONNECTED_NAMESPACES);return namespaces?.length?namespaces.split(","):[]}catch{return[]}},setConnectedNamespaces(namespaces){try{const uniqueNamespaces=Array.from(new Set(namespaces));_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.Ud.setItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.Ws.CONNECTED_NAMESPACES,uniqueNamespaces.join(","))}catch{console.info("Unable to set namespaces in storage")}},addConnectedNamespace(namespace){try{const namespaces=StorageUtil.getConnectedNamespaces();namespaces.includes(namespace)||(namespaces.push(namespace),StorageUtil.setConnectedNamespaces(namespaces))}catch{console.info("Unable to add connected namespace")}},removeConnectedNamespace(namespace){try{const namespaces=StorageUtil.getConnectedNamespaces(),index=namespaces.indexOf(namespace);index>-1&&(namespaces.splice(index,1),StorageUtil.setConnectedNamespaces(namespaces))}catch{console.info("Unable to remove connected namespace")}},getTelegramSocialProvider(){try{return _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.Ud.getItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.Ws.TELEGRAM_SOCIAL_PROVIDER)}catch{return console.info("Unable to get telegram social provider"),null}},setTelegramSocialProvider(socialProvider){try{_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.Ud.setItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.Ws.TELEGRAM_SOCIAL_PROVIDER,socialProvider)}catch{console.info("Unable to set telegram social provider")}},removeTelegramSocialProvider(){try{_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.Ud.removeItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.Ws.TELEGRAM_SOCIAL_PROVIDER)}catch{console.info("Unable to remove telegram social provider")}},getBalanceCache(){let cache={};try{const result=_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.Ud.getItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.Ws.PORTFOLIO_CACHE);cache=result?JSON.parse(result):{}}catch{console.info("Unable to get balance cache")}return cache},removeAddressFromBalanceCache(caipAddress){try{const cache=StorageUtil.getBalanceCache();_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.Ud.setItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.Ws.PORTFOLIO_CACHE,JSON.stringify({...cache,[caipAddress]:void 0}))}catch{console.info("Unable to remove address from balance cache",caipAddress)}},getBalanceCacheForCaipAddress(caipAddress){try{const balanceCache=StorageUtil.getBalanceCache()[caipAddress];if(balanceCache&&!this.isCacheExpired(balanceCache.timestamp,this.cacheExpiry.portfolio))return balanceCache.balance;StorageUtil.removeAddressFromBalanceCache(caipAddress)}catch{console.info("Unable to get balance cache for address",caipAddress)}},updateBalanceCache(params){try{const cache=StorageUtil.getBalanceCache();cache[params.caipAddress]=params,_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.Ud.setItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.Ws.PORTFOLIO_CACHE,JSON.stringify(cache))}catch{console.info("Unable to update balance cache",params)}},getNativeBalanceCache(){let cache={};try{const result=_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.Ud.getItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.Ws.NATIVE_BALANCE_CACHE);cache=result?JSON.parse(result):{}}catch{console.info("Unable to get balance cache")}return cache},removeAddressFromNativeBalanceCache(caipAddress){try{const cache=StorageUtil.getBalanceCache();_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.Ud.setItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.Ws.NATIVE_BALANCE_CACHE,JSON.stringify({...cache,[caipAddress]:void 0}))}catch{console.info("Unable to remove address from balance cache",caipAddress)}},getNativeBalanceCacheForCaipAddress(caipAddress){try{const nativeBalanceCache=StorageUtil.getNativeBalanceCache()[caipAddress];if(nativeBalanceCache&&!this.isCacheExpired(nativeBalanceCache.timestamp,this.cacheExpiry.nativeBalance))return nativeBalanceCache;console.info("Discarding cache for address",caipAddress),StorageUtil.removeAddressFromBalanceCache(caipAddress)}catch{console.info("Unable to get balance cache for address",caipAddress)}},updateNativeBalanceCache(params){try{const cache=StorageUtil.getNativeBalanceCache();cache[params.caipAddress]=params,_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.Ud.setItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.Ws.NATIVE_BALANCE_CACHE,JSON.stringify(cache))}catch{console.info("Unable to update balance cache",params)}},getEnsCache(){let cache={};try{const result=_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.Ud.getItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.Ws.ENS_CACHE);cache=result?JSON.parse(result):{}}catch{console.info("Unable to get ens name cache")}return cache},getEnsFromCacheForAddress(address){try{const ensCache=StorageUtil.getEnsCache()[address];if(ensCache&&!this.isCacheExpired(ensCache.timestamp,this.cacheExpiry.ens))return ensCache.ens;StorageUtil.removeEnsFromCache(address)}catch{console.info("Unable to get ens name from cache",address)}},updateEnsCache(params){try{const cache=StorageUtil.getEnsCache();cache[params.address]=params,_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.Ud.setItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.Ws.ENS_CACHE,JSON.stringify(cache))}catch{console.info("Unable to update ens name cache",params)}},removeEnsFromCache(address){try{const cache=StorageUtil.getEnsCache();_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.Ud.setItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.Ws.ENS_CACHE,JSON.stringify({...cache,[address]:void 0}))}catch{console.info("Unable to remove ens name from cache",address)}},getIdentityCache(){let cache={};try{const result=_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.Ud.getItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.Ws.IDENTITY_CACHE);cache=result?JSON.parse(result):{}}catch{console.info("Unable to get identity cache")}return cache},getIdentityFromCacheForAddress(address){try{const identityCache=StorageUtil.getIdentityCache()[address];if(identityCache&&!this.isCacheExpired(identityCache.timestamp,this.cacheExpiry.identity))return identityCache.identity;StorageUtil.removeIdentityFromCache(address)}catch{console.info("Unable to get identity from cache",address)}},updateIdentityCache(params){try{const cache=StorageUtil.getIdentityCache();cache[params.address]={identity:params.identity,timestamp:params.timestamp},_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.Ud.setItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.Ws.IDENTITY_CACHE,JSON.stringify(cache))}catch{console.info("Unable to update identity cache",params)}},removeIdentityFromCache(address){try{const cache=StorageUtil.getIdentityCache();_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.Ud.setItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.Ws.IDENTITY_CACHE,JSON.stringify({...cache,[address]:void 0}))}catch{console.info("Unable to remove identity from cache",address)}},clearAddressCache(){try{_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.Ud.removeItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.Ws.PORTFOLIO_CACHE),_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.Ud.removeItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.Ws.NATIVE_BALANCE_CACHE),_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.Ud.removeItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.Ws.ENS_CACHE),_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.Ud.removeItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.Ws.IDENTITY_CACHE)}catch{console.info("Unable to clear address cache")}}}},"./node_modules/@reown/appkit-wallet/dist/esm/src/W3mFrameConstants.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Vl:()=>W3mFrameRpcConstants});var process=__webpack_require__("./node_modules/process/browser.js");void 0!==process&&void 0!==process.env&&process.env.NEXT_PUBLIC_SECURE_SITE_SDK_URL,void 0!==process&&void 0!==process.env&&process.env.NEXT_PUBLIC_DEFAULT_LOG_LEVEL,void 0!==process&&void 0!==process.env&&process.env.NEXT_PUBLIC_SECURE_SITE_SDK_VERSION;const W3mFrameRpcConstants={SAFE_RPC_METHODS:["eth_accounts","eth_blockNumber","eth_call","eth_chainId","eth_estimateGas","eth_feeHistory","eth_gasPrice","eth_getAccount","eth_getBalance","eth_getBlockByHash","eth_getBlockByNumber","eth_getBlockReceipts","eth_getBlockTransactionCountByHash","eth_getBlockTransactionCountByNumber","eth_getCode","eth_getFilterChanges","eth_getFilterLogs","eth_getLogs","eth_getProof","eth_getStorageAt","eth_getTransactionByBlockHashAndIndex","eth_getTransactionByBlockNumberAndIndex","eth_getTransactionByHash","eth_getTransactionCount","eth_getTransactionReceipt","eth_getUncleCountByBlockHash","eth_getUncleCountByBlockNumber","eth_maxPriorityFeePerGas","eth_newBlockFilter","eth_newFilter","eth_newPendingTransactionFilter","eth_sendRawTransaction","eth_syncing","eth_uninstallFilter","wallet_getCapabilities","wallet_getCallsStatus","eth_getUserOperationReceipt","eth_estimateUserOperationGas","eth_getUserOperationByHash","eth_supportedEntryPoints","wallet_getAssets"],NOT_SAFE_RPC_METHODS:["personal_sign","eth_signTypedData_v4","eth_sendTransaction","solana_signMessage","solana_signTransaction","solana_signAllTransactions","solana_signAndSendTransaction","wallet_sendCalls","wallet_grantPermissions","wallet_revokePermissions","eth_sendUserOperation"],GET_CHAIN_ID:"eth_chainId",RPC_METHOD_NOT_ALLOWED_MESSAGE:"Requested RPC call is not allowed",RPC_METHOD_NOT_ALLOWED_UI_MESSAGE:"Action not allowed",ACCOUNT_TYPES:{EOA:"eoa",SMART_ACCOUNT:"smartAccount"}}},"./node_modules/@solana-mobile/mobile-wallet-adapter-protocol/lib/esm/index.browser.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{SolanaCloneAuthorization:()=>SolanaCloneAuthorization,SolanaMobileWalletAdapterError:()=>SolanaMobileWalletAdapterError,SolanaMobileWalletAdapterErrorCode:()=>SolanaMobileWalletAdapterErrorCode,SolanaMobileWalletAdapterProtocolError:()=>SolanaMobileWalletAdapterProtocolError,SolanaMobileWalletAdapterProtocolErrorCode:()=>SolanaMobileWalletAdapterProtocolErrorCode,SolanaSignInWithSolana:()=>SolanaSignInWithSolana,SolanaSignTransactions:()=>SolanaSignTransactions,startRemoteScenario:()=>startRemoteScenario,transact:()=>transact});new RegExp("^(?<domain>[^\\n]+?) wants you to sign in with your Solana account:\\n(?<address>[^\\n]+)(?:\\n|$)(?:\\n(?<statement>[\\S\\s]*?)(?:\\n|$))??(?:\\nURI: (?<uri>[^\\n]+))?(?:\\nVersion: (?<version>[^\\n]+))?(?:\\nChain ID: (?<chainId>[^\\n]+))?(?:\\nNonce: (?<nonce>[^\\n]+))?(?:\\nIssued At: (?<issuedAt>[^\\n]+))?(?:\\nExpiration Time: (?<expirationTime>[^\\n]+))?(?:\\nNot Before: (?<notBefore>[^\\n]+))?(?:\\nRequest ID: (?<requestId>[^\\n]+))?(?:\\nResources:(?<resources>(?:\\n- [^\\n]+)*))?\\n*$");function createSignInMessageText(input){let message=`${input.domain} wants you to sign in with your Solana account:\n`;message+=`${input.address}`,input.statement&&(message+=`\n\n${input.statement}`);const fields=[];if(input.uri&&fields.push(`URI: ${input.uri}`),input.version&&fields.push(`Version: ${input.version}`),input.chainId&&fields.push(`Chain ID: ${input.chainId}`),input.nonce&&fields.push(`Nonce: ${input.nonce}`),input.issuedAt&&fields.push(`Issued At: ${input.issuedAt}`),input.expirationTime&&fields.push(`Expiration Time: ${input.expirationTime}`),input.notBefore&&fields.push(`Not Before: ${input.notBefore}`),input.requestId&&fields.push(`Request ID: ${input.requestId}`),input.resources){fields.push("Resources:");for(const resource of input.resources)fields.push(`- ${resource}`)}return fields.length&&(message+=`\n\n${fields.join("\n")}`),message}var console=__webpack_require__("./node_modules/console-browserify/index.js");const SolanaMobileWalletAdapterErrorCode={ERROR_ASSOCIATION_PORT_OUT_OF_RANGE:"ERROR_ASSOCIATION_PORT_OUT_OF_RANGE",ERROR_REFLECTOR_ID_OUT_OF_RANGE:"ERROR_REFLECTOR_ID_OUT_OF_RANGE",ERROR_FORBIDDEN_WALLET_BASE_URL:"ERROR_FORBIDDEN_WALLET_BASE_URL",ERROR_SECURE_CONTEXT_REQUIRED:"ERROR_SECURE_CONTEXT_REQUIRED",ERROR_SESSION_CLOSED:"ERROR_SESSION_CLOSED",ERROR_SESSION_TIMEOUT:"ERROR_SESSION_TIMEOUT",ERROR_WALLET_NOT_FOUND:"ERROR_WALLET_NOT_FOUND",ERROR_INVALID_PROTOCOL_VERSION:"ERROR_INVALID_PROTOCOL_VERSION",ERROR_BROWSER_NOT_SUPPORTED:"ERROR_BROWSER_NOT_SUPPORTED"};class SolanaMobileWalletAdapterError extends Error{constructor(...args){const[code,message,data]=args;super(message),this.code=code,this.data=data,this.name="SolanaMobileWalletAdapterError"}}const SolanaMobileWalletAdapterProtocolErrorCode={ERROR_AUTHORIZATION_FAILED:-1,ERROR_INVALID_PAYLOADS:-2,ERROR_NOT_SIGNED:-3,ERROR_NOT_SUBMITTED:-4,ERROR_TOO_MANY_PAYLOADS:-5,ERROR_ATTEST_ORIGIN_ANDROID:-100};class SolanaMobileWalletAdapterProtocolError extends Error{constructor(...args){const[jsonRpcMessageId,code,message,data]=args;super(message),this.code=code,this.data=data,this.jsonRpcMessageId=jsonRpcMessageId,this.name="SolanaMobileWalletAdapterProtocolError"}}function __awaiter(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})}function fromUint8Array(byteArray,urlsafe){const base64=window.btoa(String.fromCharCode.call(null,...byteArray));return urlsafe?base64.replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,""):base64}function createHelloReq(ecdhPublicKey,associationKeypairPrivateKey){return __awaiter(this,void 0,void 0,function*(){const publicKeyBuffer=yield crypto.subtle.exportKey("raw",ecdhPublicKey),signatureBuffer=yield crypto.subtle.sign({hash:"SHA-256",name:"ECDSA"},associationKeypairPrivateKey,publicKeyBuffer),response=new Uint8Array(publicKeyBuffer.byteLength+signatureBuffer.byteLength);return response.set(new Uint8Array(publicKeyBuffer),0),response.set(new Uint8Array(signatureBuffer),publicKeyBuffer.byteLength),response})}function createSIWSMessageBase64(payload){return function encode(input){return window.btoa(input)}(function createSIWSMessage(payload){return createSignInMessageText(payload)}(payload))}const SolanaSignTransactions="solana:signTransactions",SolanaCloneAuthorization="solana:cloneAuthorization",SolanaSignInWithSolana="solana:signInWithSolana";function createMobileWalletProxy(protocolVersion,protocolRequestHandler){return new Proxy({},{get:(target,p)=>"then"===p?null:(null==target[p]&&(target[p]=function(inputParams){return __awaiter(this,void 0,void 0,function*(){const{method,params}=function handleMobileWalletRequest(methodName,methodParams,protocolVersion){let params=methodParams,method=methodName.toString().replace(/[A-Z]/g,letter=>`_${letter.toLowerCase()}`).toLowerCase();switch(methodName){case"authorize":{let{chain}=params;if("legacy"===protocolVersion){switch(chain){case"solana:testnet":chain="testnet";break;case"solana:devnet":chain="devnet";break;case"solana:mainnet":chain="mainnet-beta";break;default:chain=params.cluster}params.cluster=chain}else{switch(chain){case"testnet":case"devnet":chain=`solana:${chain}`;break;case"mainnet-beta":chain="solana:mainnet"}params.chain=chain}}case"reauthorize":{const{auth_token,identity}=params;if(auth_token)if("legacy"===protocolVersion)method="reauthorize",params={auth_token,identity};else method="authorize";break}}return{method,params}}(p,inputParams,protocolVersion),result=yield protocolRequestHandler(method,params);return"authorize"===method&&params.sign_in_payload&&!result.sign_in_result&&(result.sign_in_result=yield function signInFallback(signInPayload,authorizationResult,protocolRequestHandler){var _a;return __awaiter(this,void 0,void 0,function*(){const domain=null!==(_a=signInPayload.domain)&&void 0!==_a?_a:window.location.host,address=authorizationResult.accounts[0].address,siwsMessage=createSIWSMessageBase64(Object.assign(Object.assign({},signInPayload),{domain,address}));return{address,signed_message:siwsMessage,signature:(yield protocolRequestHandler("sign_messages",{addresses:[address],payloads:[siwsMessage]})).signed_payloads[0].slice(siwsMessage.length)}})}(params.sign_in_payload,result,protocolRequestHandler)),function handleMobileWalletResponse(method,response,protocolVersion){if("getCapabilities"===method){const capabilities=response;switch(protocolVersion){case"legacy":{const features=[SolanaSignTransactions];return!0===capabilities.supports_clone_authorization&&features.push(SolanaCloneAuthorization),Object.assign(Object.assign({},capabilities),{features})}case"v1":return Object.assign(Object.assign({},capabilities),{supports_sign_and_send_transactions:!0,supports_clone_authorization:capabilities.features.includes(SolanaCloneAuthorization)})}}return response}(p,result,protocolVersion)})}),target[p]),defineProperty:()=>!1,deleteProperty:()=>!1})}const SEQUENCE_NUMBER_BYTES=4;const INITIALIZATION_VECTOR_BYTES=12,ENCODED_PUBLIC_KEY_LENGTH_BYTES=65;function encryptMessage(plaintext,sequenceNumber,sharedSecret){return __awaiter(this,void 0,void 0,function*(){const sequenceNumberVector=function createSequenceNumberVector(sequenceNumber){if(sequenceNumber>=4294967296)throw new Error("Outbound sequence number overflow. The maximum sequence number is 32-bytes.");const byteArray=new ArrayBuffer(SEQUENCE_NUMBER_BYTES);return new DataView(byteArray).setUint32(0,sequenceNumber,!1),new Uint8Array(byteArray)}(sequenceNumber),initializationVector=new Uint8Array(INITIALIZATION_VECTOR_BYTES);crypto.getRandomValues(initializationVector);const ciphertext=yield crypto.subtle.encrypt(getAlgorithmParams(sequenceNumberVector,initializationVector),sharedSecret,(new TextEncoder).encode(plaintext)),response=new Uint8Array(sequenceNumberVector.byteLength+initializationVector.byteLength+ciphertext.byteLength);return response.set(new Uint8Array(sequenceNumberVector),0),response.set(new Uint8Array(initializationVector),sequenceNumberVector.byteLength),response.set(new Uint8Array(ciphertext),sequenceNumberVector.byteLength+initializationVector.byteLength),response})}function decryptMessage(message,sharedSecret){return __awaiter(this,void 0,void 0,function*(){const sequenceNumberVector=message.slice(0,SEQUENCE_NUMBER_BYTES),initializationVector=message.slice(SEQUENCE_NUMBER_BYTES,SEQUENCE_NUMBER_BYTES+INITIALIZATION_VECTOR_BYTES),ciphertext=message.slice(SEQUENCE_NUMBER_BYTES+INITIALIZATION_VECTOR_BYTES),plaintextBuffer=yield crypto.subtle.decrypt(getAlgorithmParams(sequenceNumberVector,initializationVector),sharedSecret,ciphertext);return function getUtf8Decoder(){void 0===_utf8Decoder&&(_utf8Decoder=new TextDecoder("utf-8"));return _utf8Decoder}().decode(plaintextBuffer)})}function getAlgorithmParams(sequenceNumber,initializationVector){return{additionalData:sequenceNumber,iv:initializationVector,name:"AES-GCM",tagLength:128}}let _utf8Decoder;function generateAssociationKeypair(){return __awaiter(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!1,["sign"])})}function generateECDHKeypair(){return __awaiter(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!1,["deriveKey","deriveBits"])})}function arrayBufferToBase64String(buffer){let binary="";const bytes=new Uint8Array(buffer),len=bytes.byteLength;for(let ii=0;ii<len;ii++)binary+=String.fromCharCode(bytes[ii]);return window.btoa(binary)}function assertAssociationPort(port){if(port<49152||port>65535)throw new SolanaMobileWalletAdapterError(SolanaMobileWalletAdapterErrorCode.ERROR_ASSOCIATION_PORT_OUT_OF_RANGE,`Association port number must be between 49152 and 65535. ${port} given.`,{port});return port}function getStringWithURLUnsafeCharactersReplaced(unsafeBase64EncodedString){return unsafeBase64EncodedString.replace(/[/+=]/g,m=>({"/":"_","+":"-","=":"."}[m]))}const INTENT_NAME="solana-wallet";function getPathParts(pathString){return pathString.replace(/(^\/+|\/+$)/g,"").split("/")}function getIntentURL(methodPathname,intentUrlBase){let baseUrl=null;if(intentUrlBase){try{baseUrl=new URL(intentUrlBase)}catch(_a){}if("https:"!==(null==baseUrl?void 0:baseUrl.protocol))throw new SolanaMobileWalletAdapterError(SolanaMobileWalletAdapterErrorCode.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}baseUrl||(baseUrl=new URL(`${INTENT_NAME}:/`));const pathname=methodPathname.startsWith("/")?methodPathname:[...getPathParts(baseUrl.pathname),...getPathParts(methodPathname)].join("/");return new URL(pathname,baseUrl)}function encryptJsonRpcMessage(jsonRpcMessage,sharedSecret){return __awaiter(this,void 0,void 0,function*(){return encryptMessage(JSON.stringify(jsonRpcMessage),jsonRpcMessage.id,sharedSecret)})}function decryptJsonRpcMessage(message,sharedSecret){return __awaiter(this,void 0,void 0,function*(){const plaintext=yield decryptMessage(message,sharedSecret),jsonRpcMessage=JSON.parse(plaintext);if(Object.hasOwnProperty.call(jsonRpcMessage,"error"))throw new SolanaMobileWalletAdapterProtocolError(jsonRpcMessage.id,jsonRpcMessage.error.code,jsonRpcMessage.error.message);return jsonRpcMessage})}function parseHelloRsp(payloadBuffer,associationPublicKey,ecdhPrivateKey){return __awaiter(this,void 0,void 0,function*(){const[associationPublicKeyBuffer,walletPublicKey]=yield Promise.all([crypto.subtle.exportKey("raw",associationPublicKey),crypto.subtle.importKey("raw",payloadBuffer.slice(0,ENCODED_PUBLIC_KEY_LENGTH_BYTES),{name:"ECDH",namedCurve:"P-256"},!1,[])]),sharedSecret=yield crypto.subtle.deriveBits({name:"ECDH",public:walletPublicKey},ecdhPrivateKey,256),ecdhSecretKey=yield crypto.subtle.importKey("raw",sharedSecret,"HKDF",!1,["deriveKey"]);return yield crypto.subtle.deriveKey({name:"HKDF",hash:"SHA-256",salt:new Uint8Array(associationPublicKeyBuffer),info:new Uint8Array},ecdhSecretKey,{name:"AES-GCM",length:128},!1,["encrypt","decrypt"])})}function parseSessionProps(message,sharedSecret){return __awaiter(this,void 0,void 0,function*(){const plaintext=yield decryptMessage(message,sharedSecret),jsonProperties=JSON.parse(plaintext);let protocolVersion="legacy";if(Object.hasOwnProperty.call(jsonProperties,"v"))switch(jsonProperties.v){case 1:case"1":case"v1":protocolVersion="v1";break;case"legacy":protocolVersion="legacy";break;default:throw new SolanaMobileWalletAdapterError(SolanaMobileWalletAdapterErrorCode.ERROR_INVALID_PROTOCOL_VERSION,`Unknown/unsupported protocol version: ${jsonProperties.v}`)}return{protocol_version:protocolVersion}})}const Browser={Firefox:0,Other:1};let _frame=null;function launchAssociation(associationUrl){return __awaiter(this,void 0,void 0,function*(){if("https:"===associationUrl.protocol)window.location.assign(associationUrl);else try{const browser=function getBrowser(){return-1!==navigator.userAgent.indexOf("Firefox/")?Browser.Firefox:Browser.Other}();switch(browser){case Browser.Firefox:!function launchUrlThroughHiddenFrame(url){null==_frame&&(_frame=document.createElement("iframe"),_frame.style.display="none",document.body.appendChild(_frame)),_frame.contentWindow.location.href=url.toString()}(associationUrl);break;case Browser.Other:{const detectionPromise=function getDetectionPromise(){return new Promise((resolve,reject)=>{function cleanup(){clearTimeout(timeoutId),window.removeEventListener("blur",handleBlur)}function handleBlur(){cleanup(),resolve()}window.addEventListener("blur",handleBlur);const timeoutId=setTimeout(()=>{cleanup(),reject()},3e3)})}();window.location.assign(associationUrl),yield detectionPromise;break}}}catch(e){throw new SolanaMobileWalletAdapterError(SolanaMobileWalletAdapterErrorCode.ERROR_WALLET_NOT_FOUND,"Found no installed wallet that supports the mobile wallet protocol.")}})}function startSession(associationPublicKey,associationURLBase){return __awaiter(this,void 0,void 0,function*(){const randomAssociationPort=function getRandomAssociationPort(){return assertAssociationPort(49152+Math.floor(16384*Math.random()))}(),associationUrl=yield function getAssociateAndroidIntentURL(associationPublicKey,putativePort,associationURLBase,protocolVersions=["v1"]){return __awaiter(this,void 0,void 0,function*(){const associationPort=assertAssociationPort(putativePort),encodedKey=arrayBufferToBase64String(yield crypto.subtle.exportKey("raw",associationPublicKey)),url=getIntentURL("v1/associate/local",associationURLBase);return url.searchParams.set("association",getStringWithURLUnsafeCharactersReplaced(encodedKey)),url.searchParams.set("port",`${associationPort}`),protocolVersions.forEach(version=>{url.searchParams.set("v",version)}),url})}(associationPublicKey,randomAssociationPort,associationURLBase);return yield launchAssociation(associationUrl),randomAssociationPort})}const WEBSOCKET_CONNECTION_CONFIG={retryDelayScheduleMs:[150,150,200,500,500,750,750,1e3],timeoutMs:3e4},WEBSOCKET_PROTOCOL_BINARY="com.solana.mobilewalletadapter.v1",WEBSOCKET_PROTOCOL_BASE64="com.solana.mobilewalletadapter.v1.base64";function assertSecureContext(){if("undefined"==typeof window||!0!==window.isSecureContext)throw new SolanaMobileWalletAdapterError(SolanaMobileWalletAdapterErrorCode.ERROR_SECURE_CONTEXT_REQUIRED,"The mobile wallet adapter protocol must be used in a secure context (`https`).")}function assertSecureEndpointSpecificURI(walletUriBase){let url;try{url=new URL(walletUriBase)}catch(_a){throw new SolanaMobileWalletAdapterError(SolanaMobileWalletAdapterErrorCode.ERROR_FORBIDDEN_WALLET_BASE_URL,"Invalid base URL supplied by wallet")}if("https:"!==url.protocol)throw new SolanaMobileWalletAdapterError(SolanaMobileWalletAdapterErrorCode.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}function getSequenceNumberFromByteArray(byteArray){return new DataView(byteArray).getUint32(0,!1)}function getReflectorIdFromByteArray(byteArray){let{value:length,offset}=function decodeVarLong(byteArray){var b,bytes=new Uint8Array(byteArray),l=byteArray.byteLength,value=0,offset=0;do{if(offset>=l||offset>10)throw new RangeError("Failed to decode varint");value|=(127&(b=bytes[offset++]))<<7*offset}while(b>=128);return{value,offset}}(byteArray);return new Uint8Array(byteArray.slice(offset,offset+length))}function transact(callback,config){return __awaiter(this,void 0,void 0,function*(){assertSecureContext();const associationKeypair=yield generateAssociationKeypair(),websocketURL=`ws://localhost:${yield startSession(associationKeypair.publicKey,null==config?void 0:config.baseUri)}/solana-wallet`;let connectionStartTime;const getNextRetryDelayMs=(()=>{const schedule=[...WEBSOCKET_CONNECTION_CONFIG.retryDelayScheduleMs];return()=>schedule.length>1?schedule.shift():schedule[0]})();let nextJsonRpcMessageId=1,lastKnownInboundSequenceNumber=0,state={__type:"disconnected"};return new Promise((resolve,reject)=>{let socket;const jsonRpcResponsePromises={},handleOpen=()=>__awaiter(this,void 0,void 0,function*(){if("connecting"!==state.__type)return void console.warn(`Expected adapter state to be \`connecting\` at the moment the websocket opens. Got \`${state.__type}\`.`);socket.removeEventListener("open",handleOpen);const{associationKeypair}=state,ecdhKeypair=yield generateECDHKeypair();socket.send(yield createHelloReq(ecdhKeypair.publicKey,associationKeypair.privateKey)),state={__type:"hello_req_sent",associationPublicKey:associationKeypair.publicKey,ecdhPrivateKey:ecdhKeypair.privateKey}}),handleClose=evt=>{evt.wasClean?state={__type:"disconnected"}:reject(new SolanaMobileWalletAdapterError(SolanaMobileWalletAdapterErrorCode.ERROR_SESSION_CLOSED,`The wallet session dropped unexpectedly (${evt.code}: ${evt.reason}).`,{closeEvent:evt})),disposeSocket()},handleError=_evt=>__awaiter(this,void 0,void 0,function*(){disposeSocket(),Date.now()-connectionStartTime>=WEBSOCKET_CONNECTION_CONFIG.timeoutMs?reject(new SolanaMobileWalletAdapterError(SolanaMobileWalletAdapterErrorCode.ERROR_SESSION_TIMEOUT,`Failed to connect to the wallet websocket at ${websocketURL}.`)):(yield new Promise(resolve=>{const retryDelayMs=getNextRetryDelayMs();retryWaitTimeoutId=window.setTimeout(resolve,retryDelayMs)}),attemptSocketConnection())}),handleMessage=evt=>__awaiter(this,void 0,void 0,function*(){const responseBuffer=yield evt.data.arrayBuffer();switch(state.__type){case"connecting":if(0!==responseBuffer.byteLength)throw new Error("Encountered unexpected message while connecting");const ecdhKeypair=yield generateECDHKeypair();socket.send(yield createHelloReq(ecdhKeypair.publicKey,associationKeypair.privateKey)),state={__type:"hello_req_sent",associationPublicKey:associationKeypair.publicKey,ecdhPrivateKey:ecdhKeypair.privateKey};break;case"connected":try{const sequenceNumber=getSequenceNumberFromByteArray(responseBuffer.slice(0,SEQUENCE_NUMBER_BYTES));if(sequenceNumber!==lastKnownInboundSequenceNumber+1)throw new Error("Encrypted message has invalid sequence number");lastKnownInboundSequenceNumber=sequenceNumber;const jsonRpcMessage=yield decryptJsonRpcMessage(responseBuffer,state.sharedSecret),responsePromise=jsonRpcResponsePromises[jsonRpcMessage.id];delete jsonRpcResponsePromises[jsonRpcMessage.id],responsePromise.resolve(jsonRpcMessage.result)}catch(e){if(!(e instanceof SolanaMobileWalletAdapterProtocolError))throw e;{const responsePromise=jsonRpcResponsePromises[e.jsonRpcMessageId];delete jsonRpcResponsePromises[e.jsonRpcMessageId],responsePromise.reject(e)}}break;case"hello_req_sent":{if(0===responseBuffer.byteLength){const ecdhKeypair=yield generateECDHKeypair();socket.send(yield createHelloReq(ecdhKeypair.publicKey,associationKeypair.privateKey)),state={__type:"hello_req_sent",associationPublicKey:associationKeypair.publicKey,ecdhPrivateKey:ecdhKeypair.privateKey};break}const sharedSecret=yield parseHelloRsp(responseBuffer,state.associationPublicKey,state.ecdhPrivateKey),sessionPropertiesBuffer=responseBuffer.slice(ENCODED_PUBLIC_KEY_LENGTH_BYTES),sessionProperties=0!==sessionPropertiesBuffer.byteLength?yield(()=>__awaiter(this,void 0,void 0,function*(){const sequenceNumber=getSequenceNumberFromByteArray(sessionPropertiesBuffer.slice(0,SEQUENCE_NUMBER_BYTES));if(sequenceNumber!==lastKnownInboundSequenceNumber+1)throw new Error("Encrypted message has invalid sequence number");return lastKnownInboundSequenceNumber=sequenceNumber,parseSessionProps(sessionPropertiesBuffer,sharedSecret)}))():{protocol_version:"legacy"};state={__type:"connected",sharedSecret,sessionProperties};const wallet=createMobileWalletProxy(sessionProperties.protocol_version,(method,params)=>__awaiter(this,void 0,void 0,function*(){const id=nextJsonRpcMessageId++;return socket.send(yield encryptJsonRpcMessage({id,jsonrpc:"2.0",method,params:null!=params?params:{}},sharedSecret)),new Promise((resolve,reject)=>{jsonRpcResponsePromises[id]={resolve(result){switch(method){case"authorize":case"reauthorize":{const{wallet_uri_base}=result;if(null!=wallet_uri_base)try{assertSecureEndpointSpecificURI(wallet_uri_base)}catch(e){return void reject(e)}break}}resolve(result)},reject}})}));try{resolve(yield callback(wallet))}catch(e){reject(e)}finally{disposeSocket(),socket.close()}break}}});let disposeSocket,retryWaitTimeoutId;const attemptSocketConnection=()=>{disposeSocket&&disposeSocket(),state={__type:"connecting",associationKeypair},void 0===connectionStartTime&&(connectionStartTime=Date.now()),socket=new WebSocket(websocketURL,[WEBSOCKET_PROTOCOL_BINARY]),socket.addEventListener("open",handleOpen),socket.addEventListener("close",handleClose),socket.addEventListener("error",handleError),socket.addEventListener("message",handleMessage),disposeSocket=()=>{window.clearTimeout(retryWaitTimeoutId),socket.removeEventListener("open",handleOpen),socket.removeEventListener("close",handleClose),socket.removeEventListener("error",handleError),socket.removeEventListener("message",handleMessage)}};attemptSocketConnection()})})}function startRemoteScenario(config){return __awaiter(this,void 0,void 0,function*(){assertSecureContext();const associationKeypair=yield generateAssociationKeypair(),websocketURL=`wss://${null==config?void 0:config.remoteHostAuthority}/reflect`;let connectionStartTime;const getNextRetryDelayMs=(()=>{const schedule=[...WEBSOCKET_CONNECTION_CONFIG.retryDelayScheduleMs];return()=>schedule.length>1?schedule.shift():schedule[0]})();let encoding,socket,disposeSocket,nextJsonRpcMessageId=1,lastKnownInboundSequenceNumber=0,state={__type:"disconnected"},decodeBytes=evt=>__awaiter(this,void 0,void 0,function*(){if("base64"==encoding){return function toUint8Array(base64EncodedByteArray){return new Uint8Array(window.atob(base64EncodedByteArray).split("").map(c=>c.charCodeAt(0)))}(yield evt.data).buffer}return yield evt.data.arrayBuffer()});const associationUrl=yield new Promise((resolve,reject)=>{const handleOpen=()=>__awaiter(this,void 0,void 0,function*(){"connecting"===state.__type?(encoding=socket.protocol.includes(WEBSOCKET_PROTOCOL_BASE64)?"base64":"binary",socket.removeEventListener("open",handleOpen)):console.warn(`Expected adapter state to be \`connecting\` at the moment the websocket opens. Got \`${state.__type}\`.`)}),handleClose=evt=>{evt.wasClean?state={__type:"disconnected"}:reject(new SolanaMobileWalletAdapterError(SolanaMobileWalletAdapterErrorCode.ERROR_SESSION_CLOSED,`The wallet session dropped unexpectedly (${evt.code}: ${evt.reason}).`,{closeEvent:evt})),disposeSocket()},handleError=_evt=>__awaiter(this,void 0,void 0,function*(){disposeSocket(),Date.now()-connectionStartTime>=WEBSOCKET_CONNECTION_CONFIG.timeoutMs?reject(new SolanaMobileWalletAdapterError(SolanaMobileWalletAdapterErrorCode.ERROR_SESSION_TIMEOUT,`Failed to connect to the wallet websocket at ${websocketURL}.`)):(yield new Promise(resolve=>{const retryDelayMs=getNextRetryDelayMs();retryWaitTimeoutId=window.setTimeout(resolve,retryDelayMs)}),attemptSocketConnection())}),handleReflectorIdMessage=evt=>__awaiter(this,void 0,void 0,function*(){const responseBuffer=yield decodeBytes(evt);if("connecting"===state.__type){if(0==responseBuffer.byteLength)throw new Error("Encountered unexpected message while connecting");const reflectorId=getReflectorIdFromByteArray(responseBuffer);state={__type:"reflector_id_received",reflectorId};const associationUrl=yield function getRemoteAssociateAndroidIntentURL(associationPublicKey,hostAuthority,reflectorId,associationURLBase,protocolVersions=["v1"]){return __awaiter(this,void 0,void 0,function*(){const encodedKey=arrayBufferToBase64String(yield crypto.subtle.exportKey("raw",associationPublicKey)),url=getIntentURL("v1/associate/remote",associationURLBase);return url.searchParams.set("association",getStringWithURLUnsafeCharactersReplaced(encodedKey)),url.searchParams.set("reflector",`${hostAuthority}`),url.searchParams.set("id",`${fromUint8Array(reflectorId,!0)}`),protocolVersions.forEach(version=>{url.searchParams.set("v",version)}),url})}(associationKeypair.publicKey,config.remoteHostAuthority,reflectorId,null==config?void 0:config.baseUri);socket.removeEventListener("message",handleReflectorIdMessage),resolve(associationUrl)}});let retryWaitTimeoutId;const attemptSocketConnection=()=>{disposeSocket&&disposeSocket(),state={__type:"connecting",associationKeypair},void 0===connectionStartTime&&(connectionStartTime=Date.now()),socket=new WebSocket(websocketURL,[WEBSOCKET_PROTOCOL_BINARY,WEBSOCKET_PROTOCOL_BASE64]),socket.addEventListener("open",handleOpen),socket.addEventListener("close",handleClose),socket.addEventListener("error",handleError),socket.addEventListener("message",handleReflectorIdMessage),disposeSocket=()=>{window.clearTimeout(retryWaitTimeoutId),socket.removeEventListener("open",handleOpen),socket.removeEventListener("close",handleClose),socket.removeEventListener("error",handleError),socket.removeEventListener("message",handleReflectorIdMessage)}};attemptSocketConnection()});let handleClose,sessionEstablished=!1;return{associationUrl,close:()=>{socket.close(),handleClose()},wallet:new Promise((resolve,reject)=>{const jsonRpcResponsePromises={},handleMessage=evt=>__awaiter(this,void 0,void 0,function*(){const responseBuffer=yield decodeBytes(evt);switch(state.__type){case"reflector_id_received":if(0!==responseBuffer.byteLength)throw new Error("Encountered unexpected message while awaiting reflection");const ecdhKeypair=yield generateECDHKeypair(),binaryMsg=yield createHelloReq(ecdhKeypair.publicKey,associationKeypair.privateKey);"base64"==encoding?socket.send(fromUint8Array(binaryMsg)):socket.send(binaryMsg),state={__type:"hello_req_sent",associationPublicKey:associationKeypair.publicKey,ecdhPrivateKey:ecdhKeypair.privateKey};break;case"connected":try{const sequenceNumber=getSequenceNumberFromByteArray(responseBuffer.slice(0,SEQUENCE_NUMBER_BYTES));if(sequenceNumber!==lastKnownInboundSequenceNumber+1)throw new Error("Encrypted message has invalid sequence number");lastKnownInboundSequenceNumber=sequenceNumber;const jsonRpcMessage=yield decryptJsonRpcMessage(responseBuffer,state.sharedSecret),responsePromise=jsonRpcResponsePromises[jsonRpcMessage.id];delete jsonRpcResponsePromises[jsonRpcMessage.id],responsePromise.resolve(jsonRpcMessage.result)}catch(e){if(!(e instanceof SolanaMobileWalletAdapterProtocolError))throw e;{const responsePromise=jsonRpcResponsePromises[e.jsonRpcMessageId];delete jsonRpcResponsePromises[e.jsonRpcMessageId],responsePromise.reject(e)}}break;case"hello_req_sent":{const sharedSecret=yield parseHelloRsp(responseBuffer,state.associationPublicKey,state.ecdhPrivateKey),sessionPropertiesBuffer=responseBuffer.slice(ENCODED_PUBLIC_KEY_LENGTH_BYTES),sessionProperties=0!==sessionPropertiesBuffer.byteLength?yield(()=>__awaiter(this,void 0,void 0,function*(){const sequenceNumber=getSequenceNumberFromByteArray(sessionPropertiesBuffer.slice(0,SEQUENCE_NUMBER_BYTES));if(sequenceNumber!==lastKnownInboundSequenceNumber+1)throw new Error("Encrypted message has invalid sequence number");return lastKnownInboundSequenceNumber=sequenceNumber,parseSessionProps(sessionPropertiesBuffer,sharedSecret)}))():{protocol_version:"legacy"};state={__type:"connected",sharedSecret,sessionProperties};const wallet=createMobileWalletProxy(sessionProperties.protocol_version,(method,params)=>__awaiter(this,void 0,void 0,function*(){const id=nextJsonRpcMessageId++,binaryMsg=yield encryptJsonRpcMessage({id,jsonrpc:"2.0",method,params:null!=params?params:{}},sharedSecret);return"base64"==encoding?socket.send(fromUint8Array(binaryMsg)):socket.send(binaryMsg),new Promise((resolve,reject)=>{jsonRpcResponsePromises[id]={resolve(result){switch(method){case"authorize":case"reauthorize":{const{wallet_uri_base}=result;if(null!=wallet_uri_base)try{assertSecureEndpointSpecificURI(wallet_uri_base)}catch(e){return void reject(e)}break}}resolve(result)},reject}})}));sessionEstablished=!0;try{resolve(wallet)}catch(e){reject(e)}break}}});socket.addEventListener("message",handleMessage),handleClose=()=>{socket.removeEventListener("message",handleMessage),disposeSocket(),sessionEstablished||reject(new SolanaMobileWalletAdapterError(SolanaMobileWalletAdapterErrorCode.ERROR_SESSION_CLOSED,"The wallet session was closed before connection.",{closeEvent:new CloseEvent("socket was closed before connection")}))}})}})}},"./node_modules/@solana-mobile/wallet-adapter-mobile/lib/cjs/index.browser.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var walletAdapterBase=__webpack_require__("./node_modules/@solana/wallet-adapter-base/lib/cjs/index.js"),web3_js=__webpack_require__("./node_modules/@solana/web3.js/lib/index.browser.esm.js"),walletStandardFeatures=__webpack_require__("./node_modules/@solana/wallet-standard-features/lib/cjs/index.js"),walletStandardMobile=__webpack_require__("./node_modules/@solana-mobile/wallet-standard-mobile/lib/cjs/index.js");function __awaiter(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})}function __classPrivateFieldGet(receiver,state,kind,f){if("a"===kind&&!f)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof state?receiver!==state||!f:!state.has(receiver))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===kind?f:"a"===kind?f.call(receiver):f?f.value:state.get(receiver)}function __classPrivateFieldSet(receiver,state,value,kind,f){if("m"===kind)throw new TypeError("Private method is not writable");if("a"===kind&&!f)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof state?receiver!==state||!f:!state.has(receiver))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===kind?f.call(receiver,value):f?f.value=value:state.set(receiver,value),value}function fromUint8Array(byteArray){return window.btoa(String.fromCharCode.call(null,...byteArray))}var _BaseSolanaMobileWalletAdapter_instances,_BaseSolanaMobileWalletAdapter_wallet,_BaseSolanaMobileWalletAdapter_connecting,_BaseSolanaMobileWalletAdapter_readyState,_BaseSolanaMobileWalletAdapter_accountSelector,_BaseSolanaMobileWalletAdapter_selectedAccount,_BaseSolanaMobileWalletAdapter_publicKey,_BaseSolanaMobileWalletAdapter_handleChangeEvent,_BaseSolanaMobileWalletAdapter_connect,_BaseSolanaMobileWalletAdapter_declareWalletAsInstalled,_BaseSolanaMobileWalletAdapter_assertIsAuthorized,_BaseSolanaMobileWalletAdapter_performSignTransactions,_BaseSolanaMobileWalletAdapter_runWithGuard;function chainOrClusterToChainId(chain){switch(chain){case"mainnet-beta":return"solana:mainnet";case"testnet":return"solana:testnet";case"devnet":return"solana:devnet";default:return chain}}class BaseSolanaMobileWalletAdapter extends walletAdapterBase.BaseSignInMessageSignerWalletAdapter{constructor(wallet,config){super(),_BaseSolanaMobileWalletAdapter_instances.add(this),this.supportedTransactionVersions=new Set(["legacy",0]),_BaseSolanaMobileWalletAdapter_wallet.set(this,void 0),_BaseSolanaMobileWalletAdapter_connecting.set(this,!1),_BaseSolanaMobileWalletAdapter_readyState.set(this,function getIsSupported(){return"undefined"!=typeof window&&window.isSecureContext&&"undefined"!=typeof document&&/android/i.test(navigator.userAgent)}()?walletAdapterBase.WalletReadyState.Loadable:walletAdapterBase.WalletReadyState.Unsupported),_BaseSolanaMobileWalletAdapter_accountSelector.set(this,void 0),_BaseSolanaMobileWalletAdapter_selectedAccount.set(this,void 0),_BaseSolanaMobileWalletAdapter_publicKey.set(this,void 0),_BaseSolanaMobileWalletAdapter_handleChangeEvent.set(this,properties=>__awaiter(this,void 0,void 0,function*(){if(properties.accounts&&properties.accounts.length>0){__classPrivateFieldGet(this,_BaseSolanaMobileWalletAdapter_instances,"m",_BaseSolanaMobileWalletAdapter_declareWalletAsInstalled).call(this);const nextSelectedAccount=yield __classPrivateFieldGet(this,_BaseSolanaMobileWalletAdapter_accountSelector,"f").call(this,properties.accounts);nextSelectedAccount!==__classPrivateFieldGet(this,_BaseSolanaMobileWalletAdapter_selectedAccount,"f")&&(__classPrivateFieldSet(this,_BaseSolanaMobileWalletAdapter_selectedAccount,nextSelectedAccount,"f"),__classPrivateFieldSet(this,_BaseSolanaMobileWalletAdapter_publicKey,void 0,"f"),this.emit("connect",this.publicKey))}})),__classPrivateFieldSet(this,_BaseSolanaMobileWalletAdapter_accountSelector,accounts=>__awaiter(this,void 0,void 0,function*(){var _a;const selectedBase64EncodedAddress=yield config.addressSelector.select(accounts.map(({publicKey})=>fromUint8Array(publicKey)));return null!==(_a=accounts.find(({publicKey})=>fromUint8Array(publicKey)===selectedBase64EncodedAddress))&&void 0!==_a?_a:accounts[0]}),"f"),__classPrivateFieldSet(this,_BaseSolanaMobileWalletAdapter_wallet,wallet,"f"),__classPrivateFieldGet(this,_BaseSolanaMobileWalletAdapter_wallet,"f").features["standard:events"].on("change",__classPrivateFieldGet(this,_BaseSolanaMobileWalletAdapter_handleChangeEvent,"f")),this.name=__classPrivateFieldGet(this,_BaseSolanaMobileWalletAdapter_wallet,"f").name,this.icon=__classPrivateFieldGet(this,_BaseSolanaMobileWalletAdapter_wallet,"f").icon,this.url=__classPrivateFieldGet(this,_BaseSolanaMobileWalletAdapter_wallet,"f").url}get publicKey(){var _a;if(!__classPrivateFieldGet(this,_BaseSolanaMobileWalletAdapter_publicKey,"f")&&__classPrivateFieldGet(this,_BaseSolanaMobileWalletAdapter_selectedAccount,"f"))try{__classPrivateFieldSet(this,_BaseSolanaMobileWalletAdapter_publicKey,new web3_js.PublicKey(__classPrivateFieldGet(this,_BaseSolanaMobileWalletAdapter_selectedAccount,"f").publicKey),"f")}catch(e){throw new walletAdapterBase.WalletPublicKeyError(e instanceof Error&&(null==e?void 0:e.message)||"Unknown error",e)}return null!==(_a=__classPrivateFieldGet(this,_BaseSolanaMobileWalletAdapter_publicKey,"f"))&&void 0!==_a?_a:null}get connected(){return __classPrivateFieldGet(this,_BaseSolanaMobileWalletAdapter_wallet,"f").connected}get connecting(){return __classPrivateFieldGet(this,_BaseSolanaMobileWalletAdapter_connecting,"f")}get readyState(){return __classPrivateFieldGet(this,_BaseSolanaMobileWalletAdapter_readyState,"f")}autoConnect_DO_NOT_USE_OR_YOU_WILL_BE_FIRED(){return __awaiter(this,void 0,void 0,function*(){return yield this.autoConnect()})}autoConnect(){return __awaiter(this,void 0,void 0,function*(){__classPrivateFieldGet(this,_BaseSolanaMobileWalletAdapter_instances,"m",_BaseSolanaMobileWalletAdapter_connect).call(this,!0)})}connect(){return __awaiter(this,void 0,void 0,function*(){__classPrivateFieldGet(this,_BaseSolanaMobileWalletAdapter_instances,"m",_BaseSolanaMobileWalletAdapter_connect).call(this)})}performAuthorization(signInPayload){return __awaiter(this,void 0,void 0,function*(){try{const cachedAuthorizationResult=yield __classPrivateFieldGet(this,_BaseSolanaMobileWalletAdapter_wallet,"f").cachedAuthorizationResult;if(cachedAuthorizationResult)return yield __classPrivateFieldGet(this,_BaseSolanaMobileWalletAdapter_wallet,"f").features["standard:connect"].connect({silent:!0}),cachedAuthorizationResult;signInPayload?yield __classPrivateFieldGet(this,_BaseSolanaMobileWalletAdapter_wallet,"f").features[walletStandardFeatures.SolanaSignIn].signIn(signInPayload):yield __classPrivateFieldGet(this,_BaseSolanaMobileWalletAdapter_wallet,"f").features["standard:connect"].connect();return yield yield __classPrivateFieldGet(this,_BaseSolanaMobileWalletAdapter_wallet,"f").cachedAuthorizationResult}catch(e){throw new walletAdapterBase.WalletConnectionError(e instanceof Error&&e.message||"Unknown error",e)}})}disconnect(){return __awaiter(this,void 0,void 0,function*(){return yield __classPrivateFieldGet(this,_BaseSolanaMobileWalletAdapter_instances,"m",_BaseSolanaMobileWalletAdapter_runWithGuard).call(this,()=>__awaiter(this,void 0,void 0,function*(){__classPrivateFieldSet(this,_BaseSolanaMobileWalletAdapter_connecting,!1,"f"),__classPrivateFieldSet(this,_BaseSolanaMobileWalletAdapter_publicKey,void 0,"f"),__classPrivateFieldSet(this,_BaseSolanaMobileWalletAdapter_selectedAccount,void 0,"f"),yield __classPrivateFieldGet(this,_BaseSolanaMobileWalletAdapter_wallet,"f").features["standard:disconnect"].disconnect(),this.emit("disconnect")}))})}signIn(input){return __awaiter(this,void 0,void 0,function*(){return __classPrivateFieldGet(this,_BaseSolanaMobileWalletAdapter_instances,"m",_BaseSolanaMobileWalletAdapter_runWithGuard).call(this,()=>__awaiter(this,void 0,void 0,function*(){var _a;if(__classPrivateFieldGet(this,_BaseSolanaMobileWalletAdapter_readyState,"f")!==walletAdapterBase.WalletReadyState.Installed&&__classPrivateFieldGet(this,_BaseSolanaMobileWalletAdapter_readyState,"f")!==walletAdapterBase.WalletReadyState.Loadable)throw new walletAdapterBase.WalletNotReadyError;__classPrivateFieldSet(this,_BaseSolanaMobileWalletAdapter_connecting,!0,"f");try{const outputs=yield __classPrivateFieldGet(this,_BaseSolanaMobileWalletAdapter_wallet,"f").features[walletStandardFeatures.SolanaSignIn].signIn(Object.assign(Object.assign({},input),{domain:null!==(_a=null==input?void 0:input.domain)&&void 0!==_a?_a:window.location.host}));if(outputs.length>0)return outputs[0];throw new Error("Sign in failed, no sign in result returned by wallet")}catch(e){throw new walletAdapterBase.WalletConnectionError(e instanceof Error&&e.message||"Unknown error",e)}finally{__classPrivateFieldSet(this,_BaseSolanaMobileWalletAdapter_connecting,!1,"f")}}))})}signMessage(message){return __awaiter(this,void 0,void 0,function*(){return yield __classPrivateFieldGet(this,_BaseSolanaMobileWalletAdapter_instances,"m",_BaseSolanaMobileWalletAdapter_runWithGuard).call(this,()=>__awaiter(this,void 0,void 0,function*(){const account=__classPrivateFieldGet(this,_BaseSolanaMobileWalletAdapter_instances,"m",_BaseSolanaMobileWalletAdapter_assertIsAuthorized).call(this);try{return(yield __classPrivateFieldGet(this,_BaseSolanaMobileWalletAdapter_wallet,"f").features[walletStandardFeatures.SolanaSignMessage].signMessage({account,message}))[0].signature}catch(error){throw new walletAdapterBase.WalletSignMessageError(null==error?void 0:error.message,error)}}))})}sendTransaction(transaction,connection,options){return __awaiter(this,void 0,void 0,function*(){return yield __classPrivateFieldGet(this,_BaseSolanaMobileWalletAdapter_instances,"m",_BaseSolanaMobileWalletAdapter_runWithGuard).call(this,()=>__awaiter(this,void 0,void 0,function*(){const account=__classPrivateFieldGet(this,_BaseSolanaMobileWalletAdapter_instances,"m",_BaseSolanaMobileWalletAdapter_assertIsAuthorized).call(this);try{function getTargetCommitment(){let targetCommitment,targetPreflightCommitment;switch(connection.commitment){case"confirmed":case"finalized":case"processed":targetCommitment=connection.commitment;break;default:targetCommitment="finalized"}switch(null==options?void 0:options.preflightCommitment){case"confirmed":case"finalized":case"processed":targetPreflightCommitment=options.preflightCommitment;break;case void 0:targetPreflightCommitment=targetCommitment;break;default:targetPreflightCommitment="finalized"}return("finalized"===targetPreflightCommitment?2:"confirmed"===targetPreflightCommitment?1:0)<("finalized"===targetCommitment?2:"confirmed"===targetCommitment?1:0)?targetPreflightCommitment:targetCommitment}if(walletStandardFeatures.SolanaSignAndSendTransaction in __classPrivateFieldGet(this,_BaseSolanaMobileWalletAdapter_wallet,"f").features){const chain=chainOrClusterToChainId(__classPrivateFieldGet(this,_BaseSolanaMobileWalletAdapter_wallet,"f").currentAuthorization.chain),[signature]=(yield __classPrivateFieldGet(this,_BaseSolanaMobileWalletAdapter_wallet,"f").features[walletStandardFeatures.SolanaSignAndSendTransaction].signAndSendTransaction({account,transaction:transaction.serialize(),chain,options:options?{skipPreflight:options.skipPreflight,maxRetries:options.maxRetries}:void 0})).map(output=>fromUint8Array(output.signature));return signature}{const[signedTransaction]=yield __classPrivateFieldGet(this,_BaseSolanaMobileWalletAdapter_instances,"m",_BaseSolanaMobileWalletAdapter_performSignTransactions).call(this,[transaction]);if(function isVersionedTransaction(transaction){return"version"in transaction}(signedTransaction))return yield connection.sendTransaction(signedTransaction);{const serializedTransaction=signedTransaction.serialize();return yield connection.sendRawTransaction(serializedTransaction,Object.assign(Object.assign({},options),{preflightCommitment:getTargetCommitment()}))}}}catch(error){throw new walletAdapterBase.WalletSendTransactionError(null==error?void 0:error.message,error)}}))})}signTransaction(transaction){return __awaiter(this,void 0,void 0,function*(){return yield __classPrivateFieldGet(this,_BaseSolanaMobileWalletAdapter_instances,"m",_BaseSolanaMobileWalletAdapter_runWithGuard).call(this,()=>__awaiter(this,void 0,void 0,function*(){const[signedTransaction]=yield __classPrivateFieldGet(this,_BaseSolanaMobileWalletAdapter_instances,"m",_BaseSolanaMobileWalletAdapter_performSignTransactions).call(this,[transaction]);return signedTransaction}))})}signAllTransactions(transactions){return __awaiter(this,void 0,void 0,function*(){return yield __classPrivateFieldGet(this,_BaseSolanaMobileWalletAdapter_instances,"m",_BaseSolanaMobileWalletAdapter_runWithGuard).call(this,()=>__awaiter(this,void 0,void 0,function*(){return yield __classPrivateFieldGet(this,_BaseSolanaMobileWalletAdapter_instances,"m",_BaseSolanaMobileWalletAdapter_performSignTransactions).call(this,transactions)}))})}}_BaseSolanaMobileWalletAdapter_wallet=new WeakMap,_BaseSolanaMobileWalletAdapter_connecting=new WeakMap,_BaseSolanaMobileWalletAdapter_readyState=new WeakMap,_BaseSolanaMobileWalletAdapter_accountSelector=new WeakMap,_BaseSolanaMobileWalletAdapter_selectedAccount=new WeakMap,_BaseSolanaMobileWalletAdapter_publicKey=new WeakMap,_BaseSolanaMobileWalletAdapter_handleChangeEvent=new WeakMap,_BaseSolanaMobileWalletAdapter_instances=new WeakSet,_BaseSolanaMobileWalletAdapter_connect=function _BaseSolanaMobileWalletAdapter_connect(autoConnect=!1){return __awaiter(this,void 0,void 0,function*(){if(!this.connecting&&!this.connected)return yield __classPrivateFieldGet(this,_BaseSolanaMobileWalletAdapter_instances,"m",_BaseSolanaMobileWalletAdapter_runWithGuard).call(this,()=>__awaiter(this,void 0,void 0,function*(){if(__classPrivateFieldGet(this,_BaseSolanaMobileWalletAdapter_readyState,"f")!==walletAdapterBase.WalletReadyState.Installed&&__classPrivateFieldGet(this,_BaseSolanaMobileWalletAdapter_readyState,"f")!==walletAdapterBase.WalletReadyState.Loadable)throw new walletAdapterBase.WalletNotReadyError;__classPrivateFieldSet(this,_BaseSolanaMobileWalletAdapter_connecting,!0,"f");try{yield __classPrivateFieldGet(this,_BaseSolanaMobileWalletAdapter_wallet,"f").features["standard:connect"].connect({silent:autoConnect})}catch(e){throw new walletAdapterBase.WalletConnectionError(e instanceof Error&&e.message||"Unknown error",e)}finally{__classPrivateFieldSet(this,_BaseSolanaMobileWalletAdapter_connecting,!1,"f")}}))})},_BaseSolanaMobileWalletAdapter_declareWalletAsInstalled=function _BaseSolanaMobileWalletAdapter_declareWalletAsInstalled(){__classPrivateFieldGet(this,_BaseSolanaMobileWalletAdapter_readyState,"f")!==walletAdapterBase.WalletReadyState.Installed&&this.emit("readyStateChange",__classPrivateFieldSet(this,_BaseSolanaMobileWalletAdapter_readyState,walletAdapterBase.WalletReadyState.Installed,"f"))},_BaseSolanaMobileWalletAdapter_assertIsAuthorized=function _BaseSolanaMobileWalletAdapter_assertIsAuthorized(){if(!__classPrivateFieldGet(this,_BaseSolanaMobileWalletAdapter_wallet,"f").isAuthorized||!__classPrivateFieldGet(this,_BaseSolanaMobileWalletAdapter_selectedAccount,"f"))throw new walletAdapterBase.WalletNotConnectedError;return __classPrivateFieldGet(this,_BaseSolanaMobileWalletAdapter_selectedAccount,"f")},_BaseSolanaMobileWalletAdapter_performSignTransactions=function _BaseSolanaMobileWalletAdapter_performSignTransactions(transactions){return __awaiter(this,void 0,void 0,function*(){const account=__classPrivateFieldGet(this,_BaseSolanaMobileWalletAdapter_instances,"m",_BaseSolanaMobileWalletAdapter_assertIsAuthorized).call(this);try{if(walletStandardFeatures.SolanaSignTransaction in __classPrivateFieldGet(this,_BaseSolanaMobileWalletAdapter_wallet,"f").features)return __classPrivateFieldGet(this,_BaseSolanaMobileWalletAdapter_wallet,"f").features[walletStandardFeatures.SolanaSignTransaction].signTransaction(...transactions.map(value=>({account,transaction:value.serialize()}))).then(outputs=>outputs.map(output=>{const byteArray=output.signedTransaction,messageOffset=64*byteArray[0]+1;return"legacy"===web3_js.VersionedMessage.deserializeMessageVersion(byteArray.slice(messageOffset,byteArray.length))?web3_js.Transaction.from(byteArray):web3_js.VersionedTransaction.deserialize(byteArray)}));throw new Error("Connected wallet does not support signing transactions")}catch(error){throw new walletAdapterBase.WalletSignTransactionError(null==error?void 0:error.message,error)}})},_BaseSolanaMobileWalletAdapter_runWithGuard=function _BaseSolanaMobileWalletAdapter_runWithGuard(callback){return __awaiter(this,void 0,void 0,function*(){try{return yield callback()}catch(e){throw this.emit("error",e),e}})};class LocalSolanaMobileWalletAdapter extends BaseSolanaMobileWalletAdapter{constructor(config){var _a;const chain=chainOrClusterToChainId(null!==(_a=config.chain)&&void 0!==_a?_a:config.cluster);super(new walletStandardMobile.LocalSolanaMobileWalletAdapterWallet({appIdentity:config.appIdentity,authorizationCache:{set:config.authorizationResultCache.set,get:()=>__awaiter(this,void 0,void 0,function*(){return yield config.authorizationResultCache.get()}),clear:config.authorizationResultCache.clear},chains:[chain],chainSelector:walletStandardMobile.createDefaultChainSelector(),onWalletNotFound:()=>__awaiter(this,void 0,void 0,function*(){config.onWalletNotFound(this)})}),{addressSelector:config.addressSelector,chain})}}function defaultWalletNotFoundHandler(mobileWalletAdapter){return __awaiter(this,void 0,void 0,function*(){return walletStandardMobile.defaultErrorModalWalletNotFoundHandler()})}exports.Ne=class SolanaMobileWalletAdapter extends LocalSolanaMobileWalletAdapter{},exports.fG="Mobile Wallet Adapter",exports.RP=function createDefaultAddressSelector(){return{select(addresses){return __awaiter(this,void 0,void 0,function*(){return addresses[0]})}}},exports.u=function createDefaultAuthorizationResultCache(){return walletStandardMobile.createDefaultAuthorizationCache()},exports.O0=function createDefaultWalletNotFoundHandler(){return defaultWalletNotFoundHandler}},"./node_modules/@solana-mobile/wallet-standard-mobile/lib/cjs/index.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var console=__webpack_require__("./node_modules/console-browserify/index.js");Object.defineProperty(exports,"__esModule",{value:!0});var walletStandardFeatures=__webpack_require__("./node_modules/@solana/wallet-standard-features/lib/cjs/index.js"),QRCode=__webpack_require__("./node_modules/@solana-mobile/wallet-standard-mobile/node_modules/qrcode/lib/browser.js"),mobileWalletAdapterProtocol=__webpack_require__("./node_modules/@solana-mobile/mobile-wallet-adapter-protocol/lib/esm/index.browser.js"),features=__webpack_require__("./node_modules/@wallet-standard/features/lib/cjs/index.js"),base58=__webpack_require__("./node_modules/@solana-mobile/wallet-standard-mobile/node_modules/bs58/index.js"),walletStandardChains=__webpack_require__("./node_modules/@solana/wallet-standard-chains/lib/cjs/index.js");function _interopDefaultLegacy(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var _EmbeddedModal_instances,_EmbeddedModal_root,_EmbeddedModal_eventListeners,_EmbeddedModal_listenersAttached,_EmbeddedModal_injectHTML,_EmbeddedModal_attachEventListeners,_EmbeddedModal_removeEventListeners,_EmbeddedModal_handleKeyDown,QRCode__default=_interopDefaultLegacy(QRCode),base58__default=_interopDefaultLegacy(base58);function __awaiter(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})}function __classPrivateFieldGet$1(receiver,state,kind,f){if("a"===kind&&!f)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof state?receiver!==state||!f:!state.has(receiver))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===kind?f:"a"===kind?f.call(receiver):f?f.value:state.get(receiver)}function __classPrivateFieldSet$1(receiver,state,value,kind,f){if("m"===kind)throw new TypeError("Private method is not writable");if("a"===kind&&!f)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof state?receiver!==state||!f:!state.has(receiver))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===kind?f.call(receiver,value):f?f.value=value:state.set(receiver,value),value}class EmbeddedModal{constructor(){_EmbeddedModal_instances.add(this),_EmbeddedModal_root.set(this,null),_EmbeddedModal_eventListeners.set(this,{}),_EmbeddedModal_listenersAttached.set(this,!1),this.dom=null,this.open=()=>{console.debug("Modal open"),__classPrivateFieldGet$1(this,_EmbeddedModal_instances,"m",_EmbeddedModal_attachEventListeners).call(this),__classPrivateFieldGet$1(this,_EmbeddedModal_root,"f")&&(__classPrivateFieldGet$1(this,_EmbeddedModal_root,"f").style.display="flex")},this.close=(event=void 0)=>{var _a;console.debug("Modal close"),__classPrivateFieldGet$1(this,_EmbeddedModal_instances,"m",_EmbeddedModal_removeEventListeners).call(this),__classPrivateFieldGet$1(this,_EmbeddedModal_root,"f")&&(__classPrivateFieldGet$1(this,_EmbeddedModal_root,"f").style.display="none"),null===(_a=__classPrivateFieldGet$1(this,_EmbeddedModal_eventListeners,"f").close)||void 0===_a||_a.forEach(listener=>listener(event))},_EmbeddedModal_handleKeyDown.set(this,event=>{"Escape"===event.key&&this.close(event)}),this.init=this.init.bind(this),__classPrivateFieldSet$1(this,_EmbeddedModal_root,document.getElementById("mobile-wallet-adapter-embedded-root-ui"),"f")}init(){return __awaiter(this,void 0,void 0,function*(){console.log("Injecting modal"),__classPrivateFieldGet$1(this,_EmbeddedModal_instances,"m",_EmbeddedModal_injectHTML).call(this)})}addEventListener(event,listener){var _a;return(null===(_a=__classPrivateFieldGet$1(this,_EmbeddedModal_eventListeners,"f")[event])||void 0===_a?void 0:_a.push(listener))||(__classPrivateFieldGet$1(this,_EmbeddedModal_eventListeners,"f")[event]=[listener]),()=>this.removeEventListener(event,listener)}removeEventListener(event,listener){var _a;__classPrivateFieldGet$1(this,_EmbeddedModal_eventListeners,"f")[event]=null===(_a=__classPrivateFieldGet$1(this,_EmbeddedModal_eventListeners,"f")[event])||void 0===_a?void 0:_a.filter(existingListener=>listener!==existingListener)}}_EmbeddedModal_root=new WeakMap,_EmbeddedModal_eventListeners=new WeakMap,_EmbeddedModal_listenersAttached=new WeakMap,_EmbeddedModal_handleKeyDown=new WeakMap,_EmbeddedModal_instances=new WeakSet,_EmbeddedModal_injectHTML=function _EmbeddedModal_injectHTML(){if(document.getElementById("mobile-wallet-adapter-embedded-root-ui"))return void(__classPrivateFieldGet$1(this,_EmbeddedModal_root,"f")||__classPrivateFieldSet$1(this,_EmbeddedModal_root,document.getElementById("mobile-wallet-adapter-embedded-root-ui"),"f"));__classPrivateFieldSet$1(this,_EmbeddedModal_root,document.createElement("div"),"f"),__classPrivateFieldGet$1(this,_EmbeddedModal_root,"f").id="mobile-wallet-adapter-embedded-root-ui",__classPrivateFieldGet$1(this,_EmbeddedModal_root,"f").innerHTML='\n<div class="mobile-wallet-adapter-embedded-modal-container" role="dialog" aria-modal="true" aria-labelledby="modal-title">\n    <div data-modal-close style="position: absolute; width: 100%; height: 100%;"></div>\n\t<div class="mobile-wallet-adapter-embedded-modal-card">\n\t\t<div>\n\t\t\t<button data-modal-close class="mobile-wallet-adapter-embedded-modal-close">\n\t\t\t\t<svg width="14" height="14">\n\t\t\t\t\t<path d="M 6.7125,8.3036995 1.9082,13.108199 c -0.2113,0.2112 -0.4765,0.3168 -0.7957,0.3168 -0.3192,0 -0.5844,-0.1056 -0.7958,-0.3168 C 0.1056,12.896899 0,12.631699 0,12.312499 c 0,-0.3192 0.1056,-0.5844 0.3167,-0.7958 L 5.1212,6.7124995 0.3167,1.9082 C 0.1056,1.6969 0,1.4317 0,1.1125 0,0.7933 0.1056,0.5281 0.3167,0.3167 0.5281,0.1056 0.7933,0 1.1125,0 1.4317,0 1.6969,0.1056 1.9082,0.3167 L 6.7125,5.1212 11.5167,0.3167 C 11.7281,0.1056 11.9933,0 12.3125,0 c 0.3192,0 0.5844,0.1056 0.7957,0.3167 0.2112,0.2114 0.3168,0.4766 0.3168,0.7958 0,0.3192 -0.1056,0.5844 -0.3168,0.7957 L 8.3037001,6.7124995 13.1082,11.516699 c 0.2112,0.2114 0.3168,0.4766 0.3168,0.7958 0,0.3192 -0.1056,0.5844 -0.3168,0.7957 -0.2113,0.2112 -0.4765,0.3168 -0.7957,0.3168 -0.3192,0 -0.5844,-0.1056 -0.7958,-0.3168 z" />\n\t\t\t\t</svg>\n\t\t\t</button>\n\t\t</div>\n\t\t<div class="mobile-wallet-adapter-embedded-modal-content"></div>\n\t</div>\n</div>\n',__classPrivateFieldGet$1(this,_EmbeddedModal_root,"f").style.display="none";const content=__classPrivateFieldGet$1(this,_EmbeddedModal_root,"f").querySelector(".mobile-wallet-adapter-embedded-modal-content");content&&(content.innerHTML=this.contentHtml);const styles=document.createElement("style");styles.id="mobile-wallet-adapter-embedded-modal-styles",styles.textContent='\n.mobile-wallet-adapter-embedded-modal-container {\n    display: flex; /* Use flexbox to center content */\n    justify-content: center; /* Center horizontally */\n    align-items: center; /* Center vertically */\n    position: fixed; /* Stay in place */\n    z-index: 1; /* Sit on top */\n    left: 0;\n    top: 0;\n    width: 100%; /* Full width */\n    height: 100%; /* Full height */\n    background-color: rgba(0,0,0,0.4); /* Black w/ opacity */\n    overflow-y: auto; /* enable scrolling */\n}\n\n.mobile-wallet-adapter-embedded-modal-card {\n    display: flex;\n    flex-direction: column;\n    margin: auto 20px;\n    max-width: 780px;\n    padding: 20px;\n    border-radius: 24px;\n    background: #ffffff;\n    font-family: "Inter Tight", "PT Sans", Calibri, sans-serif;\n    transform: translateY(-200%);\n    animation: slide-in 0.5s forwards;\n}\n\n@keyframes slide-in {\n    100% { transform: translateY(0%); }\n}\n\n.mobile-wallet-adapter-embedded-modal-close {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 32px;\n    height: 32px;\n    cursor: pointer;\n    background: #e4e9e9;\n    border: none;\n    border-radius: 50%;\n}\n\n.mobile-wallet-adapter-embedded-modal-close:focus-visible {\n    outline-color: red;\n}\n\n.mobile-wallet-adapter-embedded-modal-close svg {\n    fill: #546266;\n    transition: fill 200ms ease 0s;\n}\n\n.mobile-wallet-adapter-embedded-modal-close:hover svg {\n    fill: #fff;\n}\n'+this.contentStyles;const host=document.createElement("div");host.innerHTML='\n<link rel="preconnect" href="https://fonts.googleapis.com">\n<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>\n<link href="https://fonts.googleapis.com/css2?family=Inter+Tight:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">\n',this.dom=host.attachShadow({mode:"closed"}),this.dom.appendChild(styles),this.dom.appendChild(__classPrivateFieldGet$1(this,_EmbeddedModal_root,"f")),document.body.appendChild(host)},_EmbeddedModal_attachEventListeners=function _EmbeddedModal_attachEventListeners(){if(!__classPrivateFieldGet$1(this,_EmbeddedModal_root,"f")||__classPrivateFieldGet$1(this,_EmbeddedModal_listenersAttached,"f"))return;[...__classPrivateFieldGet$1(this,_EmbeddedModal_root,"f").querySelectorAll("[data-modal-close]")].forEach(closer=>null==closer?void 0:closer.addEventListener("click",this.close)),window.addEventListener("load",this.close),document.addEventListener("keydown",__classPrivateFieldGet$1(this,_EmbeddedModal_handleKeyDown,"f")),__classPrivateFieldSet$1(this,_EmbeddedModal_listenersAttached,!0,"f")},_EmbeddedModal_removeEventListeners=function _EmbeddedModal_removeEventListeners(){if(!__classPrivateFieldGet$1(this,_EmbeddedModal_listenersAttached,"f"))return;if(window.removeEventListener("load",this.close),document.removeEventListener("keydown",__classPrivateFieldGet$1(this,_EmbeddedModal_handleKeyDown,"f")),!__classPrivateFieldGet$1(this,_EmbeddedModal_root,"f"))return;[...__classPrivateFieldGet$1(this,_EmbeddedModal_root,"f").querySelectorAll("[data-modal-close]")].forEach(closer=>null==closer?void 0:closer.removeEventListener("click",this.close)),__classPrivateFieldSet$1(this,_EmbeddedModal_listenersAttached,!1,"f")};class RemoteConnectionModal extends EmbeddedModal{constructor(){super(...arguments),this.contentStyles=css$1,this.contentHtml=QRCodeHtml}initWithQR(qrCode){const _super=Object.create(null,{init:{get:()=>super.init}});return __awaiter(this,void 0,void 0,function*(){_super.init.call(this),this.populateQRCode(qrCode)})}populateQRCode(qrUrl){var _a;return __awaiter(this,void 0,void 0,function*(){const qrcodeContainer=null===(_a=this.dom)||void 0===_a?void 0:_a.getElementById("mobile-wallet-adapter-embedded-modal-qr-code-container");if(qrcodeContainer){const qrCodeElement=yield QRCode__default.default.toCanvas(qrUrl,{width:200,margin:0});null!==qrcodeContainer.firstElementChild?qrcodeContainer.replaceChild(qrCodeElement,qrcodeContainer.firstElementChild):qrcodeContainer.appendChild(qrCodeElement)}else console.error("QRCode Container not found")})}}const QRCodeHtml='\n<div class="mobile-wallet-adapter-embedded-modal-qr-content">\n    <div>\n        <svg class="mobile-wallet-adapter-embedded-modal-icon" width="100%" height="100%">\n            <circle r="52" cx="53" cy="53" fill="#99b3be" stroke="#000000" stroke-width="2"/>\n            <path d="m 53,82.7305 c -3.3116,0 -6.1361,-1.169 -8.4735,-3.507 -2.338,-2.338 -3.507,-5.1625 -3.507,-8.4735 0,-3.3116 1.169,-6.1364 3.507,-8.4744 2.3374,-2.338 5.1619,-3.507 8.4735,-3.507 3.3116,0 6.1361,1.169 8.4735,3.507 2.338,2.338 3.507,5.1628 3.507,8.4744 0,3.311 -1.169,6.1355 -3.507,8.4735 -2.3374,2.338 -5.1619,3.507 -8.4735,3.507 z m 0.007,-5.25 c 1.8532,0 3.437,-0.6598 4.7512,-1.9793 1.3149,-1.3195 1.9723,-2.9058 1.9723,-4.7591 0,-1.8526 -0.6598,-3.4364 -1.9793,-4.7512 -1.3195,-1.3149 -2.9055,-1.9723 -4.7582,-1.9723 -1.8533,0 -3.437,0.6598 -4.7513,1.9793 -1.3148,1.3195 -1.9722,2.9058 -1.9722,4.7591 0,1.8527 0.6597,3.4364 1.9792,4.7512 1.3195,1.3149 2.9056,1.9723 4.7583,1.9723 z m -28,-33.5729 -3.85,-3.6347 c 4.1195,-4.025 8.8792,-7.1984 14.2791,-9.52 5.4005,-2.3223 11.2551,-3.4834 17.5639,-3.4834 6.3087,0 12.1634,1.1611 17.5639,3.4834 5.3999,2.3216 10.1596,5.495 14.2791,9.52 l -3.85,3.6347 C 77.2999,40.358 73.0684,37.5726 68.2985,35.5514 63.5292,33.5301 58.4296,32.5195 53,32.5195 c -5.4297,0 -10.5292,1.0106 -15.2985,3.0319 -4.7699,2.0212 -9.0014,4.8066 -12.6945,8.3562 z m 44.625,10.8771 c -2.2709,-2.1046 -4.7962,-3.7167 -7.5758,-4.8361 -2.7795,-1.12 -5.7983,-1.68 -9.0562,-1.68 -3.2579,0 -6.2621,0.56 -9.0125,1.68 -2.7504,1.1194 -5.2903,2.7315 -7.6195,4.8361 L 32.5189,51.15 c 2.8355,-2.6028 5.9777,-4.6086 9.4263,-6.0174 3.4481,-1.4087 7.133,-2.1131 11.0548,-2.1131 3.9217,0 7.5979,0.7044 11.0285,2.1131 3.43,1.4088 6.5631,3.4146 9.3992,6.0174 z"/>\n        </svg>\n        <div class="mobile-wallet-adapter-embedded-modal-title">Remote Mobile Wallet Adapter</div>\n    </div>\n    <div>\n        <div>\n            <h4 class="mobile-wallet-adapter-embedded-modal-qr-label">\n                Open your wallet and scan this code\n            </h4>\n        </div>\n        <div id="mobile-wallet-adapter-embedded-modal-qr-code-container" class="mobile-wallet-adapter-embedded-modal-qr-code-container"></div>\n    </div>\n</div>\n<div class="mobile-wallet-adapter-embedded-modal-divider"><hr></div>\n<div class="mobile-wallet-adapter-embedded-modal-footer">\n    <div class="mobile-wallet-adapter-embedded-modal-subtitle">\n        Follow the instructions on your device. When you\'re finished, this screen will update.\n    </div>\n    <div class="mobile-wallet-adapter-embedded-modal-progress-badge">\n        <div>\n            <div class="spinner">\n                <div class="leftWrapper">\n                    <div class="left">\n                        <div class="circle"></div>\n                    </div>\n                </div>\n                <div class="rightWrapper">\n                    <div class="right">\n                        <div class="circle"></div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div>Waiting for scan</div>\n    </div>\n</div>\n',css$1='\n.mobile-wallet-adapter-embedded-modal-qr-content {\n    display: flex; \n    margin-top: 10px;\n    padding: 10px;\n}\n\n.mobile-wallet-adapter-embedded-modal-qr-content > div:first-child {\n    display: flex;\n    flex-direction: column;\n    flex: 2;\n    margin-top: auto;\n    margin-right: 30px;\n}\n\n.mobile-wallet-adapter-embedded-modal-qr-content > div:nth-child(2) {\n    display: flex;\n    flex-direction: column;\n    flex: 1;\n    margin-left: auto;\n}\n\n.mobile-wallet-adapter-embedded-modal-footer {\n    display: flex;\n    padding: 10px;\n}\n\n.mobile-wallet-adapter-embedded-modal-icon {}\n\n.mobile-wallet-adapter-embedded-modal-title {\n    color: #000000;\n    font-size: 2.5em;\n    font-weight: 600;\n}\n\n.mobile-wallet-adapter-embedded-modal-qr-label {\n    text-align: right;\n    color: #000000;\n}\n\n.mobile-wallet-adapter-embedded-modal-qr-code-container {\n    margin-left: auto;\n}\n\n.mobile-wallet-adapter-embedded-modal-divider {\n    margin-top: 20px;\n    padding-left: 10px;\n    padding-right: 10px;\n}\n\n.mobile-wallet-adapter-embedded-modal-divider hr {\n    border-top: 1px solid #D9DEDE;\n}\n\n.mobile-wallet-adapter-embedded-modal-subtitle {\n    margin: auto;\n    margin-right: 60px;\n    padding: 20px;\n    color: #6E8286;\n}\n\n.mobile-wallet-adapter-embedded-modal-progress-badge {\n    display: flex;\n    background: #F7F8F8;\n    height: 56px;\n    min-width: 200px;\n    margin: auto;\n    padding-left: 20px;\n    padding-right: 20px;\n    border-radius: 18px;\n    color: #A8B6B8;\n    align-items: center;\n}\n\n.mobile-wallet-adapter-embedded-modal-progress-badge > div:first-child {\n    margin-left: auto;\n    margin-right: 20px;\n}\n\n.mobile-wallet-adapter-embedded-modal-progress-badge > div:nth-child(2) {\n    margin-right: auto;\n}\n\n/* Smaller screens */\n@media all and (max-width: 600px) {\n    .mobile-wallet-adapter-embedded-modal-card {\n        text-align: center;\n    }\n    .mobile-wallet-adapter-embedded-modal-qr-content {\n        flex-direction: column;\n    }\n    .mobile-wallet-adapter-embedded-modal-qr-content > div:first-child {\n        margin: auto;\n    }\n    .mobile-wallet-adapter-embedded-modal-qr-content > div:nth-child(2) {\n        margin: auto;\n        flex: 2 auto;\n    }\n    .mobile-wallet-adapter-embedded-modal-footer {\n        flex-direction: column;\n    }\n    .mobile-wallet-adapter-embedded-modal-icon {\n        display: none;\n    }\n    .mobile-wallet-adapter-embedded-modal-title {\n        font-size: 1.5em;\n    }\n    .mobile-wallet-adapter-embedded-modal-subtitle {\n        margin-right: unset;\n    }\n    .mobile-wallet-adapter-embedded-modal-qr-label {\n        text-align: center;\n    }\n    .mobile-wallet-adapter-embedded-modal-qr-code-container {\n        margin: auto;\n    }\n}\n\n/* Spinner */\n@keyframes spinLeft {\n    0% {\n        transform: rotate(20deg);\n    }\n    50% {\n        transform: rotate(160deg);\n    }\n    100% {\n        transform: rotate(20deg);\n    }\n}\n@keyframes spinRight {\n    0% {\n        transform: rotate(160deg);\n    }\n    50% {\n        transform: rotate(20deg);\n    }\n    100% {\n        transform: rotate(160deg);\n    }\n}\n@keyframes spin {\n    0% {\n        transform: rotate(0deg);\n    }\n    100% {\n        transform: rotate(2520deg);\n    }\n}\n\n.spinner {\n    position: relative;\n    width: 1.5em;\n    height: 1.5em;\n    margin: auto;\n    animation: spin 10s linear infinite;\n}\n.spinner::before {\n    content: "";\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n}\n.right, .rightWrapper, .left, .leftWrapper {\n    position: absolute;\n    top: 0;\n    overflow: hidden;\n    width: .75em;\n    height: 1.5em;\n}\n.left, .leftWrapper {\n    left: 0;\n}\n.right {\n    left: -12px;\n}\n.rightWrapper {\n    right: 0;\n}\n.circle {\n    border: .125em solid #A8B6B8;\n    width: 1.25em; /* 1.5em - 2*0.125em border */\n    height: 1.25em; /* 1.5em - 2*0.125em border */\n    border-radius: 0.75em; /* 0.5*1.5em spinner size 8 */\n}\n.left {\n    transform-origin: 100% 50%;\n    animation: spinLeft 2.5s cubic-bezier(.2,0,.8,1) infinite;\n}\n.right {\n    transform-origin: 100% 50%;\n    animation: spinRight 2.5s cubic-bezier(.2,0,.8,1) infinite;\n}\n',icon="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik03IDIuNUgxN0MxNy44Mjg0IDIuNSAxOC41IDMuMTcxNTcgMTguNSA0VjIwQzE4LjUgMjAuODI4NCAxNy44Mjg0IDIxLjUgMTcgMjEuNUg3QzYuMTcxNTcgMjEuNSA1LjUgMjAuODI4NCA1LjUgMjBWNEM1LjUgMy4xNzE1NyA2LjE3MTU3IDIuNSA3IDIuNVpNMyA0QzMgMS43OTA4NiA0Ljc5MDg2IDAgNyAwSDE3QzE5LjIwOTEgMCAyMSAxLjc5MDg2IDIxIDRWMjBDMjEgMjIuMjA5MSAxOS4yMDkxIDI0IDE3IDI0SDdDNC43OTA4NiAyNCAzIDIyLjIwOTEgMyAyMFY0Wk0xMSA0LjYxNTM4QzEwLjQ0NzcgNC42MTUzOCAxMCA1LjA2MzEgMTAgNS42MTUzOFY2LjM4NDYyQzEwIDYuOTM2OSAxMC40NDc3IDcuMzg0NjIgMTEgNy4zODQ2MkgxM0MxMy41NTIzIDcuMzg0NjIgMTQgNi45MzY5IDE0IDYuMzg0NjJWNS42MTUzOEMxNCA1LjA2MzEgMTMuNTUyMyA0LjYxNTM4IDEzIDQuNjE1MzhIMTFaIiBmaWxsPSIjRENCOEZGIi8+Cjwvc3ZnPgo=";function fromUint8Array(byteArray){return window.btoa(String.fromCharCode.call(null,...byteArray))}function toUint8Array(base64EncodedByteArray){return new Uint8Array(window.atob(base64EncodedByteArray).split("").map(c=>c.charCodeAt(0)))}var _LocalSolanaMobileWalletAdapterWallet_instances,_LocalSolanaMobileWalletAdapterWallet_listeners,_LocalSolanaMobileWalletAdapterWallet_version,_LocalSolanaMobileWalletAdapterWallet_name,_LocalSolanaMobileWalletAdapterWallet_url,_LocalSolanaMobileWalletAdapterWallet_icon,_LocalSolanaMobileWalletAdapterWallet_appIdentity,_LocalSolanaMobileWalletAdapterWallet_authorization,_LocalSolanaMobileWalletAdapterWallet_authorizationCache,_LocalSolanaMobileWalletAdapterWallet_connecting,_LocalSolanaMobileWalletAdapterWallet_connectionGeneration,_LocalSolanaMobileWalletAdapterWallet_chains,_LocalSolanaMobileWalletAdapterWallet_chainSelector,_LocalSolanaMobileWalletAdapterWallet_optionalFeatures,_LocalSolanaMobileWalletAdapterWallet_onWalletNotFound,_LocalSolanaMobileWalletAdapterWallet_on,_LocalSolanaMobileWalletAdapterWallet_emit,_LocalSolanaMobileWalletAdapterWallet_off,_LocalSolanaMobileWalletAdapterWallet_connect,_LocalSolanaMobileWalletAdapterWallet_performAuthorization,_LocalSolanaMobileWalletAdapterWallet_handleAuthorizationResult,_LocalSolanaMobileWalletAdapterWallet_handleWalletCapabilitiesResult,_LocalSolanaMobileWalletAdapterWallet_performReauthorization,_LocalSolanaMobileWalletAdapterWallet_disconnect,_LocalSolanaMobileWalletAdapterWallet_transact,_LocalSolanaMobileWalletAdapterWallet_assertIsAuthorized,_LocalSolanaMobileWalletAdapterWallet_accountsToWalletStandardAccounts,_LocalSolanaMobileWalletAdapterWallet_performSignTransactions,_LocalSolanaMobileWalletAdapterWallet_performSignAndSendTransaction,_LocalSolanaMobileWalletAdapterWallet_signAndSendTransaction,_LocalSolanaMobileWalletAdapterWallet_signTransaction,_LocalSolanaMobileWalletAdapterWallet_signMessage,_LocalSolanaMobileWalletAdapterWallet_signIn,_LocalSolanaMobileWalletAdapterWallet_performSignIn,_RemoteSolanaMobileWalletAdapterWallet_instances,_RemoteSolanaMobileWalletAdapterWallet_listeners,_RemoteSolanaMobileWalletAdapterWallet_version,_RemoteSolanaMobileWalletAdapterWallet_name,_RemoteSolanaMobileWalletAdapterWallet_url,_RemoteSolanaMobileWalletAdapterWallet_icon,_RemoteSolanaMobileWalletAdapterWallet_appIdentity,_RemoteSolanaMobileWalletAdapterWallet_authorization,_RemoteSolanaMobileWalletAdapterWallet_authorizationCache,_RemoteSolanaMobileWalletAdapterWallet_connecting,_RemoteSolanaMobileWalletAdapterWallet_connectionGeneration,_RemoteSolanaMobileWalletAdapterWallet_chains,_RemoteSolanaMobileWalletAdapterWallet_chainSelector,_RemoteSolanaMobileWalletAdapterWallet_optionalFeatures,_RemoteSolanaMobileWalletAdapterWallet_onWalletNotFound,_RemoteSolanaMobileWalletAdapterWallet_hostAuthority,_RemoteSolanaMobileWalletAdapterWallet_session,_RemoteSolanaMobileWalletAdapterWallet_on,_RemoteSolanaMobileWalletAdapterWallet_emit,_RemoteSolanaMobileWalletAdapterWallet_off,_RemoteSolanaMobileWalletAdapterWallet_connect,_RemoteSolanaMobileWalletAdapterWallet_performAuthorization,_RemoteSolanaMobileWalletAdapterWallet_handleAuthorizationResult,_RemoteSolanaMobileWalletAdapterWallet_handleWalletCapabilitiesResult,_RemoteSolanaMobileWalletAdapterWallet_performReauthorization,_RemoteSolanaMobileWalletAdapterWallet_disconnect,_RemoteSolanaMobileWalletAdapterWallet_transact,_RemoteSolanaMobileWalletAdapterWallet_assertIsAuthorized,_RemoteSolanaMobileWalletAdapterWallet_accountsToWalletStandardAccounts,_RemoteSolanaMobileWalletAdapterWallet_performSignTransactions,_RemoteSolanaMobileWalletAdapterWallet_performSignAndSendTransaction,_RemoteSolanaMobileWalletAdapterWallet_signAndSendTransaction,_RemoteSolanaMobileWalletAdapterWallet_signTransaction,_RemoteSolanaMobileWalletAdapterWallet_signMessage,_RemoteSolanaMobileWalletAdapterWallet_signIn,_RemoteSolanaMobileWalletAdapterWallet_performSignIn;const DEFAULT_FEATURES=[walletStandardFeatures.SolanaSignAndSendTransaction,walletStandardFeatures.SolanaSignTransaction,walletStandardFeatures.SolanaSignMessage,walletStandardFeatures.SolanaSignIn];class LocalSolanaMobileWalletAdapterWallet{constructor(config){_LocalSolanaMobileWalletAdapterWallet_instances.add(this),_LocalSolanaMobileWalletAdapterWallet_listeners.set(this,{}),_LocalSolanaMobileWalletAdapterWallet_version.set(this,"1.0.0"),_LocalSolanaMobileWalletAdapterWallet_name.set(this,"Mobile Wallet Adapter"),_LocalSolanaMobileWalletAdapterWallet_url.set(this,"https://solanamobile.com/wallets"),_LocalSolanaMobileWalletAdapterWallet_icon.set(this,icon),_LocalSolanaMobileWalletAdapterWallet_appIdentity.set(this,void 0),_LocalSolanaMobileWalletAdapterWallet_authorization.set(this,void 0),_LocalSolanaMobileWalletAdapterWallet_authorizationCache.set(this,void 0),_LocalSolanaMobileWalletAdapterWallet_connecting.set(this,!1),_LocalSolanaMobileWalletAdapterWallet_connectionGeneration.set(this,0),_LocalSolanaMobileWalletAdapterWallet_chains.set(this,[]),_LocalSolanaMobileWalletAdapterWallet_chainSelector.set(this,void 0),_LocalSolanaMobileWalletAdapterWallet_optionalFeatures.set(this,void 0),_LocalSolanaMobileWalletAdapterWallet_onWalletNotFound.set(this,void 0),_LocalSolanaMobileWalletAdapterWallet_on.set(this,(event,listener)=>{var _a;return(null===(_a=__classPrivateFieldGet$1(this,_LocalSolanaMobileWalletAdapterWallet_listeners,"f")[event])||void 0===_a?void 0:_a.push(listener))||(__classPrivateFieldGet$1(this,_LocalSolanaMobileWalletAdapterWallet_listeners,"f")[event]=[listener]),()=>__classPrivateFieldGet$1(this,_LocalSolanaMobileWalletAdapterWallet_instances,"m",_LocalSolanaMobileWalletAdapterWallet_off).call(this,event,listener)}),_LocalSolanaMobileWalletAdapterWallet_connect.set(this,({silent}={})=>__awaiter(this,void 0,void 0,function*(){if(__classPrivateFieldGet$1(this,_LocalSolanaMobileWalletAdapterWallet_connecting,"f")||this.connected)return{accounts:this.accounts};__classPrivateFieldSet$1(this,_LocalSolanaMobileWalletAdapterWallet_connecting,!0,"f");try{if(silent){const cachedAuthorization=yield __classPrivateFieldGet$1(this,_LocalSolanaMobileWalletAdapterWallet_authorizationCache,"f").get();if(!cachedAuthorization)return{accounts:this.accounts};yield __classPrivateFieldGet$1(this,_LocalSolanaMobileWalletAdapterWallet_handleWalletCapabilitiesResult,"f").call(this,cachedAuthorization.capabilities),yield __classPrivateFieldGet$1(this,_LocalSolanaMobileWalletAdapterWallet_handleAuthorizationResult,"f").call(this,cachedAuthorization)}else yield __classPrivateFieldGet$1(this,_LocalSolanaMobileWalletAdapterWallet_performAuthorization,"f").call(this)}catch(e){throw new Error(e instanceof Error&&e.message||"Unknown error")}finally{__classPrivateFieldSet$1(this,_LocalSolanaMobileWalletAdapterWallet_connecting,!1,"f")}return{accounts:this.accounts}})),_LocalSolanaMobileWalletAdapterWallet_performAuthorization.set(this,signInPayload=>__awaiter(this,void 0,void 0,function*(){try{const cachedAuthorizationResult=yield __classPrivateFieldGet$1(this,_LocalSolanaMobileWalletAdapterWallet_authorizationCache,"f").get();if(cachedAuthorizationResult)return __classPrivateFieldGet$1(this,_LocalSolanaMobileWalletAdapterWallet_handleAuthorizationResult,"f").call(this,cachedAuthorizationResult),cachedAuthorizationResult;const selectedChain=yield __classPrivateFieldGet$1(this,_LocalSolanaMobileWalletAdapterWallet_chainSelector,"f").select(__classPrivateFieldGet$1(this,_LocalSolanaMobileWalletAdapterWallet_chains,"f"));return yield __classPrivateFieldGet$1(this,_LocalSolanaMobileWalletAdapterWallet_transact,"f").call(this,wallet=>__awaiter(this,void 0,void 0,function*(){const[capabilities,mwaAuthorizationResult]=yield Promise.all([wallet.getCapabilities(),wallet.authorize({chain:selectedChain,identity:__classPrivateFieldGet$1(this,_LocalSolanaMobileWalletAdapterWallet_appIdentity,"f"),sign_in_payload:signInPayload})]),accounts=__classPrivateFieldGet$1(this,_LocalSolanaMobileWalletAdapterWallet_accountsToWalletStandardAccounts,"f").call(this,mwaAuthorizationResult.accounts),authorization=Object.assign(Object.assign({},mwaAuthorizationResult),{accounts,chain:selectedChain,capabilities});return Promise.all([__classPrivateFieldGet$1(this,_LocalSolanaMobileWalletAdapterWallet_handleWalletCapabilitiesResult,"f").call(this,capabilities),__classPrivateFieldGet$1(this,_LocalSolanaMobileWalletAdapterWallet_authorizationCache,"f").set(authorization),__classPrivateFieldGet$1(this,_LocalSolanaMobileWalletAdapterWallet_handleAuthorizationResult,"f").call(this,authorization)]),authorization}))}catch(e){throw new Error(e instanceof Error&&e.message||"Unknown error")}})),_LocalSolanaMobileWalletAdapterWallet_handleAuthorizationResult.set(this,authorization=>__awaiter(this,void 0,void 0,function*(){var _a;const didPublicKeysChange=null==__classPrivateFieldGet$1(this,_LocalSolanaMobileWalletAdapterWallet_authorization,"f")||(null===(_a=__classPrivateFieldGet$1(this,_LocalSolanaMobileWalletAdapterWallet_authorization,"f"))||void 0===_a?void 0:_a.accounts.length)!==authorization.accounts.length||__classPrivateFieldGet$1(this,_LocalSolanaMobileWalletAdapterWallet_authorization,"f").accounts.some((account,ii)=>account.address!==authorization.accounts[ii].address);__classPrivateFieldSet$1(this,_LocalSolanaMobileWalletAdapterWallet_authorization,authorization,"f"),didPublicKeysChange&&__classPrivateFieldGet$1(this,_LocalSolanaMobileWalletAdapterWallet_instances,"m",_LocalSolanaMobileWalletAdapterWallet_emit).call(this,"change",{accounts:this.accounts})})),_LocalSolanaMobileWalletAdapterWallet_handleWalletCapabilitiesResult.set(this,capabilities=>__awaiter(this,void 0,void 0,function*(){const supportsSignTransaction=capabilities.features.includes("solana:signTransactions"),supportsSignAndSendTransaction=capabilities.supports_sign_and_send_transactions,didCapabilitiesChange=walletStandardFeatures.SolanaSignAndSendTransaction in this.features!==supportsSignAndSendTransaction||walletStandardFeatures.SolanaSignTransaction in this.features!==supportsSignTransaction;__classPrivateFieldSet$1(this,_LocalSolanaMobileWalletAdapterWallet_optionalFeatures,Object.assign(Object.assign({},(supportsSignAndSendTransaction||!supportsSignAndSendTransaction&&!supportsSignTransaction)&&{[walletStandardFeatures.SolanaSignAndSendTransaction]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:__classPrivateFieldGet$1(this,_LocalSolanaMobileWalletAdapterWallet_signAndSendTransaction,"f")}}),supportsSignTransaction&&{[walletStandardFeatures.SolanaSignTransaction]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:__classPrivateFieldGet$1(this,_LocalSolanaMobileWalletAdapterWallet_signTransaction,"f")}}),"f"),didCapabilitiesChange&&__classPrivateFieldGet$1(this,_LocalSolanaMobileWalletAdapterWallet_instances,"m",_LocalSolanaMobileWalletAdapterWallet_emit).call(this,"change",{features:this.features})})),_LocalSolanaMobileWalletAdapterWallet_performReauthorization.set(this,(wallet,authToken,chain)=>__awaiter(this,void 0,void 0,function*(){var _b,_c;try{const[capabilities,mwaAuthorizationResult]=yield Promise.all([null!==(_c=null===(_b=__classPrivateFieldGet$1(this,_LocalSolanaMobileWalletAdapterWallet_authorization,"f"))||void 0===_b?void 0:_b.capabilities)&&void 0!==_c?_c:yield wallet.getCapabilities(),wallet.authorize({auth_token:authToken,identity:__classPrivateFieldGet$1(this,_LocalSolanaMobileWalletAdapterWallet_appIdentity,"f"),chain})]),accounts=__classPrivateFieldGet$1(this,_LocalSolanaMobileWalletAdapterWallet_accountsToWalletStandardAccounts,"f").call(this,mwaAuthorizationResult.accounts),authorization=Object.assign(Object.assign({},mwaAuthorizationResult),{accounts,chain,capabilities});Promise.all([__classPrivateFieldGet$1(this,_LocalSolanaMobileWalletAdapterWallet_authorizationCache,"f").set(authorization),__classPrivateFieldGet$1(this,_LocalSolanaMobileWalletAdapterWallet_handleAuthorizationResult,"f").call(this,authorization)])}catch(e){throw __classPrivateFieldGet$1(this,_LocalSolanaMobileWalletAdapterWallet_disconnect,"f").call(this),new Error(e instanceof Error&&e.message||"Unknown error")}})),_LocalSolanaMobileWalletAdapterWallet_disconnect.set(this,()=>__awaiter(this,void 0,void 0,function*(){var _d;__classPrivateFieldGet$1(this,_LocalSolanaMobileWalletAdapterWallet_authorizationCache,"f").clear(),__classPrivateFieldSet$1(this,_LocalSolanaMobileWalletAdapterWallet_connecting,!1,"f"),__classPrivateFieldSet$1(this,_LocalSolanaMobileWalletAdapterWallet_connectionGeneration,(_d=__classPrivateFieldGet$1(this,_LocalSolanaMobileWalletAdapterWallet_connectionGeneration,"f"),++_d),"f"),__classPrivateFieldSet$1(this,_LocalSolanaMobileWalletAdapterWallet_authorization,void 0,"f"),__classPrivateFieldGet$1(this,_LocalSolanaMobileWalletAdapterWallet_instances,"m",_LocalSolanaMobileWalletAdapterWallet_emit).call(this,"change",{accounts:this.accounts})})),_LocalSolanaMobileWalletAdapterWallet_transact.set(this,callback=>__awaiter(this,void 0,void 0,function*(){var _e;const walletUriBase=null===(_e=__classPrivateFieldGet$1(this,_LocalSolanaMobileWalletAdapterWallet_authorization,"f"))||void 0===_e?void 0:_e.wallet_uri_base,config=walletUriBase?{baseUri:walletUriBase}:void 0,currentConnectionGeneration=__classPrivateFieldGet$1(this,_LocalSolanaMobileWalletAdapterWallet_connectionGeneration,"f");try{return yield mobileWalletAdapterProtocol.transact(callback,config)}catch(e){throw __classPrivateFieldGet$1(this,_LocalSolanaMobileWalletAdapterWallet_connectionGeneration,"f")!==currentConnectionGeneration&&(yield new Promise(()=>{})),e instanceof Error&&"SolanaMobileWalletAdapterError"===e.name&&"ERROR_WALLET_NOT_FOUND"===e.code&&(yield __classPrivateFieldGet$1(this,_LocalSolanaMobileWalletAdapterWallet_onWalletNotFound,"f").call(this,this)),e}})),_LocalSolanaMobileWalletAdapterWallet_assertIsAuthorized.set(this,()=>{if(!__classPrivateFieldGet$1(this,_LocalSolanaMobileWalletAdapterWallet_authorization,"f"))throw new Error("Wallet not connected");return{authToken:__classPrivateFieldGet$1(this,_LocalSolanaMobileWalletAdapterWallet_authorization,"f").auth_token,chain:__classPrivateFieldGet$1(this,_LocalSolanaMobileWalletAdapterWallet_authorization,"f").chain}}),_LocalSolanaMobileWalletAdapterWallet_accountsToWalletStandardAccounts.set(this,accounts=>accounts.map(account=>{var _a,_b;const publicKey=toUint8Array(account.address);return{address:base58__default.default.encode(publicKey),publicKey,label:account.label,icon:account.icon,chains:null!==(_a=account.chains)&&void 0!==_a?_a:__classPrivateFieldGet$1(this,_LocalSolanaMobileWalletAdapterWallet_chains,"f"),features:null!==(_b=account.features)&&void 0!==_b?_b:DEFAULT_FEATURES}})),_LocalSolanaMobileWalletAdapterWallet_performSignTransactions.set(this,transactions=>__awaiter(this,void 0,void 0,function*(){const{authToken,chain}=__classPrivateFieldGet$1(this,_LocalSolanaMobileWalletAdapterWallet_assertIsAuthorized,"f").call(this);try{const base64Transactions=transactions.map(tx=>fromUint8Array(tx));return yield __classPrivateFieldGet$1(this,_LocalSolanaMobileWalletAdapterWallet_transact,"f").call(this,wallet=>__awaiter(this,void 0,void 0,function*(){yield __classPrivateFieldGet$1(this,_LocalSolanaMobileWalletAdapterWallet_performReauthorization,"f").call(this,wallet,authToken,chain);return(yield wallet.signTransactions({payloads:base64Transactions})).signed_payloads.map(toUint8Array)}))}catch(e){throw new Error(e instanceof Error&&e.message||"Unknown error")}})),_LocalSolanaMobileWalletAdapterWallet_performSignAndSendTransaction.set(this,(transaction,options)=>__awaiter(this,void 0,void 0,function*(){const{authToken,chain}=__classPrivateFieldGet$1(this,_LocalSolanaMobileWalletAdapterWallet_assertIsAuthorized,"f").call(this);try{return yield __classPrivateFieldGet$1(this,_LocalSolanaMobileWalletAdapterWallet_transact,"f").call(this,wallet=>__awaiter(this,void 0,void 0,function*(){const[capabilities,_1]=yield Promise.all([wallet.getCapabilities(),__classPrivateFieldGet$1(this,_LocalSolanaMobileWalletAdapterWallet_performReauthorization,"f").call(this,wallet,authToken,chain)]);if(capabilities.supports_sign_and_send_transactions){const base64Transaction=fromUint8Array(transaction);return(yield wallet.signAndSendTransactions(Object.assign(Object.assign({},options),{payloads:[base64Transaction]}))).signatures.map(toUint8Array)[0]}throw new Error("connected wallet does not support signAndSendTransaction")}))}catch(e){throw new Error(e instanceof Error&&e.message||"Unknown error")}})),_LocalSolanaMobileWalletAdapterWallet_signAndSendTransaction.set(this,(...inputs)=>__awaiter(this,void 0,void 0,function*(){const outputs=[];for(const input of inputs){const signature=yield __classPrivateFieldGet$1(this,_LocalSolanaMobileWalletAdapterWallet_performSignAndSendTransaction,"f").call(this,input.transaction,input.options);outputs.push({signature})}return outputs})),_LocalSolanaMobileWalletAdapterWallet_signTransaction.set(this,(...inputs)=>__awaiter(this,void 0,void 0,function*(){return(yield __classPrivateFieldGet$1(this,_LocalSolanaMobileWalletAdapterWallet_performSignTransactions,"f").call(this,inputs.map(({transaction})=>transaction))).map(signedTransaction=>({signedTransaction}))})),_LocalSolanaMobileWalletAdapterWallet_signMessage.set(this,(...inputs)=>__awaiter(this,void 0,void 0,function*(){const{authToken,chain}=__classPrivateFieldGet$1(this,_LocalSolanaMobileWalletAdapterWallet_assertIsAuthorized,"f").call(this),addresses=inputs.map(({account})=>fromUint8Array(account.publicKey)),messages=inputs.map(({message})=>fromUint8Array(message));try{return yield __classPrivateFieldGet$1(this,_LocalSolanaMobileWalletAdapterWallet_transact,"f").call(this,wallet=>__awaiter(this,void 0,void 0,function*(){yield __classPrivateFieldGet$1(this,_LocalSolanaMobileWalletAdapterWallet_performReauthorization,"f").call(this,wallet,authToken,chain);return(yield wallet.signMessages({addresses,payloads:messages})).signed_payloads.map(toUint8Array).map(signedMessage=>({signedMessage,signature:signedMessage.slice(-64)}))}))}catch(e){throw new Error(e instanceof Error&&e.message||"Unknown error")}})),_LocalSolanaMobileWalletAdapterWallet_signIn.set(this,(...inputs)=>__awaiter(this,void 0,void 0,function*(){const outputs=[];if(!(inputs.length>1))return[yield __classPrivateFieldGet$1(this,_LocalSolanaMobileWalletAdapterWallet_performSignIn,"f").call(this,inputs[0])];for(const input of inputs)outputs.push(yield __classPrivateFieldGet$1(this,_LocalSolanaMobileWalletAdapterWallet_performSignIn,"f").call(this,input));return outputs})),_LocalSolanaMobileWalletAdapterWallet_performSignIn.set(this,input=>__awaiter(this,void 0,void 0,function*(){var _f,_g,_h;__classPrivateFieldSet$1(this,_LocalSolanaMobileWalletAdapterWallet_connecting,!0,"f");try{const authorizationResult=yield __classPrivateFieldGet$1(this,_LocalSolanaMobileWalletAdapterWallet_performAuthorization,"f").call(this,Object.assign(Object.assign({},input),{domain:null!==(_f=null==input?void 0:input.domain)&&void 0!==_f?_f:window.location.host}));if(!authorizationResult.sign_in_result)throw new Error("Sign in failed, no sign in result returned by wallet");const signedInAddress=authorizationResult.sign_in_result.address,signedInAccount=authorizationResult.accounts.find(acc=>acc.address==signedInAddress);return{account:Object.assign(Object.assign({},null!=signedInAccount?signedInAccount:{address:base58__default.default.encode(toUint8Array(signedInAddress))}),{publicKey:toUint8Array(signedInAddress),chains:null!==(_g=null==signedInAccount?void 0:signedInAccount.chains)&&void 0!==_g?_g:__classPrivateFieldGet$1(this,_LocalSolanaMobileWalletAdapterWallet_chains,"f"),features:null!==(_h=null==signedInAccount?void 0:signedInAccount.features)&&void 0!==_h?_h:authorizationResult.capabilities.features}),signedMessage:toUint8Array(authorizationResult.sign_in_result.signed_message),signature:toUint8Array(authorizationResult.sign_in_result.signature)}}catch(e){throw new Error(e instanceof Error&&e.message||"Unknown error")}finally{__classPrivateFieldSet$1(this,_LocalSolanaMobileWalletAdapterWallet_connecting,!1,"f")}})),__classPrivateFieldSet$1(this,_LocalSolanaMobileWalletAdapterWallet_authorizationCache,config.authorizationCache,"f"),__classPrivateFieldSet$1(this,_LocalSolanaMobileWalletAdapterWallet_appIdentity,config.appIdentity,"f"),__classPrivateFieldSet$1(this,_LocalSolanaMobileWalletAdapterWallet_chains,config.chains,"f"),__classPrivateFieldSet$1(this,_LocalSolanaMobileWalletAdapterWallet_chainSelector,config.chainSelector,"f"),__classPrivateFieldSet$1(this,_LocalSolanaMobileWalletAdapterWallet_onWalletNotFound,config.onWalletNotFound,"f"),__classPrivateFieldSet$1(this,_LocalSolanaMobileWalletAdapterWallet_optionalFeatures,{[walletStandardFeatures.SolanaSignAndSendTransaction]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:__classPrivateFieldGet$1(this,_LocalSolanaMobileWalletAdapterWallet_signAndSendTransaction,"f")},[walletStandardFeatures.SolanaSignTransaction]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:__classPrivateFieldGet$1(this,_LocalSolanaMobileWalletAdapterWallet_signTransaction,"f")}},"f")}get version(){return __classPrivateFieldGet$1(this,_LocalSolanaMobileWalletAdapterWallet_version,"f")}get name(){return __classPrivateFieldGet$1(this,_LocalSolanaMobileWalletAdapterWallet_name,"f")}get url(){return __classPrivateFieldGet$1(this,_LocalSolanaMobileWalletAdapterWallet_url,"f")}get icon(){return __classPrivateFieldGet$1(this,_LocalSolanaMobileWalletAdapterWallet_icon,"f")}get chains(){return __classPrivateFieldGet$1(this,_LocalSolanaMobileWalletAdapterWallet_chains,"f")}get features(){return Object.assign({[features.StandardConnect]:{version:"1.0.0",connect:__classPrivateFieldGet$1(this,_LocalSolanaMobileWalletAdapterWallet_connect,"f")},[features.StandardDisconnect]:{version:"1.0.0",disconnect:__classPrivateFieldGet$1(this,_LocalSolanaMobileWalletAdapterWallet_disconnect,"f")},[features.StandardEvents]:{version:"1.0.0",on:__classPrivateFieldGet$1(this,_LocalSolanaMobileWalletAdapterWallet_on,"f")},[walletStandardFeatures.SolanaSignMessage]:{version:"1.0.0",signMessage:__classPrivateFieldGet$1(this,_LocalSolanaMobileWalletAdapterWallet_signMessage,"f")},[walletStandardFeatures.SolanaSignIn]:{version:"1.0.0",signIn:__classPrivateFieldGet$1(this,_LocalSolanaMobileWalletAdapterWallet_signIn,"f")}},__classPrivateFieldGet$1(this,_LocalSolanaMobileWalletAdapterWallet_optionalFeatures,"f"))}get accounts(){var _a,_b;return null!==(_b=null===(_a=__classPrivateFieldGet$1(this,_LocalSolanaMobileWalletAdapterWallet_authorization,"f"))||void 0===_a?void 0:_a.accounts)&&void 0!==_b?_b:[]}get connected(){return!!__classPrivateFieldGet$1(this,_LocalSolanaMobileWalletAdapterWallet_authorization,"f")}get isAuthorized(){return!!__classPrivateFieldGet$1(this,_LocalSolanaMobileWalletAdapterWallet_authorization,"f")}get currentAuthorization(){return __classPrivateFieldGet$1(this,_LocalSolanaMobileWalletAdapterWallet_authorization,"f")}get cachedAuthorizationResult(){return __classPrivateFieldGet$1(this,_LocalSolanaMobileWalletAdapterWallet_authorizationCache,"f").get()}}_LocalSolanaMobileWalletAdapterWallet_listeners=new WeakMap,_LocalSolanaMobileWalletAdapterWallet_version=new WeakMap,_LocalSolanaMobileWalletAdapterWallet_name=new WeakMap,_LocalSolanaMobileWalletAdapterWallet_url=new WeakMap,_LocalSolanaMobileWalletAdapterWallet_icon=new WeakMap,_LocalSolanaMobileWalletAdapterWallet_appIdentity=new WeakMap,_LocalSolanaMobileWalletAdapterWallet_authorization=new WeakMap,_LocalSolanaMobileWalletAdapterWallet_authorizationCache=new WeakMap,_LocalSolanaMobileWalletAdapterWallet_connecting=new WeakMap,_LocalSolanaMobileWalletAdapterWallet_connectionGeneration=new WeakMap,_LocalSolanaMobileWalletAdapterWallet_chains=new WeakMap,_LocalSolanaMobileWalletAdapterWallet_chainSelector=new WeakMap,_LocalSolanaMobileWalletAdapterWallet_optionalFeatures=new WeakMap,_LocalSolanaMobileWalletAdapterWallet_onWalletNotFound=new WeakMap,_LocalSolanaMobileWalletAdapterWallet_on=new WeakMap,_LocalSolanaMobileWalletAdapterWallet_connect=new WeakMap,_LocalSolanaMobileWalletAdapterWallet_performAuthorization=new WeakMap,_LocalSolanaMobileWalletAdapterWallet_handleAuthorizationResult=new WeakMap,_LocalSolanaMobileWalletAdapterWallet_handleWalletCapabilitiesResult=new WeakMap,_LocalSolanaMobileWalletAdapterWallet_performReauthorization=new WeakMap,_LocalSolanaMobileWalletAdapterWallet_disconnect=new WeakMap,_LocalSolanaMobileWalletAdapterWallet_transact=new WeakMap,_LocalSolanaMobileWalletAdapterWallet_assertIsAuthorized=new WeakMap,_LocalSolanaMobileWalletAdapterWallet_accountsToWalletStandardAccounts=new WeakMap,_LocalSolanaMobileWalletAdapterWallet_performSignTransactions=new WeakMap,_LocalSolanaMobileWalletAdapterWallet_performSignAndSendTransaction=new WeakMap,_LocalSolanaMobileWalletAdapterWallet_signAndSendTransaction=new WeakMap,_LocalSolanaMobileWalletAdapterWallet_signTransaction=new WeakMap,_LocalSolanaMobileWalletAdapterWallet_signMessage=new WeakMap,_LocalSolanaMobileWalletAdapterWallet_signIn=new WeakMap,_LocalSolanaMobileWalletAdapterWallet_performSignIn=new WeakMap,_LocalSolanaMobileWalletAdapterWallet_instances=new WeakSet,_LocalSolanaMobileWalletAdapterWallet_emit=function _LocalSolanaMobileWalletAdapterWallet_emit(event,...args){var _a;null===(_a=__classPrivateFieldGet$1(this,_LocalSolanaMobileWalletAdapterWallet_listeners,"f")[event])||void 0===_a||_a.forEach(listener=>listener.apply(null,args))},_LocalSolanaMobileWalletAdapterWallet_off=function _LocalSolanaMobileWalletAdapterWallet_off(event,listener){var _a;__classPrivateFieldGet$1(this,_LocalSolanaMobileWalletAdapterWallet_listeners,"f")[event]=null===(_a=__classPrivateFieldGet$1(this,_LocalSolanaMobileWalletAdapterWallet_listeners,"f")[event])||void 0===_a?void 0:_a.filter(existingListener=>listener!==existingListener)};class RemoteSolanaMobileWalletAdapterWallet{constructor(config){_RemoteSolanaMobileWalletAdapterWallet_instances.add(this),_RemoteSolanaMobileWalletAdapterWallet_listeners.set(this,{}),_RemoteSolanaMobileWalletAdapterWallet_version.set(this,"1.0.0"),_RemoteSolanaMobileWalletAdapterWallet_name.set(this,"Mobile Wallet Adapter"),_RemoteSolanaMobileWalletAdapterWallet_url.set(this,"https://solanamobile.com/wallets"),_RemoteSolanaMobileWalletAdapterWallet_icon.set(this,icon),_RemoteSolanaMobileWalletAdapterWallet_appIdentity.set(this,void 0),_RemoteSolanaMobileWalletAdapterWallet_authorization.set(this,void 0),_RemoteSolanaMobileWalletAdapterWallet_authorizationCache.set(this,void 0),_RemoteSolanaMobileWalletAdapterWallet_connecting.set(this,!1),_RemoteSolanaMobileWalletAdapterWallet_connectionGeneration.set(this,0),_RemoteSolanaMobileWalletAdapterWallet_chains.set(this,[]),_RemoteSolanaMobileWalletAdapterWallet_chainSelector.set(this,void 0),_RemoteSolanaMobileWalletAdapterWallet_optionalFeatures.set(this,void 0),_RemoteSolanaMobileWalletAdapterWallet_onWalletNotFound.set(this,void 0),_RemoteSolanaMobileWalletAdapterWallet_hostAuthority.set(this,void 0),_RemoteSolanaMobileWalletAdapterWallet_session.set(this,void 0),_RemoteSolanaMobileWalletAdapterWallet_on.set(this,(event,listener)=>{var _a;return(null===(_a=__classPrivateFieldGet$1(this,_RemoteSolanaMobileWalletAdapterWallet_listeners,"f")[event])||void 0===_a?void 0:_a.push(listener))||(__classPrivateFieldGet$1(this,_RemoteSolanaMobileWalletAdapterWallet_listeners,"f")[event]=[listener]),()=>__classPrivateFieldGet$1(this,_RemoteSolanaMobileWalletAdapterWallet_instances,"m",_RemoteSolanaMobileWalletAdapterWallet_off).call(this,event,listener)}),_RemoteSolanaMobileWalletAdapterWallet_connect.set(this,({silent}={})=>__awaiter(this,void 0,void 0,function*(){if(__classPrivateFieldGet$1(this,_RemoteSolanaMobileWalletAdapterWallet_connecting,"f")||this.connected)return{accounts:this.accounts};__classPrivateFieldSet$1(this,_RemoteSolanaMobileWalletAdapterWallet_connecting,!0,"f");try{yield __classPrivateFieldGet$1(this,_RemoteSolanaMobileWalletAdapterWallet_performAuthorization,"f").call(this)}catch(e){throw new Error(e instanceof Error&&e.message||"Unknown error")}finally{__classPrivateFieldSet$1(this,_RemoteSolanaMobileWalletAdapterWallet_connecting,!1,"f")}return{accounts:this.accounts}})),_RemoteSolanaMobileWalletAdapterWallet_performAuthorization.set(this,signInPayload=>__awaiter(this,void 0,void 0,function*(){try{const cachedAuthorizationResult=yield __classPrivateFieldGet$1(this,_RemoteSolanaMobileWalletAdapterWallet_authorizationCache,"f").get();if(cachedAuthorizationResult)return __classPrivateFieldGet$1(this,_RemoteSolanaMobileWalletAdapterWallet_handleAuthorizationResult,"f").call(this,cachedAuthorizationResult),cachedAuthorizationResult;__classPrivateFieldGet$1(this,_RemoteSolanaMobileWalletAdapterWallet_session,"f")&&__classPrivateFieldSet$1(this,_RemoteSolanaMobileWalletAdapterWallet_session,void 0,"f");const selectedChain=yield __classPrivateFieldGet$1(this,_RemoteSolanaMobileWalletAdapterWallet_chainSelector,"f").select(__classPrivateFieldGet$1(this,_RemoteSolanaMobileWalletAdapterWallet_chains,"f"));return yield __classPrivateFieldGet$1(this,_RemoteSolanaMobileWalletAdapterWallet_transact,"f").call(this,wallet=>__awaiter(this,void 0,void 0,function*(){const[capabilities,mwaAuthorizationResult]=yield Promise.all([wallet.getCapabilities(),wallet.authorize({chain:selectedChain,identity:__classPrivateFieldGet$1(this,_RemoteSolanaMobileWalletAdapterWallet_appIdentity,"f"),sign_in_payload:signInPayload})]),accounts=__classPrivateFieldGet$1(this,_RemoteSolanaMobileWalletAdapterWallet_accountsToWalletStandardAccounts,"f").call(this,mwaAuthorizationResult.accounts),authorizationResult=Object.assign(Object.assign({},mwaAuthorizationResult),{accounts,chain:selectedChain,capabilities});return Promise.all([__classPrivateFieldGet$1(this,_RemoteSolanaMobileWalletAdapterWallet_handleWalletCapabilitiesResult,"f").call(this,capabilities),__classPrivateFieldGet$1(this,_RemoteSolanaMobileWalletAdapterWallet_authorizationCache,"f").set(authorizationResult),__classPrivateFieldGet$1(this,_RemoteSolanaMobileWalletAdapterWallet_handleAuthorizationResult,"f").call(this,authorizationResult)]),authorizationResult}))}catch(e){throw new Error(e instanceof Error&&e.message||"Unknown error")}})),_RemoteSolanaMobileWalletAdapterWallet_handleAuthorizationResult.set(this,authorization=>__awaiter(this,void 0,void 0,function*(){var _a;const didPublicKeysChange=null==__classPrivateFieldGet$1(this,_RemoteSolanaMobileWalletAdapterWallet_authorization,"f")||(null===(_a=__classPrivateFieldGet$1(this,_RemoteSolanaMobileWalletAdapterWallet_authorization,"f"))||void 0===_a?void 0:_a.accounts.length)!==authorization.accounts.length||__classPrivateFieldGet$1(this,_RemoteSolanaMobileWalletAdapterWallet_authorization,"f").accounts.some((account,ii)=>account.address!==authorization.accounts[ii].address);__classPrivateFieldSet$1(this,_RemoteSolanaMobileWalletAdapterWallet_authorization,authorization,"f"),didPublicKeysChange&&__classPrivateFieldGet$1(this,_RemoteSolanaMobileWalletAdapterWallet_instances,"m",_RemoteSolanaMobileWalletAdapterWallet_emit).call(this,"change",{accounts:this.accounts})})),_RemoteSolanaMobileWalletAdapterWallet_handleWalletCapabilitiesResult.set(this,capabilities=>__awaiter(this,void 0,void 0,function*(){const supportsSignTransaction=capabilities.features.includes("solana:signTransactions"),supportsSignAndSendTransaction=capabilities.supports_sign_and_send_transactions||capabilities.features.includes("solana:signAndSendTransaction"),didCapabilitiesChange=walletStandardFeatures.SolanaSignAndSendTransaction in this.features!==supportsSignAndSendTransaction||walletStandardFeatures.SolanaSignTransaction in this.features!==supportsSignTransaction;__classPrivateFieldSet$1(this,_RemoteSolanaMobileWalletAdapterWallet_optionalFeatures,Object.assign(Object.assign({},supportsSignAndSendTransaction&&{[walletStandardFeatures.SolanaSignAndSendTransaction]:{version:"1.0.0",supportedTransactionVersions:capabilities.supported_transaction_versions,signAndSendTransaction:__classPrivateFieldGet$1(this,_RemoteSolanaMobileWalletAdapterWallet_signAndSendTransaction,"f")}}),supportsSignTransaction&&{[walletStandardFeatures.SolanaSignTransaction]:{version:"1.0.0",supportedTransactionVersions:capabilities.supported_transaction_versions,signTransaction:__classPrivateFieldGet$1(this,_RemoteSolanaMobileWalletAdapterWallet_signTransaction,"f")}}),"f"),didCapabilitiesChange&&__classPrivateFieldGet$1(this,_RemoteSolanaMobileWalletAdapterWallet_instances,"m",_RemoteSolanaMobileWalletAdapterWallet_emit).call(this,"change",{features:this.features})})),_RemoteSolanaMobileWalletAdapterWallet_performReauthorization.set(this,(wallet,authToken,chain)=>__awaiter(this,void 0,void 0,function*(){var _b,_c;try{const[capabilities,mwaAuthorizationResult]=yield Promise.all([null!==(_c=null===(_b=__classPrivateFieldGet$1(this,_RemoteSolanaMobileWalletAdapterWallet_authorization,"f"))||void 0===_b?void 0:_b.capabilities)&&void 0!==_c?_c:yield wallet.getCapabilities(),wallet.authorize({auth_token:authToken,identity:__classPrivateFieldGet$1(this,_RemoteSolanaMobileWalletAdapterWallet_appIdentity,"f"),chain})]),accounts=__classPrivateFieldGet$1(this,_RemoteSolanaMobileWalletAdapterWallet_accountsToWalletStandardAccounts,"f").call(this,mwaAuthorizationResult.accounts),authorization=Object.assign(Object.assign({},mwaAuthorizationResult),{accounts,chain,capabilities});Promise.all([__classPrivateFieldGet$1(this,_RemoteSolanaMobileWalletAdapterWallet_authorizationCache,"f").set(authorization),__classPrivateFieldGet$1(this,_RemoteSolanaMobileWalletAdapterWallet_handleAuthorizationResult,"f").call(this,authorization)])}catch(e){throw __classPrivateFieldGet$1(this,_RemoteSolanaMobileWalletAdapterWallet_disconnect,"f").call(this),new Error(e instanceof Error&&e.message||"Unknown error")}})),_RemoteSolanaMobileWalletAdapterWallet_disconnect.set(this,()=>__awaiter(this,void 0,void 0,function*(){var _d,_e;null===(_d=__classPrivateFieldGet$1(this,_RemoteSolanaMobileWalletAdapterWallet_session,"f"))||void 0===_d||_d.close(),__classPrivateFieldGet$1(this,_RemoteSolanaMobileWalletAdapterWallet_authorizationCache,"f").clear(),__classPrivateFieldSet$1(this,_RemoteSolanaMobileWalletAdapterWallet_connecting,!1,"f"),__classPrivateFieldSet$1(this,_RemoteSolanaMobileWalletAdapterWallet_connectionGeneration,(_e=__classPrivateFieldGet$1(this,_RemoteSolanaMobileWalletAdapterWallet_connectionGeneration,"f"),++_e),"f"),__classPrivateFieldSet$1(this,_RemoteSolanaMobileWalletAdapterWallet_authorization,void 0,"f"),__classPrivateFieldSet$1(this,_RemoteSolanaMobileWalletAdapterWallet_session,void 0,"f"),__classPrivateFieldGet$1(this,_RemoteSolanaMobileWalletAdapterWallet_instances,"m",_RemoteSolanaMobileWalletAdapterWallet_emit).call(this,"change",{accounts:this.accounts})})),_RemoteSolanaMobileWalletAdapterWallet_transact.set(this,callback=>__awaiter(this,void 0,void 0,function*(){var _f;const walletUriBase=null===(_f=__classPrivateFieldGet$1(this,_RemoteSolanaMobileWalletAdapterWallet_authorization,"f"))||void 0===_f?void 0:_f.wallet_uri_base,baseConfig=walletUriBase?{baseUri:walletUriBase}:void 0,remoteConfig=Object.assign(Object.assign({},baseConfig),{remoteHostAuthority:__classPrivateFieldGet$1(this,_RemoteSolanaMobileWalletAdapterWallet_hostAuthority,"f")}),currentConnectionGeneration=__classPrivateFieldGet$1(this,_RemoteSolanaMobileWalletAdapterWallet_connectionGeneration,"f"),modal=new RemoteConnectionModal;if(__classPrivateFieldGet$1(this,_RemoteSolanaMobileWalletAdapterWallet_session,"f"))return callback(__classPrivateFieldGet$1(this,_RemoteSolanaMobileWalletAdapterWallet_session,"f").wallet);try{const{associationUrl,close,wallet}=yield mobileWalletAdapterProtocol.startRemoteScenario(remoteConfig),removeCloseListener=modal.addEventListener("close",event=>{event&&close()});return modal.initWithQR(associationUrl.toString()),modal.open(),__classPrivateFieldSet$1(this,_RemoteSolanaMobileWalletAdapterWallet_session,{close,wallet:yield wallet},"f"),removeCloseListener(),modal.close(),yield callback(__classPrivateFieldGet$1(this,_RemoteSolanaMobileWalletAdapterWallet_session,"f").wallet)}catch(e){throw modal.close(),__classPrivateFieldGet$1(this,_RemoteSolanaMobileWalletAdapterWallet_connectionGeneration,"f")!==currentConnectionGeneration&&(yield new Promise(()=>{})),e instanceof Error&&"SolanaMobileWalletAdapterError"===e.name&&"ERROR_WALLET_NOT_FOUND"===e.code&&(yield __classPrivateFieldGet$1(this,_RemoteSolanaMobileWalletAdapterWallet_onWalletNotFound,"f").call(this,this)),e}})),_RemoteSolanaMobileWalletAdapterWallet_assertIsAuthorized.set(this,()=>{if(!__classPrivateFieldGet$1(this,_RemoteSolanaMobileWalletAdapterWallet_authorization,"f"))throw new Error("Wallet not connected");return{authToken:__classPrivateFieldGet$1(this,_RemoteSolanaMobileWalletAdapterWallet_authorization,"f").auth_token,chain:__classPrivateFieldGet$1(this,_RemoteSolanaMobileWalletAdapterWallet_authorization,"f").chain}}),_RemoteSolanaMobileWalletAdapterWallet_accountsToWalletStandardAccounts.set(this,accounts=>accounts.map(account=>{var _a,_b;const publicKey=toUint8Array(account.address);return{address:base58__default.default.encode(publicKey),publicKey,label:account.label,icon:account.icon,chains:null!==(_a=account.chains)&&void 0!==_a?_a:__classPrivateFieldGet$1(this,_RemoteSolanaMobileWalletAdapterWallet_chains,"f"),features:null!==(_b=account.features)&&void 0!==_b?_b:DEFAULT_FEATURES}})),_RemoteSolanaMobileWalletAdapterWallet_performSignTransactions.set(this,transactions=>__awaiter(this,void 0,void 0,function*(){const{authToken,chain}=__classPrivateFieldGet$1(this,_RemoteSolanaMobileWalletAdapterWallet_assertIsAuthorized,"f").call(this);try{return yield __classPrivateFieldGet$1(this,_RemoteSolanaMobileWalletAdapterWallet_transact,"f").call(this,wallet=>__awaiter(this,void 0,void 0,function*(){yield __classPrivateFieldGet$1(this,_RemoteSolanaMobileWalletAdapterWallet_performReauthorization,"f").call(this,wallet,authToken,chain);return(yield wallet.signTransactions({payloads:transactions.map(fromUint8Array)})).signed_payloads.map(toUint8Array)}))}catch(e){throw new Error(e instanceof Error&&e.message||"Unknown error")}})),_RemoteSolanaMobileWalletAdapterWallet_performSignAndSendTransaction.set(this,(transaction,options)=>__awaiter(this,void 0,void 0,function*(){const{authToken,chain}=__classPrivateFieldGet$1(this,_RemoteSolanaMobileWalletAdapterWallet_assertIsAuthorized,"f").call(this);try{return yield __classPrivateFieldGet$1(this,_RemoteSolanaMobileWalletAdapterWallet_transact,"f").call(this,wallet=>__awaiter(this,void 0,void 0,function*(){const[capabilities,_1]=yield Promise.all([wallet.getCapabilities(),__classPrivateFieldGet$1(this,_RemoteSolanaMobileWalletAdapterWallet_performReauthorization,"f").call(this,wallet,authToken,chain)]);if(capabilities.supports_sign_and_send_transactions){return(yield wallet.signAndSendTransactions(Object.assign(Object.assign({},options),{payloads:[fromUint8Array(transaction)]}))).signatures.map(toUint8Array)[0]}throw new Error("connected wallet does not support signAndSendTransaction")}))}catch(e){throw new Error(e instanceof Error&&e.message||"Unknown error")}})),_RemoteSolanaMobileWalletAdapterWallet_signAndSendTransaction.set(this,(...inputs)=>__awaiter(this,void 0,void 0,function*(){const outputs=[];for(const input of inputs){const signature=yield __classPrivateFieldGet$1(this,_RemoteSolanaMobileWalletAdapterWallet_performSignAndSendTransaction,"f").call(this,input.transaction,input.options);outputs.push({signature})}return outputs})),_RemoteSolanaMobileWalletAdapterWallet_signTransaction.set(this,(...inputs)=>__awaiter(this,void 0,void 0,function*(){return(yield __classPrivateFieldGet$1(this,_RemoteSolanaMobileWalletAdapterWallet_performSignTransactions,"f").call(this,inputs.map(({transaction})=>transaction))).map(signedTransaction=>({signedTransaction}))})),_RemoteSolanaMobileWalletAdapterWallet_signMessage.set(this,(...inputs)=>__awaiter(this,void 0,void 0,function*(){const{authToken,chain}=__classPrivateFieldGet$1(this,_RemoteSolanaMobileWalletAdapterWallet_assertIsAuthorized,"f").call(this),addresses=inputs.map(({account})=>fromUint8Array(account.publicKey)),messages=inputs.map(({message})=>fromUint8Array(message));try{return yield __classPrivateFieldGet$1(this,_RemoteSolanaMobileWalletAdapterWallet_transact,"f").call(this,wallet=>__awaiter(this,void 0,void 0,function*(){yield __classPrivateFieldGet$1(this,_RemoteSolanaMobileWalletAdapterWallet_performReauthorization,"f").call(this,wallet,authToken,chain);return(yield wallet.signMessages({addresses,payloads:messages})).signed_payloads.map(toUint8Array).map(signedMessage=>({signedMessage,signature:signedMessage.slice(-64)}))}))}catch(e){throw new Error(e instanceof Error&&e.message||"Unknown error")}})),_RemoteSolanaMobileWalletAdapterWallet_signIn.set(this,(...inputs)=>__awaiter(this,void 0,void 0,function*(){const outputs=[];if(!(inputs.length>1))return[yield __classPrivateFieldGet$1(this,_RemoteSolanaMobileWalletAdapterWallet_performSignIn,"f").call(this,inputs[0])];for(const input of inputs)outputs.push(yield __classPrivateFieldGet$1(this,_RemoteSolanaMobileWalletAdapterWallet_performSignIn,"f").call(this,input));return outputs})),_RemoteSolanaMobileWalletAdapterWallet_performSignIn.set(this,input=>__awaiter(this,void 0,void 0,function*(){var _g,_h,_j;__classPrivateFieldSet$1(this,_RemoteSolanaMobileWalletAdapterWallet_connecting,!0,"f");try{const authorizationResult=yield __classPrivateFieldGet$1(this,_RemoteSolanaMobileWalletAdapterWallet_performAuthorization,"f").call(this,Object.assign(Object.assign({},input),{domain:null!==(_g=null==input?void 0:input.domain)&&void 0!==_g?_g:window.location.host}));if(!authorizationResult.sign_in_result)throw new Error("Sign in failed, no sign in result returned by wallet");const signedInAddress=authorizationResult.sign_in_result.address,signedInAccount=authorizationResult.accounts.find(acc=>acc.address==signedInAddress);return{account:Object.assign(Object.assign({},null!=signedInAccount?signedInAccount:{address:base58__default.default.encode(toUint8Array(signedInAddress))}),{publicKey:toUint8Array(signedInAddress),chains:null!==(_h=null==signedInAccount?void 0:signedInAccount.chains)&&void 0!==_h?_h:__classPrivateFieldGet$1(this,_RemoteSolanaMobileWalletAdapterWallet_chains,"f"),features:null!==(_j=null==signedInAccount?void 0:signedInAccount.features)&&void 0!==_j?_j:authorizationResult.capabilities.features}),signedMessage:toUint8Array(authorizationResult.sign_in_result.signed_message),signature:toUint8Array(authorizationResult.sign_in_result.signature)}}catch(e){throw new Error(e instanceof Error&&e.message||"Unknown error")}finally{__classPrivateFieldSet$1(this,_RemoteSolanaMobileWalletAdapterWallet_connecting,!1,"f")}})),__classPrivateFieldSet$1(this,_RemoteSolanaMobileWalletAdapterWallet_authorizationCache,config.authorizationCache,"f"),__classPrivateFieldSet$1(this,_RemoteSolanaMobileWalletAdapterWallet_appIdentity,config.appIdentity,"f"),__classPrivateFieldSet$1(this,_RemoteSolanaMobileWalletAdapterWallet_chains,config.chains,"f"),__classPrivateFieldSet$1(this,_RemoteSolanaMobileWalletAdapterWallet_chainSelector,config.chainSelector,"f"),__classPrivateFieldSet$1(this,_RemoteSolanaMobileWalletAdapterWallet_hostAuthority,config.remoteHostAuthority,"f"),__classPrivateFieldSet$1(this,_RemoteSolanaMobileWalletAdapterWallet_onWalletNotFound,config.onWalletNotFound,"f"),__classPrivateFieldSet$1(this,_RemoteSolanaMobileWalletAdapterWallet_optionalFeatures,{[walletStandardFeatures.SolanaSignAndSendTransaction]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:__classPrivateFieldGet$1(this,_RemoteSolanaMobileWalletAdapterWallet_signAndSendTransaction,"f")},[walletStandardFeatures.SolanaSignTransaction]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:__classPrivateFieldGet$1(this,_RemoteSolanaMobileWalletAdapterWallet_signTransaction,"f")}},"f")}get version(){return __classPrivateFieldGet$1(this,_RemoteSolanaMobileWalletAdapterWallet_version,"f")}get name(){return __classPrivateFieldGet$1(this,_RemoteSolanaMobileWalletAdapterWallet_name,"f")}get url(){return __classPrivateFieldGet$1(this,_RemoteSolanaMobileWalletAdapterWallet_url,"f")}get icon(){return __classPrivateFieldGet$1(this,_RemoteSolanaMobileWalletAdapterWallet_icon,"f")}get chains(){return __classPrivateFieldGet$1(this,_RemoteSolanaMobileWalletAdapterWallet_chains,"f")}get features(){return Object.assign({[features.StandardConnect]:{version:"1.0.0",connect:__classPrivateFieldGet$1(this,_RemoteSolanaMobileWalletAdapterWallet_connect,"f")},[features.StandardDisconnect]:{version:"1.0.0",disconnect:__classPrivateFieldGet$1(this,_RemoteSolanaMobileWalletAdapterWallet_disconnect,"f")},[features.StandardEvents]:{version:"1.0.0",on:__classPrivateFieldGet$1(this,_RemoteSolanaMobileWalletAdapterWallet_on,"f")},[walletStandardFeatures.SolanaSignMessage]:{version:"1.0.0",signMessage:__classPrivateFieldGet$1(this,_RemoteSolanaMobileWalletAdapterWallet_signMessage,"f")},[walletStandardFeatures.SolanaSignIn]:{version:"1.0.0",signIn:__classPrivateFieldGet$1(this,_RemoteSolanaMobileWalletAdapterWallet_signIn,"f")}},__classPrivateFieldGet$1(this,_RemoteSolanaMobileWalletAdapterWallet_optionalFeatures,"f"))}get accounts(){var _a,_b;return null!==(_b=null===(_a=__classPrivateFieldGet$1(this,_RemoteSolanaMobileWalletAdapterWallet_authorization,"f"))||void 0===_a?void 0:_a.accounts)&&void 0!==_b?_b:[]}get connected(){return!!__classPrivateFieldGet$1(this,_RemoteSolanaMobileWalletAdapterWallet_session,"f")&&!!__classPrivateFieldGet$1(this,_RemoteSolanaMobileWalletAdapterWallet_authorization,"f")}get isAuthorized(){return!!__classPrivateFieldGet$1(this,_RemoteSolanaMobileWalletAdapterWallet_authorization,"f")}get currentAuthorization(){return __classPrivateFieldGet$1(this,_RemoteSolanaMobileWalletAdapterWallet_authorization,"f")}get cachedAuthorizationResult(){return __classPrivateFieldGet$1(this,_RemoteSolanaMobileWalletAdapterWallet_authorizationCache,"f").get()}}_RemoteSolanaMobileWalletAdapterWallet_listeners=new WeakMap,_RemoteSolanaMobileWalletAdapterWallet_version=new WeakMap,_RemoteSolanaMobileWalletAdapterWallet_name=new WeakMap,_RemoteSolanaMobileWalletAdapterWallet_url=new WeakMap,_RemoteSolanaMobileWalletAdapterWallet_icon=new WeakMap,_RemoteSolanaMobileWalletAdapterWallet_appIdentity=new WeakMap,_RemoteSolanaMobileWalletAdapterWallet_authorization=new WeakMap,_RemoteSolanaMobileWalletAdapterWallet_authorizationCache=new WeakMap,_RemoteSolanaMobileWalletAdapterWallet_connecting=new WeakMap,_RemoteSolanaMobileWalletAdapterWallet_connectionGeneration=new WeakMap,_RemoteSolanaMobileWalletAdapterWallet_chains=new WeakMap,_RemoteSolanaMobileWalletAdapterWallet_chainSelector=new WeakMap,_RemoteSolanaMobileWalletAdapterWallet_optionalFeatures=new WeakMap,_RemoteSolanaMobileWalletAdapterWallet_onWalletNotFound=new WeakMap,_RemoteSolanaMobileWalletAdapterWallet_hostAuthority=new WeakMap,_RemoteSolanaMobileWalletAdapterWallet_session=new WeakMap,_RemoteSolanaMobileWalletAdapterWallet_on=new WeakMap,_RemoteSolanaMobileWalletAdapterWallet_connect=new WeakMap,_RemoteSolanaMobileWalletAdapterWallet_performAuthorization=new WeakMap,_RemoteSolanaMobileWalletAdapterWallet_handleAuthorizationResult=new WeakMap,_RemoteSolanaMobileWalletAdapterWallet_handleWalletCapabilitiesResult=new WeakMap,_RemoteSolanaMobileWalletAdapterWallet_performReauthorization=new WeakMap,_RemoteSolanaMobileWalletAdapterWallet_disconnect=new WeakMap,_RemoteSolanaMobileWalletAdapterWallet_transact=new WeakMap,_RemoteSolanaMobileWalletAdapterWallet_assertIsAuthorized=new WeakMap,_RemoteSolanaMobileWalletAdapterWallet_accountsToWalletStandardAccounts=new WeakMap,_RemoteSolanaMobileWalletAdapterWallet_performSignTransactions=new WeakMap,_RemoteSolanaMobileWalletAdapterWallet_performSignAndSendTransaction=new WeakMap,_RemoteSolanaMobileWalletAdapterWallet_signAndSendTransaction=new WeakMap,_RemoteSolanaMobileWalletAdapterWallet_signTransaction=new WeakMap,_RemoteSolanaMobileWalletAdapterWallet_signMessage=new WeakMap,_RemoteSolanaMobileWalletAdapterWallet_signIn=new WeakMap,_RemoteSolanaMobileWalletAdapterWallet_performSignIn=new WeakMap,_RemoteSolanaMobileWalletAdapterWallet_instances=new WeakSet,_RemoteSolanaMobileWalletAdapterWallet_emit=function _RemoteSolanaMobileWalletAdapterWallet_emit(event,...args){var _a;null===(_a=__classPrivateFieldGet$1(this,_RemoteSolanaMobileWalletAdapterWallet_listeners,"f")[event])||void 0===_a||_a.forEach(listener=>listener.apply(null,args))},_RemoteSolanaMobileWalletAdapterWallet_off=function _RemoteSolanaMobileWalletAdapterWallet_off(event,listener){var _a;__classPrivateFieldGet$1(this,_RemoteSolanaMobileWalletAdapterWallet_listeners,"f")[event]=null===(_a=__classPrivateFieldGet$1(this,_RemoteSolanaMobileWalletAdapterWallet_listeners,"f")[event])||void 0===_a?void 0:_a.filter(existingListener=>listener!==existingListener)};var _RegisterWalletEvent_detail,__classPrivateFieldSet=function(receiver,state,value,kind,f){if("m"===kind)throw new TypeError("Private method is not writable");if("a"===kind&&!f)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof state?receiver!==state||!f:!state.has(receiver))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===kind?f.call(receiver,value):f?f.value=value:state.set(receiver,value),value},__classPrivateFieldGet=function(receiver,state,kind,f){if("a"===kind&&!f)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof state?receiver!==state||!f:!state.has(receiver))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===kind?f:"a"===kind?f.call(receiver):f?f.value:state.get(receiver)};function registerWallet(wallet){const callback=({register})=>register(wallet);try{window.dispatchEvent(new RegisterWalletEvent(callback))}catch(error){console.error("wallet-standard:register-wallet event could not be dispatched\n",error)}try{window.addEventListener("wallet-standard:app-ready",({detail:api})=>callback(api))}catch(error){console.error("wallet-standard:app-ready event listener could not be added\n",error)}}class RegisterWalletEvent extends Event{constructor(callback){super("wallet-standard:register-wallet",{bubbles:!1,cancelable:!1,composed:!1}),_RegisterWalletEvent_detail.set(this,void 0),__classPrivateFieldSet(this,_RegisterWalletEvent_detail,callback,"f")}get detail(){return __classPrivateFieldGet(this,_RegisterWalletEvent_detail,"f")}get type(){return"wallet-standard:register-wallet"}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}_RegisterWalletEvent_detail=new WeakMap;class ErrorModal extends EmbeddedModal{constructor(){super(...arguments),this.contentStyles=css,this.contentHtml=ErrorDialogHtml}initWithError(error){super.init(),this.populateError(error)}populateError(error){var _a,_b;const errorMessageElement=null===(_a=this.dom)||void 0===_a?void 0:_a.getElementById("mobile-wallet-adapter-error-message"),actionBtn=null===(_b=this.dom)||void 0===_b?void 0:_b.getElementById("mobile-wallet-adapter-error-action");if(errorMessageElement){if("SolanaMobileWalletAdapterError"===error.name)switch(error.code){case"ERROR_WALLET_NOT_FOUND":return errorMessageElement.innerHTML="To use mobile wallet adapter, you must have a compatible mobile wallet application installed on your device.",void(actionBtn&&actionBtn.addEventListener("click",()=>{window.location.href="https://solanamobile.com/wallets"}));case"ERROR_BROWSER_NOT_SUPPORTED":return errorMessageElement.innerHTML="This browser appears to be incompatible with mobile wallet adapter. Open this page in a compatible mobile browser app and try again.",void(actionBtn&&(actionBtn.style.display="none"))}errorMessageElement.innerHTML=`An unexpected error occurred: ${error.message}`}else console.log("Failed to locate error dialog element")}}const ErrorDialogHtml='\n<svg class="mobile-wallet-adapter-embedded-modal-error-icon" xmlns="http://www.w3.org/2000/svg" height="50px" viewBox="0 -960 960 960" width="50px" fill="#000000"><path d="M 280,-80 Q 197,-80 138.5,-138.5 80,-197 80,-280 80,-363 138.5,-421.5 197,-480 280,-480 q 83,0 141.5,58.5 58.5,58.5 58.5,141.5 0,83 -58.5,141.5 Q 363,-80 280,-80 Z M 824,-120 568,-376 Q 556,-389 542.5,-402.5 529,-416 516,-428 q 38,-24 61,-64 23,-40 23,-88 0,-75 -52.5,-127.5 Q 495,-760 420,-760 345,-760 292.5,-707.5 240,-655 240,-580 q 0,6 0.5,11.5 0.5,5.5 1.5,11.5 -18,2 -39.5,8 -21.5,6 -38.5,14 -2,-11 -3,-22 -1,-11 -1,-23 0,-109 75.5,-184.5 Q 311,-840 420,-840 q 109,0 184.5,75.5 75.5,75.5 75.5,184.5 0,43 -13.5,81.5 Q 653,-460 629,-428 l 251,252 z m -615,-61 71,-71 70,71 29,-28 -71,-71 71,-71 -28,-28 -71,71 -71,-71 -28,28 71,71 -71,71 z"/></svg>\n<div class="mobile-wallet-adapter-embedded-modal-title">We can\'t find a wallet.</div>\n<div id="mobile-wallet-adapter-error-message" class="mobile-wallet-adapter-embedded-modal-subtitle"></div>\n<div>\n    <button data-error-action id="mobile-wallet-adapter-error-action" class="mobile-wallet-adapter-embedded-modal-error-action">\n        Find a wallet\n    </button>\n</div>\n',css="\n.mobile-wallet-adapter-embedded-modal-content {\n    text-align: center;\n}\n\n.mobile-wallet-adapter-embedded-modal-error-icon {\n    margin-top: 24px;\n}\n\n.mobile-wallet-adapter-embedded-modal-title {\n    margin: 18px 100px auto 100px;\n    color: #000000;\n    font-size: 2.75em;\n    font-weight: 600;\n}\n\n.mobile-wallet-adapter-embedded-modal-subtitle {\n    margin: 30px 60px 40px 60px;\n    color: #000000;\n    font-size: 1.25em;\n    font-weight: 400;\n}\n\n.mobile-wallet-adapter-embedded-modal-error-action {\n    display: block;\n    width: 100%;\n    height: 56px;\n    /*margin-top: 40px;*/\n    font-size: 1.25em;\n    /*line-height: 24px;*/\n    /*letter-spacing: -1%;*/\n    background: #000000;\n    color: #FFFFFF;\n    border-radius: 18px;\n}\n\n/* Smaller screens */\n@media all and (max-width: 600px) {\n    .mobile-wallet-adapter-embedded-modal-title {\n        font-size: 1.5em;\n        margin-right: 12px;\n        margin-left: 12px;\n    }\n    .mobile-wallet-adapter-embedded-modal-subtitle {\n        margin-right: 12px;\n        margin-left: 12px;\n    }\n}\n";function defaultErrorModalWalletNotFoundHandler(){return __awaiter(this,void 0,void 0,function*(){if("undefined"!=typeof window){const userAgent=window.navigator.userAgent.toLowerCase(),errorDialog=new ErrorModal;userAgent.includes("wv")?errorDialog.initWithError({name:"SolanaMobileWalletAdapterError",code:"ERROR_BROWSER_NOT_SUPPORTED",message:""}):errorDialog.initWithError({name:"SolanaMobileWalletAdapterError",code:"ERROR_WALLET_NOT_FOUND",message:""}),errorDialog.open()}})}const CACHE_KEY="SolanaMobileWalletAdapterDefaultAuthorizationCache";exports.LocalSolanaMobileWalletAdapterWallet=LocalSolanaMobileWalletAdapterWallet,exports.RemoteSolanaMobileWalletAdapterWallet=RemoteSolanaMobileWalletAdapterWallet,exports.SolanaMobileWalletAdapterWalletName="Mobile Wallet Adapter",exports.createDefaultAuthorizationCache=function createDefaultAuthorizationCache(){let storage;try{storage=window.localStorage}catch(_a){}return{clear(){return __awaiter(this,void 0,void 0,function*(){if(storage)try{storage.removeItem(CACHE_KEY)}catch(_a){}})},get(){return __awaiter(this,void 0,void 0,function*(){if(storage)try{const parsed=JSON.parse(storage.getItem(CACHE_KEY));if(parsed&&parsed.accounts){const parsedAccounts=parsed.accounts.map(account=>Object.assign(Object.assign({},account),{publicKey:"publicKey"in account?new Uint8Array(Object.values(account.publicKey)):base58__default.default.decode(account.address)}));return Object.assign(Object.assign({},parsed),{accounts:parsedAccounts})}return parsed||void 0}catch(_a){}})},set(authorization){return __awaiter(this,void 0,void 0,function*(){if(storage)try{storage.setItem(CACHE_KEY,JSON.stringify(authorization))}catch(_a){}})}}},exports.createDefaultChainSelector=function createDefaultChainSelector(){return{select(chains){return __awaiter(this,void 0,void 0,function*(){return 1===chains.length?chains[0]:chains.includes(walletStandardChains.SOLANA_MAINNET_CHAIN)?walletStandardChains.SOLANA_MAINNET_CHAIN:chains[0]})}}},exports.createDefaultWalletNotFoundHandler=function createDefaultWalletNotFoundHandler(){return()=>__awaiter(this,void 0,void 0,function*(){defaultErrorModalWalletNotFoundHandler()})},exports.defaultErrorModalWalletNotFoundHandler=defaultErrorModalWalletNotFoundHandler,exports.registerMwa=function registerMwa(config){!function getIsLocalAssociationSupported(){return"undefined"!=typeof window&&window.isSecureContext&&"undefined"!=typeof document&&/android/i.test(navigator.userAgent)}()?function getIsRemoteAssociationSupported(){return"undefined"!=typeof window&&window.isSecureContext&&"undefined"!=typeof document&&!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}()&&void 0!==config.remoteHostAuthority&&registerWallet(new RemoteSolanaMobileWalletAdapterWallet(Object.assign(Object.assign({},config),{remoteHostAuthority:config.remoteHostAuthority}))):registerWallet(new LocalSolanaMobileWalletAdapterWallet(config))}},"./node_modules/@solana-mobile/wallet-standard-mobile/node_modules/base-x/src/index.js":module=>{"use strict";module.exports=function base(ALPHABET){if(ALPHABET.length>=255)throw new TypeError("Alphabet too long");for(var BASE_MAP=new Uint8Array(256),j=0;j<BASE_MAP.length;j++)BASE_MAP[j]=255;for(var i=0;i<ALPHABET.length;i++){var x=ALPHABET.charAt(i),xc=x.charCodeAt(0);if(255!==BASE_MAP[xc])throw new TypeError(x+" is ambiguous");BASE_MAP[xc]=i}var BASE=ALPHABET.length,LEADER=ALPHABET.charAt(0),FACTOR=Math.log(BASE)/Math.log(256),iFACTOR=Math.log(256)/Math.log(BASE);function decodeUnsafe(source){if("string"!=typeof source)throw new TypeError("Expected String");if(0===source.length)return new Uint8Array;for(var psz=0,zeroes=0,length=0;source[psz]===LEADER;)zeroes++,psz++;for(var size=(source.length-psz)*FACTOR+1>>>0,b256=new Uint8Array(size);source[psz];){var charCode=source.charCodeAt(psz);if(charCode>255)return;var carry=BASE_MAP[charCode];if(255===carry)return;for(var i=0,it3=size-1;(0!==carry||i<length)&&-1!==it3;it3--,i++)carry+=BASE*b256[it3]>>>0,b256[it3]=carry%256>>>0,carry=carry/256>>>0;if(0!==carry)throw new Error("Non-zero carry");length=i,psz++}for(var it4=size-length;it4!==size&&0===b256[it4];)it4++;for(var vch=new Uint8Array(zeroes+(size-it4)),j=zeroes;it4!==size;)vch[j++]=b256[it4++];return vch}return{encode:function encode(source){if(source instanceof Uint8Array||(ArrayBuffer.isView(source)?source=new Uint8Array(source.buffer,source.byteOffset,source.byteLength):Array.isArray(source)&&(source=Uint8Array.from(source))),!(source instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===source.length)return"";for(var zeroes=0,length=0,pbegin=0,pend=source.length;pbegin!==pend&&0===source[pbegin];)pbegin++,zeroes++;for(var size=(pend-pbegin)*iFACTOR+1>>>0,b58=new Uint8Array(size);pbegin!==pend;){for(var carry=source[pbegin],i=0,it1=size-1;(0!==carry||i<length)&&-1!==it1;it1--,i++)carry+=256*b58[it1]>>>0,b58[it1]=carry%BASE>>>0,carry=carry/BASE>>>0;if(0!==carry)throw new Error("Non-zero carry");length=i,pbegin++}for(var it2=size-length;it2!==size&&0===b58[it2];)it2++;for(var str=LEADER.repeat(zeroes);it2<size;++it2)str+=ALPHABET.charAt(b58[it2]);return str},decodeUnsafe,decode:function decode(string){var buffer=decodeUnsafe(string);if(buffer)return buffer;throw new Error("Non-base"+BASE+" character")}}}},"./node_modules/@solana-mobile/wallet-standard-mobile/node_modules/bs58/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{const basex=__webpack_require__("./node_modules/@solana-mobile/wallet-standard-mobile/node_modules/base-x/src/index.js");module.exports=basex("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},"./node_modules/@solana-mobile/wallet-standard-mobile/node_modules/qrcode/lib/browser.js":(__unused_webpack_module,exports,__webpack_require__)=>{const canPromise=__webpack_require__("./node_modules/@solana-mobile/wallet-standard-mobile/node_modules/qrcode/lib/can-promise.js"),QRCode=__webpack_require__("./node_modules/@solana-mobile/wallet-standard-mobile/node_modules/qrcode/lib/core/qrcode.js"),CanvasRenderer=__webpack_require__("./node_modules/@solana-mobile/wallet-standard-mobile/node_modules/qrcode/lib/renderer/canvas.js"),SvgRenderer=__webpack_require__("./node_modules/@solana-mobile/wallet-standard-mobile/node_modules/qrcode/lib/renderer/svg-tag.js");function renderCanvas(renderFunc,canvas,text,opts,cb){const args=[].slice.call(arguments,1),argsNum=args.length,isLastArgCb="function"==typeof args[argsNum-1];if(!isLastArgCb&&!canPromise())throw new Error("Callback required as last argument");if(!isLastArgCb){if(argsNum<1)throw new Error("Too few arguments provided");return 1===argsNum?(text=canvas,canvas=opts=void 0):2!==argsNum||canvas.getContext||(opts=text,text=canvas,canvas=void 0),new Promise(function(resolve,reject){try{const data=QRCode.create(text,opts);resolve(renderFunc(data,canvas,opts))}catch(e){reject(e)}})}if(argsNum<2)throw new Error("Too few arguments provided");2===argsNum?(cb=text,text=canvas,canvas=opts=void 0):3===argsNum&&(canvas.getContext&&void 0===cb?(cb=opts,opts=void 0):(cb=opts,opts=text,text=canvas,canvas=void 0));try{const data=QRCode.create(text,opts);cb(null,renderFunc(data,canvas,opts))}catch(e){cb(e)}}exports.create=QRCode.create,exports.toCanvas=renderCanvas.bind(null,CanvasRenderer.render),exports.toDataURL=renderCanvas.bind(null,CanvasRenderer.renderToDataURL),exports.toString=renderCanvas.bind(null,function(data,_,opts){return SvgRenderer.render(data,opts)})},"./node_modules/@solana-mobile/wallet-standard-mobile/node_modules/qrcode/lib/can-promise.js":module=>{module.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},"./node_modules/@solana-mobile/wallet-standard-mobile/node_modules/qrcode/lib/core/alignment-pattern.js":(__unused_webpack_module,exports,__webpack_require__)=>{const getSymbolSize=__webpack_require__("./node_modules/@solana-mobile/wallet-standard-mobile/node_modules/qrcode/lib/core/utils.js").getSymbolSize;exports.getRowColCoords=function getRowColCoords(version){if(1===version)return[];const posCount=Math.floor(version/7)+2,size=getSymbolSize(version),intervals=145===size?26:2*Math.ceil((size-13)/(2*posCount-2)),positions=[size-7];for(let i=1;i<posCount-1;i++)positions[i]=positions[i-1]-intervals;return positions.push(6),positions.reverse()},exports.getPositions=function getPositions(version){const coords=[],pos=exports.getRowColCoords(version),posLength=pos.length;for(let i=0;i<posLength;i++)for(let j=0;j<posLength;j++)0===i&&0===j||0===i&&j===posLength-1||i===posLength-1&&0===j||coords.push([pos[i],pos[j]]);return coords}},"./node_modules/@solana-mobile/wallet-standard-mobile/node_modules/qrcode/lib/core/alphanumeric-data.js":(module,__unused_webpack_exports,__webpack_require__)=>{const Mode=__webpack_require__("./node_modules/@solana-mobile/wallet-standard-mobile/node_modules/qrcode/lib/core/mode.js"),ALPHA_NUM_CHARS=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function AlphanumericData(data){this.mode=Mode.ALPHANUMERIC,this.data=data}AlphanumericData.getBitsLength=function getBitsLength(length){return 11*Math.floor(length/2)+length%2*6},AlphanumericData.prototype.getLength=function getLength(){return this.data.length},AlphanumericData.prototype.getBitsLength=function getBitsLength(){return AlphanumericData.getBitsLength(this.data.length)},AlphanumericData.prototype.write=function write(bitBuffer){let i;for(i=0;i+2<=this.data.length;i+=2){let value=45*ALPHA_NUM_CHARS.indexOf(this.data[i]);value+=ALPHA_NUM_CHARS.indexOf(this.data[i+1]),bitBuffer.put(value,11)}this.data.length%2&&bitBuffer.put(ALPHA_NUM_CHARS.indexOf(this.data[i]),6)},module.exports=AlphanumericData},"./node_modules/@solana-mobile/wallet-standard-mobile/node_modules/qrcode/lib/core/bit-buffer.js":module=>{function BitBuffer(){this.buffer=[],this.length=0}BitBuffer.prototype={get:function(index){const bufIndex=Math.floor(index/8);return 1==(this.buffer[bufIndex]>>>7-index%8&1)},put:function(num,length){for(let i=0;i<length;i++)this.putBit(1==(num>>>length-i-1&1))},getLengthInBits:function(){return this.length},putBit:function(bit){const bufIndex=Math.floor(this.length/8);this.buffer.length<=bufIndex&&this.buffer.push(0),bit&&(this.buffer[bufIndex]|=128>>>this.length%8),this.length++}},module.exports=BitBuffer},"./node_modules/@solana-mobile/wallet-standard-mobile/node_modules/qrcode/lib/core/bit-matrix.js":module=>{function BitMatrix(size){if(!size||size<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=size,this.data=new Uint8Array(size*size),this.reservedBit=new Uint8Array(size*size)}BitMatrix.prototype.set=function(row,col,value,reserved){const index=row*this.size+col;this.data[index]=value,reserved&&(this.reservedBit[index]=!0)},BitMatrix.prototype.get=function(row,col){return this.data[row*this.size+col]},BitMatrix.prototype.xor=function(row,col,value){this.data[row*this.size+col]^=value},BitMatrix.prototype.isReserved=function(row,col){return this.reservedBit[row*this.size+col]},module.exports=BitMatrix},"./node_modules/@solana-mobile/wallet-standard-mobile/node_modules/qrcode/lib/core/byte-data.js":(module,__unused_webpack_exports,__webpack_require__)=>{const Mode=__webpack_require__("./node_modules/@solana-mobile/wallet-standard-mobile/node_modules/qrcode/lib/core/mode.js");function ByteData(data){this.mode=Mode.BYTE,this.data="string"==typeof data?(new TextEncoder).encode(data):new Uint8Array(data)}ByteData.getBitsLength=function getBitsLength(length){return 8*length},ByteData.prototype.getLength=function getLength(){return this.data.length},ByteData.prototype.getBitsLength=function getBitsLength(){return ByteData.getBitsLength(this.data.length)},ByteData.prototype.write=function(bitBuffer){for(let i=0,l=this.data.length;i<l;i++)bitBuffer.put(this.data[i],8)},module.exports=ByteData},"./node_modules/@solana-mobile/wallet-standard-mobile/node_modules/qrcode/lib/core/error-correction-code.js":(__unused_webpack_module,exports,__webpack_require__)=>{const ECLevel=__webpack_require__("./node_modules/@solana-mobile/wallet-standard-mobile/node_modules/qrcode/lib/core/error-correction-level.js"),EC_BLOCKS_TABLE=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],EC_CODEWORDS_TABLE=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];exports.getBlocksCount=function getBlocksCount(version,errorCorrectionLevel){switch(errorCorrectionLevel){case ECLevel.L:return EC_BLOCKS_TABLE[4*(version-1)+0];case ECLevel.M:return EC_BLOCKS_TABLE[4*(version-1)+1];case ECLevel.Q:return EC_BLOCKS_TABLE[4*(version-1)+2];case ECLevel.H:return EC_BLOCKS_TABLE[4*(version-1)+3];default:return}},exports.getTotalCodewordsCount=function getTotalCodewordsCount(version,errorCorrectionLevel){switch(errorCorrectionLevel){case ECLevel.L:return EC_CODEWORDS_TABLE[4*(version-1)+0];case ECLevel.M:return EC_CODEWORDS_TABLE[4*(version-1)+1];case ECLevel.Q:return EC_CODEWORDS_TABLE[4*(version-1)+2];case ECLevel.H:return EC_CODEWORDS_TABLE[4*(version-1)+3];default:return}}},"./node_modules/@solana-mobile/wallet-standard-mobile/node_modules/qrcode/lib/core/error-correction-level.js":(__unused_webpack_module,exports)=>{exports.L={bit:1},exports.M={bit:0},exports.Q={bit:3},exports.H={bit:2},exports.isValid=function isValid(level){return level&&void 0!==level.bit&&level.bit>=0&&level.bit<4},exports.from=function from(value,defaultValue){if(exports.isValid(value))return value;try{return function fromString(string){if("string"!=typeof string)throw new Error("Param is not a string");switch(string.toLowerCase()){case"l":case"low":return exports.L;case"m":case"medium":return exports.M;case"q":case"quartile":return exports.Q;case"h":case"high":return exports.H;default:throw new Error("Unknown EC Level: "+string)}}(value)}catch(e){return defaultValue}}},"./node_modules/@solana-mobile/wallet-standard-mobile/node_modules/qrcode/lib/core/finder-pattern.js":(__unused_webpack_module,exports,__webpack_require__)=>{const getSymbolSize=__webpack_require__("./node_modules/@solana-mobile/wallet-standard-mobile/node_modules/qrcode/lib/core/utils.js").getSymbolSize;exports.getPositions=function getPositions(version){const size=getSymbolSize(version);return[[0,0],[size-7,0],[0,size-7]]}},"./node_modules/@solana-mobile/wallet-standard-mobile/node_modules/qrcode/lib/core/format-info.js":(__unused_webpack_module,exports,__webpack_require__)=>{const Utils=__webpack_require__("./node_modules/@solana-mobile/wallet-standard-mobile/node_modules/qrcode/lib/core/utils.js"),G15_BCH=Utils.getBCHDigit(1335);exports.getEncodedBits=function getEncodedBits(errorCorrectionLevel,mask){const data=errorCorrectionLevel.bit<<3|mask;let d=data<<10;for(;Utils.getBCHDigit(d)-G15_BCH>=0;)d^=1335<<Utils.getBCHDigit(d)-G15_BCH;return 21522^(data<<10|d)}},"./node_modules/@solana-mobile/wallet-standard-mobile/node_modules/qrcode/lib/core/galois-field.js":(__unused_webpack_module,exports)=>{const EXP_TABLE=new Uint8Array(512),LOG_TABLE=new Uint8Array(256);!function initTables(){let x=1;for(let i=0;i<255;i++)EXP_TABLE[i]=x,LOG_TABLE[x]=i,x<<=1,256&x&&(x^=285);for(let i=255;i<512;i++)EXP_TABLE[i]=EXP_TABLE[i-255]}(),exports.log=function log(n){if(n<1)throw new Error("log("+n+")");return LOG_TABLE[n]},exports.exp=function exp(n){return EXP_TABLE[n]},exports.mul=function mul(x,y){return 0===x||0===y?0:EXP_TABLE[LOG_TABLE[x]+LOG_TABLE[y]]}},"./node_modules/@solana-mobile/wallet-standard-mobile/node_modules/qrcode/lib/core/kanji-data.js":(module,__unused_webpack_exports,__webpack_require__)=>{const Mode=__webpack_require__("./node_modules/@solana-mobile/wallet-standard-mobile/node_modules/qrcode/lib/core/mode.js"),Utils=__webpack_require__("./node_modules/@solana-mobile/wallet-standard-mobile/node_modules/qrcode/lib/core/utils.js");function KanjiData(data){this.mode=Mode.KANJI,this.data=data}KanjiData.getBitsLength=function getBitsLength(length){return 13*length},KanjiData.prototype.getLength=function getLength(){return this.data.length},KanjiData.prototype.getBitsLength=function getBitsLength(){return KanjiData.getBitsLength(this.data.length)},KanjiData.prototype.write=function(bitBuffer){let i;for(i=0;i<this.data.length;i++){let value=Utils.toSJIS(this.data[i]);if(value>=33088&&value<=40956)value-=33088;else{if(!(value>=57408&&value<=60351))throw new Error("Invalid SJIS character: "+this.data[i]+"\nMake sure your charset is UTF-8");value-=49472}value=192*(value>>>8&255)+(255&value),bitBuffer.put(value,13)}},module.exports=KanjiData},"./node_modules/@solana-mobile/wallet-standard-mobile/node_modules/qrcode/lib/core/mask-pattern.js":(__unused_webpack_module,exports)=>{exports.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const PenaltyScores_N1=3,PenaltyScores_N2=3,PenaltyScores_N3=40,PenaltyScores_N4=10;function getMaskAt(maskPattern,i,j){switch(maskPattern){case exports.Patterns.PATTERN000:return(i+j)%2==0;case exports.Patterns.PATTERN001:return i%2==0;case exports.Patterns.PATTERN010:return j%3==0;case exports.Patterns.PATTERN011:return(i+j)%3==0;case exports.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(j/3))%2==0;case exports.Patterns.PATTERN101:return i*j%2+i*j%3==0;case exports.Patterns.PATTERN110:return(i*j%2+i*j%3)%2==0;case exports.Patterns.PATTERN111:return(i*j%3+(i+j)%2)%2==0;default:throw new Error("bad maskPattern:"+maskPattern)}}exports.isValid=function isValid(mask){return null!=mask&&""!==mask&&!isNaN(mask)&&mask>=0&&mask<=7},exports.from=function from(value){return exports.isValid(value)?parseInt(value,10):void 0},exports.getPenaltyN1=function getPenaltyN1(data){const size=data.size;let points=0,sameCountCol=0,sameCountRow=0,lastCol=null,lastRow=null;for(let row=0;row<size;row++){sameCountCol=sameCountRow=0,lastCol=lastRow=null;for(let col=0;col<size;col++){let module=data.get(row,col);module===lastCol?sameCountCol++:(sameCountCol>=5&&(points+=PenaltyScores_N1+(sameCountCol-5)),lastCol=module,sameCountCol=1),module=data.get(col,row),module===lastRow?sameCountRow++:(sameCountRow>=5&&(points+=PenaltyScores_N1+(sameCountRow-5)),lastRow=module,sameCountRow=1)}sameCountCol>=5&&(points+=PenaltyScores_N1+(sameCountCol-5)),sameCountRow>=5&&(points+=PenaltyScores_N1+(sameCountRow-5))}return points},exports.getPenaltyN2=function getPenaltyN2(data){const size=data.size;let points=0;for(let row=0;row<size-1;row++)for(let col=0;col<size-1;col++){const last=data.get(row,col)+data.get(row,col+1)+data.get(row+1,col)+data.get(row+1,col+1);4!==last&&0!==last||points++}return points*PenaltyScores_N2},exports.getPenaltyN3=function getPenaltyN3(data){const size=data.size;let points=0,bitsCol=0,bitsRow=0;for(let row=0;row<size;row++){bitsCol=bitsRow=0;for(let col=0;col<size;col++)bitsCol=bitsCol<<1&2047|data.get(row,col),col>=10&&(1488===bitsCol||93===bitsCol)&&points++,bitsRow=bitsRow<<1&2047|data.get(col,row),col>=10&&(1488===bitsRow||93===bitsRow)&&points++}return points*PenaltyScores_N3},exports.getPenaltyN4=function getPenaltyN4(data){let darkCount=0;const modulesCount=data.data.length;for(let i=0;i<modulesCount;i++)darkCount+=data.data[i];return Math.abs(Math.ceil(100*darkCount/modulesCount/5)-10)*PenaltyScores_N4},exports.applyMask=function applyMask(pattern,data){const size=data.size;for(let col=0;col<size;col++)for(let row=0;row<size;row++)data.isReserved(row,col)||data.xor(row,col,getMaskAt(pattern,row,col))},exports.getBestMask=function getBestMask(data,setupFormatFunc){const numPatterns=Object.keys(exports.Patterns).length;let bestPattern=0,lowerPenalty=1/0;for(let p=0;p<numPatterns;p++){setupFormatFunc(p),exports.applyMask(p,data);const penalty=exports.getPenaltyN1(data)+exports.getPenaltyN2(data)+exports.getPenaltyN3(data)+exports.getPenaltyN4(data);exports.applyMask(p,data),penalty<lowerPenalty&&(lowerPenalty=penalty,bestPattern=p)}return bestPattern}},"./node_modules/@solana-mobile/wallet-standard-mobile/node_modules/qrcode/lib/core/mode.js":(__unused_webpack_module,exports,__webpack_require__)=>{const VersionCheck=__webpack_require__("./node_modules/@solana-mobile/wallet-standard-mobile/node_modules/qrcode/lib/core/version-check.js"),Regex=__webpack_require__("./node_modules/@solana-mobile/wallet-standard-mobile/node_modules/qrcode/lib/core/regex.js");exports.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},exports.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},exports.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},exports.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},exports.MIXED={bit:-1},exports.getCharCountIndicator=function getCharCountIndicator(mode,version){if(!mode.ccBits)throw new Error("Invalid mode: "+mode);if(!VersionCheck.isValid(version))throw new Error("Invalid version: "+version);return version>=1&&version<10?mode.ccBits[0]:version<27?mode.ccBits[1]:mode.ccBits[2]},exports.getBestModeForData=function getBestModeForData(dataStr){return Regex.testNumeric(dataStr)?exports.NUMERIC:Regex.testAlphanumeric(dataStr)?exports.ALPHANUMERIC:Regex.testKanji(dataStr)?exports.KANJI:exports.BYTE},exports.toString=function toString(mode){if(mode&&mode.id)return mode.id;throw new Error("Invalid mode")},exports.isValid=function isValid(mode){return mode&&mode.bit&&mode.ccBits},exports.from=function from(value,defaultValue){if(exports.isValid(value))return value;try{return function fromString(string){if("string"!=typeof string)throw new Error("Param is not a string");switch(string.toLowerCase()){case"numeric":return exports.NUMERIC;case"alphanumeric":return exports.ALPHANUMERIC;case"kanji":return exports.KANJI;case"byte":return exports.BYTE;default:throw new Error("Unknown mode: "+string)}}(value)}catch(e){return defaultValue}}},"./node_modules/@solana-mobile/wallet-standard-mobile/node_modules/qrcode/lib/core/numeric-data.js":(module,__unused_webpack_exports,__webpack_require__)=>{const Mode=__webpack_require__("./node_modules/@solana-mobile/wallet-standard-mobile/node_modules/qrcode/lib/core/mode.js");function NumericData(data){this.mode=Mode.NUMERIC,this.data=data.toString()}NumericData.getBitsLength=function getBitsLength(length){return 10*Math.floor(length/3)+(length%3?length%3*3+1:0)},NumericData.prototype.getLength=function getLength(){return this.data.length},NumericData.prototype.getBitsLength=function getBitsLength(){return NumericData.getBitsLength(this.data.length)},NumericData.prototype.write=function write(bitBuffer){let i,group,value;for(i=0;i+3<=this.data.length;i+=3)group=this.data.substr(i,3),value=parseInt(group,10),bitBuffer.put(value,10);const remainingNum=this.data.length-i;remainingNum>0&&(group=this.data.substr(i),value=parseInt(group,10),bitBuffer.put(value,3*remainingNum+1))},module.exports=NumericData},"./node_modules/@solana-mobile/wallet-standard-mobile/node_modules/qrcode/lib/core/polynomial.js":(__unused_webpack_module,exports,__webpack_require__)=>{const GF=__webpack_require__("./node_modules/@solana-mobile/wallet-standard-mobile/node_modules/qrcode/lib/core/galois-field.js");exports.mul=function mul(p1,p2){const coeff=new Uint8Array(p1.length+p2.length-1);for(let i=0;i<p1.length;i++)for(let j=0;j<p2.length;j++)coeff[i+j]^=GF.mul(p1[i],p2[j]);return coeff},exports.mod=function mod(divident,divisor){let result=new Uint8Array(divident);for(;result.length-divisor.length>=0;){const coeff=result[0];for(let i=0;i<divisor.length;i++)result[i]^=GF.mul(divisor[i],coeff);let offset=0;for(;offset<result.length&&0===result[offset];)offset++;result=result.slice(offset)}return result},exports.generateECPolynomial=function generateECPolynomial(degree){let poly=new Uint8Array([1]);for(let i=0;i<degree;i++)poly=exports.mul(poly,new Uint8Array([1,GF.exp(i)]));return poly}},"./node_modules/@solana-mobile/wallet-standard-mobile/node_modules/qrcode/lib/core/qrcode.js":(__unused_webpack_module,exports,__webpack_require__)=>{const Utils=__webpack_require__("./node_modules/@solana-mobile/wallet-standard-mobile/node_modules/qrcode/lib/core/utils.js"),ECLevel=__webpack_require__("./node_modules/@solana-mobile/wallet-standard-mobile/node_modules/qrcode/lib/core/error-correction-level.js"),BitBuffer=__webpack_require__("./node_modules/@solana-mobile/wallet-standard-mobile/node_modules/qrcode/lib/core/bit-buffer.js"),BitMatrix=__webpack_require__("./node_modules/@solana-mobile/wallet-standard-mobile/node_modules/qrcode/lib/core/bit-matrix.js"),AlignmentPattern=__webpack_require__("./node_modules/@solana-mobile/wallet-standard-mobile/node_modules/qrcode/lib/core/alignment-pattern.js"),FinderPattern=__webpack_require__("./node_modules/@solana-mobile/wallet-standard-mobile/node_modules/qrcode/lib/core/finder-pattern.js"),MaskPattern=__webpack_require__("./node_modules/@solana-mobile/wallet-standard-mobile/node_modules/qrcode/lib/core/mask-pattern.js"),ECCode=__webpack_require__("./node_modules/@solana-mobile/wallet-standard-mobile/node_modules/qrcode/lib/core/error-correction-code.js"),ReedSolomonEncoder=__webpack_require__("./node_modules/@solana-mobile/wallet-standard-mobile/node_modules/qrcode/lib/core/reed-solomon-encoder.js"),Version=__webpack_require__("./node_modules/@solana-mobile/wallet-standard-mobile/node_modules/qrcode/lib/core/version.js"),FormatInfo=__webpack_require__("./node_modules/@solana-mobile/wallet-standard-mobile/node_modules/qrcode/lib/core/format-info.js"),Mode=__webpack_require__("./node_modules/@solana-mobile/wallet-standard-mobile/node_modules/qrcode/lib/core/mode.js"),Segments=__webpack_require__("./node_modules/@solana-mobile/wallet-standard-mobile/node_modules/qrcode/lib/core/segments.js");function setupFormatInfo(matrix,errorCorrectionLevel,maskPattern){const size=matrix.size,bits=FormatInfo.getEncodedBits(errorCorrectionLevel,maskPattern);let i,mod;for(i=0;i<15;i++)mod=1==(bits>>i&1),i<6?matrix.set(i,8,mod,!0):i<8?matrix.set(i+1,8,mod,!0):matrix.set(size-15+i,8,mod,!0),i<8?matrix.set(8,size-i-1,mod,!0):i<9?matrix.set(8,15-i-1+1,mod,!0):matrix.set(8,15-i-1,mod,!0);matrix.set(size-8,8,1,!0)}function createData(version,errorCorrectionLevel,segments){const buffer=new BitBuffer;segments.forEach(function(data){buffer.put(data.mode.bit,4),buffer.put(data.getLength(),Mode.getCharCountIndicator(data.mode,version)),data.write(buffer)});const dataTotalCodewordsBits=8*(Utils.getSymbolTotalCodewords(version)-ECCode.getTotalCodewordsCount(version,errorCorrectionLevel));for(buffer.getLengthInBits()+4<=dataTotalCodewordsBits&&buffer.put(0,4);buffer.getLengthInBits()%8!=0;)buffer.putBit(0);const remainingByte=(dataTotalCodewordsBits-buffer.getLengthInBits())/8;for(let i=0;i<remainingByte;i++)buffer.put(i%2?17:236,8);return function createCodewords(bitBuffer,version,errorCorrectionLevel){const totalCodewords=Utils.getSymbolTotalCodewords(version),ecTotalCodewords=ECCode.getTotalCodewordsCount(version,errorCorrectionLevel),dataTotalCodewords=totalCodewords-ecTotalCodewords,ecTotalBlocks=ECCode.getBlocksCount(version,errorCorrectionLevel),blocksInGroup2=totalCodewords%ecTotalBlocks,blocksInGroup1=ecTotalBlocks-blocksInGroup2,totalCodewordsInGroup1=Math.floor(totalCodewords/ecTotalBlocks),dataCodewordsInGroup1=Math.floor(dataTotalCodewords/ecTotalBlocks),dataCodewordsInGroup2=dataCodewordsInGroup1+1,ecCount=totalCodewordsInGroup1-dataCodewordsInGroup1,rs=new ReedSolomonEncoder(ecCount);let offset=0;const dcData=new Array(ecTotalBlocks),ecData=new Array(ecTotalBlocks);let maxDataSize=0;const buffer=new Uint8Array(bitBuffer.buffer);for(let b=0;b<ecTotalBlocks;b++){const dataSize=b<blocksInGroup1?dataCodewordsInGroup1:dataCodewordsInGroup2;dcData[b]=buffer.slice(offset,offset+dataSize),ecData[b]=rs.encode(dcData[b]),offset+=dataSize,maxDataSize=Math.max(maxDataSize,dataSize)}const data=new Uint8Array(totalCodewords);let i,r,index=0;for(i=0;i<maxDataSize;i++)for(r=0;r<ecTotalBlocks;r++)i<dcData[r].length&&(data[index++]=dcData[r][i]);for(i=0;i<ecCount;i++)for(r=0;r<ecTotalBlocks;r++)data[index++]=ecData[r][i];return data}(buffer,version,errorCorrectionLevel)}function createSymbol(data,version,errorCorrectionLevel,maskPattern){let segments;if(Array.isArray(data))segments=Segments.fromArray(data);else{if("string"!=typeof data)throw new Error("Invalid data");{let estimatedVersion=version;if(!estimatedVersion){const rawSegments=Segments.rawSplit(data);estimatedVersion=Version.getBestVersionForData(rawSegments,errorCorrectionLevel)}segments=Segments.fromString(data,estimatedVersion||40)}}const bestVersion=Version.getBestVersionForData(segments,errorCorrectionLevel);if(!bestVersion)throw new Error("The amount of data is too big to be stored in a QR Code");if(version){if(version<bestVersion)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+bestVersion+".\n")}else version=bestVersion;const dataBits=createData(version,errorCorrectionLevel,segments),moduleCount=Utils.getSymbolSize(version),modules=new BitMatrix(moduleCount);return function setupFinderPattern(matrix,version){const size=matrix.size,pos=FinderPattern.getPositions(version);for(let i=0;i<pos.length;i++){const row=pos[i][0],col=pos[i][1];for(let r=-1;r<=7;r++)if(!(row+r<=-1||size<=row+r))for(let c=-1;c<=7;c++)col+c<=-1||size<=col+c||(r>=0&&r<=6&&(0===c||6===c)||c>=0&&c<=6&&(0===r||6===r)||r>=2&&r<=4&&c>=2&&c<=4?matrix.set(row+r,col+c,!0,!0):matrix.set(row+r,col+c,!1,!0))}}(modules,version),function setupTimingPattern(matrix){const size=matrix.size;for(let r=8;r<size-8;r++){const value=r%2==0;matrix.set(r,6,value,!0),matrix.set(6,r,value,!0)}}(modules),function setupAlignmentPattern(matrix,version){const pos=AlignmentPattern.getPositions(version);for(let i=0;i<pos.length;i++){const row=pos[i][0],col=pos[i][1];for(let r=-2;r<=2;r++)for(let c=-2;c<=2;c++)-2===r||2===r||-2===c||2===c||0===r&&0===c?matrix.set(row+r,col+c,!0,!0):matrix.set(row+r,col+c,!1,!0)}}(modules,version),setupFormatInfo(modules,errorCorrectionLevel,0),version>=7&&function setupVersionInfo(matrix,version){const size=matrix.size,bits=Version.getEncodedBits(version);let row,col,mod;for(let i=0;i<18;i++)row=Math.floor(i/3),col=i%3+size-8-3,mod=1==(bits>>i&1),matrix.set(row,col,mod,!0),matrix.set(col,row,mod,!0)}(modules,version),function setupData(matrix,data){const size=matrix.size;let inc=-1,row=size-1,bitIndex=7,byteIndex=0;for(let col=size-1;col>0;col-=2)for(6===col&&col--;;){for(let c=0;c<2;c++)if(!matrix.isReserved(row,col-c)){let dark=!1;byteIndex<data.length&&(dark=1==(data[byteIndex]>>>bitIndex&1)),matrix.set(row,col-c,dark),bitIndex--,-1===bitIndex&&(byteIndex++,bitIndex=7)}if(row+=inc,row<0||size<=row){row-=inc,inc=-inc;break}}}(modules,dataBits),isNaN(maskPattern)&&(maskPattern=MaskPattern.getBestMask(modules,setupFormatInfo.bind(null,modules,errorCorrectionLevel))),MaskPattern.applyMask(maskPattern,modules),setupFormatInfo(modules,errorCorrectionLevel,maskPattern),{modules,version,errorCorrectionLevel,maskPattern,segments}}exports.create=function create(data,options){if(void 0===data||""===data)throw new Error("No input text");let version,mask,errorCorrectionLevel=ECLevel.M;return void 0!==options&&(errorCorrectionLevel=ECLevel.from(options.errorCorrectionLevel,ECLevel.M),version=Version.from(options.version),mask=MaskPattern.from(options.maskPattern),options.toSJISFunc&&Utils.setToSJISFunction(options.toSJISFunc)),createSymbol(data,version,errorCorrectionLevel,mask)}},"./node_modules/@solana-mobile/wallet-standard-mobile/node_modules/qrcode/lib/core/reed-solomon-encoder.js":(module,__unused_webpack_exports,__webpack_require__)=>{const Polynomial=__webpack_require__("./node_modules/@solana-mobile/wallet-standard-mobile/node_modules/qrcode/lib/core/polynomial.js");function ReedSolomonEncoder(degree){this.genPoly=void 0,this.degree=degree,this.degree&&this.initialize(this.degree)}ReedSolomonEncoder.prototype.initialize=function initialize(degree){this.degree=degree,this.genPoly=Polynomial.generateECPolynomial(this.degree)},ReedSolomonEncoder.prototype.encode=function encode(data){if(!this.genPoly)throw new Error("Encoder not initialized");const paddedData=new Uint8Array(data.length+this.degree);paddedData.set(data);const remainder=Polynomial.mod(paddedData,this.genPoly),start=this.degree-remainder.length;if(start>0){const buff=new Uint8Array(this.degree);return buff.set(remainder,start),buff}return remainder},module.exports=ReedSolomonEncoder},"./node_modules/@solana-mobile/wallet-standard-mobile/node_modules/qrcode/lib/core/regex.js":(__unused_webpack_module,exports)=>{let kanji="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";kanji=kanji.replace(/u/g,"\\u");const byte="(?:(?![A-Z0-9 $%*+\\-./:]|"+kanji+")(?:.|[\r\n]))+";exports.KANJI=new RegExp(kanji,"g"),exports.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),exports.BYTE=new RegExp(byte,"g"),exports.NUMERIC=new RegExp("[0-9]+","g"),exports.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");const TEST_KANJI=new RegExp("^"+kanji+"$"),TEST_NUMERIC=new RegExp("^[0-9]+$"),TEST_ALPHANUMERIC=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");exports.testKanji=function testKanji(str){return TEST_KANJI.test(str)},exports.testNumeric=function testNumeric(str){return TEST_NUMERIC.test(str)},exports.testAlphanumeric=function testAlphanumeric(str){return TEST_ALPHANUMERIC.test(str)}},"./node_modules/@solana-mobile/wallet-standard-mobile/node_modules/qrcode/lib/core/segments.js":(__unused_webpack_module,exports,__webpack_require__)=>{const Mode=__webpack_require__("./node_modules/@solana-mobile/wallet-standard-mobile/node_modules/qrcode/lib/core/mode.js"),NumericData=__webpack_require__("./node_modules/@solana-mobile/wallet-standard-mobile/node_modules/qrcode/lib/core/numeric-data.js"),AlphanumericData=__webpack_require__("./node_modules/@solana-mobile/wallet-standard-mobile/node_modules/qrcode/lib/core/alphanumeric-data.js"),ByteData=__webpack_require__("./node_modules/@solana-mobile/wallet-standard-mobile/node_modules/qrcode/lib/core/byte-data.js"),KanjiData=__webpack_require__("./node_modules/@solana-mobile/wallet-standard-mobile/node_modules/qrcode/lib/core/kanji-data.js"),Regex=__webpack_require__("./node_modules/@solana-mobile/wallet-standard-mobile/node_modules/qrcode/lib/core/regex.js"),Utils=__webpack_require__("./node_modules/@solana-mobile/wallet-standard-mobile/node_modules/qrcode/lib/core/utils.js"),dijkstra=__webpack_require__("./node_modules/dijkstrajs/dijkstra.js");function getStringByteLength(str){return unescape(encodeURIComponent(str)).length}function getSegments(regex,mode,str){const segments=[];let result;for(;null!==(result=regex.exec(str));)segments.push({data:result[0],index:result.index,mode,length:result[0].length});return segments}function getSegmentsFromString(dataStr){const numSegs=getSegments(Regex.NUMERIC,Mode.NUMERIC,dataStr),alphaNumSegs=getSegments(Regex.ALPHANUMERIC,Mode.ALPHANUMERIC,dataStr);let byteSegs,kanjiSegs;Utils.isKanjiModeEnabled()?(byteSegs=getSegments(Regex.BYTE,Mode.BYTE,dataStr),kanjiSegs=getSegments(Regex.KANJI,Mode.KANJI,dataStr)):(byteSegs=getSegments(Regex.BYTE_KANJI,Mode.BYTE,dataStr),kanjiSegs=[]);return numSegs.concat(alphaNumSegs,byteSegs,kanjiSegs).sort(function(s1,s2){return s1.index-s2.index}).map(function(obj){return{data:obj.data,mode:obj.mode,length:obj.length}})}function getSegmentBitsLength(length,mode){switch(mode){case Mode.NUMERIC:return NumericData.getBitsLength(length);case Mode.ALPHANUMERIC:return AlphanumericData.getBitsLength(length);case Mode.KANJI:return KanjiData.getBitsLength(length);case Mode.BYTE:return ByteData.getBitsLength(length)}}function buildSingleSegment(data,modesHint){let mode;const bestMode=Mode.getBestModeForData(data);if(mode=Mode.from(modesHint,bestMode),mode!==Mode.BYTE&&mode.bit<bestMode.bit)throw new Error('"'+data+'" cannot be encoded with mode '+Mode.toString(mode)+".\n Suggested mode is: "+Mode.toString(bestMode));switch(mode!==Mode.KANJI||Utils.isKanjiModeEnabled()||(mode=Mode.BYTE),mode){case Mode.NUMERIC:return new NumericData(data);case Mode.ALPHANUMERIC:return new AlphanumericData(data);case Mode.KANJI:return new KanjiData(data);case Mode.BYTE:return new ByteData(data)}}exports.fromArray=function fromArray(array){return array.reduce(function(acc,seg){return"string"==typeof seg?acc.push(buildSingleSegment(seg,null)):seg.data&&acc.push(buildSingleSegment(seg.data,seg.mode)),acc},[])},exports.fromString=function fromString(data,version){const nodes=function buildNodes(segs){const nodes=[];for(let i=0;i<segs.length;i++){const seg=segs[i];switch(seg.mode){case Mode.NUMERIC:nodes.push([seg,{data:seg.data,mode:Mode.ALPHANUMERIC,length:seg.length},{data:seg.data,mode:Mode.BYTE,length:seg.length}]);break;case Mode.ALPHANUMERIC:nodes.push([seg,{data:seg.data,mode:Mode.BYTE,length:seg.length}]);break;case Mode.KANJI:nodes.push([seg,{data:seg.data,mode:Mode.BYTE,length:getStringByteLength(seg.data)}]);break;case Mode.BYTE:nodes.push([{data:seg.data,mode:Mode.BYTE,length:getStringByteLength(seg.data)}])}}return nodes}(getSegmentsFromString(data,Utils.isKanjiModeEnabled())),graph=function buildGraph(nodes,version){const table={},graph={start:{}};let prevNodeIds=["start"];for(let i=0;i<nodes.length;i++){const nodeGroup=nodes[i],currentNodeIds=[];for(let j=0;j<nodeGroup.length;j++){const node=nodeGroup[j],key=""+i+j;currentNodeIds.push(key),table[key]={node,lastCount:0},graph[key]={};for(let n=0;n<prevNodeIds.length;n++){const prevNodeId=prevNodeIds[n];table[prevNodeId]&&table[prevNodeId].node.mode===node.mode?(graph[prevNodeId][key]=getSegmentBitsLength(table[prevNodeId].lastCount+node.length,node.mode)-getSegmentBitsLength(table[prevNodeId].lastCount,node.mode),table[prevNodeId].lastCount+=node.length):(table[prevNodeId]&&(table[prevNodeId].lastCount=node.length),graph[prevNodeId][key]=getSegmentBitsLength(node.length,node.mode)+4+Mode.getCharCountIndicator(node.mode,version))}}prevNodeIds=currentNodeIds}for(let n=0;n<prevNodeIds.length;n++)graph[prevNodeIds[n]].end=0;return{map:graph,table}}(nodes,version),path=dijkstra.find_path(graph.map,"start","end"),optimizedSegs=[];for(let i=1;i<path.length-1;i++)optimizedSegs.push(graph.table[path[i]].node);return exports.fromArray(function mergeSegments(segs){return segs.reduce(function(acc,curr){const prevSeg=acc.length-1>=0?acc[acc.length-1]:null;return prevSeg&&prevSeg.mode===curr.mode?(acc[acc.length-1].data+=curr.data,acc):(acc.push(curr),acc)},[])}(optimizedSegs))},exports.rawSplit=function rawSplit(data){return exports.fromArray(getSegmentsFromString(data,Utils.isKanjiModeEnabled()))}},"./node_modules/@solana-mobile/wallet-standard-mobile/node_modules/qrcode/lib/core/utils.js":(__unused_webpack_module,exports)=>{let toSJISFunction;const CODEWORDS_COUNT=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];exports.getSymbolSize=function getSymbolSize(version){if(!version)throw new Error('"version" cannot be null or undefined');if(version<1||version>40)throw new Error('"version" should be in range from 1 to 40');return 4*version+17},exports.getSymbolTotalCodewords=function getSymbolTotalCodewords(version){return CODEWORDS_COUNT[version]},exports.getBCHDigit=function(data){let digit=0;for(;0!==data;)digit++,data>>>=1;return digit},exports.setToSJISFunction=function setToSJISFunction(f){if("function"!=typeof f)throw new Error('"toSJISFunc" is not a valid function.');toSJISFunction=f},exports.isKanjiModeEnabled=function(){return void 0!==toSJISFunction},exports.toSJIS=function toSJIS(kanji){return toSJISFunction(kanji)}},"./node_modules/@solana-mobile/wallet-standard-mobile/node_modules/qrcode/lib/core/version-check.js":(__unused_webpack_module,exports)=>{exports.isValid=function isValid(version){return!isNaN(version)&&version>=1&&version<=40}},"./node_modules/@solana-mobile/wallet-standard-mobile/node_modules/qrcode/lib/core/version.js":(__unused_webpack_module,exports,__webpack_require__)=>{const Utils=__webpack_require__("./node_modules/@solana-mobile/wallet-standard-mobile/node_modules/qrcode/lib/core/utils.js"),ECCode=__webpack_require__("./node_modules/@solana-mobile/wallet-standard-mobile/node_modules/qrcode/lib/core/error-correction-code.js"),ECLevel=__webpack_require__("./node_modules/@solana-mobile/wallet-standard-mobile/node_modules/qrcode/lib/core/error-correction-level.js"),Mode=__webpack_require__("./node_modules/@solana-mobile/wallet-standard-mobile/node_modules/qrcode/lib/core/mode.js"),VersionCheck=__webpack_require__("./node_modules/@solana-mobile/wallet-standard-mobile/node_modules/qrcode/lib/core/version-check.js"),G18_BCH=Utils.getBCHDigit(7973);function getReservedBitsCount(mode,version){return Mode.getCharCountIndicator(mode,version)+4}function getTotalBitsFromDataArray(segments,version){let totalBits=0;return segments.forEach(function(data){const reservedBits=getReservedBitsCount(data.mode,version);totalBits+=reservedBits+data.getBitsLength()}),totalBits}exports.from=function from(value,defaultValue){return VersionCheck.isValid(value)?parseInt(value,10):defaultValue},exports.getCapacity=function getCapacity(version,errorCorrectionLevel,mode){if(!VersionCheck.isValid(version))throw new Error("Invalid QR Code version");void 0===mode&&(mode=Mode.BYTE);const dataTotalCodewordsBits=8*(Utils.getSymbolTotalCodewords(version)-ECCode.getTotalCodewordsCount(version,errorCorrectionLevel));if(mode===Mode.MIXED)return dataTotalCodewordsBits;const usableBits=dataTotalCodewordsBits-getReservedBitsCount(mode,version);switch(mode){case Mode.NUMERIC:return Math.floor(usableBits/10*3);case Mode.ALPHANUMERIC:return Math.floor(usableBits/11*2);case Mode.KANJI:return Math.floor(usableBits/13);case Mode.BYTE:default:return Math.floor(usableBits/8)}},exports.getBestVersionForData=function getBestVersionForData(data,errorCorrectionLevel){let seg;const ecl=ECLevel.from(errorCorrectionLevel,ECLevel.M);if(Array.isArray(data)){if(data.length>1)return function getBestVersionForMixedData(segments,errorCorrectionLevel){for(let currentVersion=1;currentVersion<=40;currentVersion++)if(getTotalBitsFromDataArray(segments,currentVersion)<=exports.getCapacity(currentVersion,errorCorrectionLevel,Mode.MIXED))return currentVersion}(data,ecl);if(0===data.length)return 1;seg=data[0]}else seg=data;return function getBestVersionForDataLength(mode,length,errorCorrectionLevel){for(let currentVersion=1;currentVersion<=40;currentVersion++)if(length<=exports.getCapacity(currentVersion,errorCorrectionLevel,mode))return currentVersion}(seg.mode,seg.getLength(),ecl)},exports.getEncodedBits=function getEncodedBits(version){if(!VersionCheck.isValid(version)||version<7)throw new Error("Invalid QR Code version");let d=version<<12;for(;Utils.getBCHDigit(d)-G18_BCH>=0;)d^=7973<<Utils.getBCHDigit(d)-G18_BCH;return version<<12|d}},"./node_modules/@solana-mobile/wallet-standard-mobile/node_modules/qrcode/lib/renderer/canvas.js":(__unused_webpack_module,exports,__webpack_require__)=>{const Utils=__webpack_require__("./node_modules/@solana-mobile/wallet-standard-mobile/node_modules/qrcode/lib/renderer/utils.js");exports.render=function render(qrData,canvas,options){let opts=options,canvasEl=canvas;void 0!==opts||canvas&&canvas.getContext||(opts=canvas,canvas=void 0),canvas||(canvasEl=function getCanvasElement(){try{return document.createElement("canvas")}catch(e){throw new Error("You need to specify a canvas element")}}()),opts=Utils.getOptions(opts);const size=Utils.getImageWidth(qrData.modules.size,opts),ctx=canvasEl.getContext("2d"),image=ctx.createImageData(size,size);return Utils.qrToImageData(image.data,qrData,opts),function clearCanvas(ctx,canvas,size){ctx.clearRect(0,0,canvas.width,canvas.height),canvas.style||(canvas.style={}),canvas.height=size,canvas.width=size,canvas.style.height=size+"px",canvas.style.width=size+"px"}(ctx,canvasEl,size),ctx.putImageData(image,0,0),canvasEl},exports.renderToDataURL=function renderToDataURL(qrData,canvas,options){let opts=options;void 0!==opts||canvas&&canvas.getContext||(opts=canvas,canvas=void 0),opts||(opts={});const canvasEl=exports.render(qrData,canvas,opts),type=opts.type||"image/png",rendererOpts=opts.rendererOpts||{};return canvasEl.toDataURL(type,rendererOpts.quality)}},"./node_modules/@solana-mobile/wallet-standard-mobile/node_modules/qrcode/lib/renderer/svg-tag.js":(__unused_webpack_module,exports,__webpack_require__)=>{const Utils=__webpack_require__("./node_modules/@solana-mobile/wallet-standard-mobile/node_modules/qrcode/lib/renderer/utils.js");function getColorAttrib(color,attrib){const alpha=color.a/255,str=attrib+'="'+color.hex+'"';return alpha<1?str+" "+attrib+'-opacity="'+alpha.toFixed(2).slice(1)+'"':str}function svgCmd(cmd,x,y){let str=cmd+x;return void 0!==y&&(str+=" "+y),str}exports.render=function render(qrData,options,cb){const opts=Utils.getOptions(options),size=qrData.modules.size,data=qrData.modules.data,qrcodesize=size+2*opts.margin,bg=opts.color.light.a?"<path "+getColorAttrib(opts.color.light,"fill")+' d="M0 0h'+qrcodesize+"v"+qrcodesize+'H0z"/>':"",path="<path "+getColorAttrib(opts.color.dark,"stroke")+' d="'+function qrToPath(data,size,margin){let path="",moveBy=0,newRow=!1,lineLength=0;for(let i=0;i<data.length;i++){const col=Math.floor(i%size),row=Math.floor(i/size);col||newRow||(newRow=!0),data[i]?(lineLength++,i>0&&col>0&&data[i-1]||(path+=newRow?svgCmd("M",col+margin,.5+row+margin):svgCmd("m",moveBy,0),moveBy=0,newRow=!1),col+1<size&&data[i+1]||(path+=svgCmd("h",lineLength),lineLength=0)):moveBy++}return path}(data,size,opts.margin)+'"/>',viewBox='viewBox="0 0 '+qrcodesize+" "+qrcodesize+'"',svgTag='<svg xmlns="http://www.w3.org/2000/svg" '+(opts.width?'width="'+opts.width+'" height="'+opts.width+'" ':"")+viewBox+' shape-rendering="crispEdges">'+bg+path+"</svg>\n";return"function"==typeof cb&&cb(null,svgTag),svgTag}},"./node_modules/@solana-mobile/wallet-standard-mobile/node_modules/qrcode/lib/renderer/utils.js":(__unused_webpack_module,exports)=>{function hex2rgba(hex){if("number"==typeof hex&&(hex=hex.toString()),"string"!=typeof hex)throw new Error("Color should be defined as hex string");let hexCode=hex.slice().replace("#","").split("");if(hexCode.length<3||5===hexCode.length||hexCode.length>8)throw new Error("Invalid hex color: "+hex);3!==hexCode.length&&4!==hexCode.length||(hexCode=Array.prototype.concat.apply([],hexCode.map(function(c){return[c,c]}))),6===hexCode.length&&hexCode.push("F","F");const hexValue=parseInt(hexCode.join(""),16);return{r:hexValue>>24&255,g:hexValue>>16&255,b:hexValue>>8&255,a:255&hexValue,hex:"#"+hexCode.slice(0,6).join("")}}exports.getOptions=function getOptions(options){options||(options={}),options.color||(options.color={});const margin=void 0===options.margin||null===options.margin||options.margin<0?4:options.margin,width=options.width&&options.width>=21?options.width:void 0,scale=options.scale||4;return{width,scale:width?4:scale,margin,color:{dark:hex2rgba(options.color.dark||"#000000ff"),light:hex2rgba(options.color.light||"#ffffffff")},type:options.type,rendererOpts:options.rendererOpts||{}}},exports.getScale=function getScale(qrSize,opts){return opts.width&&opts.width>=qrSize+2*opts.margin?opts.width/(qrSize+2*opts.margin):opts.scale},exports.getImageWidth=function getImageWidth(qrSize,opts){const scale=exports.getScale(qrSize,opts);return Math.floor((qrSize+2*opts.margin)*scale)},exports.qrToImageData=function qrToImageData(imgData,qr,opts){const size=qr.modules.size,data=qr.modules.data,scale=exports.getScale(size,opts),symbolSize=Math.floor((size+2*opts.margin)*scale),scaledMargin=opts.margin*scale,palette=[opts.color.light,opts.color.dark];for(let i=0;i<symbolSize;i++)for(let j=0;j<symbolSize;j++){let posDst=4*(i*symbolSize+j),pxColor=opts.color.light;if(i>=scaledMargin&&j>=scaledMargin&&i<symbolSize-scaledMargin&&j<symbolSize-scaledMargin){pxColor=palette[data[Math.floor((i-scaledMargin)/scale)*size+Math.floor((j-scaledMargin)/scale)]?1:0]}imgData[posDst++]=pxColor.r,imgData[posDst++]=pxColor.g,imgData[posDst++]=pxColor.b,imgData[posDst]=pxColor.a}}},"./node_modules/@solana/wallet-adapter-base/lib/cjs/adapter.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.BaseWalletAdapter=exports.WalletReadyState=exports.EventEmitter=void 0,exports.scopePollingDetectionStrategy=function scopePollingDetectionStrategy(detect){if("undefined"==typeof window||"undefined"==typeof document)return;const disposers=[];function detectAndDispose(){if(detect())for(const dispose of disposers)dispose()}const interval=setInterval(detectAndDispose,1e3);disposers.push(()=>clearInterval(interval)),"loading"===document.readyState&&(document.addEventListener("DOMContentLoaded",detectAndDispose,{once:!0}),disposers.push(()=>document.removeEventListener("DOMContentLoaded",detectAndDispose)));"complete"!==document.readyState&&(window.addEventListener("load",detectAndDispose,{once:!0}),disposers.push(()=>window.removeEventListener("load",detectAndDispose)));detectAndDispose()},exports.isIosAndRedirectable=function isIosAndRedirectable(){if(!navigator)return!1;const userAgent=navigator.userAgent.toLowerCase(),isIos=userAgent.includes("iphone")||userAgent.includes("ipad"),isSafari=userAgent.includes("safari");return isIos&&isSafari};const eventemitter3_1=__importDefault(__webpack_require__("./node_modules/eventemitter3/index.js"));exports.EventEmitter=eventemitter3_1.default;const errors_js_1=__webpack_require__("./node_modules/@solana/wallet-adapter-base/lib/cjs/errors.js");var WalletReadyState;!function(WalletReadyState){WalletReadyState.Installed="Installed",WalletReadyState.NotDetected="NotDetected",WalletReadyState.Loadable="Loadable",WalletReadyState.Unsupported="Unsupported"}(WalletReadyState||(exports.WalletReadyState=WalletReadyState={}));class BaseWalletAdapter extends eventemitter3_1.default{get connected(){return!!this.publicKey}autoConnect(){return __awaiter(this,void 0,void 0,function*(){yield this.connect()})}prepareTransaction(transaction_1,connection_1){return __awaiter(this,arguments,void 0,function*(transaction,connection,options={}){const publicKey=this.publicKey;if(!publicKey)throw new errors_js_1.WalletNotConnectedError;return transaction.feePayer=transaction.feePayer||publicKey,transaction.recentBlockhash=transaction.recentBlockhash||(yield connection.getLatestBlockhash({commitment:options.preflightCommitment,minContextSlot:options.minContextSlot})).blockhash,transaction})}}exports.BaseWalletAdapter=BaseWalletAdapter},"./node_modules/@solana/wallet-adapter-base/lib/cjs/errors.js":(__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.WalletWindowClosedError=exports.WalletWindowBlockedError=exports.WalletTimeoutError=exports.WalletSignInError=exports.WalletSignMessageError=exports.WalletSignTransactionError=exports.WalletSendTransactionError=exports.WalletNotConnectedError=exports.WalletKeypairError=exports.WalletPublicKeyError=exports.WalletAccountError=exports.WalletDisconnectionError=exports.WalletDisconnectedError=exports.WalletConnectionError=exports.WalletConfigError=exports.WalletLoadError=exports.WalletNotReadyError=exports.WalletError=void 0;class WalletError extends Error{constructor(message,error){super(message),this.error=error}}exports.WalletError=WalletError;exports.WalletNotReadyError=class WalletNotReadyError extends WalletError{constructor(){super(...arguments),this.name="WalletNotReadyError"}};exports.WalletLoadError=class WalletLoadError extends WalletError{constructor(){super(...arguments),this.name="WalletLoadError"}};exports.WalletConfigError=class WalletConfigError extends WalletError{constructor(){super(...arguments),this.name="WalletConfigError"}};exports.WalletConnectionError=class WalletConnectionError extends WalletError{constructor(){super(...arguments),this.name="WalletConnectionError"}};exports.WalletDisconnectedError=class WalletDisconnectedError extends WalletError{constructor(){super(...arguments),this.name="WalletDisconnectedError"}};exports.WalletDisconnectionError=class WalletDisconnectionError extends WalletError{constructor(){super(...arguments),this.name="WalletDisconnectionError"}};exports.WalletAccountError=class WalletAccountError extends WalletError{constructor(){super(...arguments),this.name="WalletAccountError"}};exports.WalletPublicKeyError=class WalletPublicKeyError extends WalletError{constructor(){super(...arguments),this.name="WalletPublicKeyError"}};exports.WalletKeypairError=class WalletKeypairError extends WalletError{constructor(){super(...arguments),this.name="WalletKeypairError"}};exports.WalletNotConnectedError=class WalletNotConnectedError extends WalletError{constructor(){super(...arguments),this.name="WalletNotConnectedError"}};exports.WalletSendTransactionError=class WalletSendTransactionError extends WalletError{constructor(){super(...arguments),this.name="WalletSendTransactionError"}};exports.WalletSignTransactionError=class WalletSignTransactionError extends WalletError{constructor(){super(...arguments),this.name="WalletSignTransactionError"}};exports.WalletSignMessageError=class WalletSignMessageError extends WalletError{constructor(){super(...arguments),this.name="WalletSignMessageError"}};exports.WalletSignInError=class WalletSignInError extends WalletError{constructor(){super(...arguments),this.name="WalletSignInError"}};exports.WalletTimeoutError=class WalletTimeoutError extends WalletError{constructor(){super(...arguments),this.name="WalletTimeoutError"}};exports.WalletWindowBlockedError=class WalletWindowBlockedError extends WalletError{constructor(){super(...arguments),this.name="WalletWindowBlockedError"}};exports.WalletWindowClosedError=class WalletWindowClosedError extends WalletError{constructor(){super(...arguments),this.name="WalletWindowClosedError"}}},"./node_modules/@solana/wallet-adapter-base/lib/cjs/index.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k);var desc=Object.getOwnPropertyDescriptor(m,k);desc&&!("get"in desc?!m.__esModule:desc.writable||desc.configurable)||(desc={enumerable:!0,get:function(){return m[k]}}),Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__exportStar=this&&this.__exportStar||function(m,exports){for(var p in m)"default"===p||Object.prototype.hasOwnProperty.call(exports,p)||__createBinding(exports,m,p)};Object.defineProperty(exports,"__esModule",{value:!0}),__exportStar(__webpack_require__("./node_modules/@solana/wallet-adapter-base/lib/cjs/adapter.js"),exports),__exportStar(__webpack_require__("./node_modules/@solana/wallet-adapter-base/lib/cjs/errors.js"),exports),__exportStar(__webpack_require__("./node_modules/@solana/wallet-adapter-base/lib/cjs/signer.js"),exports),__exportStar(__webpack_require__("./node_modules/@solana/wallet-adapter-base/lib/cjs/standard.js"),exports),__exportStar(__webpack_require__("./node_modules/@solana/wallet-adapter-base/lib/cjs/transaction.js"),exports),__exportStar(__webpack_require__("./node_modules/@solana/wallet-adapter-base/lib/cjs/types.js"),exports)},"./node_modules/@solana/wallet-adapter-base/lib/cjs/signer.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__rest=this&&this.__rest||function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t};Object.defineProperty(exports,"__esModule",{value:!0}),exports.BaseSignInMessageSignerWalletAdapter=exports.BaseMessageSignerWalletAdapter=exports.BaseSignerWalletAdapter=void 0;const adapter_js_1=__webpack_require__("./node_modules/@solana/wallet-adapter-base/lib/cjs/adapter.js"),errors_js_1=__webpack_require__("./node_modules/@solana/wallet-adapter-base/lib/cjs/errors.js"),transaction_js_1=__webpack_require__("./node_modules/@solana/wallet-adapter-base/lib/cjs/transaction.js");class BaseSignerWalletAdapter extends adapter_js_1.BaseWalletAdapter{sendTransaction(transaction_1,connection_1){return __awaiter(this,arguments,void 0,function*(transaction,connection,options={}){let emit=!0;try{if((0,transaction_js_1.isVersionedTransaction)(transaction)){if(!this.supportedTransactionVersions)throw new errors_js_1.WalletSendTransactionError("Sending versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(transaction.version))throw new errors_js_1.WalletSendTransactionError(`Sending transaction version ${transaction.version} isn't supported by this wallet`);try{const rawTransaction=(transaction=yield this.signTransaction(transaction)).serialize();return yield connection.sendRawTransaction(rawTransaction,options)}catch(error){if(error instanceof errors_js_1.WalletSignTransactionError)throw emit=!1,error;throw new errors_js_1.WalletSendTransactionError(null==error?void 0:error.message,error)}}else try{const{signers}=options,sendOptions=__rest(options,["signers"]);transaction=yield this.prepareTransaction(transaction,connection,sendOptions),(null==signers?void 0:signers.length)&&transaction.partialSign(...signers);const rawTransaction=(transaction=yield this.signTransaction(transaction)).serialize();return yield connection.sendRawTransaction(rawTransaction,sendOptions)}catch(error){if(error instanceof errors_js_1.WalletSignTransactionError)throw emit=!1,error;throw new errors_js_1.WalletSendTransactionError(null==error?void 0:error.message,error)}}catch(error){throw emit&&this.emit("error",error),error}})}signAllTransactions(transactions){return __awaiter(this,void 0,void 0,function*(){for(const transaction of transactions)if((0,transaction_js_1.isVersionedTransaction)(transaction)){if(!this.supportedTransactionVersions)throw new errors_js_1.WalletSignTransactionError("Signing versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(transaction.version))throw new errors_js_1.WalletSignTransactionError(`Signing transaction version ${transaction.version} isn't supported by this wallet`)}const signedTransactions=[];for(const transaction of transactions)signedTransactions.push(yield this.signTransaction(transaction));return signedTransactions})}}exports.BaseSignerWalletAdapter=BaseSignerWalletAdapter;class BaseMessageSignerWalletAdapter extends BaseSignerWalletAdapter{}exports.BaseMessageSignerWalletAdapter=BaseMessageSignerWalletAdapter;exports.BaseSignInMessageSignerWalletAdapter=class BaseSignInMessageSignerWalletAdapter extends BaseMessageSignerWalletAdapter{}},"./node_modules/@solana/wallet-adapter-base/lib/cjs/standard.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isWalletAdapterCompatibleStandardWallet=function isWalletAdapterCompatibleStandardWallet(wallet){return features_1.StandardConnect in wallet.features&&features_1.StandardEvents in wallet.features&&(wallet_standard_features_1.SolanaSignAndSendTransaction in wallet.features||wallet_standard_features_1.SolanaSignTransaction in wallet.features)};const wallet_standard_features_1=__webpack_require__("./node_modules/@solana/wallet-standard-features/lib/cjs/index.js"),features_1=__webpack_require__("./node_modules/@wallet-standard/features/lib/cjs/index.js")},"./node_modules/@solana/wallet-adapter-base/lib/cjs/transaction.js":(__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isVersionedTransaction=function isVersionedTransaction(transaction){return"version"in transaction}},"./node_modules/@solana/wallet-adapter-base/lib/cjs/types.js":(__unused_webpack_module,exports)=>{"use strict";var WalletAdapterNetwork;Object.defineProperty(exports,"__esModule",{value:!0}),exports.WalletAdapterNetwork=void 0,function(WalletAdapterNetwork){WalletAdapterNetwork.Mainnet="mainnet-beta",WalletAdapterNetwork.Testnet="testnet",WalletAdapterNetwork.Devnet="devnet"}(WalletAdapterNetwork||(exports.WalletAdapterNetwork=WalletAdapterNetwork={}))},"./node_modules/@solana/wallet-adapter-base/lib/esm/adapter.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Br:()=>isIosAndRedirectable,Ce:()=>BaseWalletAdapter,Ok:()=>WalletReadyState,qG:()=>scopePollingDetectionStrategy});var WalletReadyState,eventemitter3__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/eventemitter3/index.mjs"),_errors_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@solana/wallet-adapter-base/lib/esm/errors.js");!function(WalletReadyState){WalletReadyState.Installed="Installed",WalletReadyState.NotDetected="NotDetected",WalletReadyState.Loadable="Loadable",WalletReadyState.Unsupported="Unsupported"}(WalletReadyState||(WalletReadyState={}));class BaseWalletAdapter extends eventemitter3__WEBPACK_IMPORTED_MODULE_0__.A{get connected(){return!!this.publicKey}async autoConnect(){await this.connect()}async prepareTransaction(transaction,connection,options={}){const publicKey=this.publicKey;if(!publicKey)throw new _errors_js__WEBPACK_IMPORTED_MODULE_1__.kW;return transaction.feePayer=transaction.feePayer||publicKey,transaction.recentBlockhash=transaction.recentBlockhash||(await connection.getLatestBlockhash({commitment:options.preflightCommitment,minContextSlot:options.minContextSlot})).blockhash,transaction}}function scopePollingDetectionStrategy(detect){if("undefined"==typeof window||"undefined"==typeof document)return;const disposers=[];function detectAndDispose(){if(detect())for(const dispose of disposers)dispose()}const interval=setInterval(detectAndDispose,1e3);disposers.push(()=>clearInterval(interval)),"loading"===document.readyState&&(document.addEventListener("DOMContentLoaded",detectAndDispose,{once:!0}),disposers.push(()=>document.removeEventListener("DOMContentLoaded",detectAndDispose))),"complete"!==document.readyState&&(window.addEventListener("load",detectAndDispose,{once:!0}),disposers.push(()=>window.removeEventListener("load",detectAndDispose))),detectAndDispose()}function isIosAndRedirectable(){if(!navigator)return!1;const userAgent=navigator.userAgent.toLowerCase(),isIos=userAgent.includes("iphone")||userAgent.includes("ipad"),isSafari=userAgent.includes("safari");return isIos&&isSafari}},"./node_modules/@solana/wallet-adapter-base/lib/esm/errors.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{AE:()=>WalletNotReadyError,Ez:()=>WalletConfigError,K3:()=>WalletSignMessageError,KL:()=>WalletWindowClosedError,Kd:()=>WalletPublicKeyError,PQ:()=>WalletDisconnectedError,UF:()=>WalletSendTransactionError,Y6:()=>WalletConnectionError,Y8:()=>WalletDisconnectionError,fk:()=>WalletAccountError,kW:()=>WalletNotConnectedError,m7:()=>WalletError,o7:()=>WalletSignInError,z4:()=>WalletSignTransactionError});class WalletError extends Error{constructor(message,error){super(message),this.error=error}}class WalletNotReadyError extends WalletError{constructor(){super(...arguments),this.name="WalletNotReadyError"}}class WalletConfigError extends WalletError{constructor(){super(...arguments),this.name="WalletConfigError"}}class WalletConnectionError extends WalletError{constructor(){super(...arguments),this.name="WalletConnectionError"}}class WalletDisconnectedError extends WalletError{constructor(){super(...arguments),this.name="WalletDisconnectedError"}}class WalletDisconnectionError extends WalletError{constructor(){super(...arguments),this.name="WalletDisconnectionError"}}class WalletAccountError extends WalletError{constructor(){super(...arguments),this.name="WalletAccountError"}}class WalletPublicKeyError extends WalletError{constructor(){super(...arguments),this.name="WalletPublicKeyError"}}class WalletNotConnectedError extends WalletError{constructor(){super(...arguments),this.name="WalletNotConnectedError"}}class WalletSendTransactionError extends WalletError{constructor(){super(...arguments),this.name="WalletSendTransactionError"}}class WalletSignTransactionError extends WalletError{constructor(){super(...arguments),this.name="WalletSignTransactionError"}}class WalletSignMessageError extends WalletError{constructor(){super(...arguments),this.name="WalletSignMessageError"}}class WalletSignInError extends WalletError{constructor(){super(...arguments),this.name="WalletSignInError"}}class WalletWindowClosedError extends WalletError{constructor(){super(...arguments),this.name="WalletWindowClosedError"}}},"./node_modules/@solana/wallet-adapter-base/lib/esm/signer.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{DE:()=>BaseMessageSignerWalletAdapter,Kl:()=>BaseSignerWalletAdapter});var _adapter_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@solana/wallet-adapter-base/lib/esm/adapter.js"),_errors_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@solana/wallet-adapter-base/lib/esm/errors.js"),_transaction_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@solana/wallet-adapter-base/lib/esm/transaction.js");class BaseSignerWalletAdapter extends _adapter_js__WEBPACK_IMPORTED_MODULE_0__.Ce{async sendTransaction(transaction,connection,options={}){let emit=!0;try{if((0,_transaction_js__WEBPACK_IMPORTED_MODULE_2__.Y)(transaction)){if(!this.supportedTransactionVersions)throw new _errors_js__WEBPACK_IMPORTED_MODULE_1__.UF("Sending versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(transaction.version))throw new _errors_js__WEBPACK_IMPORTED_MODULE_1__.UF(`Sending transaction version ${transaction.version} isn't supported by this wallet`);try{const rawTransaction=(transaction=await this.signTransaction(transaction)).serialize();return await connection.sendRawTransaction(rawTransaction,options)}catch(error){if(error instanceof _errors_js__WEBPACK_IMPORTED_MODULE_1__.z4)throw emit=!1,error;throw new _errors_js__WEBPACK_IMPORTED_MODULE_1__.UF(error?.message,error)}}else try{const{signers,...sendOptions}=options;transaction=await this.prepareTransaction(transaction,connection,sendOptions),signers?.length&&transaction.partialSign(...signers);const rawTransaction=(transaction=await this.signTransaction(transaction)).serialize();return await connection.sendRawTransaction(rawTransaction,sendOptions)}catch(error){if(error instanceof _errors_js__WEBPACK_IMPORTED_MODULE_1__.z4)throw emit=!1,error;throw new _errors_js__WEBPACK_IMPORTED_MODULE_1__.UF(error?.message,error)}}catch(error){throw emit&&this.emit("error",error),error}}async signAllTransactions(transactions){for(const transaction of transactions)if((0,_transaction_js__WEBPACK_IMPORTED_MODULE_2__.Y)(transaction)){if(!this.supportedTransactionVersions)throw new _errors_js__WEBPACK_IMPORTED_MODULE_1__.z4("Signing versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(transaction.version))throw new _errors_js__WEBPACK_IMPORTED_MODULE_1__.z4(`Signing transaction version ${transaction.version} isn't supported by this wallet`)}const signedTransactions=[];for(const transaction of transactions)signedTransactions.push(await this.signTransaction(transaction));return signedTransactions}}class BaseMessageSignerWalletAdapter extends BaseSignerWalletAdapter{}},"./node_modules/@solana/wallet-adapter-base/lib/esm/transaction.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function isVersionedTransaction(transaction){return"version"in transaction}__webpack_require__.d(__webpack_exports__,{Y:()=>isVersionedTransaction})},"./node_modules/@solana/wallet-adapter-base/lib/esm/types.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";var WalletAdapterNetwork;__webpack_require__.d(__webpack_exports__,{B:()=>WalletAdapterNetwork}),function(WalletAdapterNetwork){WalletAdapterNetwork.Mainnet="mainnet-beta",WalletAdapterNetwork.Testnet="testnet",WalletAdapterNetwork.Devnet="devnet"}(WalletAdapterNetwork||(WalletAdapterNetwork={}))},"./node_modules/@solana/wallet-adapter-coinbase/lib/esm/adapter.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{d:()=>CoinbaseWalletAdapter});var _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@solana/wallet-adapter-base/lib/esm/adapter.js"),_solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@solana/wallet-adapter-base/lib/esm/errors.js"),_solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@solana/wallet-adapter-base/lib/esm/signer.js"),_solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@solana/wallet-adapter-base/lib/esm/transaction.js"),_solana_web3_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@solana/web3.js/lib/index.browser.esm.js");class CoinbaseWalletAdapter extends _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_2__.DE{constructor(config={}){super(),this.name="Coinbase Wallet",this.url="https://chrome.google.com/webstore/detail/coinbase-wallet-extension/hnfanknocfeofbddgcijnmhnfnkdnaad",this.icon="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAyNCIgaGVpZ2h0PSIxMDI0IiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8Y2lyY2xlIGN4PSI1MTIiIGN5PSI1MTIiIHI9IjUxMiIgZmlsbD0iIzAwNTJGRiIvPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTE1MiA1MTJDMTUyIDcxMC44MjMgMzEzLjE3NyA4NzIgNTEyIDg3MkM3MTAuODIzIDg3MiA4NzIgNzEwLjgyMyA4NzIgNTEyQzg3MiAzMTMuMTc3IDcxMC44MjMgMTUyIDUxMiAxNTJDMzEzLjE3NyAxNTIgMTUyIDMxMy4xNzcgMTUyIDUxMlpNNDIwIDM5NkM0MDYuNzQ1IDM5NiAzOTYgNDA2Ljc0NSAzOTYgNDIwVjYwNEMzOTYgNjE3LjI1NSA0MDYuNzQ1IDYyOCA0MjAgNjI4SDYwNEM2MTcuMjU1IDYyOCA2MjggNjE3LjI1NSA2MjggNjA0VjQyMEM2MjggNDA2Ljc0NSA2MTcuMjU1IDM5NiA2MDQgMzk2SDQyMFoiIGZpbGw9IndoaXRlIi8+Cjwvc3ZnPgo=",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState="undefined"==typeof window||"undefined"==typeof document?_solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_0__.Ok.Unsupported:_solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_0__.Ok.NotDetected,this._disconnected=()=>{const wallet=this._wallet;wallet&&(wallet.off("disconnect",this._disconnected),this._wallet=null,this._publicKey=null,this.emit("error",new _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_1__.PQ),this.emit("disconnect"))},this._connecting=!1,this._wallet=null,this._publicKey=null,this._readyState!==_solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_0__.Ok.Unsupported&&(0,_solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_0__.qG)(()=>!!window?.coinbaseSolana&&(this._readyState=_solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_0__.Ok.Installed,this.emit("readyStateChange",this._readyState),!0))}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get readyState(){return this._readyState}async connect(){try{if(this.connected||this.connecting)return;if(this._readyState!==_solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_0__.Ok.Installed)throw new _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_1__.AE;this._connecting=!0;const wallet=window.coinbaseSolana;try{await wallet.connect()}catch(error){throw new _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_1__.Y6(error?.message,error)}if(!wallet.publicKey)throw new _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_1__.fk;let publicKey;try{publicKey=new _solana_web3_js__WEBPACK_IMPORTED_MODULE_4__.PublicKey(wallet.publicKey.toBytes())}catch(error){throw new _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_1__.Kd(error?.message,error)}wallet.on("disconnect",this._disconnected),this._wallet=wallet,this._publicKey=publicKey,this.emit("connect",publicKey)}catch(error){throw this.emit("error",error),error}finally{this._connecting=!1}}async disconnect(){const wallet=this._wallet;if(wallet){wallet.off("disconnect",this._disconnected),this._wallet=null,this._publicKey=null;try{await wallet.disconnect()}catch(error){this.emit("error",new _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_1__.Y8(error?.message,error))}}this.emit("disconnect")}async sendTransaction(transaction,connection,options={}){try{const wallet=this._wallet;if(!wallet)throw new _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_1__.kW;try{const{signers,...sendOptions}=options;(0,_solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_3__.Y)(transaction)?signers?.length&&transaction.sign(signers):(transaction=await this.prepareTransaction(transaction,connection,sendOptions),signers?.length&&transaction.partialSign(...signers)),sendOptions.preflightCommitment=sendOptions.preflightCommitment||connection.commitment;const{signature}=await wallet.signAndSendTransaction(transaction,sendOptions);return signature}catch(error){if(error instanceof _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_1__.m7)throw error;throw new _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_1__.UF(error?.message,error)}}catch(error){throw this.emit("error",error),error}}async signTransaction(transaction){try{const wallet=this._wallet;if(!wallet)throw new _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_1__.kW;try{return await wallet.signTransaction(transaction)||transaction}catch(error){throw new _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_1__.z4(error?.message,error)}}catch(error){throw this.emit("error",error),error}}async signAllTransactions(transactions){try{const wallet=this._wallet;if(!wallet)throw new _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_1__.kW;try{return await wallet.signAllTransactions(transactions)||transactions}catch(error){throw new _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_1__.z4(error?.message,error)}}catch(error){throw this.emit("error",error),error}}async signMessage(message){try{const wallet=this._wallet;if(!wallet)throw new _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_1__.kW;try{const{signature}=await wallet.signMessage(message);return signature}catch(error){throw new _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_1__.z4(error?.message,error)}}catch(error){throw this.emit("error",error),error}}}},"./node_modules/@solana/wallet-adapter-glow/lib/esm/adapter.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{y:()=>GlowWalletAdapter});var _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@solana/wallet-adapter-base/lib/esm/adapter.js"),_solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@solana/wallet-adapter-base/lib/esm/errors.js"),_solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@solana/wallet-adapter-base/lib/esm/signer.js"),_solana_web3_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@solana/web3.js/lib/index.browser.esm.js");class GlowWalletAdapter extends _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_2__.DE{constructor(config={}){if(super(),this.name="Glow",this.url="https://glow.app",this.icon="data:image/png;base64,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",this.supportedTransactionVersions=null,this._readyState="undefined"==typeof window||"undefined"==typeof document?_solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_0__.Ok.Unsupported:_solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_0__.Ok.NotDetected,this._disconnected=()=>{const wallet=this._wallet;wallet&&(wallet.off("disconnect",this._disconnected),this._wallet=null,this._publicKey=null,this.emit("error",new _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_1__.PQ),this.emit("disconnect"))},this._connecting=!1,this._wallet=null,this._publicKey=null,this._network=config.network||null,this._readyState!==_solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_0__.Ok.Unsupported){const handler=event=>{"object"==typeof event.data&&event.data.__glow_loaded&&(this._readyState!==_solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_0__.Ok.Installed&&(this._readyState=_solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_0__.Ok.Installed,this.emit("readyStateChange",this._readyState)),window.removeEventListener("message",handler))};window.addEventListener("message",handler),(0,_solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_0__.qG)(()=>!!window.glowSolana?.isGlow&&(window.removeEventListener("message",handler),this._readyState!==_solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_0__.Ok.Installed&&(this._readyState=_solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_0__.Ok.Installed,this.emit("readyStateChange",this._readyState)),!0))}}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get connected(){return!!this._wallet?.isConnected}get readyState(){return this._readyState}async connect(){try{if(this.connected||this.connecting)return;if(this._readyState!==_solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_0__.Ok.Installed)throw new _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_1__.AE;this._connecting=!0;const wallet=window.glowSolana;try{await wallet.connect()}catch(error){throw new _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_1__.Y6(error?.message,error)}if(!wallet.publicKey)throw new _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_1__.fk;let publicKey;try{publicKey=new _solana_web3_js__WEBPACK_IMPORTED_MODULE_3__.PublicKey(wallet.publicKey.toBytes())}catch(error){throw new _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_1__.Kd(error?.message,error)}wallet.on("disconnect",this._disconnected),this._wallet=wallet,this._publicKey=publicKey,this.emit("connect",publicKey)}catch(error){throw this.emit("error",error),error}finally{this._connecting=!1}}async disconnect(){const wallet=this._wallet;if(wallet){wallet.off("disconnect",this._disconnected),this._wallet=null,this._publicKey=null;try{await wallet.disconnect()}catch(error){this.emit("error",new _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_1__.Y8(error?.message,error))}}this.emit("disconnect")}async sendTransaction(transaction,connection,options={}){try{const wallet=this._wallet;if(!wallet)throw new _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_1__.kW;try{const{signers,...sendOptions}=options;transaction=await this.prepareTransaction(transaction,connection,sendOptions),signers?.length&&transaction.partialSign(...signers),sendOptions.preflightCommitment=sendOptions.preflightCommitment||connection.commitment;const{signature}=await wallet.signAndSendTransaction(transaction,{...sendOptions,network:this._network});return signature}catch(error){if(error instanceof _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_1__.m7)throw error;throw new _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_1__.UF(error?.message,error)}}catch(error){throw this.emit("error",error),error}}async signTransaction(transaction){try{const wallet=this._wallet;if(!wallet)throw new _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_1__.kW;try{return await wallet.signTransaction(transaction,this._network)||transaction}catch(error){throw new _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_1__.z4(error?.message,error)}}catch(error){throw this.emit("error",error),error}}async signAllTransactions(transactions){try{const wallet=this._wallet;if(!wallet)throw new _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_1__.kW;try{return await wallet.signAllTransactions(transactions,this._network)||transactions}catch(error){throw new _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_1__.z4(error?.message,error)}}catch(error){throw this.emit("error",error),error}}async signMessage(message){try{const wallet=this._wallet;if(!wallet)throw new _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_1__.kW;try{const{signature}=await wallet.signMessage(message);return signature}catch(error){throw new _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_1__.K3(error?.message,error)}}catch(error){throw this.emit("error",error),error}}}},"./node_modules/@solana/wallet-adapter-nightly/lib/esm/adapter.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{G:()=>NightlyWalletAdapter});var _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@solana/wallet-adapter-base/lib/esm/adapter.js"),_solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@solana/wallet-adapter-base/lib/esm/errors.js"),_solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@solana/wallet-adapter-base/lib/esm/signer.js"),_solana_web3_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@solana/web3.js/lib/index.browser.esm.js");class NightlyWalletAdapter extends _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_2__.DE{constructor(){super(),this.name="Nightly",this.url="https://nightly.app",this.icon="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOTYiIGhlaWdodD0iOTYiIHZpZXdCb3g9IjAgMCA5NiA5NiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTQ4IDk2Qzc0LjUwOTcgOTYgOTYgNzQuNTA5NyA5NiA0OEM5NiAyMS40OTAzIDc0LjUwOTcgMCA0OCAwQzIxLjQ5MDMgMCAwIDIxLjQ5MDMgMCA0OEMwIDc0LjUwOTcgMjEuNDkwMyA5NiA0OCA5NloiIGZpbGw9IiM2RDczRjgiLz4KPHBhdGggZD0iTTQ4IDg1LjYzNTZDNDggODUuNjM1NiA1Mi40NTMzIDg1LjYzNTYgNTUuNDQgODIuNTg2N0M1OC45MTU1IDc5LjI4MDEgNTcuMzUxMSA3NS40MzEyIDYyLjI3NTUgNzEuNDMxMkM2Ni45ODY2IDY3LjY0NDUgNzIuOTI0NCA3MC4zMzc5IDcyLjkyNDQgNzAuMzM3OUM3Ny4wMjIyIDYyLjEyNDUgNzQuNzkxMSA1Mi41NjkgNzQuNzkxMSA1Mi41NjlDODEuNzY4OCAzNC4yNTc5IDc1Ljk2NDQgMjEuMTU1NyA3NC40NDQ0IDE3LjM2MDFDNjkuNDQ4OCAyNC4zMzc5IDYzLjE5MTEgMjkuMTczNCA1NS43OTU1IDMyLjQwOUM1My4yMjY2IDMxLjcwNjggNTAuNTk1NSAzMS4zMzM0IDQ4IDMxLjM2MDFDNDUuNDEzMyAzMS4zMzM0IDQyLjc3MzMgMzEuNzA2OCA0MC4yMDQ0IDMyLjQwOUMzMi44MTc3IDI5LjE2NDUgMjYuNTUxMSAyNC4zMzc5IDIxLjU1NTUgMTcuMzYwMUMyMC4wMzU1IDIxLjE1NTcgMTQuMjMxMSAzNC4yNTc5IDIxLjIwODkgNTIuNTY5QzIxLjIwODkgNTIuNTY5IDE4Ljk3NzggNjIuMTI0NSAyMy4wNzU1IDcwLjMzNzlDMjMuMDc1NSA3MC4zMzc5IDI5LjAxMzMgNjcuNjQ0NSAzMy43MjQ0IDcxLjQzMTJDMzguNjU3NyA3NS40MzEyIDM3LjA4NDQgNzkuMjgwMSA0MC41NiA4Mi41ODY3QzQzLjU0NjYgODUuNjM1NiA0OCA4NS42MzU2IDQ4IDg1LjYzNTZaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNNDIuNDc5OSA2NS4yOThDNDIuMjkzMyA1OS4yMTggMzYuMzAyMSA1Ny4yNjI0IDMyLjIxMzMgNTkuODIyNEMzMi4yMTMzIDU5LjgyMjQgMzIuODUzMyA2Mi40MzU4IDM1LjgzOTkgNjMuNzUxM0MzOC4yNzU1IDY0LjgyNjkgMzkuMzI0NCA2My4zODY5IDQyLjQ3OTkgNjUuMjk4WiIgZmlsbD0iIzdCODFGOSIvPgo8cGF0aCBkPSJNMjIuNDk3NyAyMy4wOTM1QzIwLjA4ODggMzEuNTQ2OCAyMS4xMjg4IDQyLjI0MDIgMjQuOTMzMyA1MC4wMjY5QzI4LjgyNjYgNDcuMjcxMyAzMi45MTU1IDQzLjAxMzUgMzUuMDkzMyAzOC41MDY5QzI5Ljk2NDQgMzQuNzExMyAyNS42NjIyIDMxLjEwMjQgMjIuNDk3NyAyMy4wOTM1WiIgZmlsbD0iIzdCODFGOSIvPgo8cGF0aCBkPSJNNTMuNTE5OSA2NS4yOThDNTMuNzA2NiA1OS4yMTggNTkuNjk3NyA1Ny4yNjI0IDYzLjc4NjYgNTkuODIyNEM2My43ODY2IDU5LjgyMjQgNjMuMTQ2NiA2Mi40MzU4IDYwLjE1OTkgNjMuNzUxM0M1Ny43MjQzIDY0LjgyNjkgNTYuNjc1NSA2My4zODY5IDUzLjUxOTkgNjUuMjk4WiIgZmlsbD0iIzdCODFGOSIvPgo8cGF0aCBkPSJNNzMuNTAyMiAyMy4wOTM1Qzc1LjkxMTEgMzEuNTQ2OCA3NC44NzExIDQyLjI0MDIgNzEuMDY2NiA1MC4wMjY5QzY3LjE3MzMgNDcuMjcxMyA2My4wODQ0IDQzLjAxMzUgNjAuOTA2NiAzOC41MDY5QzY2LjAzNTUgMzQuNzExMyA3MC4zMzc3IDMxLjEwMjQgNzMuNTAyMiAyMy4wOTM1WiIgZmlsbD0iIzdCODFGOSIvPgo8cGF0aCBkPSJNNDcuOTk5OSA4NS4zMDY5QzUwLjE0MDQgODUuMzA2OSA1MS44NzU1IDgzLjc3ODcgNTEuODc1NSA4MS44OTM2QzUxLjg3NTUgODAuMDA4NCA1MC4xNDA0IDc4LjQ4MDIgNDcuOTk5OSA3OC40ODAyQzQ1Ljg1OTUgNzguNDgwMiA0NC4xMjQ0IDgwLjAwODQgNDQuMTI0NCA4MS44OTM2QzQ0LjEyNDQgODMuNzc4NyA0NS44NTk1IDg1LjMwNjkgNDcuOTk5OSA4NS4zMDY5WiIgZmlsbD0iIzdCODFGOSIvPgo8L3N2Zz4K",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState="undefined"==typeof window||"undefined"==typeof document?_solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_0__.Ok.Unsupported:_solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_0__.Ok.NotDetected,this._connecting=!1,this._publicKey=null,this._wallet=null,this._readyState!==_solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_0__.Ok.Unsupported&&(0,_solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_0__.qG)(()=>!!window?.nightly?.solana&&(this._readyState=_solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_0__.Ok.Installed,this.emit("readyStateChange",this._readyState),!0))}get connecting(){return this._connecting}get readyState(){return this._readyState}get publicKey(){return this._publicKey}async connect(){try{if(this.connected||this.connecting)return;if(this._readyState!==_solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_0__.Ok.Installed)throw new _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_1__.AE;this._connecting=!0;const wallet=window.nightly.solana;try{await wallet.connect()}catch(error){throw new _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_1__.Y6(error?.message,error)}if("11111111111111111111111111111111"===wallet.publicKey.toString())throw new _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_1__.fk;let publicKey;try{publicKey=new _solana_web3_js__WEBPACK_IMPORTED_MODULE_3__.PublicKey(wallet.publicKey.toBytes())}catch(error){throw new _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_1__.Kd(error?.message,error)}this._wallet=wallet,this._publicKey=publicKey,this.emit("connect",publicKey)}catch(error){throw this.emit("error",error),error}finally{this._connecting=!1}}async disconnect(){const wallet=this._wallet;if(wallet){this._wallet=null,this._publicKey=null;try{await wallet.disconnect()}catch(error){this.emit("error",new _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_1__.PQ)}}this.emit("disconnect")}async signTransaction(transaction){try{const wallet=this._wallet;if(!wallet)throw new _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_1__.kW;try{return await wallet.signTransaction(transaction)}catch(error){throw new _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_1__.z4(error?.message,error)}}catch(error){throw this.emit("error",error),error}}async signAllTransactions(transactions){try{const wallet=this._wallet;if(!wallet)throw new _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_1__.kW;try{return await wallet.signAllTransactions(transactions)}catch(error){throw new _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_1__.z4(error?.message,error)}}catch(error){throw this.emit("error",error),error}}async signMessage(message){try{const wallet=this._wallet;if(!wallet)throw new _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_1__.kW;try{return wallet.signMessage((new TextDecoder).decode(message))}catch(error){throw new _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_1__.z4(error?.message,error)}}catch(error){throw this.emit("error",error),error}}}},"./node_modules/@solana/wallet-adapter-phantom/lib/esm/adapter.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{c:()=>PhantomWalletAdapter});var _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@solana/wallet-adapter-base/lib/esm/adapter.js"),_solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@solana/wallet-adapter-base/lib/esm/errors.js"),_solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@solana/wallet-adapter-base/lib/esm/signer.js"),_solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@solana/wallet-adapter-base/lib/esm/transaction.js"),_solana_web3_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@solana/web3.js/lib/index.browser.esm.js");class PhantomWalletAdapter extends _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_2__.DE{constructor(config={}){super(),this.name="Phantom",this.url="https://phantom.app",this.icon="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiB2aWV3Qm94PSIwIDAgMTA4IDEwOCIgZmlsbD0ibm9uZSI+CjxyZWN0IHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiByeD0iMjYiIGZpbGw9IiNBQjlGRjIiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00Ni41MjY3IDY5LjkyMjlDNDIuMDA1NCA3Ni44NTA5IDM0LjQyOTIgODUuNjE4MiAyNC4zNDggODUuNjE4MkMxOS41ODI0IDg1LjYxODIgMTUgODMuNjU2MyAxNSA3NS4xMzQyQzE1IDUzLjQzMDUgNDQuNjMyNiAxOS44MzI3IDcyLjEyNjggMTkuODMyN0M4Ny43NjggMTkuODMyNyA5NCAzMC42ODQ2IDk0IDQzLjAwNzlDOTQgNTguODI1OCA4My43MzU1IDc2LjkxMjIgNzMuNTMyMSA3Ni45MTIyQzcwLjI5MzkgNzYuOTEyMiA2OC43MDUzIDc1LjEzNDIgNjguNzA1MyA3Mi4zMTRDNjguNzA1MyA3MS41NzgzIDY4LjgyNzUgNzAuNzgxMiA2OS4wNzE5IDY5LjkyMjlDNjUuNTg5MyA3NS44Njk5IDU4Ljg2ODUgODEuMzg3OCA1Mi41NzU0IDgxLjM4NzhDNDcuOTkzIDgxLjM4NzggNDUuNjcxMyA3OC41MDYzIDQ1LjY3MTMgNzQuNDU5OEM0NS42NzEzIDcyLjk4ODQgNDUuOTc2OCA3MS40NTU2IDQ2LjUyNjcgNjkuOTIyOVpNODMuNjc2MSA0Mi41Nzk0QzgzLjY3NjEgNDYuMTcwNCA4MS41NTc1IDQ3Ljk2NTggNzkuMTg3NSA0Ny45NjU4Qzc2Ljc4MTYgNDcuOTY1OCA3NC42OTg5IDQ2LjE3MDQgNzQuNjk4OSA0Mi41Nzk0Qzc0LjY5ODkgMzguOTg4NSA3Ni43ODE2IDM3LjE5MzEgNzkuMTg3NSAzNy4xOTMxQzgxLjU1NzUgMzcuMTkzMSA4My42NzYxIDM4Ljk4ODUgODMuNjc2MSA0Mi41Nzk0Wk03MC4yMTAzIDQyLjU3OTVDNzAuMjEwMyA0Ni4xNzA0IDY4LjA5MTYgNDcuOTY1OCA2NS43MjE2IDQ3Ljk2NThDNjMuMzE1NyA0Ny45NjU4IDYxLjIzMyA0Ni4xNzA0IDYxLjIzMyA0Mi41Nzk1QzYxLjIzMyAzOC45ODg1IDYzLjMxNTcgMzcuMTkzMSA2NS43MjE2IDM3LjE5MzFDNjguMDkxNiAzNy4xOTMxIDcwLjIxMDMgMzguOTg4NSA3MC4yMTAzIDQyLjU3OTVaIiBmaWxsPSIjRkZGREY4Ii8+Cjwvc3ZnPg==",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState="undefined"==typeof window||"undefined"==typeof document?_solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_0__.Ok.Unsupported:_solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_0__.Ok.NotDetected,this._disconnected=()=>{const wallet=this._wallet;wallet&&(wallet.off("disconnect",this._disconnected),wallet.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null,this.emit("error",new _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_1__.PQ),this.emit("disconnect"))},this._accountChanged=newPublicKey=>{const publicKey=this._publicKey;if(publicKey){try{newPublicKey=new _solana_web3_js__WEBPACK_IMPORTED_MODULE_4__.PublicKey(newPublicKey.toBytes())}catch(error){return void this.emit("error",new _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_1__.Kd(error?.message,error))}publicKey.equals(newPublicKey)||(this._publicKey=newPublicKey,this.emit("connect",newPublicKey))}},this._connecting=!1,this._wallet=null,this._publicKey=null,this._readyState!==_solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_0__.Ok.Unsupported&&((0,_solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_0__.Br)()?(this._readyState=_solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_0__.Ok.Loadable,this.emit("readyStateChange",this._readyState)):(0,_solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_0__.qG)(()=>!(!window.phantom?.solana?.isPhantom&&!window.solana?.isPhantom)&&(this._readyState=_solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_0__.Ok.Installed,this.emit("readyStateChange",this._readyState),!0)))}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get readyState(){return this._readyState}async autoConnect(){this.readyState===_solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_0__.Ok.Installed&&await this.connect()}async connect(){try{if(this.connected||this.connecting)return;if(this.readyState===_solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_0__.Ok.Loadable){const url=encodeURIComponent(window.location.href),ref=encodeURIComponent(window.location.origin);return void(window.location.href=`https://phantom.app/ul/browse/${url}?ref=${ref}`)}if(this.readyState!==_solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_0__.Ok.Installed)throw new _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_1__.AE;this._connecting=!0;const wallet=window.phantom?.solana||window.solana;if(!wallet.isConnected)try{await wallet.connect()}catch(error){throw new _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_1__.Y6(error?.message,error)}if(!wallet.publicKey)throw new _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_1__.fk;let publicKey;try{publicKey=new _solana_web3_js__WEBPACK_IMPORTED_MODULE_4__.PublicKey(wallet.publicKey.toBytes())}catch(error){throw new _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_1__.Kd(error?.message,error)}wallet.on("disconnect",this._disconnected),wallet.on("accountChanged",this._accountChanged),this._wallet=wallet,this._publicKey=publicKey,this.emit("connect",publicKey)}catch(error){throw this.emit("error",error),error}finally{this._connecting=!1}}async disconnect(){const wallet=this._wallet;if(wallet){wallet.off("disconnect",this._disconnected),wallet.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null;try{await wallet.disconnect()}catch(error){this.emit("error",new _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_1__.Y8(error?.message,error))}}this.emit("disconnect")}async sendTransaction(transaction,connection,options={}){try{const wallet=this._wallet;if(!wallet)throw new _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_1__.kW;try{const{signers,...sendOptions}=options;(0,_solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_3__.Y)(transaction)?signers?.length&&transaction.sign(signers):(transaction=await this.prepareTransaction(transaction,connection,sendOptions),signers?.length&&transaction.partialSign(...signers)),sendOptions.preflightCommitment=sendOptions.preflightCommitment||connection.commitment;const{signature}=await wallet.signAndSendTransaction(transaction,sendOptions);return signature}catch(error){if(error instanceof _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_1__.m7)throw error;throw new _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_1__.UF(error?.message,error)}}catch(error){throw this.emit("error",error),error}}async signTransaction(transaction){try{const wallet=this._wallet;if(!wallet)throw new _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_1__.kW;try{return await wallet.signTransaction(transaction)||transaction}catch(error){throw new _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_1__.z4(error?.message,error)}}catch(error){throw this.emit("error",error),error}}async signAllTransactions(transactions){try{const wallet=this._wallet;if(!wallet)throw new _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_1__.kW;try{return await wallet.signAllTransactions(transactions)||transactions}catch(error){throw new _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_1__.z4(error?.message,error)}}catch(error){throw this.emit("error",error),error}}async signMessage(message){try{const wallet=this._wallet;if(!wallet)throw new _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_1__.kW;try{const{signature}=await wallet.signMessage(message);return signature}catch(error){throw new _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_1__.K3(error?.message,error)}}catch(error){throw this.emit("error",error),error}}}},"./node_modules/@solana/wallet-adapter-react/lib/esm/ConnectionProvider.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{S:()=>ConnectionProvider});var _solana_web3_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@solana/web3.js/lib/index.browser.esm.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),_useConnection_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@solana/wallet-adapter-react/lib/esm/useConnection.js");const ConnectionProvider=({children,endpoint,config={commitment:"confirmed"}})=>{const connection=(0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>new _solana_web3_js__WEBPACK_IMPORTED_MODULE_0__.Connection(endpoint,config),[endpoint,config]);return react__WEBPACK_IMPORTED_MODULE_1__.createElement(_useConnection_js__WEBPACK_IMPORTED_MODULE_2__.E.Provider,{value:{connection}},children)}},"./node_modules/@solana/wallet-adapter-react/lib/esm/WalletProvider.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{r:()=>WalletProvider});var index_browser=__webpack_require__("./node_modules/@solana-mobile/wallet-adapter-mobile/lib/cjs/index.browser.js");const SolanaSignTransaction="solana:signTransaction";const isWalletAdapterCompatibleWallet=function isWalletAdapterCompatibleStandardWallet(wallet){return"standard:connect"in wallet.features&&"standard:events"in wallet.features&&("solana:signAndSendTransaction"in wallet.features||SolanaSignTransaction in wallet.features)};var esm_adapter=__webpack_require__("./node_modules/@solana/wallet-adapter-base/lib/esm/adapter.js"),errors=__webpack_require__("./node_modules/@solana/wallet-adapter-base/lib/esm/errors.js"),esm_transaction=__webpack_require__("./node_modules/@solana/wallet-adapter-base/lib/esm/transaction.js");const MAINNET_ENDPOINT="https://api.mainnet-beta.solana.com";function getCommitment(commitment){switch(commitment){case"processed":case"confirmed":case"finalized":case void 0:return commitment;case"recent":return"processed";case"single":case"singleGossip":return"confirmed";case"max":case"root":return"finalized";default:return}}var index_browser_esm=__webpack_require__("./node_modules/@solana/web3.js/lib/index.browser.esm.js");__webpack_require__("./node_modules/console-browserify/index.js");function arraysEqual(a,b){if(a===b)return!0;const length=a.length;if(length!==b.length)return!1;for(let i=0;i<length;i++)if(a[i]!==b[i])return!1;return!0}new WeakMap,new WeakMap,new WeakMap,new WeakMap,new WeakMap,new WeakMap;var _StandardWalletAdapter_instances,_StandardWalletAdapter_account,_StandardWalletAdapter_publicKey,_StandardWalletAdapter_connecting,_StandardWalletAdapter_disconnecting,_StandardWalletAdapter_off,_StandardWalletAdapter_supportedTransactionVersions,_StandardWalletAdapter_wallet,_StandardWalletAdapter_readyState,_StandardWalletAdapter_connect,_StandardWalletAdapter_connected,_StandardWalletAdapter_disconnected,_StandardWalletAdapter_reset,_StandardWalletAdapter_changed,_StandardWalletAdapter_signTransaction,_StandardWalletAdapter_signAllTransactions,_StandardWalletAdapter_signMessage,_StandardWalletAdapter_signIn,esm=__webpack_require__("./node_modules/bs58/src/esm/index.js"),adapter_classPrivateFieldGet=function(receiver,state,kind,f){if("a"===kind&&!f)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof state?receiver!==state||!f:!state.has(receiver))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===kind?f:"a"===kind?f.call(receiver):f?f.value:state.get(receiver)},adapter_classPrivateFieldSet=function(receiver,state,value,kind,f){if("m"===kind)throw new TypeError("Private method is not writable");if("a"===kind&&!f)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof state?receiver!==state||!f:!state.has(receiver))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===kind?f.call(receiver,value):f?f.value=value:state.set(receiver,value),value};class StandardWalletAdapter extends esm_adapter.Ce{get name(){return adapter_classPrivateFieldGet(this,_StandardWalletAdapter_wallet,"f").name}get url(){return"https://github.com/solana-labs/wallet-standard"}get icon(){return adapter_classPrivateFieldGet(this,_StandardWalletAdapter_wallet,"f").icon}get readyState(){return adapter_classPrivateFieldGet(this,_StandardWalletAdapter_readyState,"f")}get publicKey(){return adapter_classPrivateFieldGet(this,_StandardWalletAdapter_publicKey,"f")}get connecting(){return adapter_classPrivateFieldGet(this,_StandardWalletAdapter_connecting,"f")}get supportedTransactionVersions(){return adapter_classPrivateFieldGet(this,_StandardWalletAdapter_supportedTransactionVersions,"f")}get wallet(){return adapter_classPrivateFieldGet(this,_StandardWalletAdapter_wallet,"f")}get standard(){return!0}constructor({wallet}){super(),_StandardWalletAdapter_instances.add(this),_StandardWalletAdapter_account.set(this,void 0),_StandardWalletAdapter_publicKey.set(this,void 0),_StandardWalletAdapter_connecting.set(this,void 0),_StandardWalletAdapter_disconnecting.set(this,void 0),_StandardWalletAdapter_off.set(this,void 0),_StandardWalletAdapter_supportedTransactionVersions.set(this,void 0),_StandardWalletAdapter_wallet.set(this,void 0),_StandardWalletAdapter_readyState.set(this,"undefined"==typeof window||"undefined"==typeof document?esm_adapter.Ok.Unsupported:esm_adapter.Ok.Installed),_StandardWalletAdapter_changed.set(this,properties=>{if("accounts"in properties){const account=adapter_classPrivateFieldGet(this,_StandardWalletAdapter_wallet,"f").accounts[0];adapter_classPrivateFieldGet(this,_StandardWalletAdapter_account,"f")&&!adapter_classPrivateFieldGet(this,_StandardWalletAdapter_disconnecting,"f")&&account!==adapter_classPrivateFieldGet(this,_StandardWalletAdapter_account,"f")&&(account?adapter_classPrivateFieldGet(this,_StandardWalletAdapter_instances,"m",_StandardWalletAdapter_connected).call(this,account):(this.emit("error",new errors.PQ),adapter_classPrivateFieldGet(this,_StandardWalletAdapter_instances,"m",_StandardWalletAdapter_disconnected).call(this)))}"features"in properties&&adapter_classPrivateFieldGet(this,_StandardWalletAdapter_instances,"m",_StandardWalletAdapter_reset).call(this)}),adapter_classPrivateFieldSet(this,_StandardWalletAdapter_wallet,wallet,"f"),adapter_classPrivateFieldSet(this,_StandardWalletAdapter_account,null,"f"),adapter_classPrivateFieldSet(this,_StandardWalletAdapter_publicKey,null,"f"),adapter_classPrivateFieldSet(this,_StandardWalletAdapter_connecting,!1,"f"),adapter_classPrivateFieldSet(this,_StandardWalletAdapter_disconnecting,!1,"f"),adapter_classPrivateFieldSet(this,_StandardWalletAdapter_off,adapter_classPrivateFieldGet(this,_StandardWalletAdapter_wallet,"f").features["standard:events"].on("change",adapter_classPrivateFieldGet(this,_StandardWalletAdapter_changed,"f")),"f"),adapter_classPrivateFieldGet(this,_StandardWalletAdapter_instances,"m",_StandardWalletAdapter_reset).call(this)}destroy(){adapter_classPrivateFieldSet(this,_StandardWalletAdapter_account,null,"f"),adapter_classPrivateFieldSet(this,_StandardWalletAdapter_publicKey,null,"f"),adapter_classPrivateFieldSet(this,_StandardWalletAdapter_connecting,!1,"f"),adapter_classPrivateFieldSet(this,_StandardWalletAdapter_disconnecting,!1,"f");const off=adapter_classPrivateFieldGet(this,_StandardWalletAdapter_off,"f");off&&(adapter_classPrivateFieldSet(this,_StandardWalletAdapter_off,null,"f"),off())}async autoConnect(){return adapter_classPrivateFieldGet(this,_StandardWalletAdapter_instances,"m",_StandardWalletAdapter_connect).call(this,{silent:!0})}async connect(){return adapter_classPrivateFieldGet(this,_StandardWalletAdapter_instances,"m",_StandardWalletAdapter_connect).call(this)}async disconnect(){if("standard:disconnect"in adapter_classPrivateFieldGet(this,_StandardWalletAdapter_wallet,"f").features)try{adapter_classPrivateFieldSet(this,_StandardWalletAdapter_disconnecting,!0,"f"),await adapter_classPrivateFieldGet(this,_StandardWalletAdapter_wallet,"f").features["standard:disconnect"].disconnect()}catch(error){this.emit("error",new errors.Y8(error?.message,error))}finally{adapter_classPrivateFieldSet(this,_StandardWalletAdapter_disconnecting,!1,"f")}adapter_classPrivateFieldGet(this,_StandardWalletAdapter_instances,"m",_StandardWalletAdapter_disconnected).call(this)}async sendTransaction(transaction,connection,options={}){try{const account=adapter_classPrivateFieldGet(this,_StandardWalletAdapter_account,"f");if(!account)throw new errors.kW;let feature;if("solana:signAndSendTransaction"in adapter_classPrivateFieldGet(this,_StandardWalletAdapter_wallet,"f").features)if(account.features.includes("solana:signAndSendTransaction"))feature="solana:signAndSendTransaction";else{if(!(SolanaSignTransaction in adapter_classPrivateFieldGet(this,_StandardWalletAdapter_wallet,"f").features)||!account.features.includes(SolanaSignTransaction))throw new errors.fk;feature=SolanaSignTransaction}else{if(!(SolanaSignTransaction in adapter_classPrivateFieldGet(this,_StandardWalletAdapter_wallet,"f").features))throw new errors.Ez;if(!account.features.includes(SolanaSignTransaction))throw new errors.fk;feature=SolanaSignTransaction}const chain=function getChainForEndpoint(endpoint){return endpoint.includes(MAINNET_ENDPOINT)?"solana:mainnet":/\bdevnet\b/i.test(endpoint)?"solana:devnet":/\btestnet\b/i.test(endpoint)?"solana:testnet":/\blocalhost\b/i.test(endpoint)||/\b127\.0\.0\.1\b/.test(endpoint)?"solana:localnet":"solana:mainnet"}(connection.rpcEndpoint);if(!account.chains.includes(chain))throw new errors.UF;try{const{signers,...sendOptions}=options;let serializedTransaction;if((0,esm_transaction.Y)(transaction)?(signers?.length&&transaction.sign(signers),serializedTransaction=transaction.serialize()):(transaction=await this.prepareTransaction(transaction,connection,sendOptions),signers?.length&&transaction.partialSign(...signers),serializedTransaction=new Uint8Array(transaction.serialize({requireAllSignatures:!1,verifySignatures:!1}))),"solana:signAndSendTransaction"===feature){const[output]=await adapter_classPrivateFieldGet(this,_StandardWalletAdapter_wallet,"f").features["solana:signAndSendTransaction"].signAndSendTransaction({account,chain,transaction:serializedTransaction,options:{preflightCommitment:getCommitment(sendOptions.preflightCommitment||connection.commitment),skipPreflight:sendOptions.skipPreflight,maxRetries:sendOptions.maxRetries,minContextSlot:sendOptions.minContextSlot}});return esm.A.encode(output.signature)}{const[output]=await adapter_classPrivateFieldGet(this,_StandardWalletAdapter_wallet,"f").features[SolanaSignTransaction].signTransaction({account,chain,transaction:serializedTransaction,options:{preflightCommitment:getCommitment(sendOptions.preflightCommitment||connection.commitment),minContextSlot:sendOptions.minContextSlot}});return await connection.sendRawTransaction(output.signedTransaction,{...sendOptions,preflightCommitment:getCommitment(sendOptions.preflightCommitment||connection.commitment)})}}catch(error){if(error instanceof errors.m7)throw error;throw new errors.UF(error?.message,error)}}catch(error){throw this.emit("error",error),error}}}_StandardWalletAdapter_account=new WeakMap,_StandardWalletAdapter_publicKey=new WeakMap,_StandardWalletAdapter_connecting=new WeakMap,_StandardWalletAdapter_disconnecting=new WeakMap,_StandardWalletAdapter_off=new WeakMap,_StandardWalletAdapter_supportedTransactionVersions=new WeakMap,_StandardWalletAdapter_wallet=new WeakMap,_StandardWalletAdapter_readyState=new WeakMap,_StandardWalletAdapter_changed=new WeakMap,_StandardWalletAdapter_instances=new WeakSet,_StandardWalletAdapter_connect=async function _StandardWalletAdapter_connect(input){try{if(this.connected||this.connecting)return;if(adapter_classPrivateFieldGet(this,_StandardWalletAdapter_readyState,"f")!==esm_adapter.Ok.Installed)throw new errors.AE;if(adapter_classPrivateFieldSet(this,_StandardWalletAdapter_connecting,!0,"f"),!adapter_classPrivateFieldGet(this,_StandardWalletAdapter_wallet,"f").accounts.length)try{await adapter_classPrivateFieldGet(this,_StandardWalletAdapter_wallet,"f").features["standard:connect"].connect(input)}catch(error){throw new errors.Y6(error?.message,error)}const account=adapter_classPrivateFieldGet(this,_StandardWalletAdapter_wallet,"f").accounts[0];if(!account)throw new errors.fk;adapter_classPrivateFieldGet(this,_StandardWalletAdapter_instances,"m",_StandardWalletAdapter_connected).call(this,account)}catch(error){throw this.emit("error",error),error}finally{adapter_classPrivateFieldSet(this,_StandardWalletAdapter_connecting,!1,"f")}},_StandardWalletAdapter_connected=function _StandardWalletAdapter_connected(account){let publicKey;try{publicKey=new index_browser_esm.PublicKey(account.address)}catch(error){throw new errors.Kd(error?.message,error)}adapter_classPrivateFieldSet(this,_StandardWalletAdapter_account,account,"f"),adapter_classPrivateFieldSet(this,_StandardWalletAdapter_publicKey,publicKey,"f"),adapter_classPrivateFieldGet(this,_StandardWalletAdapter_instances,"m",_StandardWalletAdapter_reset).call(this),this.emit("connect",publicKey)},_StandardWalletAdapter_disconnected=function _StandardWalletAdapter_disconnected(){adapter_classPrivateFieldSet(this,_StandardWalletAdapter_account,null,"f"),adapter_classPrivateFieldSet(this,_StandardWalletAdapter_publicKey,null,"f"),adapter_classPrivateFieldGet(this,_StandardWalletAdapter_instances,"m",_StandardWalletAdapter_reset).call(this),this.emit("disconnect")},_StandardWalletAdapter_reset=function _StandardWalletAdapter_reset(){const supportedTransactionVersions="solana:signAndSendTransaction"in adapter_classPrivateFieldGet(this,_StandardWalletAdapter_wallet,"f").features?adapter_classPrivateFieldGet(this,_StandardWalletAdapter_wallet,"f").features["solana:signAndSendTransaction"].supportedTransactionVersions:adapter_classPrivateFieldGet(this,_StandardWalletAdapter_wallet,"f").features[SolanaSignTransaction].supportedTransactionVersions;adapter_classPrivateFieldSet(this,_StandardWalletAdapter_supportedTransactionVersions,arraysEqual(supportedTransactionVersions,["legacy"])?null:new Set(supportedTransactionVersions),"f"),SolanaSignTransaction in adapter_classPrivateFieldGet(this,_StandardWalletAdapter_wallet,"f").features&&adapter_classPrivateFieldGet(this,_StandardWalletAdapter_account,"f")?.features.includes(SolanaSignTransaction)?(this.signTransaction=adapter_classPrivateFieldGet(this,_StandardWalletAdapter_instances,"m",_StandardWalletAdapter_signTransaction),this.signAllTransactions=adapter_classPrivateFieldGet(this,_StandardWalletAdapter_instances,"m",_StandardWalletAdapter_signAllTransactions)):(delete this.signTransaction,delete this.signAllTransactions),"solana:signMessage"in adapter_classPrivateFieldGet(this,_StandardWalletAdapter_wallet,"f").features&&adapter_classPrivateFieldGet(this,_StandardWalletAdapter_account,"f")?.features.includes("solana:signMessage")?this.signMessage=adapter_classPrivateFieldGet(this,_StandardWalletAdapter_instances,"m",_StandardWalletAdapter_signMessage):delete this.signMessage,"solana:signIn"in adapter_classPrivateFieldGet(this,_StandardWalletAdapter_wallet,"f").features?this.signIn=adapter_classPrivateFieldGet(this,_StandardWalletAdapter_instances,"m",_StandardWalletAdapter_signIn):delete this.signIn},_StandardWalletAdapter_signTransaction=async function _StandardWalletAdapter_signTransaction(transaction){try{const account=adapter_classPrivateFieldGet(this,_StandardWalletAdapter_account,"f");if(!account)throw new errors.kW;if(!(SolanaSignTransaction in adapter_classPrivateFieldGet(this,_StandardWalletAdapter_wallet,"f").features))throw new errors.Ez;if(!account.features.includes(SolanaSignTransaction))throw new errors.fk;try{const serializedTransaction=(await adapter_classPrivateFieldGet(this,_StandardWalletAdapter_wallet,"f").features[SolanaSignTransaction].signTransaction({account,transaction:(0,esm_transaction.Y)(transaction)?transaction.serialize():new Uint8Array(transaction.serialize({requireAllSignatures:!1,verifySignatures:!1}))}))[0].signedTransaction;return(0,esm_transaction.Y)(transaction)?index_browser_esm.VersionedTransaction.deserialize(serializedTransaction):index_browser_esm.Transaction.from(serializedTransaction)}catch(error){if(error instanceof errors.m7)throw error;throw new errors.z4(error?.message,error)}}catch(error){throw this.emit("error",error),error}},_StandardWalletAdapter_signAllTransactions=async function _StandardWalletAdapter_signAllTransactions(transactions){try{const account=adapter_classPrivateFieldGet(this,_StandardWalletAdapter_account,"f");if(!account)throw new errors.kW;if(!(SolanaSignTransaction in adapter_classPrivateFieldGet(this,_StandardWalletAdapter_wallet,"f").features))throw new errors.Ez;if(!account.features.includes(SolanaSignTransaction))throw new errors.fk;try{const signedTransactions=await adapter_classPrivateFieldGet(this,_StandardWalletAdapter_wallet,"f").features[SolanaSignTransaction].signTransaction(...transactions.map(transaction=>({account,transaction:(0,esm_transaction.Y)(transaction)?transaction.serialize():new Uint8Array(transaction.serialize({requireAllSignatures:!1,verifySignatures:!1}))})));return transactions.map((transaction,index)=>{const signedTransaction=signedTransactions[index].signedTransaction;return(0,esm_transaction.Y)(transaction)?index_browser_esm.VersionedTransaction.deserialize(signedTransaction):index_browser_esm.Transaction.from(signedTransaction)})}catch(error){throw new errors.z4(error?.message,error)}}catch(error){throw this.emit("error",error),error}},_StandardWalletAdapter_signMessage=async function _StandardWalletAdapter_signMessage(message){try{const account=adapter_classPrivateFieldGet(this,_StandardWalletAdapter_account,"f");if(!account)throw new errors.kW;if(!("solana:signMessage"in adapter_classPrivateFieldGet(this,_StandardWalletAdapter_wallet,"f").features))throw new errors.Ez;if(!account.features.includes("solana:signMessage"))throw new errors.fk;try{return(await adapter_classPrivateFieldGet(this,_StandardWalletAdapter_wallet,"f").features["solana:signMessage"].signMessage({account,message}))[0].signature}catch(error){throw new errors.K3(error?.message,error)}}catch(error){throw this.emit("error",error),error}},_StandardWalletAdapter_signIn=async function _StandardWalletAdapter_signIn(input={}){try{if(!("solana:signIn"in adapter_classPrivateFieldGet(this,_StandardWalletAdapter_wallet,"f").features))throw new errors.Ez;let output;try{[output]=await adapter_classPrivateFieldGet(this,_StandardWalletAdapter_wallet,"f").features["solana:signIn"].signIn(input)}catch(error){throw new errors.o7(error?.message,error)}if(!output)throw new errors.o7;return adapter_classPrivateFieldGet(this,_StandardWalletAdapter_instances,"m",_StandardWalletAdapter_connected).call(this,output.account),output}catch(error){throw this.emit("error",error),error}};var _AppReadyEvent_detail,wallets_console=__webpack_require__("./node_modules/console-browserify/index.js"),wallets_classPrivateFieldGet=function(receiver,state,kind,f){if("a"===kind&&!f)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof state?receiver!==state||!f:!state.has(receiver))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===kind?f:"a"===kind?f.call(receiver):f?f.value:state.get(receiver)},wallets_classPrivateFieldSet=function(receiver,state,value,kind,f){if("m"===kind)throw new TypeError("Private method is not writable");if("a"===kind&&!f)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof state?receiver!==state||!f:!state.has(receiver))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===kind?f.call(receiver,value):f?f.value=value:state.set(receiver,value),value};let wallets;const registeredWalletsSet=new Set;const listeners={};function getWallets(){if(wallets)return wallets;if(wallets=Object.freeze({register,get,on}),"undefined"==typeof window)return wallets;const api=Object.freeze({register});try{window.addEventListener("wallet-standard:register-wallet",({detail:callback})=>callback(api))}catch(error){wallets_console.error("wallet-standard:register-wallet event listener could not be added\n",error)}try{window.dispatchEvent(new AppReadyEvent(api))}catch(error){wallets_console.error("wallet-standard:app-ready event could not be dispatched\n",error)}return wallets}function register(...wallets){return(wallets=wallets.filter(wallet=>!registeredWalletsSet.has(wallet))).length?(wallets.forEach(wallet=>function addRegisteredWallet(wallet){cachedWalletsArray=void 0,registeredWalletsSet.add(wallet)}(wallet)),listeners.register?.forEach(listener=>wallets_guard(()=>listener(...wallets))),function unregister(){wallets.forEach(wallet=>function removeRegisteredWallet(wallet){cachedWalletsArray=void 0,registeredWalletsSet.delete(wallet)}(wallet)),listeners.unregister?.forEach(listener=>wallets_guard(()=>listener(...wallets)))}):()=>{}}let cachedWalletsArray;function get(){return cachedWalletsArray||(cachedWalletsArray=[...registeredWalletsSet]),cachedWalletsArray}function on(event,listener){return listeners[event]?.push(listener)||(listeners[event]=[listener]),function off(){listeners[event]=listeners[event]?.filter(existingListener=>listener!==existingListener)}}function wallets_guard(callback){try{callback()}catch(error){wallets_console.error(error)}}class AppReadyEvent extends Event{get detail(){return wallets_classPrivateFieldGet(this,_AppReadyEvent_detail,"f")}get type(){return"wallet-standard:app-ready"}constructor(api){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),_AppReadyEvent_detail.set(this,void 0),wallets_classPrivateFieldSet(this,_AppReadyEvent_detail,api,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}_AppReadyEvent_detail=new WeakMap;var Environment,react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),useStandardWalletAdapters_console=__webpack_require__("./node_modules/console-browserify/index.js");function useStandardWalletAdapters(adapters){const warnings=useConstant(()=>new Set),{get,on}=useConstant(()=>function DEPRECATED_getWallets(){if(wallets)return wallets;if(wallets=getWallets(),"undefined"==typeof window)return wallets;const callbacks=window.navigator.wallets||[];if(!Array.isArray(callbacks))return wallets_console.error("window.navigator.wallets is not an array"),wallets;const{register}=wallets,push=(...callbacks)=>callbacks.forEach(callback=>wallets_guard(()=>callback({register})));try{Object.defineProperty(window.navigator,"wallets",{value:Object.freeze({push})})}catch(error){return wallets_console.error("window.navigator.wallets could not be set"),wallets}return push(...callbacks),wallets}()),[standardAdapters,setStandardAdapters]=(0,react.useState)(()=>wrapWalletsWithAdapters(get()));(0,react.useEffect)(()=>{const listeners=[on("register",(...wallets)=>setStandardAdapters(standardAdapters=>[...standardAdapters,...wrapWalletsWithAdapters(wallets)])),on("unregister",(...wallets)=>setStandardAdapters(standardAdapters=>standardAdapters.filter(standardAdapter=>wallets.some(wallet=>wallet===standardAdapter.wallet))))];return()=>listeners.forEach(off=>off())},[on]);const prevStandardAdapters=function usePrevious(state){const ref=(0,react.useRef)(void 0);return(0,react.useEffect)(()=>{ref.current=state}),ref.current}(standardAdapters);return(0,react.useEffect)(()=>{if(!prevStandardAdapters)return;const currentAdapters=new Set(standardAdapters);new Set(prevStandardAdapters.filter(previousAdapter=>!currentAdapters.has(previousAdapter))).forEach(adapter=>adapter.destroy())},[prevStandardAdapters,standardAdapters]),(0,react.useEffect)(()=>()=>standardAdapters.forEach(adapter=>adapter.destroy()),[]),(0,react.useMemo)(()=>[...standardAdapters,...adapters.filter(({name})=>!standardAdapters.some(standardAdapter=>standardAdapter.name===name)||(warnings.has(name)||(warnings.add(name),useStandardWalletAdapters_console.warn(`${name} was registered as a Standard Wallet. The Wallet Adapter for ${name} can be removed from your app.`)),!1))],[standardAdapters,adapters,warnings])}function useConstant(fn){const ref=(0,react.useRef)(void 0);return void 0===ref.current&&(ref.current={value:fn()}),ref.current.value}function wrapWalletsWithAdapters(wallets){return wallets.filter(isWalletAdapterCompatibleWallet).map(wallet=>new StandardWalletAdapter({wallet}))}!function(Environment){Environment[Environment.DESKTOP_WEB=0]="DESKTOP_WEB",Environment[Environment.MOBILE_WEB=1]="MOBILE_WEB"}(Environment||(Environment={}));var useConnection=__webpack_require__("./node_modules/@solana/wallet-adapter-react/lib/esm/useConnection.js"),useLocalStorage_console=__webpack_require__("./node_modules/console-browserify/index.js");class WalletNotSelectedError extends errors.m7{constructor(){super(...arguments),this.name="WalletNotSelectedError"}}var useWallet=__webpack_require__("./node_modules/@solana/wallet-adapter-react/lib/esm/useWallet.js"),WalletProviderBase_console=__webpack_require__("./node_modules/console-browserify/index.js");function WalletProviderBase({children,wallets:adapters,adapter,isUnloadingRef,onAutoConnectRequest,onConnectError,onError,onSelectWallet}){const isConnectingRef=(0,react.useRef)(!1),[connecting,setConnecting]=(0,react.useState)(!1),isDisconnectingRef=(0,react.useRef)(!1),[disconnecting,setDisconnecting]=(0,react.useState)(!1),[publicKey,setPublicKey]=(0,react.useState)(()=>adapter?.publicKey??null),[connected,setConnected]=(0,react.useState)(()=>adapter?.connected??!1),onErrorRef=(0,react.useRef)(onError);(0,react.useEffect)(()=>(onErrorRef.current=onError,()=>{onErrorRef.current=void 0}),[onError]);const handleErrorRef=(0,react.useRef)((error,adapter)=>(isUnloadingRef.current||(onErrorRef.current?onErrorRef.current(error,adapter):(WalletProviderBase_console.error(error,adapter),error instanceof errors.AE&&"undefined"!=typeof window&&adapter&&window.open(adapter.url,"_blank"))),error)),[wallets,setWallets]=(0,react.useState)(()=>adapters.map(adapter=>({adapter,readyState:adapter.readyState})).filter(({readyState})=>readyState!==esm_adapter.Ok.Unsupported));(0,react.useEffect)(()=>{function handleReadyStateChange(readyState){setWallets(prevWallets=>{const index=prevWallets.findIndex(({adapter})=>adapter===this);if(-1===index)return prevWallets;const{adapter}=prevWallets[index];return[...prevWallets.slice(0,index),{adapter,readyState},...prevWallets.slice(index+1)].filter(({readyState})=>readyState!==esm_adapter.Ok.Unsupported)})}return setWallets(wallets=>adapters.map((adapter,index)=>{const wallet=wallets[index];return wallet&&wallet.adapter===adapter&&wallet.readyState===adapter.readyState?wallet:{adapter,readyState:adapter.readyState}}).filter(({readyState})=>readyState!==esm_adapter.Ok.Unsupported)),adapters.forEach(adapter=>adapter.on("readyStateChange",handleReadyStateChange,adapter)),()=>{adapters.forEach(adapter=>adapter.off("readyStateChange",handleReadyStateChange,adapter))}},[adapter,adapters]);const wallet=(0,react.useMemo)(()=>wallets.find(wallet=>wallet.adapter===adapter)??null,[adapter,wallets]);(0,react.useEffect)(()=>{if(!adapter)return;const handleConnect=publicKey=>{setPublicKey(publicKey),isConnectingRef.current=!1,setConnecting(!1),setConnected(!0),isDisconnectingRef.current=!1,setDisconnecting(!1)},handleDisconnect=()=>{isUnloadingRef.current||(setPublicKey(null),isConnectingRef.current=!1,setConnecting(!1),setConnected(!1),isDisconnectingRef.current=!1,setDisconnecting(!1))},handleError=error=>{handleErrorRef.current(error,adapter)};return adapter.on("connect",handleConnect),adapter.on("disconnect",handleDisconnect),adapter.on("error",handleError),()=>{adapter.off("connect",handleConnect),adapter.off("disconnect",handleDisconnect),adapter.off("error",handleError),handleDisconnect()}},[adapter,isUnloadingRef]);const didAttemptAutoConnectRef=(0,react.useRef)(!1);(0,react.useEffect)(()=>()=>{didAttemptAutoConnectRef.current=!1},[adapter]),(0,react.useEffect)(()=>{didAttemptAutoConnectRef.current||isConnectingRef.current||connected||!onAutoConnectRequest||wallet?.readyState!==esm_adapter.Ok.Installed&&wallet?.readyState!==esm_adapter.Ok.Loadable||(isConnectingRef.current=!0,setConnecting(!0),didAttemptAutoConnectRef.current=!0,async function(){try{await onAutoConnectRequest()}catch{onConnectError()}finally{setConnecting(!1),isConnectingRef.current=!1}}())},[connected,onAutoConnectRequest,onConnectError,wallet]);const sendTransaction=(0,react.useCallback)(async(transaction,connection,options)=>{if(!adapter)throw handleErrorRef.current(new WalletNotSelectedError);if(!connected)throw handleErrorRef.current(new errors.kW,adapter);return await adapter.sendTransaction(transaction,connection,options)},[adapter,connected]),signTransaction=(0,react.useMemo)(()=>adapter&&"signTransaction"in adapter?async transaction=>{if(!connected)throw handleErrorRef.current(new errors.kW,adapter);return await adapter.signTransaction(transaction)}:void 0,[adapter,connected]),signAllTransactions=(0,react.useMemo)(()=>adapter&&"signAllTransactions"in adapter?async transactions=>{if(!connected)throw handleErrorRef.current(new errors.kW,adapter);return await adapter.signAllTransactions(transactions)}:void 0,[adapter,connected]),signMessage=(0,react.useMemo)(()=>adapter&&"signMessage"in adapter?async message=>{if(!connected)throw handleErrorRef.current(new errors.kW,adapter);return await adapter.signMessage(message)}:void 0,[adapter,connected]),signIn=(0,react.useMemo)(()=>adapter&&"signIn"in adapter?async input=>await adapter.signIn(input):void 0,[adapter]),handleConnect=(0,react.useCallback)(async()=>{if(isConnectingRef.current||isDisconnectingRef.current||wallet?.adapter.connected)return;if(!wallet)throw handleErrorRef.current(new WalletNotSelectedError);const{adapter,readyState}=wallet;if(readyState!==esm_adapter.Ok.Installed&&readyState!==esm_adapter.Ok.Loadable)throw handleErrorRef.current(new errors.AE,adapter);isConnectingRef.current=!0,setConnecting(!0);try{await adapter.connect()}catch(e){throw onConnectError(),e}finally{setConnecting(!1),isConnectingRef.current=!1}},[onConnectError,wallet]),handleDisconnect=(0,react.useCallback)(async()=>{if(!isDisconnectingRef.current&&adapter){isDisconnectingRef.current=!0,setDisconnecting(!0);try{await adapter.disconnect()}finally{setDisconnecting(!1),isDisconnectingRef.current=!1}}},[adapter]);return react.createElement(useWallet.b.Provider,{value:{autoConnect:!!onAutoConnectRequest,wallets,wallet,publicKey,connected,connecting,disconnecting,select:onSelectWallet,connect:handleConnect,disconnect:handleDisconnect,sendTransaction,signTransaction,signAllTransactions,signMessage,signIn}},children)}let _userAgent;function getIsMobile(adapters){return function getEnvironment({adapters,userAgentString}){return adapters.some(adapter=>adapter.name!==index_browser.fG&&adapter.readyState===esm_adapter.Ok.Installed)?Environment.DESKTOP_WEB:userAgentString&&/android/i.test(userAgentString)&&!function isWebView(userAgentString){return/(WebView|Version\/.+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+)|; wv\).+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+))/i.test(userAgentString)}(userAgentString)?Environment.MOBILE_WEB:Environment.DESKTOP_WEB}({adapters,userAgentString:function getUserAgent(){return void 0===_userAgent&&(_userAgent=globalThis.navigator?.userAgent??null),_userAgent}()})===Environment.MOBILE_WEB}function getUriForAppIdentity(){const location=globalThis.location;if(location)return`${location.protocol}//${location.host}`}function WalletProvider({children,wallets:adapters,autoConnect,localStorageKey="walletName",onError}){const{connection}=(0,useConnection.w)(),adaptersWithStandardAdapters=useStandardWalletAdapters(adapters),mobileWalletAdapter=(0,react.useMemo)(()=>{if(!getIsMobile(adaptersWithStandardAdapters))return null;const existingMobileWalletAdapter=adaptersWithStandardAdapters.find(adapter=>adapter.name===index_browser.fG);return existingMobileWalletAdapter||new index_browser.Ne({addressSelector:(0,index_browser.RP)(),appIdentity:{uri:getUriForAppIdentity()},authorizationResultCache:(0,index_browser.u)(),cluster:(endpoint=connection?.rpcEndpoint,endpoint?/devnet/i.test(endpoint)?"devnet":/testnet/i.test(endpoint)?"testnet":"mainnet-beta":"mainnet-beta"),onWalletNotFound:(0,index_browser.O0)()});var endpoint},[adaptersWithStandardAdapters,connection?.rpcEndpoint]),adaptersWithMobileWalletAdapter=(0,react.useMemo)(()=>null==mobileWalletAdapter||-1!==adaptersWithStandardAdapters.indexOf(mobileWalletAdapter)?adaptersWithStandardAdapters:[mobileWalletAdapter,...adaptersWithStandardAdapters],[adaptersWithStandardAdapters,mobileWalletAdapter]),[walletName,setWalletName]=function useLocalStorage(key,defaultState){const state=(0,react.useState)(()=>{try{const value=localStorage.getItem(key);if(value)return JSON.parse(value)}catch(error){"undefined"!=typeof window&&useLocalStorage_console.error(error)}return defaultState}),value=state[0],isFirstRenderRef=(0,react.useRef)(!0);return(0,react.useEffect)(()=>{if(isFirstRenderRef.current)isFirstRenderRef.current=!1;else try{null===value?localStorage.removeItem(key):localStorage.setItem(key,JSON.stringify(value))}catch(error){"undefined"!=typeof window&&useLocalStorage_console.error(error)}},[value,key]),state}(localStorageKey,null),adapter=(0,react.useMemo)(()=>adaptersWithMobileWalletAdapter.find(a=>a.name===walletName)??null,[adaptersWithMobileWalletAdapter,walletName]),changeWallet=(0,react.useCallback)(nextWalletName=>{walletName!==nextWalletName&&(adapter&&adapter.name!==index_browser.fG&&adapter.disconnect(),setWalletName(nextWalletName))},[adapter,setWalletName,walletName]);(0,react.useEffect)(()=>{if(adapter)return adapter.on("disconnect",handleDisconnect),()=>{adapter.off("disconnect",handleDisconnect)};function handleDisconnect(){isUnloadingRef.current||setWalletName(null)}},[adapter,adaptersWithStandardAdapters,setWalletName,walletName]);const hasUserSelectedAWallet=(0,react.useRef)(!1),handleAutoConnectRequest=(0,react.useMemo)(()=>{if(autoConnect&&adapter)return async()=>{(!0===autoConnect||await autoConnect(adapter))&&(hasUserSelectedAWallet.current?await adapter.connect():await adapter.autoConnect())}},[autoConnect,adapter]),isUnloadingRef=(0,react.useRef)(!1);(0,react.useEffect)(()=>{if(walletName!==index_browser.fG||!getIsMobile(adaptersWithStandardAdapters))return window.addEventListener("beforeunload",handleBeforeUnload),()=>{window.removeEventListener("beforeunload",handleBeforeUnload)};function handleBeforeUnload(){isUnloadingRef.current=!0}isUnloadingRef.current=!1},[adaptersWithStandardAdapters,walletName]);const handleConnectError=(0,react.useCallback)(()=>{adapter&&changeWallet(null)},[adapter,changeWallet]),selectWallet=(0,react.useCallback)(walletName=>{hasUserSelectedAWallet.current=!0,changeWallet(walletName)},[changeWallet]);return react.createElement(WalletProviderBase,{wallets:adaptersWithMobileWalletAdapter,adapter,isUnloadingRef,onAutoConnectRequest:handleAutoConnectRequest,onConnectError:handleConnectError,onError,onSelectWallet:selectWallet},children)}},"./node_modules/@solana/wallet-adapter-react/lib/esm/useConnection.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{E:()=>ConnectionContext,w:()=>useConnection});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js");const ConnectionContext=(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)({});function useConnection(){return(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(ConnectionContext)}},"./node_modules/@solana/wallet-standard-chains/lib/cjs/index.js":(__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SOLANA_CHAINS=exports.SOLANA_LOCALNET_CHAIN=exports.SOLANA_TESTNET_CHAIN=exports.SOLANA_DEVNET_CHAIN=exports.SOLANA_MAINNET_CHAIN=void 0,exports.isSolanaChain=function isSolanaChain(chain){return exports.SOLANA_CHAINS.includes(chain)},exports.SOLANA_MAINNET_CHAIN="solana:mainnet",exports.SOLANA_DEVNET_CHAIN="solana:devnet",exports.SOLANA_TESTNET_CHAIN="solana:testnet",exports.SOLANA_LOCALNET_CHAIN="solana:localnet",exports.SOLANA_CHAINS=[exports.SOLANA_MAINNET_CHAIN,exports.SOLANA_DEVNET_CHAIN,exports.SOLANA_TESTNET_CHAIN,exports.SOLANA_LOCALNET_CHAIN]},"./node_modules/@solana/wallet-standard-features/lib/cjs/index.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k);var desc=Object.getOwnPropertyDescriptor(m,k);desc&&!("get"in desc?!m.__esModule:desc.writable||desc.configurable)||(desc={enumerable:!0,get:function(){return m[k]}}),Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__exportStar=this&&this.__exportStar||function(m,exports){for(var p in m)"default"===p||Object.prototype.hasOwnProperty.call(exports,p)||__createBinding(exports,m,p)};Object.defineProperty(exports,"__esModule",{value:!0}),__exportStar(__webpack_require__("./node_modules/@solana/wallet-standard-features/lib/cjs/signAndSendTransaction.js"),exports),__exportStar(__webpack_require__("./node_modules/@solana/wallet-standard-features/lib/cjs/signIn.js"),exports),__exportStar(__webpack_require__("./node_modules/@solana/wallet-standard-features/lib/cjs/signMessage.js"),exports),__exportStar(__webpack_require__("./node_modules/@solana/wallet-standard-features/lib/cjs/signTransaction.js"),exports),__exportStar(__webpack_require__("./node_modules/@solana/wallet-standard-features/lib/cjs/signAndSendAllTransactions.js"),exports)},"./node_modules/@solana/wallet-standard-features/lib/cjs/signAndSendAllTransactions.js":(__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SignAndSendAllTransactions=void 0,exports.SignAndSendAllTransactions="solana:signAndSendAllTransactions"},"./node_modules/@solana/wallet-standard-features/lib/cjs/signAndSendTransaction.js":(__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SolanaSignAndSendTransaction=void 0,exports.SolanaSignAndSendTransaction="solana:signAndSendTransaction"},"./node_modules/@solana/wallet-standard-features/lib/cjs/signIn.js":(__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SolanaSignIn=void 0,exports.SolanaSignIn="solana:signIn"},"./node_modules/@solana/wallet-standard-features/lib/cjs/signMessage.js":(__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SolanaSignMessage=void 0,exports.SolanaSignMessage="solana:signMessage"},"./node_modules/@solana/wallet-standard-features/lib/cjs/signTransaction.js":(__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SolanaSignTransaction=void 0,exports.SolanaSignTransaction="solana:signTransaction"},"./node_modules/@storybook/nextjs/node_modules/styled-jsx/style.js":(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__("./node_modules/@storybook/nextjs/node_modules/styled-jsx/dist/index/index.js").style},"./node_modules/@swc/helpers/esm/_check_private_redeclaration.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function _check_private_redeclaration(obj,privateCollection){if(privateCollection.has(obj))throw new TypeError("Cannot initialize the same private elements twice on an object")}__webpack_require__.d(__webpack_exports__,{_:()=>_check_private_redeclaration})},"./node_modules/@swc/helpers/esm/_class_extract_field_descriptor.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function _class_extract_field_descriptor(receiver,privateMap,action){if(!privateMap.has(receiver))throw new TypeError("attempted to "+action+" private field on non-instance");return privateMap.get(receiver)}__webpack_require__.d(__webpack_exports__,{_:()=>_class_extract_field_descriptor})},"./node_modules/@swc/helpers/esm/_class_private_field_get.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{_:()=>_class_private_field_get});var _class_extract_field_descriptor=__webpack_require__("./node_modules/@swc/helpers/esm/_class_extract_field_descriptor.js");function _class_private_field_get(receiver,privateMap){return function _class_apply_descriptor_get(receiver,descriptor){return descriptor.get?descriptor.get.call(receiver):descriptor.value}(receiver,(0,_class_extract_field_descriptor._)(receiver,privateMap,"get"))}},"./node_modules/@swc/helpers/esm/_class_private_field_init.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{_:()=>_class_private_field_init});var _check_private_redeclaration_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@swc/helpers/esm/_check_private_redeclaration.js");function _class_private_field_init(obj,privateMap,value){(0,_check_private_redeclaration_js__WEBPACK_IMPORTED_MODULE_0__._)(obj,privateMap),privateMap.set(obj,value)}},"./node_modules/@swc/helpers/esm/_class_private_field_set.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{_:()=>_class_private_field_set});var _class_extract_field_descriptor=__webpack_require__("./node_modules/@swc/helpers/esm/_class_extract_field_descriptor.js");function _class_private_field_set(receiver,privateMap,value){return function _class_apply_descriptor_set(receiver,descriptor,value){if(descriptor.set)descriptor.set.call(receiver,value);else{if(!descriptor.writable)throw new TypeError("attempted to set read only private field");descriptor.value=value}}(receiver,(0,_class_extract_field_descriptor._)(receiver,privateMap,"set"),value),value}},"./node_modules/@tronweb3/tronwallet-abstract-adapter/lib/esm/adapter.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Ok:()=>WalletReadyState,Y3:()=>Adapter,nL:()=>AdapterState});var WalletReadyState,AdapterState,eventemitter3__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@tronweb3/tronwallet-abstract-adapter/node_modules/eventemitter3/index.js"),eventemitter3__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(eventemitter3__WEBPACK_IMPORTED_MODULE_0__),console=__webpack_require__("./node_modules/console-browserify/index.js");!function(WalletReadyState){WalletReadyState.Loading="Loading",WalletReadyState.NotFound="NotFound",WalletReadyState.Found="Found"}(WalletReadyState||(WalletReadyState={})),function(AdapterState){AdapterState.Loading="Loading",AdapterState.NotFound="NotFound",AdapterState.Disconnect="Disconnected",AdapterState.Connected="Connected"}(AdapterState||(AdapterState={}));class Adapter extends(eventemitter3__WEBPACK_IMPORTED_MODULE_0___default()){get connected(){return this.state===AdapterState.Connected}disconnect(){return console.info("The current adapter doesn't support disconnect by DApp."),Promise.resolve()}multiSign(...args){return Promise.reject("The current wallet doesn't support multiSign.")}switchChain(_chainId){return Promise.reject("The current wallet doesn't support switch chain.")}}},"./node_modules/@tronweb3/tronwallet-abstract-adapter/lib/esm/errors.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{K3:()=>WalletSignMessageError,PQ:()=>WalletDisconnectedError,Pj:()=>WalletSwitchChainError,W0:()=>WalletGetNetworkError,Y6:()=>WalletConnectionError,Y8:()=>WalletDisconnectionError,gK:()=>WalletNotSelectedError,hv:()=>WalletNotFoundError,z4:()=>WalletSignTransactionError});class WalletError extends Error{constructor(message,error){super(message),this.error=error}}class WalletNotFoundError extends WalletError{constructor(){super(...arguments),this.name="WalletNotFoundError",this.message="The wallet is not found."}}class WalletNotSelectedError extends WalletError{constructor(){super(...arguments),this.name="WalletNotSelectedError",this.message="No wallet is selected. Please select a wallet."}}class WalletDisconnectedError extends WalletError{constructor(){super(...arguments),this.name="WalletDisconnectedError",this.message="The wallet is disconnected. Please connect first."}}class WalletConnectionError extends WalletError{constructor(){super(...arguments),this.name="WalletConnectionError"}}class WalletDisconnectionError extends WalletError{constructor(){super(...arguments),this.name="WalletDisconnectionError"}}class WalletSignMessageError extends WalletError{constructor(){super(...arguments),this.name="WalletSignMessageError"}}class WalletSignTransactionError extends WalletError{constructor(){super(...arguments),this.name="WalletSignTransactionError"}}class WalletSwitchChainError extends WalletError{constructor(){super(...arguments),this.name="WalletSwitchChainError"}}class WalletGetNetworkError extends WalletError{constructor(){super(...arguments),this.name="WalletGetNetworkError"}}},"./node_modules/@tronweb3/tronwallet-abstract-adapter/lib/esm/utils.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function isInBrowser(){return"undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator}function isInMobileBrowser(){return"undefined"!=typeof navigator&&navigator.userAgent.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone/i)}__webpack_require__.d(__webpack_exports__,{My:()=>isInBrowser,yO:()=>isInMobileBrowser})},"./node_modules/@tronweb3/tronwallet-abstract-adapter/node_modules/eventemitter3/index.js":module=>{"use strict";var has=Object.prototype.hasOwnProperty,prefix="~";function Events(){}function EE(fn,context,once){this.fn=fn,this.context=context,this.once=once||!1}function addListener(emitter,event,fn,context,once){if("function"!=typeof fn)throw new TypeError("The listener must be a function");var listener=new EE(fn,context||emitter,once),evt=prefix?prefix+event:event;return emitter._events[evt]?emitter._events[evt].fn?emitter._events[evt]=[emitter._events[evt],listener]:emitter._events[evt].push(listener):(emitter._events[evt]=listener,emitter._eventsCount++),emitter}function clearEvent(emitter,evt){0===--emitter._eventsCount?emitter._events=new Events:delete emitter._events[evt]}function EventEmitter(){this._events=new Events,this._eventsCount=0}Object.create&&(Events.prototype=Object.create(null),(new Events).__proto__||(prefix=!1)),EventEmitter.prototype.eventNames=function eventNames(){var events,name,names=[];if(0===this._eventsCount)return names;for(name in events=this._events)has.call(events,name)&&names.push(prefix?name.slice(1):name);return Object.getOwnPropertySymbols?names.concat(Object.getOwnPropertySymbols(events)):names},EventEmitter.prototype.listeners=function listeners(event){var evt=prefix?prefix+event:event,handlers=this._events[evt];if(!handlers)return[];if(handlers.fn)return[handlers.fn];for(var i=0,l=handlers.length,ee=new Array(l);i<l;i++)ee[i]=handlers[i].fn;return ee},EventEmitter.prototype.listenerCount=function listenerCount(event){var evt=prefix?prefix+event:event,listeners=this._events[evt];return listeners?listeners.fn?1:listeners.length:0},EventEmitter.prototype.emit=function emit(event,a1,a2,a3,a4,a5){var evt=prefix?prefix+event:event;if(!this._events[evt])return!1;var args,i,listeners=this._events[evt],len=arguments.length;if(listeners.fn){switch(listeners.once&&this.removeListener(event,listeners.fn,void 0,!0),len){case 1:return listeners.fn.call(listeners.context),!0;case 2:return listeners.fn.call(listeners.context,a1),!0;case 3:return listeners.fn.call(listeners.context,a1,a2),!0;case 4:return listeners.fn.call(listeners.context,a1,a2,a3),!0;case 5:return listeners.fn.call(listeners.context,a1,a2,a3,a4),!0;case 6:return listeners.fn.call(listeners.context,a1,a2,a3,a4,a5),!0}for(i=1,args=new Array(len-1);i<len;i++)args[i-1]=arguments[i];listeners.fn.apply(listeners.context,args)}else{var j,length=listeners.length;for(i=0;i<length;i++)switch(listeners[i].once&&this.removeListener(event,listeners[i].fn,void 0,!0),len){case 1:listeners[i].fn.call(listeners[i].context);break;case 2:listeners[i].fn.call(listeners[i].context,a1);break;case 3:listeners[i].fn.call(listeners[i].context,a1,a2);break;case 4:listeners[i].fn.call(listeners[i].context,a1,a2,a3);break;default:if(!args)for(j=1,args=new Array(len-1);j<len;j++)args[j-1]=arguments[j];listeners[i].fn.apply(listeners[i].context,args)}}return!0},EventEmitter.prototype.on=function on(event,fn,context){return addListener(this,event,fn,context,!1)},EventEmitter.prototype.once=function once(event,fn,context){return addListener(this,event,fn,context,!0)},EventEmitter.prototype.removeListener=function removeListener(event,fn,context,once){var evt=prefix?prefix+event:event;if(!this._events[evt])return this;if(!fn)return clearEvent(this,evt),this;var listeners=this._events[evt];if(listeners.fn)listeners.fn!==fn||once&&!listeners.once||context&&listeners.context!==context||clearEvent(this,evt);else{for(var i=0,events=[],length=listeners.length;i<length;i++)(listeners[i].fn!==fn||once&&!listeners[i].once||context&&listeners[i].context!==context)&&events.push(listeners[i]);events.length?this._events[evt]=1===events.length?events[0]:events:clearEvent(this,evt)}return this},EventEmitter.prototype.removeAllListeners=function removeAllListeners(event){var evt;return event?(evt=prefix?prefix+event:event,this._events[evt]&&clearEvent(this,evt)):(this._events=new Events,this._eventsCount=0),this},EventEmitter.prototype.off=EventEmitter.prototype.removeListener,EventEmitter.prototype.addListener=EventEmitter.prototype.on,EventEmitter.prefixed=prefix,EventEmitter.EventEmitter=EventEmitter,module.exports=EventEmitter},"./node_modules/@tronweb3/tronwallet-adapter-bitkeep/lib/esm/adapter.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{_:()=>BitKeepAdapter});var adapter=__webpack_require__("./node_modules/@tronweb3/tronwallet-abstract-adapter/lib/esm/adapter.js"),utils=__webpack_require__("./node_modules/@tronweb3/tronwallet-abstract-adapter/lib/esm/utils.js"),errors=__webpack_require__("./node_modules/@tronweb3/tronwallet-abstract-adapter/lib/esm/errors.js"),esm_adapter=__webpack_require__("./node_modules/@tronweb3/tronwallet-adapter-tronlink/lib/esm/adapter.js");function supportBitgetWallet(){return!!window.tronLink&&window.isBitKeep}var __awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})};class BitKeepAdapter extends adapter.Y3{constructor(config={}){super(),this.name="Bitget Wallet",this.url="https://web3.bitget.com",this.icon="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjU2IiBoZWlnaHQ9IjI1NiIgdmlld0JveD0iMCAwIDI1NiAyNTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxnIGNsaXAtcGF0aD0idXJsKCNjbGlwMF8yMDM1XzExMDYpIj4KPHJlY3Qgd2lkdGg9IjI1NiIgaGVpZ2h0PSIyNTYiIGZpbGw9IiM1NEZGRjUiLz4KPGcgZmlsdGVyPSJ1cmwoI2ZpbHRlcjBfZl8yMDM1XzExMDYpIj4KPHBhdGggZD0iTTEzLjQ4MDYgMTk4LjYwNUMtMjkuMzI3NiAzMTkuMDQzIDE5OS42NjEgMjg1LjAyNyAzMTkuNTA3IDI1Mi45NjRDNDQyLjE2NSAyMTIuMjU5IDM1Ny4zODYgMzIuODI2OSAyNjkuNDE1IDI4Ljg1NThDMTgxLjQ0MyAyNC44ODQ3IDI4MC4zMjIgMTExLjgyNCAyMDUuNTk1IDEzNi42NTZDMTMwLjg2OCAxNjEuNDg3IDY2Ljk5MDcgNDguMDU4MyAxMy40ODA2IDE5OC42MDVaIiBmaWxsPSJ3aGl0ZSIvPgo8L2c+CjxnIGZpbHRlcj0idXJsKCNmaWx0ZXIxX2ZfMjAzNV8xMTA2KSI+CjxwYXRoIGQ9Ik04NS41MTE4IC00NS44MjI1QzYzLjA1NjIgLTEwNy4xNzYgLTE2LjkxODkgLTIzLjk5NTMgLTU0LjA5OTUgMjUuMjY0M0MtODkuNTY1MiA3OC44NDc5IDMuMDA5MzcgMTI1LjE1MiAzOS4zMjA4IDEwMC4wMzdDNzUuNjMyMyA3NC45MjI3IDcuNzc0NDggNzAuMDM2MyAyOS4zNzA4IDM3LjM3ODVDNTAuOTY3MSA0LjcyMDc2IDExMy41ODEgMzAuODY5NSA4NS41MTE4IC00NS44MjI1WiIgZmlsbD0iIzAwRkZGMCIgZmlsbC1vcGFjaXR5PSIwLjY3Ii8+CjwvZz4KPGcgZmlsdGVyPSJ1cmwoI2ZpbHRlcjJfZl8yMDM1XzExMDYpIj4KPHBhdGggZD0iTTk2LjQ3OTYgMjI1LjQyNEM2NS44NTAyIDEyMi4zNjMgLTY2LjA4MTggMTc2LjYzNyAtMTI4LjIxOSAyMTYuNjU3Qy0xODcuOTkgMjY0LjA0MiAtNDYuMDcxMSA0MDAuMzQ4IDEyLjg3MjUgMzkzLjM3NkM3MS44MTYxIDM4Ni40MDMgLTM0LjQxMTggMzI3LjA2NSAxLjk4NzAyIDI5OC4xN0MzOC4zODU4IDI2OS4yNzYgMTM0Ljc2NiAzNTQuMjQ5IDk2LjQ3OTYgMjI1LjQyNFoiIGZpbGw9IiM5RDgxRkYiLz4KPC9nPgo8ZyBmaWx0ZXI9InVybCgjZmlsdGVyM19mXzIwMzVfMTEwNikiPgo8cGF0aCBkPSJNMjgyLjEyIC0xMDcuMzUzQzIxNi4wNDcgLTE4Ni4wMzEgMTIxLjQ2MyAtMTIwLjk3IDgyLjQyOTYgLTc4LjYwNDdDNDguMjczOSAtMzAuNjQ0NiAyMjQuMjc1IDU3LjIzMTIgMjczLjEyMSA0Mi4xNzE0QzMyMS45NjggMjcuMTExNSAyMDYuNTEyIC00LjA1MDM4IDIyNy4yOTcgLTMzLjI4NzlDMjQ4LjA4MiAtNjIuNTI1NSAzNjQuNzEyIC05LjAwNTY2IDI4Mi4xMiAtMTA3LjM1M1oiIGZpbGw9IiM0RDk0RkYiLz4KPC9nPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTkzLjE4OSAxNTIuODM2SDEzNi42NzRMODcuMjA4NiAxMDMuMDUxTDEzNy4zMSA1My4yNjYzTDE1MC45NTUgNDBIMTA1LjgxOUw0OC4zMzU5IDk3Ljc3NzNDNDUuNDM0OSAxMDAuNjg5IDQ1LjQ0OTggMTA1LjQwMiA0OC4zNjU2IDEwOC4yOTlMOTMuMTg5IDE1Mi44MzZaTTExOS4zMyAxMDMuMTY4SDExOC45OTVMMTE5LjMyNiAxMDMuMTY0TDExOS4zMyAxMDMuMTY4Wk0xMTkuMzMgMTAzLjE2OEwxNjguNzkxIDE1Mi45NDlMMTE4LjY5IDIwMi43MzRMMTA1LjA0NSAyMTZIMTUwLjE4TDIwNy42NjQgMTU4LjIyNkMyMTAuNTY1IDE1NS4zMTQgMjEwLjU1IDE1MC42MDIgMjA3LjYzNCAxNDcuNzA1TDE2Mi44MTEgMTAzLjE2OEgxMTkuMzNaIiBmaWxsPSJibGFjayIvPgo8L2c+CjxkZWZzPgo8ZmlsdGVyIGlkPSJmaWx0ZXIwX2ZfMjAzNV8xMTA2IiB4PSItOTAuMjQxMSIgeT0iLTY5LjczNjkiIHdpZHRoPSI1NjkuNTU4IiBoZWlnaHQ9IjQ1MS40MzEiIGZpbHRlclVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgY29sb3ItaW50ZXJwb2xhdGlvbi1maWx0ZXJzPSJzUkdCIj4KPGZlRmxvb2QgZmxvb2Qtb3BhY2l0eT0iMCIgcmVzdWx0PSJCYWNrZ3JvdW5kSW1hZ2VGaXgiLz4KPGZlQmxlbmQgbW9kZT0ibm9ybWFsIiBpbj0iU291cmNlR3JhcGhpYyIgaW4yPSJCYWNrZ3JvdW5kSW1hZ2VGaXgiIHJlc3VsdD0ic2hhcGUiLz4KPGZlR2F1c3NpYW5CbHVyIHN0ZERldmlhdGlvbj0iNDkuMjMwOCIgcmVzdWx0PSJlZmZlY3QxX2ZvcmVncm91bmRCbHVyXzIwMzVfMTEwNiIvPgo8L2ZpbHRlcj4KPGZpbHRlciBpZD0iZmlsdGVyMV9mXzIwMzVfMTEwNiIgeD0iLTE2MC41MTEiIHk9Ii0xNjUuOTg3IiB3aWR0aD0iMzUxLjU5NiIgaGVpZ2h0PSIzNzEuNTA3IiBmaWx0ZXJVbml0cz0idXNlclNwYWNlT25Vc2UiIGNvbG9yLWludGVycG9sYXRpb24tZmlsdGVycz0ic1JHQiI+CjxmZUZsb29kIGZsb29kLW9wYWNpdHk9IjAiIHJlc3VsdD0iQmFja2dyb3VuZEltYWdlRml4Ii8+CjxmZUJsZW5kIG1vZGU9Im5vcm1hbCIgaW49IlNvdXJjZUdyYXBoaWMiIGluMj0iQmFja2dyb3VuZEltYWdlRml4IiByZXN1bHQ9InNoYXBlIi8+CjxmZUdhdXNzaWFuQmx1ciBzdGREZXZpYXRpb249IjQ5LjIzMDgiIHJlc3VsdD0iZWZmZWN0MV9mb3JlZ3JvdW5kQmx1cl8yMDM1XzExMDYiLz4KPC9maWx0ZXI+CjxmaWx0ZXIgaWQ9ImZpbHRlcjJfZl8yMDM1XzExMDYiIHg9Ii0yNDEuMDc4IiB5PSI2Ny42NDIiIHdpZHRoPSI0NDQuODUxIiBoZWlnaHQ9IjQyNC40NTIiIGZpbHRlclVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgY29sb3ItaW50ZXJwb2xhdGlvbi1maWx0ZXJzPSJzUkdCIj4KPGZlRmxvb2QgZmxvb2Qtb3BhY2l0eT0iMCIgcmVzdWx0PSJCYWNrZ3JvdW5kSW1hZ2VGaXgiLz4KPGZlQmxlbmQgbW9kZT0ibm9ybWFsIiBpbj0iU291cmNlR3JhcGhpYyIgaW4yPSJCYWNrZ3JvdW5kSW1hZ2VGaXgiIHJlc3VsdD0ic2hhcGUiLz4KPGZlR2F1c3NpYW5CbHVyIHN0ZERldmlhdGlvbj0iNDkuMjMwOCIgcmVzdWx0PSJlZmZlY3QxX2ZvcmVncm91bmRCbHVyXzIwMzVfMTEwNiIvPgo8L2ZpbHRlcj4KPGZpbHRlciBpZD0iZmlsdGVyM19mXzIwMzVfMTEwNiIgeD0iLTIwLjM5NjgiIHk9Ii0yNDIuNzU4IiB3aWR0aD0iNDMwLjE5MSIgaGVpZ2h0PSIzODUuMTA1IiBmaWx0ZXJVbml0cz0idXNlclNwYWNlT25Vc2UiIGNvbG9yLWludGVycG9sYXRpb24tZmlsdGVycz0ic1JHQiI+CjxmZUZsb29kIGZsb29kLW9wYWNpdHk9IjAiIHJlc3VsdD0iQmFja2dyb3VuZEltYWdlRml4Ii8+CjxmZUJsZW5kIG1vZGU9Im5vcm1hbCIgaW49IlNvdXJjZUdyYXBoaWMiIGluMj0iQmFja2dyb3VuZEltYWdlRml4IiByZXN1bHQ9InNoYXBlIi8+CjxmZUdhdXNzaWFuQmx1ciBzdGREZXZpYXRpb249IjQ5LjIzMDgiIHJlc3VsdD0iZWZmZWN0MV9mb3JlZ3JvdW5kQmx1cl8yMDM1XzExMDYiLz4KPC9maWx0ZXI+CjxjbGlwUGF0aCBpZD0iY2xpcDBfMjAzNV8xMTA2Ij4KPHJlY3Qgd2lkdGg9IjI1NiIgaGVpZ2h0PSIyNTYiIGZpbGw9IndoaXRlIi8+CjwvY2xpcFBhdGg+CjwvZGVmcz4KPC9zdmc+Cg==",this._readyState=adapter.Ok.Loading,this._state=adapter.nL.Loading,this.checkReadyInterval=null,this._checkPromise=null,this._updateWallet=()=>__awaiter(this,void 0,void 0,function*(){var _a,_b,_c,_d,_e,_f;let state=this.state,address=this.address;if(supportBitgetWallet()){if((0,utils.yO)()){const tron=null===(_a=window.bitkeep)||void 0===_a?void 0:_a.tronLink;this._wallet={tron,tronWeb:null==tron?void 0:tron.tronWeb}}else{const tronWeb=null===(_b=window.bitkeep)||void 0===_b?void 0:_b.tronWeb;this._wallet={tron:window.bitkeep.tronLink,tronWeb}}address=(null===(_c=this._wallet.tron)||void 0===_c?void 0:_c.ready)?(null===(_d=this._wallet.tronWeb.defaultAddress)||void 0===_d?void 0:_d.base58)||null:"",state=(null===(_e=this._wallet.tron)||void 0===_e?void 0:_e.ready)?adapter.nL.Connected:adapter.nL.Disconnect,(null===(_f=this._wallet.tron)||void 0===_f?void 0:_f.ready)||this.checkForWalletReady()}else this._wallet=null,address=null,state=adapter.nL.NotFound;this.setAddress(address),this.setState(state)});const{checkTimeout=2e3,openUrlWhenWalletNotFound=!0,openAppWithDeeplink=!0}=config;if("number"!=typeof checkTimeout)throw new Error("[BitKeepAdapter] config.checkTimeout should be a number");if(this.config={checkTimeout,openUrlWhenWalletNotFound,openAppWithDeeplink},this._connecting=!1,this._wallet=null,this._address=null,!(0,utils.My)())return this._readyState=adapter.Ok.NotFound,void this.setState(adapter.nL.NotFound);supportBitgetWallet()?(this._readyState=adapter.Ok.Found,this._updateWallet()):this._checkWallet().then(()=>{this.connected&&this.emit("connect",this.address||"")})}get address(){return this._address}get state(){return this._state}get readyState(){return this._readyState}get connecting(){return this._connecting}network(){return __awaiter(this,void 0,void 0,function*(){try{if(yield this._checkWallet(),this.state!==adapter.nL.Connected)throw new errors.PQ;const wallet=this._wallet;if(!wallet||!wallet.tronWeb)throw new errors.PQ;try{return yield(0,esm_adapter.NA)(wallet.tronWeb)}catch(e){throw new errors.W0(null==e?void 0:e.message,e)}}catch(e){throw this.emit("error",e),e}})}connect(){return __awaiter(this,void 0,void 0,function*(){var _a,_b,_c,_d;try{if(this.checkIfOpenApp(),this.connected||this.connecting)return;if(yield this._checkWallet(),this.readyState===adapter.Ok.NotFound)throw!1!==this.config.openUrlWhenWalletNotFound&&(0,utils.My)()&&window.open(this.url,"_blank"),new errors.hv;const wallet=this._wallet;if(!(0,utils.yO)()){if(!wallet)return;this._connecting=!0;const res=yield wallet.tron.request({method:"tron_requestAccounts"});if(200!==(null==res?void 0:res.code))throw new errors.Y6(40001===(null==res?void 0:res.code)?"The connection request is canceled by user.":null==res?void 0:res.message)}const address=(null===(_a=null==wallet?void 0:wallet.tronWeb.defaultAddress)||void 0===_a?void 0:_a.base58)||(null===(_d=null===(_c=null===(_b=window.bitkeep)||void 0===_b?void 0:_b.tronWeb)||void 0===_c?void 0:_c.defaultAddress)||void 0===_d?void 0:_d.base58)||"";this.setAddress(address),this.setState(adapter.nL.Connected),this.emit("connect",this.address||"")}catch(error){throw this.emit("error",error),error}finally{this._connecting=!1}})}disconnect(){return __awaiter(this,void 0,void 0,function*(){this.state===adapter.nL.Connected&&(this.setAddress(null),this.setState(adapter.nL.Disconnect),this.emit("disconnect"))})}signTransaction(transaction,privateKey){return __awaiter(this,void 0,void 0,function*(){try{const wallet=yield this.checkAndGetWallet();try{return yield wallet.tronWeb.trx.sign(transaction,privateKey)}catch(error){throw error instanceof Error?new errors.z4(error.message,error):new errors.z4(error,new Error(error))}}catch(error){throw this.emit("error",error),error}})}multiSign(transaction,privateKey,permissionId){return __awaiter(this,void 0,void 0,function*(){try{const wallet=yield this.checkAndGetWallet();try{return yield wallet.tronWeb.trx.multiSign(transaction,privateKey,permissionId)}catch(error){throw error instanceof Error?new errors.z4(error.message,error):new errors.z4(error,new Error(error))}}catch(error){throw this.emit("error",error),error}})}signMessage(message,privateKey){return __awaiter(this,void 0,void 0,function*(){try{const wallet=yield this.checkAndGetWallet();try{return yield wallet.tronWeb.trx.signMessageV2(message,privateKey)}catch(error){throw error instanceof Error?new errors.K3(error.message,error):new errors.K3(error,new Error(error))}}catch(error){throw this.emit("error",error),error}})}checkAndGetWallet(){return __awaiter(this,void 0,void 0,function*(){if(this.checkIfOpenApp(),yield this._checkWallet(),!this.connected)throw new errors.PQ;const wallet=this._wallet;if(!wallet||!wallet.tronWeb)throw new errors.PQ;return wallet})}checkForWalletReady(){if(this.checkReadyInterval)return;let times=0;const maxTimes=Math.floor(this.config.checkTimeout/200);this.checkReadyInterval=setInterval(()=>__awaiter(this,void 0,void 0,function*(){var _a;this._wallet&&(null===(_a=this._wallet)||void 0===_a?void 0:_a.tron.ready)?(this.checkReadyInterval&&clearInterval(this.checkReadyInterval),this.checkReadyInterval=null,yield this._updateWallet(),this.emit("connect",this.address||"")):times>maxTimes?(this.checkReadyInterval&&clearInterval(this.checkReadyInterval),this.checkReadyInterval=null):times++}),200)}_checkWallet(){if(this.readyState===adapter.Ok.Found)return Promise.resolve(!0);if(this._checkPromise)return this._checkPromise;const maxTimes=Math.floor(this.config.checkTimeout/100);let timer,times=0;return this._checkPromise=new Promise(resolve=>{const check=()=>{times++;const isSupport=supportBitgetWallet();(isSupport||times>maxTimes)&&(timer&&clearInterval(timer),this._readyState=isSupport?adapter.Ok.Found:adapter.Ok.NotFound,this._updateWallet(),this.emit("readyStateChanged",this.readyState),resolve(isSupport))};timer=setInterval(check,100),check()}),this._checkPromise}checkIfOpenApp(){if(!1!==this.config.openAppWithDeeplink&&function openBitgetWallet(){if((0,utils.yO)()&&!supportBitgetWallet()){const{origin,pathname,search,hash}=window.location,url=origin+pathname+search+hash;return location.href=`https://bkcode.vip?action=dapp&url=${encodeURIComponent(url)}`,!0}return!1}())throw new errors.hv}setAddress(address){this._address=address}setState(state){state!==this.state&&(this._state=state,this.emit("stateChanged",state))}}},"./node_modules/@tronweb3/tronwallet-adapter-bybit/lib/esm/adapter.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{p:()=>BybitWalletAdapter});var adapter=__webpack_require__("./node_modules/@tronweb3/tronwallet-abstract-adapter/lib/esm/adapter.js"),utils=__webpack_require__("./node_modules/@tronweb3/tronwallet-abstract-adapter/lib/esm/utils.js"),errors=__webpack_require__("./node_modules/@tronweb3/tronwallet-abstract-adapter/lib/esm/errors.js"),esm_adapter=__webpack_require__("./node_modules/@tronweb3/tronwallet-adapter-tronlink/lib/esm/adapter.js");function supportBybitWallet(){return!(!window.bybitWallet||!window.bybitWallet.tronLink)}"undefined"!=typeof navigator&&/bybit_app/i.test(navigator.userAgent);function openBybitWallet(){return!(function isInBybitApp(){return"undefined"!=typeof window&&void 0!==window.navigator&&/bybit_app/i.test(window.navigator.userAgent)}()||!(0,utils.yO)())&&(window.location.href=`https://app.bybit.com/inapp?by_dp=${encodeURIComponent("bybitapp://open/route?targetUrl=by%3A%2F%2Fweb3%2Ftab%2Findex%3Findex%3D0")}&by_web_link=${encodeURIComponent(window.location.href)}`,!0)}var __awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})};class BybitWalletAdapter extends adapter.Y3{constructor(config={}){super(),this.name="Bybit Wallet",this.url="https://bybit.com/web3",this.icon="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODgiIGhlaWdodD0iODgiIHZpZXdCb3g9IjAgMCA4OCA4OCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTAgMTguN0MwIDguMzcyMjcgOC4zNzIyOCAwIDE4LjcgMEg2OS4zQzc5LjYyNzcgMCA4OCA4LjM3MjI4IDg4IDE4LjdWNjkuM0M4OCA3OS42Mjc3IDc5LjYyNzcgODggNjkuMyA4OEgxOC43QzguMzcyMjcgODggMCA3OS42Mjc3IDAgNjkuM1YxOC43WiIgZmlsbD0iIzQwNDM0NyIvPgo8cGF0aCBkPSJNNy41NzYxNyAyNi44MDY3QzYuNzg1MTYgMjQuMDc4NyA4LjQ3NzUgMjEuMjUzMSAxMS4yNTU5IDIwLjY2M0w1Ny42MDg3IDEwLjgxNzNDNTkuODA5IDEwLjM1IDYyLjA0NDMgMTEuNDQ0MyA2My4wMjQ3IDEzLjQ2ODlMODMuODQ0MyA1Ni40NjU3TDI1LjE3NzYgODcuNTEwMUw3LjU3NjE3IDI2LjgwNjdaIiBmaWxsPSJ1cmwoI3BhaW50MF9saW5lYXJfMzEyXzE3NTM0KSIvPgo8cGF0aCBkPSJNOC4xODI0MiAzMC4xNjE4QzcuMzUwNDkgMjcuMjgzOCA5LjI3OTI1IDI0LjM0MTMgMTIuMjUwMiAyMy45NTU5TDczLjY4NjUgMTUuOTg4MUM3Ni4yMzkxIDE1LjY1NzEgNzguNjExMSAxNy4zNjE4IDc5LjExMTEgMTkuODg2N0w4OC4wMDAzIDY0Ljc3NzFMMjQuNjg5MiA4Ny4yNjY1TDguMTgyNDIgMzAuMTYxOFoiIGZpbGw9IndoaXRlIi8+CjxwYXRoIGQ9Ik0wIDM0LjIyMjJDMCAyOC44MjIxIDQuMzc3NjYgMjQuNDQ0NSA5Ljc3Nzc4IDI0LjQ0NDVINjguNDQ0NEM3OS4yNDQ3IDI0LjQ0NDUgODggMzMuMTk5OCA4OCA0NFY2OC40NDQ1Qzg4IDc5LjI0NDcgNzkuMjQ0NyA4OCA2OC40NDQ0IDg4SDE5LjU1NTZDOC43NTUzMiA4OCAwIDc5LjI0NDcgMCA2OC40NDQ1VjM0LjIyMjJaIiBmaWxsPSJibGFjayIvPgo8cGF0aCBkPSJNNTguMjIwMSA2MS4xOTU5VjQyLjg3NTVINjEuNzkzN1Y2MS4xOTU5SDU4LjIyMDFaIiBmaWxsPSIjRjdBNjAwIi8+CjxwYXRoIGQ9Ik0xNy40Mzk1IDY2LjY2MzdIOS43Nzc5NVY0OC4zNDM0SDE3LjEzMTNDMjAuNzA0OSA0OC4zNDM0IDIyLjc4NzQgNTAuMzUwNSAyMi43ODc0IDUzLjQ4OTNDMjIuNzg3NCA1NS41MjE1IDIxLjQ1MDQgNTYuODM0NSAyMC41MjU3IDU3LjI3MjFDMjEuNjMxNSA1Ny43ODY5IDIzLjA0NTYgNTguOTQzOCAyMy4wNDU2IDYxLjM4ODVDMjMuMDQ1NiA2NC44MTA4IDIwLjcwNDkgNjYuNjYzNyAxNy40Mzk1IDY2LjY2MzdaTTE2Ljg0ODEgNTEuNTM0M0gxMy4zNTE2VjU1Ljc1NDhIMTYuODQ4MUMxOC4zNjQyIDU1Ljc1NDggMTkuMjEzOCA1NC45MDY0IDE5LjIxMzggNTMuNjQ1NUMxOS4yMTM4IDUyLjM4MjYgMTguMzY2MiA1MS41MzQzIDE2Ljg0ODEgNTEuNTM0M1pNMTcuMDc5MyA1OC45NzA4SDEzLjM1MTZWNjMuNDcyOEgxNy4wNzkzQzE4LjY5OTQgNjMuNDcyOCAxOS40NyA2Mi40NDMyIDE5LjQ3IDYxLjIwOTJDMTkuNDcyIDU5Ljk3MzMgMTguNjk5NCA1OC45NzA4IDE3LjA3OTMgNTguOTcwOFoiIGZpbGw9IndoaXRlIi8+CjxwYXRoIGQ9Ik0zMi44OTI1IDU5LjE1MDFWNjYuNjYzN0gyOS4zNDM5VjU5LjE1MDFMMjMuODQxOSA0OC4zNDM0SDI3LjcyMzhMMzEuMTQzMiA1NS43Mjc4TDM0LjUxMDcgNDguMzQzNEgzOC4zOTI2TDMyLjg5MjUgNTkuMTUwMVoiIGZpbGw9IndoaXRlIi8+CjxwYXRoIGQ9Ik00OC41NjMzIDY2LjY2MzdINDAuOTAxN1Y0OC4zNDM0SDQ4LjI1NTFDNTEuODI4NyA0OC4zNDM0IDUzLjkxMTIgNTAuMzUwNSA1My45MTEyIDUzLjQ4OTNDNTMuOTExMiA1NS41MjE1IDUyLjU3NDIgNTYuODM0NSA1MS42NDk1IDU3LjI3MjFDNTIuNzU1MyA1Ny43ODY5IDU0LjE2OTMgNTguOTQzOCA1NC4xNjkzIDYxLjM4ODVDNTQuMTY3NCA2NC44MTA4IDUxLjgyNjggNjYuNjYzNyA0OC41NjMzIDY2LjY2MzdaTTQ3Ljk3MTkgNTEuNTM0M0g0NC40NzUzVjU1Ljc1NDhINDcuOTcxOUM0OS40ODggNTUuNzU0OCA1MC4zMzc2IDU0LjkwNjQgNTAuMzM3NiA1My42NDU1QzUwLjMzNTcgNTIuMzgyNiA0OS40ODggNTEuNTM0MyA0Ny45NzE5IDUxLjUzNDNaTTQ4LjIwMzEgNTguOTcwOEg0NC40NzUzVjYzLjQ3MjhINDguMjAzMUM0OS44MjMyIDYzLjQ3MjggNTAuNTkzOCA2Mi40NDMyIDUwLjU5MzggNjEuMjA5MkM1MC41OTM4IDU5Ljk3MzQgNDkuODIxMyA1OC45NzA4IDQ4LjIwMzEgNTguOTcwOFoiIGZpbGw9IndoaXRlIi8+CjxwYXRoIGQ9Ik03My40MzkgNTEuNTM0M1Y2Ni42NjM3SDY5Ljg2NTRWNTEuNTM0M0g2NS4wODM5VjQ4LjM0MzRINzguMjIyNFY1MS41MzQzSDczLjQzOVoiIGZpbGw9IndoaXRlIi8+CjxkZWZzPgo8bGluZWFyR3JhZGllbnQgaWQ9InBhaW50MF9saW5lYXJfMzEyXzE3NTM0IiB4MT0iNy4zMzMwOCIgeTE9IjI1LjU5NCIgeDI9Ijg0LjYzODEiIHkyPSIyMS43MjE2IiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CjxzdG9wIHN0b3AtY29sb3I9IiNGRkQ3NDgiLz4KPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjRjdBNjAwIi8+CjwvbGluZWFyR3JhZGllbnQ+CjwvZGVmcz4KPC9zdmc+Cg==",this._readyState=(0,utils.My)()?adapter.Ok.Loading:adapter.Ok.NotFound,this._state=adapter.nL.Loading,this.messageHandler=e=>{var _a,_b,_c;const message=null===(_a=e.data)||void 0===_a?void 0:_a.message;if(message)if("accountsChanged"===message.action)setTimeout(()=>{var _a;const preAddr=this.address||"";if(null===(_a=this._wallet)||void 0===_a?void 0:_a.ready){const address=message.data.address;this.setAddress(address),this.setState(adapter.nL.Connected)}else this.setAddress(null),this.setState(adapter.nL.Disconnect);(this.address||"")!==preAddr&&this.emit("accountsChanged",this.address||"",preAddr),!preAddr&&this.address?this.emit("connect",this.address):preAddr&&!this.address&&this.emit("disconnect")},200);else if("connect"===message.action){const isCurConnected=this.connected,preAddress=this.address||"",address=(null===(_c=null===(_b=this._wallet.tronWeb)||void 0===_b?void 0:_b.defaultAddress)||void 0===_c?void 0:_c.base58)||"";this.setAddress(address),this.setState(adapter.nL.Connected),isCurConnected?address!==preAddress&&this.emit("accountsChanged",this.address||"",preAddress):this.emit("connect",address)}else"disconnect"===message.action&&(this.setAddress(null),this.setState(adapter.nL.Disconnect),this.emit("disconnect"))},this._checkPromise=null,this._updateWallet=()=>{var _a,_b;let state=this.state,address=this.address;supportBybitWallet()?(this._wallet=window.bybitWallet.tronLink,this._listenEvent(),address=(null===(_b=null===(_a=this._wallet.tronWeb)||void 0===_a?void 0:_a.defaultAddress)||void 0===_b?void 0:_b.base58)||null,state=this._wallet.ready?adapter.nL.Connected:adapter.nL.Disconnect):(this._wallet=null,address=null,state=adapter.nL.NotFound),this.setAddress(address),this.setState(state)};const{checkTimeout=2e3,openUrlWhenWalletNotFound=!0,openAppWithDeeplink=!0}=config;if("number"!=typeof checkTimeout)throw new Error("[BybitWalletAdapter] config.checkTimeout should be a number");if(this.config={checkTimeout,openAppWithDeeplink,openUrlWhenWalletNotFound},this._connecting=!1,this._wallet=null,this._address=null,!(0,utils.My)())return this._readyState=adapter.Ok.NotFound,void this.setState(adapter.nL.NotFound);supportBybitWallet()?(this._readyState=adapter.Ok.Found,this._updateWallet()):this._checkWallet().then(()=>{this.connected&&this.emit("connect",this.address||"")})}get address(){return this._address}get state(){return this._state}get readyState(){return this._readyState}get connecting(){return this._connecting}network(){return __awaiter(this,void 0,void 0,function*(){try{if(yield this._checkWallet(),this.state!==adapter.nL.Connected)throw new errors.PQ;const wallet=this._wallet;if(!wallet||!wallet.tronWeb)throw new errors.PQ;try{return yield(0,esm_adapter.NA)(wallet.tronWeb)}catch(e){throw new errors.W0(null==e?void 0:e.message,e)}}catch(e){throw this.emit("error",e),e}})}connect(){return __awaiter(this,void 0,void 0,function*(){var _a;try{if(this.checkIfOpenBybitWallet(),this.connected||this.connecting)return;if(yield this._checkWallet(),this.state===adapter.nL.NotFound)throw!1!==this.config.openUrlWhenWalletNotFound&&(0,utils.My)()&&window.open(this.url,"_blank"),new errors.hv;if(!this._wallet)return;this._connecting=!0;const wallet=this._wallet;try{const res=yield wallet.request({method:"tron_requestAccounts"});if(!res)throw new errors.Y6("Request connect error.");if(4e3===res.code)throw new errors.Y6("The same DApp has already initiated a request to connect to BybitWallet, and the pop-up window has not been closed.");if(4001===res.code)throw new errors.Y6("The user rejected connection.")}catch(error){throw new errors.Y6(null==error?void 0:error.message,error)}const address=(null===(_a=wallet.tronWeb.defaultAddress)||void 0===_a?void 0:_a.base58)||"";this.setAddress(address),this.setState(adapter.nL.Connected),this._listenEvent(),this.connected&&this.emit("connect",this.address||"")}catch(error){throw this.emit("error",error),error}finally{this._connecting=!1}})}disconnect(){return __awaiter(this,void 0,void 0,function*(){this._stopListenEvent(),this.state===adapter.nL.Connected&&(this.setAddress(null),this.setState(adapter.nL.Disconnect),this.emit("disconnect"))})}signTransaction(transaction,privateKey){return __awaiter(this,void 0,void 0,function*(){try{const wallet=yield this.checkAndGetWallet();try{return yield wallet.tronWeb.trx.sign(transaction,privateKey)}catch(error){throw error instanceof Error?new errors.z4(error.message,error):new errors.z4(error,new Error(error))}}catch(error){throw this.emit("error",error),error}})}multiSign(transaction,privateKey,permissionId){return __awaiter(this,void 0,void 0,function*(){try{const wallet=yield this.checkAndGetWallet();try{return yield wallet.tronWeb.trx.multiSign(transaction,privateKey,permissionId)}catch(error){throw error instanceof Error?new errors.z4(error.message,error):new errors.z4(error,new Error(error))}}catch(error){throw this.emit("error",error),error}})}signMessage(message,privateKey){return __awaiter(this,void 0,void 0,function*(){try{const wallet=yield this.checkAndGetWallet();try{return yield wallet.tronWeb.trx.signMessageV2(message,privateKey)}catch(error){throw error instanceof Error?new errors.K3(error.message,error):new errors.K3(error,new Error(error))}}catch(error){throw this.emit("error",error),error}})}checkAndGetWallet(){return __awaiter(this,void 0,void 0,function*(){if(this.checkIfOpenBybitWallet(),yield this._checkWallet(),this.state!==adapter.nL.Connected)throw new errors.PQ;const wallet=this._wallet;if(!wallet||!wallet.tronWeb)throw new errors.PQ;return wallet})}_listenEvent(){this._stopListenEvent(),window.addEventListener("message",this.messageHandler)}_stopListenEvent(){window.removeEventListener("message",this.messageHandler)}checkIfOpenBybitWallet(){if(!1!==this.config.openAppWithDeeplink&&openBybitWallet())throw new errors.hv}_checkWallet(){if(this.readyState===adapter.Ok.Found)return Promise.resolve(!0);if(this._checkPromise)return this._checkPromise;const maxTimes=Math.floor(this.config.checkTimeout/100);let timer,times=0;return this._checkPromise=new Promise(resolve=>{const check=()=>{times++;const isSupport=supportBybitWallet();(isSupport||times>maxTimes)&&(timer&&clearInterval(timer),this._readyState=isSupport?adapter.Ok.Found:adapter.Ok.NotFound,this._updateWallet(),this.emit("readyStateChanged",this.readyState),resolve(isSupport))};timer=setInterval(check,100),check()}),this._checkPromise}setAddress(address){this._address=address}setState(state){state!==this.state&&(this._state=state,this.emit("stateChanged",state))}}},"./node_modules/@tronweb3/tronwallet-adapter-foxwallet/lib/esm/adapter.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{k:()=>FoxWalletAdapter});var adapter=__webpack_require__("./node_modules/@tronweb3/tronwallet-abstract-adapter/lib/esm/adapter.js"),utils=__webpack_require__("./node_modules/@tronweb3/tronwallet-abstract-adapter/lib/esm/utils.js"),errors=__webpack_require__("./node_modules/@tronweb3/tronwallet-abstract-adapter/lib/esm/errors.js"),esm_adapter=__webpack_require__("./node_modules/@tronweb3/tronwallet-adapter-tronlink/lib/esm/adapter.js");function supportFoxWallet(){return!!utils.yO&&!!(window.foxwallet&&window.foxwallet.tronLink&&window.foxwallet.tronLink.tronWeb)}var __awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})};class FoxWalletAdapter extends adapter.Y3{constructor(config={}){super(),this.name="FoxWallet",this.url="https://foxwallet.com/",this.icon="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTQxIiBoZWlnaHQ9IjE0MCIgdmlld0JveD0iMCAwIDE0MSAxNDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHg9IjAuNSIgd2lkdGg9IjE0MCIgaGVpZ2h0PSIxNDAiIHJ4PSI0IiBmaWxsPSJibGFjayIvPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTkwLjI5NDQgMzMuNTk2NUM4NC40OTMxIDMwLjUyNTMgODAuMDg5MyAyNS4xMzAyIDc4LjM1MDYgMTguNjQ2NUM3Ny44MTQzIDIwLjYyOSA3Ny41MzgxIDIyLjcwOSA3Ny41MzgxIDI0Ljg1NEM3Ny41MzgxIDI2LjUyNzcgNzcuNzE2OCAyOC4xNTI3IDc4LjA0MTggMjkuNzI5Qzc4LjA0MTggMjkuNzI5IDc4LjA0MTggMjkuNzI5IDc4LjA0MTggMjkuNzQ1M0M3OC4wNDE4IDI5Ljc2MTUgNzguMDU4MSAyOS43OTQgNzguMDU4MSAyOS44MTAzQzc4LjQ5NjggMzEuOTIyOCA3OS4yMTE4IDMzLjkyMTUgODAuMTcwNiAzNS43NzRDNzguMTIzMSAzNC4yNjI4IDc2LjMwMzEgMzIuNDU5IDc0Ljc3NTYgMzAuNDI3OEM3Mi43MjgxIDQ2LjMwNCA3OC40OTY4IDYyLjgzMDMgODkuMDQzMSA3My43MTc4QzEwMi44MDcgODkuNzQwMyA5MC4xMTU2IDExNi45MjcgNjguNjY1NiAxMTYuMjEyQzM4LjMxMDUgMTE2LjQ3MiAzMy4xMTA1IDcxLjc2NzggNjIuMjMwNiA2NC43NDc4TDYyLjIxNDMgNjQuNjY2NkM2OS45ODE4IDYyLjE0NzggNzMuNjIxOCA1Ny4wOTQgNzQuMjU1NiA1MC41MjlDNjMuMDQzMSA1OS42MTI4IDQ1LjMzMDUgNDguMzUxNSA0OS4wMDMxIDM0LjI0NjVDNi45MTU1IDU0Ljk2NTMgMjIuNTQ4IDEyMi4xNzUgNzAuMjU4MSAxMjEuMzQ3QzkxLjA0MTkgMTIxLjM0NyAxMDguNjI0IDEwNy41OTkgMTE0LjM5MyA4OC43MDAzQzEyMS4yODMgNjYuNjY1MyAxMTAuMTM2IDQzLjE4NCA5MC4yOTQ0IDMzLjU5NjVaIiBmaWxsPSIjMTJGRTc0Ii8+Cjwvc3ZnPgo=",this._readyState=adapter.Ok.Loading,this._state=adapter.nL.Loading,this.checkReadyInterval=null,this._checkPromise=null,this._updateWallet=()=>{var _a,_b;let state=this.state,address=this.address;supportFoxWallet()?(this._wallet=window.foxwallet.tronLink,address=(null===(_b=null===(_a=this._wallet.tronWeb)||void 0===_a?void 0:_a.defaultAddress)||void 0===_b?void 0:_b.base58)||null,state=address?adapter.nL.Connected:adapter.nL.Disconnect):(this._wallet=null,address=null,state=adapter.nL.NotFound),(0,utils.yO)()&&state===adapter.nL.Disconnect&&this.checkForWalletReady(),this.setAddress(address),this.setState(state)};const{checkTimeout=2e3,openUrlWhenWalletNotFound=!0,openAppWithDeeplink=!0}=config;if("number"!=typeof checkTimeout)throw new Error("[FoxWalletAdapter] config.checkTimeout should be a number");if(this.config={checkTimeout,openUrlWhenWalletNotFound,openAppWithDeeplink},this._connecting=!1,this._wallet=null,this._address=null,!(0,utils.yO)())return this._readyState=adapter.Ok.NotFound,void this.setState(adapter.nL.NotFound);supportFoxWallet()?(this._readyState=adapter.Ok.Found,this._updateWallet()):this._checkWallet().then(()=>{this.connected&&this.emit("connect",this.address||"")})}get address(){return this._address}get state(){return this._state}get readyState(){return this._readyState}get connecting(){return this._connecting}network(){return __awaiter(this,void 0,void 0,function*(){try{if(yield this._checkWallet(),this.state!==adapter.nL.Connected)throw new errors.PQ;const wallet=this._wallet;if(!wallet||!wallet.tronWeb)throw new errors.PQ;try{return yield(0,esm_adapter.NA)(wallet.tronWeb)}catch(e){throw new errors.W0(null==e?void 0:e.message,e)}}catch(e){throw this.emit("error",e),e}})}connect(){return __awaiter(this,void 0,void 0,function*(){var _a;try{if(this.checkIfOpenApp(),this.connected||this.connecting)return;if(yield this._checkWallet(),this.readyState===adapter.Ok.NotFound)throw!1!==this.config.openUrlWhenWalletNotFound&&(0,utils.My)()&&window.open(this.url,"_blank"),new errors.hv;if(!this._wallet)return;this._connecting=!0;const wallet=this._wallet;try{const res=yield wallet.request({method:"tron_requestAccounts"});if(!res)throw new errors.Y6("Request connect error.");if(4e3===res.code)throw new errors.Y6("The same DApp has already initiated a request to connect to FoxWallet, and the pop-up window has not been closed.");if(4001===res.code)throw new errors.Y6("The user rejected connection.")}catch(error){throw new errors.Y6(null==error?void 0:error.message,error)}const address=(null===(_a=wallet.tronWeb.defaultAddress)||void 0===_a?void 0:_a.base58)||"";this.setAddress(address),this.setState(adapter.nL.Connected),this.emit("connect",this.address||"")}catch(error){throw this.emit("error",error),error}finally{this._connecting=!1}})}disconnect(){return __awaiter(this,void 0,void 0,function*(){this.state===adapter.nL.Connected&&(this.setAddress(null),this.setState(adapter.nL.Disconnect),this.emit("disconnect"))})}signTransaction(transaction,privateKey){return __awaiter(this,void 0,void 0,function*(){try{const wallet=yield this.checkAndGetWallet();try{return yield wallet.tronWeb.trx.sign(transaction,privateKey)}catch(error){throw error instanceof Error?new errors.z4(error.message,error):new errors.z4(error,new Error(error))}}catch(error){throw this.emit("error",error),error}})}multiSign(transaction,privateKey,permissionId){return __awaiter(this,void 0,void 0,function*(){try{const wallet=yield this.checkAndGetWallet();try{return yield wallet.tronWeb.trx.multiSign(transaction,privateKey,permissionId)}catch(error){throw error instanceof Error?new errors.z4(error.message,error):new errors.z4(error,new Error(error))}}catch(error){throw this.emit("error",error),error}})}signMessage(message,privateKey){return __awaiter(this,void 0,void 0,function*(){try{const wallet=yield this.checkAndGetWallet();try{return yield wallet.tronWeb.trx.signMessageV2(message,privateKey)}catch(error){throw error instanceof Error?new errors.K3(error.message,error):new errors.K3(error,new Error(error))}}catch(error){throw this.emit("error",error),error}})}checkAndGetWallet(){return __awaiter(this,void 0,void 0,function*(){if(this.checkIfOpenApp(),yield this._checkWallet(),!this.connected)throw new errors.PQ;const wallet=this._wallet;if(!wallet||!wallet.tronWeb)throw new errors.PQ;return wallet})}checkForWalletReady(){if(this.checkReadyInterval)return;let times=0;const maxTimes=Math.floor(this.config.checkTimeout/200);this.checkReadyInterval=setInterval(()=>__awaiter(this,void 0,void 0,function*(){var _a,_b,_c;(null===(_c=null===(_b=null===(_a=this._wallet)||void 0===_a?void 0:_a.tronWeb)||void 0===_b?void 0:_b.defaultAddress)||void 0===_c?void 0:_c.base58)?(this.checkReadyInterval&&clearInterval(this.checkReadyInterval),this.checkReadyInterval=null,yield this._updateWallet(),this.emit("connect",this.address||"")):times>maxTimes?(this.checkReadyInterval&&clearInterval(this.checkReadyInterval),this.checkReadyInterval=null):times++}),200)}_checkWallet(){if(this.readyState===adapter.Ok.Found)return Promise.resolve(!0);if(this._checkPromise)return this._checkPromise;const maxTimes=Math.floor(this.config.checkTimeout/100);let timer,times=0;return this._checkPromise=new Promise(resolve=>{const check=()=>{times++;const isSupport=supportFoxWallet();(isSupport||times>maxTimes)&&(timer&&clearInterval(timer),this._readyState=isSupport?adapter.Ok.Found:adapter.Ok.NotFound,this._updateWallet(),this.emit("readyStateChanged",this.readyState),resolve(isSupport))};timer=setInterval(check,100),check()}),this._checkPromise}checkIfOpenApp(){if(!1!==this.config.openAppWithDeeplink&&function openFoxWallet(){if((0,utils.yO)()&&!supportFoxWallet()){const{origin,pathname,search,hash}=window.location,url=origin+pathname+search+hash;return location.href=`foxwallet://dapp?url=${encodeURIComponent(url)}`,!0}return!1}())throw new errors.hv}setAddress(address){this._address=address}setState(state){state!==this.state&&(this._state=state,this.emit("stateChanged",state))}}},"./node_modules/@tronweb3/tronwallet-adapter-gatewallet/lib/esm/adapter.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{E:()=>GateWalletAdapter});var adapter=__webpack_require__("./node_modules/@tronweb3/tronwallet-abstract-adapter/lib/esm/adapter.js"),utils=__webpack_require__("./node_modules/@tronweb3/tronwallet-abstract-adapter/lib/esm/utils.js"),errors=__webpack_require__("./node_modules/@tronweb3/tronwallet-abstract-adapter/lib/esm/errors.js"),esm_adapter=__webpack_require__("./node_modules/@tronweb3/tronwallet-adapter-tronlink/lib/esm/adapter.js");function supportGateWallet(){return!(!window.gatewallet||!window.gatewallet.tronLink)}const isGateApp="undefined"!=typeof navigator&&/GateApp/i.test(navigator.userAgent);function openGateWallet(){return!(function isInGateApp(){return"undefined"!=typeof window&&void 0!==window.navigator&&/GateApp/i.test(window.navigator.userAgent)}()||!(0,utils.yO)())&&(window.location.href="https://gateio.onelink.me/DmA6/web3?dapp_url="+encodeURIComponent(window.location.href),!0)}var __awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})};class GateWalletAdapter extends adapter.Y3{constructor(config={}){super(),this.name="Gate Wallet",this.url="https://gate.io",this.icon="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPG1hc2sgaWQ9Im1hc2swXzQ1ODJfNzgxIiBzdHlsZT0ibWFzay10eXBlOmFscGhhIiBtYXNrVW5pdHM9InVzZXJTcGFjZU9uVXNlIiB4PSIwIiB5PSIwIiB3aWR0aD0iNDAiIGhlaWdodD0iNDAiPgo8cGF0aCBkPSJNMCA4QzAgMy41ODE3MiAzLjU4MTcyIDAgOCAwSDMyQzM2LjQxODMgMCA0MCAzLjU4MTcyIDQwIDhWMzJDNDAgMzYuNDE4MyAzNi40MTgzIDQwIDMyIDQwSDhDMy41ODE3MiA0MCAwIDM2LjQxODMgMCAzMlY4WiIgZmlsbD0id2hpdGUiLz4KPC9tYXNrPgo8ZyBtYXNrPSJ1cmwoI21hc2swXzQ1ODJfNzgxKSI+CjxwYXRoIGQ9Ik0wIDhDMCAzLjU4MTcyIDMuNTgxNzIgMCA4IDBIMzJDMzYuNDE4MyAwIDQwIDMuNTgxNzIgNDAgOFYzMkM0MCAzNi40MTgzIDM2LjQxODMgNDAgMzIgNDBIOEMzLjU4MTcyIDQwIDAgMzYuNDE4MyAwIDMyVjhaIiBmaWxsPSIjMDA1MUQyIi8+CjwvZz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0zNSAyMEMzNSAyOC4yODQzIDI4LjI4NDMgMzUgMjAgMzVDMTEuNzE1NyAzNSA1IDI4LjI4NDMgNSAyMEM1IDExLjcxNTcgMTEuNzE1NyA1IDIwIDVWMTIuMDU4N0MyMCAxMi4wNTg3IDE5Ljk5OTkgMTIuMDU4NyAxOS45OTk5IDEyLjA1ODdDMTUuNjE0MSAxMi4wNTg3IDEyLjA1ODcgMTUuNjE0MSAxMi4wNTg3IDE5Ljk5OTlDMTIuMDU4NyAyNC4zODU3IDE1LjYxNDEgMjcuOTQxMSAxOS45OTk5IDI3Ljk0MTFDMjQuMzg1NiAyNy45NDExIDI3Ljk0MSAyNC4zODU3IDI3Ljk0MTEgMjBIMzVaIiBmaWxsPSJ3aGl0ZSIvPgo8cmVjdCB4PSIyMCIgeT0iMTIuMDU4NiIgd2lkdGg9IjcuOTQxMTgiIGhlaWdodD0iNy45NDExOCIgZmlsbD0iIzE0RTBBMSIvPgo8L3N2Zz4K",this._readyState=(0,utils.My)()?adapter.Ok.Loading:adapter.Ok.NotFound,this._state=adapter.nL.Loading,this.onGateAccountChange=res=>{setTimeout(()=>{const preAddr=this.address||"";if(0!==res.length){const address=res[0];this.setAddress(address),this.setState(adapter.nL.Connected)}else this.setAddress(null),this.setState(adapter.nL.Disconnect);(this.address||"")!==preAddr&&this.emit("accountsChanged",this.address||"",preAddr),!preAddr&&this.address?this.emit("connect",this.address):preAddr&&!this.address&&this.emit("disconnect")},200)},this._checkPromise=null,this._updateWallet=()=>{var _a,_b;let state=this.state,address=this.address;if(supportGateWallet()){this._wallet=isGateApp?window.gatewallet.tronLink:window.gatewallet.tron,this._listenEvent(),address=(null===(_b=null===(_a=this._wallet.tronWeb)||void 0===_a?void 0:_a.defaultAddress)||void 0===_b?void 0:_b.base58)||null;state=(isGateApp?this._wallet.ready:this._wallet.tronWeb.ready)?adapter.nL.Connected:adapter.nL.Disconnect}else this._wallet=null,address=null,state=adapter.nL.NotFound;this.setAddress(address),this.setState(state)};const{checkTimeout=2e3,openUrlWhenWalletNotFound=!0,openAppWithDeeplink=!0}=config;if("number"!=typeof checkTimeout)throw new Error("[GateWalletAdapter] config.checkTimeout should be a number");if(this.config={checkTimeout,openAppWithDeeplink,openUrlWhenWalletNotFound},this._connecting=!1,this._wallet=null,this._address=null,!(0,utils.My)())return this._readyState=adapter.Ok.NotFound,void this.setState(adapter.nL.NotFound);supportGateWallet()?(this._readyState=adapter.Ok.Found,this._updateWallet()):this._checkWallet().then(()=>{this.connected&&this.emit("connect",this.address||"")})}get address(){return this._address}get state(){return this._state}get readyState(){return this._readyState}get connecting(){return this._connecting}network(){return __awaiter(this,void 0,void 0,function*(){try{if(yield this._checkWallet(),this.state!==adapter.nL.Connected)throw new errors.PQ;const wallet=this._wallet;if(!wallet||!wallet.tronWeb)throw new errors.PQ;try{return yield(0,esm_adapter.NA)(wallet.tronWeb)}catch(e){throw new errors.W0(null==e?void 0:e.message,e)}}catch(e){throw this.emit("error",e),e}})}connect(){return __awaiter(this,void 0,void 0,function*(){var _a;try{if(this.checkIfOpenGateWallet(),this.connected||this.connecting)return;if(yield this._checkWallet(),this.state===adapter.nL.NotFound)throw!1!==this.config.openUrlWhenWalletNotFound&&(0,utils.My)()&&window.open(this.url,"_blank"),new errors.hv;if(!this._wallet)return;this._connecting=!0;const wallet=this._wallet;let res;try{const method=isGateApp?"tron_requestAccounts":"eth_requestAccounts";if(res=yield wallet.request({method}),!res)throw new errors.Y6("Request connect error.");if(4e3===res.code)throw new errors.Y6("The same DApp has already initiated a request to connect to GateWallet, and the pop-up window has not been closed.");if(4001===res.code)throw new errors.Y6("The user rejected connection.")}catch(error){throw new errors.Y6(null==error?void 0:error.message,error)}const address=(isGateApp?null===(_a=wallet.tronWeb.defaultAddress)||void 0===_a?void 0:_a.base58:res[0])||"";this.setAddress(address),this.setState(adapter.nL.Connected),this._listenEvent(),this.connected&&this.emit("connect",this.address||"")}catch(error){throw this.emit("error",error),error}finally{this._connecting=!1}})}disconnect(){return __awaiter(this,void 0,void 0,function*(){this._stopListenEvent(),this.state===adapter.nL.Connected&&(this.setAddress(null),this.setState(adapter.nL.Disconnect),this.emit("disconnect"))})}signTransaction(transaction,privateKey){return __awaiter(this,void 0,void 0,function*(){try{const wallet=yield this.checkAndGetWallet();try{return yield wallet.tronWeb.trx.sign(transaction,privateKey)}catch(error){throw error instanceof Error?new errors.z4(error.message,error):new errors.z4(error,new Error(error))}}catch(error){throw this.emit("error",error),error}})}multiSign(transaction,privateKey,permissionId){return __awaiter(this,void 0,void 0,function*(){try{const wallet=yield this.checkAndGetWallet();try{return yield wallet.tronWeb.trx.multiSign(transaction,privateKey,permissionId)}catch(error){throw error instanceof Error?new errors.z4(error.message,error):new errors.z4(error,new Error(error))}}catch(error){throw this.emit("error",error),error}})}signMessage(message,privateKey){return __awaiter(this,void 0,void 0,function*(){try{const wallet=yield this.checkAndGetWallet();try{return yield wallet.tronWeb.trx.signMessageV2(message,privateKey)}catch(error){throw error instanceof Error?new errors.K3(error.message,error):new errors.K3(error,new Error(error))}}catch(error){throw this.emit("error",error),error}})}checkAndGetWallet(){return __awaiter(this,void 0,void 0,function*(){if(this.checkIfOpenGateWallet(),yield this._checkWallet(),this.state!==adapter.nL.Connected)throw new errors.PQ;const wallet=this._wallet;if(!wallet||!wallet.tronWeb)throw new errors.PQ;return wallet})}_listenEvent(){this._stopListenEvent(),isGateApp||this._wallet.on("accountsChanged",this.onGateAccountChange)}_stopListenEvent(){isGateApp||this._wallet.off("accountsChanged",this.onGateAccountChange)}checkIfOpenGateWallet(){if(!1!==this.config.openAppWithDeeplink&&openGateWallet())throw new errors.hv}_checkWallet(){if(this.readyState===adapter.Ok.Found)return Promise.resolve(!0);if(this._checkPromise)return this._checkPromise;const maxTimes=Math.floor(this.config.checkTimeout/100);let timer,times=0;return this._checkPromise=new Promise(resolve=>{const check=()=>{times++;const isSupport=supportGateWallet();(isSupport||times>maxTimes)&&(timer&&clearInterval(timer),this._readyState=isSupport?adapter.Ok.Found:adapter.Ok.NotFound,this._updateWallet(),this.emit("readyStateChanged",this.readyState),resolve(isSupport))};timer=setInterval(check,100),check()}),this._checkPromise}setAddress(address){this._address=address}setState(state){state!==this.state&&(this._state=state,this.emit("stateChanged",state))}}},"./node_modules/@tronweb3/tronwallet-adapter-imtoken/lib/esm/adapter.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{$:()=>ImTokenAdapter});var adapter=__webpack_require__("./node_modules/@tronweb3/tronwallet-abstract-adapter/lib/esm/adapter.js"),utils=__webpack_require__("./node_modules/@tronweb3/tronwallet-abstract-adapter/lib/esm/utils.js"),errors=__webpack_require__("./node_modules/@tronweb3/tronwallet-abstract-adapter/lib/esm/errors.js"),esm_adapter=__webpack_require__("./node_modules/@tronweb3/tronwallet-adapter-tronlink/lib/esm/adapter.js");function supportImToken(){return!!window.imToken&&!!window.tronWeb}var __awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})};class ImTokenAdapter extends adapter.Y3{constructor(config={}){super(),this.name="imToken Wallet",this.url="https://token.im/",this.icon="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTEzIiBoZWlnaHQ9IjUxMiIgdmlld0JveD0iMCAwIDUxMyA1MTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxnIGNsaXAtcGF0aD0idXJsKCNjbGlwMF84OTNfMjU5OSkiPgo8bWFzayBpZD0ibWFzazBfODkzXzI1OTkiIHN0eWxlPSJtYXNrLXR5cGU6bHVtaW5hbmNlIiBtYXNrVW5pdHM9InVzZXJTcGFjZU9uVXNlIiB4PSIwIiB5PSIwIiB3aWR0aD0iNTEzIiBoZWlnaHQ9IjUxMiI+CjxwYXRoIGQ9Ik01MTIuMzE5IDBIMC4zMTkzMzZWNTEySDUxMi4zMTlWMFoiIGZpbGw9IndoaXRlIi8+CjwvbWFzaz4KPGcgbWFzaz0idXJsKCNtYXNrMF84OTNfMjU5OSkiPgo8cGF0aCBkPSJNMzk3Ljc0NiAwSDExNS43NDZDNTIuMjMzMyAwIDAuNzQ2MDk0IDUxLjQ4NzMgMC43NDYwOTQgMTE1VjM5N0MwLjc0NjA5NCA0NjAuNTEzIDUyLjIzMzMgNTEyIDExNS43NDYgNTEySDM5Ny43NDZDNDYxLjI1OSA1MTIgNTEyLjc0NiA0NjAuNTEzIDUxMi43NDYgMzk3VjExNUM1MTIuNzQ2IDUxLjQ4NzMgNDYxLjI1OSAwIDM5Ny43NDYgMFoiIGZpbGw9InVybCgjcGFpbnQwX2xpbmVhcl84OTNfMjU5OSkiLz4KPHBhdGggZD0iTTQxNy40MzYgMTU4LjI5MUM0MjguMDg0IDMwMi41MDcgMzM1LjM4MiAzNzAuNjcgMjUyLjI3NyAzNzcuOTM5QzE3NS4wMTQgMzg0LjY5NiAxMDIuMjg3IDMzNy4yMjEgOTUuOTA2NyAyNjQuMjc5QzkwLjY0MzYgMjA0LjAxNyAxMjcuODg5IDE3OC4zNjEgMTU3LjE1MiAxNzUuODA0QzE4Ny4yNDkgMTczLjE2NSAyMTIuNTQyIDE5My45MjEgMjE0LjczNiAyMTkuMDUyQzIxNi44NDkgMjQzLjIxMyAyMDEuNzczIDI1NC4yMTEgMTkxLjI4OCAyNTUuMTI2QzE4Mi45OTYgMjU1Ljg1MyAxNzIuNTY0IDI1MC44MTkgMTcxLjYyMiAyNDAuMDFDMTcwLjgxNCAyMzAuNzIyIDE3NC4zNDEgMjI5LjQ1NyAxNzMuNDc5IDIxOS41OUMxNzEuOTQ1IDIwMi4wMjQgMTU2LjYyNyAxOTkuOTc4IDE0OC4yNDEgMjAwLjcwNUMxMzguMDkyIDIwMS41OTQgMTE5LjY3OCAyMTMuNDM5IDEyMi4yNjIgMjQyLjk0NEMxMjQuODYgMjcyLjcwNSAxNTMuMzk2IDI5Ni4yMjEgMTkwLjgwMyAyOTIuOTVDMjMxLjE3MSAyODkuNDIzIDI1OS4yNzYgMjU3Ljk5MyAyNjEuMzkgMjEzLjkxQzI2MS4zNyAyMTEuNTc1IDI2MS44NjIgMjA5LjI2NCAyNjIuODMgMjA3LjEzOUwyNjIuODQzIDIwNy4wODZDMjYzLjI3OCAyMDYuMTYyIDI2My43ODcgMjA1LjI3NSAyNjQuMzY0IDIwNC40MzRDMjY1LjIyNiAyMDMuMTQyIDI2Ni4zMyAyMDEuNzE1IDI2Ny43NTYgMjAwLjE1M0MyNjcuNzcgMjAwLjExMyAyNjcuNzcgMjAwLjExMyAyNjcuNzk3IDIwMC4xMTNDMjY4LjgzMyAxOTguOTQyIDI3MC4wODUgMTk3LjY3NyAyNzEuNDk4IDE5Ni4zMTdDMjg5LjEzMiAxNzkuNjggMzUyLjYzOCAxNDAuNDQzIDQxMi42OTggMTUyLjg2N0M0MTMuOTY4IDE1My4xMzkgNDE1LjExNSAxNTMuODE0IDQxNS45NjkgMTU0Ljc5MkM0MTYuODIzIDE1NS43NyA0MTcuMzM3IDE1Ni45OTcgNDE3LjQzNiAxNTguMjkxWiIgZmlsbD0id2hpdGUiLz4KPC9nPgo8L2c+CjxkZWZzPgo8bGluZWFyR3JhZGllbnQgaWQ9InBhaW50MF9saW5lYXJfODkzXzI1OTkiIHgxPSI1MTIuNDQiIHkxPSI4Ni41MTkiIHgyPSIxOC4wMjE5IiB5Mj0iMjc5LjUwMiIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPgo8c3RvcCBzdG9wLWNvbG9yPSIjMENDNUZGIi8+CjxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iIzAwN0ZGRiIvPgo8L2xpbmVhckdyYWRpZW50Pgo8Y2xpcFBhdGggaWQ9ImNsaXAwXzg5M18yNTk5Ij4KPHJlY3Qgd2lkdGg9IjUxMyIgaGVpZ2h0PSI1MTIiIGZpbGw9IndoaXRlIi8+CjwvY2xpcFBhdGg+CjwvZGVmcz4KPC9zdmc+Cg==",this._readyState=adapter.Ok.Loading,this._state=adapter.nL.Loading,this.checkReadyInterval=null,this._checkPromise=null,this._updateWallet=()=>__awaiter(this,void 0,void 0,function*(){var _a,_b;let state=this.state,address=this.address;supportImToken()?(this._wallet={ready:(null===(_a=window.tronWeb)||void 0===_a?void 0:_a.ready)||!1,tronWeb:window.tronWeb,request:()=>Promise.resolve(null)},address=(null===(_b=this._wallet.tronWeb.defaultAddress)||void 0===_b?void 0:_b.base58)||null,state=this._wallet.ready?adapter.nL.Connected:adapter.nL.Disconnect,this._wallet.ready||this.checkForWalletReady()):(this._wallet=null,address=null,state=adapter.nL.NotFound),this.setAddress(address),this.setState(state)});const{checkTimeout=2e3,openUrlWhenWalletNotFound=!0,openAppWithDeeplink=!0}=config;if("number"!=typeof checkTimeout)throw new Error("[ImTokenAdapter] config.checkTimeout should be a number");if(this.config={checkTimeout,openUrlWhenWalletNotFound,openAppWithDeeplink},this._connecting=!1,this._wallet=null,this._address=null,!(0,utils.My)())return this._readyState=adapter.Ok.NotFound,void this.setState(adapter.nL.NotFound);supportImToken()?(this._readyState=adapter.Ok.Found,this._updateWallet()):this._checkWallet().then(()=>{this.connected&&this.emit("connect",this.address||"")})}get address(){return this._address}get state(){return this._state}get readyState(){return this._readyState}get connecting(){return this._connecting}network(){return __awaiter(this,void 0,void 0,function*(){try{if(yield this._checkWallet(),this.state!==adapter.nL.Connected)throw new errors.PQ;const wallet=this._wallet;if(!wallet||!wallet.tronWeb)throw new errors.PQ;try{return yield(0,esm_adapter.NA)(wallet.tronWeb)}catch(e){throw new errors.W0(null==e?void 0:e.message,e)}}catch(e){throw this.emit("error",e),e}})}connect(){return __awaiter(this,void 0,void 0,function*(){var _a;try{if(this.checkIfOpenApp(),this.connected||this.connecting)return;if(yield this._checkWallet(),this.readyState===adapter.Ok.NotFound)throw!1!==this.config.openUrlWhenWalletNotFound&&(0,utils.My)()&&window.open(this.url,"_blank"),new errors.hv;const address=(null===(_a=this._wallet.tronWeb.defaultAddress)||void 0===_a?void 0:_a.base58)||"";this.setAddress(address),this.setState(adapter.nL.Connected),this.emit("connect",this.address||"")}catch(error){throw this.emit("error",error),error}finally{this._connecting=!1}})}disconnect(){return __awaiter(this,void 0,void 0,function*(){this.state===adapter.nL.Connected&&(this.setAddress(null),this.setState(adapter.nL.Disconnect),this.emit("disconnect"))})}signTransaction(transaction,privateKey){return __awaiter(this,void 0,void 0,function*(){try{const wallet=yield this.checkAndGetWallet();try{return yield wallet.tronWeb.trx.sign(transaction,privateKey)}catch(error){throw error instanceof Error?new errors.z4(error.message,error):new errors.z4(error,new Error(error))}}catch(error){throw this.emit("error",error),error}})}multiSign(transaction,privateKey,permissionId){return __awaiter(this,void 0,void 0,function*(){try{const wallet=yield this.checkAndGetWallet();try{return yield wallet.tronWeb.trx.multiSign(transaction,privateKey,permissionId)}catch(error){throw error instanceof Error?new errors.z4(error.message,error):new errors.z4(error,new Error(error))}}catch(error){throw this.emit("error",error),error}})}signMessage(message,privateKey){return __awaiter(this,void 0,void 0,function*(){try{const wallet=yield this.checkAndGetWallet();try{return yield wallet.tronWeb.trx.signMessageV2(message,privateKey)}catch(error){throw error instanceof Error?new errors.K3(error.message,error):new errors.K3(error,new Error(error))}}catch(error){throw this.emit("error",error),error}})}checkAndGetWallet(){return __awaiter(this,void 0,void 0,function*(){if(this.checkIfOpenApp(),yield this._checkWallet(),!this.connected)throw new errors.PQ;const wallet=this._wallet;if(!wallet||!wallet.tronWeb)throw new errors.PQ;return wallet})}checkForWalletReady(){if(this.checkReadyInterval)return;let times=0;const maxTimes=Math.floor(this.config.checkTimeout/200);this.checkReadyInterval=setInterval(()=>__awaiter(this,void 0,void 0,function*(){this._wallet&&this._wallet.ready?(this.checkReadyInterval&&clearInterval(this.checkReadyInterval),this.checkReadyInterval=null,yield this._updateWallet(),this.emit("connect",this.address||"")):times>maxTimes?(this.checkReadyInterval&&clearInterval(this.checkReadyInterval),this.checkReadyInterval=null):times++}),200)}_checkWallet(){if(this.readyState===adapter.Ok.Found)return Promise.resolve(!0);if(this._checkPromise)return this._checkPromise;const maxTimes=Math.floor(this.config.checkTimeout/100);let timer,times=0;return this._checkPromise=new Promise(resolve=>{const check=()=>{times++;const isSupport=supportImToken();(isSupport||times>maxTimes)&&(timer&&clearInterval(timer),this._readyState=isSupport?adapter.Ok.Found:adapter.Ok.NotFound,this._updateWallet(),this.emit("readyStateChanged",this.readyState),resolve(isSupport))};timer=setInterval(check,100),check()}),this._checkPromise}checkIfOpenApp(){if(!1!==this.config.openAppWithDeeplink&&function openImTokenApp(){if((0,utils.yO)()&&!supportImToken()){const{origin,pathname,search,hash}=window.location,url=origin+pathname+search+hash;return location.href=`imtokenv2://navigate/DappView?url=${encodeURIComponent(url)}`,!0}return!1}())throw new errors.hv}setAddress(address){this._address=address}setState(state){state!==this.state&&(this._state=state,this.emit("stateChanged",state))}}},"./node_modules/@tronweb3/tronwallet-adapter-ledger/lib/esm/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{jy:()=>LedgerAdapter});var buffer=__webpack_require__("./node_modules/buffer/index.js");"undefined"!=typeof window&&void 0===window.Buffer&&(window.Buffer=buffer.Buffer);var adapter=__webpack_require__("./node_modules/@tronweb3/tronwallet-abstract-adapter/lib/esm/adapter.js"),utils=__webpack_require__("./node_modules/@tronweb3/tronwallet-abstract-adapter/lib/esm/utils.js"),errors=__webpack_require__("./node_modules/@tronweb3/tronwallet-abstract-adapter/lib/esm/errors.js"),Buffer=__webpack_require__("./node_modules/buffer/index.js").Buffer;function splitPath(path){const result=[];return path.split("/").forEach(element=>{let number=parseInt(element,10);isNaN(number)||(element.length>1&&"'"===element[element.length-1]&&(number+=2147483648),result.push(number))}),result}function foreach(arr,callback){function iterate(index,array,result){return index>=array.length?result:callback(array[index],index).then(function(res){return result.push(res),iterate(index+1,array,result)})}return Promise.resolve().then(()=>iterate(0,arr,[]))}function decodeVarint(stream,index){let result=0,shift=0,pos=index;for(;shift<64;){const b=stream[pos];if(result|=(127&b)<<shift,pos+=1,!(128&b))return result&=4294967295,{value:result,pos};shift+=7}throw new Error("Too many bytes when decoding varint.")}function hexBuffer(str){const strWithoutPrefix=str.startsWith("0x")?str.slice(2):str;return Buffer.from((str=>str.length%2?"0"+str:str)(strWithoutPrefix),"hex")}var TIP712_Buffer=__webpack_require__("./node_modules/buffer/index.js").Buffer;var Trx_Buffer=__webpack_require__("./node_modules/buffer/index.js").Buffer;class Trx{transport;constructor(transport,scrambleKey="TRX"){this.transport=transport,transport.decorateAppAPIMethods(this,["getAddress","getECDHPairKey","signTransaction","signTransactionHash","signPersonalMessage","signTIP712HashedMessage","getAppConfiguration"],scrambleKey)}getAddress(path,boolDisplay){const paths=splitPath(path),buffer=Trx_Buffer.alloc(1+4*paths.length);return buffer[0]=paths.length,paths.forEach((element,index)=>{buffer.writeUInt32BE(element,1+4*index)}),this.transport.send(224,2,boolDisplay?1:0,0,buffer).then(response=>{const publicKeyLength=response[0],addressLength=response[1+publicKeyLength];return{publicKey:response.slice(1,1+publicKeyLength).toString("hex"),address:response.slice(1+publicKeyLength+1,1+publicKeyLength+1+addressLength).toString("ascii")}})}getNextLength(tx){const field=decodeVarint(tx,0),data=decodeVarint(tx,field.pos);return 7&field.value?data.value+data.pos:data.pos}signTransaction(path,rawTxHex,tokenSignatures){const paths=splitPath(path);let rawTx=Trx_Buffer.from(rawTxHex,"hex");const toSend=[];let data=Trx_Buffer.alloc(1+4*paths.length);for(data[0]=paths.length,paths.forEach((element,index)=>{data.writeUInt32BE(element,1+4*index)});rawTx.length>0;){const newpos=this.getNextLength(rawTx);if(newpos>250)throw new Error("Too many bytes to encode.");data.length+newpos>250?(toSend.push(data),data=Trx_Buffer.alloc(0)):(data=Trx_Buffer.concat([data,rawTx.slice(0,newpos)]),rawTx=rawTx.slice(newpos,rawTx.length))}toSend.push(data);const startBytes=[];let response;const tokenPos=toSend.length;if(void 0!==tokenSignatures)for(let i=0;i<tokenSignatures.length;i+=1){const buffer=Trx_Buffer.from(tokenSignatures[i],"hex");toSend.push(buffer)}if(1===toSend.length)startBytes.push(16);else{startBytes.push(0);for(let i=1;i<toSend.length-1;i+=1)i>=tokenPos?startBytes.push(160|i-tokenPos):startBytes.push(128);void 0!==tokenSignatures&&tokenSignatures.length?startBytes.push(168|tokenSignatures.length-1):startBytes.push(144)}return foreach(toSend,(data,i)=>this.transport.send(224,4,startBytes[i],0,data).then(apduResponse=>{response=apduResponse})).then(()=>response.slice(0,65).toString("hex"),e=>{throw(e=>(e&&e.statusCode,e))(e)})}signTransactionHash(path,rawTxHashHex){const paths=splitPath(path);let data=Trx_Buffer.alloc(1+4*paths.length);return data[0]=paths.length,paths.forEach((element,index)=>{data.writeUInt32BE(element,1+4*index)}),data=Trx_Buffer.concat([data,Trx_Buffer.from(rawTxHashHex,"hex")]),this.transport.send(224,5,0,0,data).then(response=>response.slice(0,65).toString("hex"))}getAppConfiguration(){return this.transport.send(224,6,0,0).then(response=>{const signByHash=(8&response[0])>0;let truncateAddress=(4&response[0])>0,allowContract=(2&response[0])>0,allowData=(1&response[0])>0;0===response[1]&&1===response[2]&&response[3]<2&&(allowData=!0,allowContract=!1),0===response[1]&&1===response[2]&&response[3]<5&&(truncateAddress=!1);return{version:`${response[1]}.${response[2]}.${response[3]}`,versionN:1e4*response[1]+100*response[2]+response[3],allowData,allowContract,truncateAddress,signByHash}})}signPersonalMessage(path,messageHex){const paths=splitPath(path),message=Trx_Buffer.from(messageHex,"hex");let offset=0;const toSend=[],size=message.length.toString(16),sizePack="00000000".substr(size.length)+size,packed=Trx_Buffer.concat([Trx_Buffer.from(sizePack,"hex"),message]);for(;offset<packed.length;){const maxChunkSize=0===offset?249-4*paths.length:250,chunkSize=offset+maxChunkSize>packed.length?packed.length-offset:maxChunkSize,buffer=Trx_Buffer.alloc(0===offset?1+4*paths.length+chunkSize:chunkSize);0===offset?(buffer[0]=paths.length,paths.forEach((element,index)=>{buffer.writeUInt32BE(element,1+4*index)}),packed.copy(buffer,1+4*paths.length,offset,offset+chunkSize)):packed.copy(buffer,0,offset,offset+chunkSize),toSend.push(buffer),offset+=chunkSize}let response;return foreach(toSend,(data,i)=>this.transport.send(224,8,0===i?0:128,0,data).then(apduResponse=>{response=apduResponse})).then(()=>response.slice(0,65).toString("hex"))}signTIP712HashedMessage(path,domainSeparatorHex,hashStructMessageHex){return((transport,path,domainSeparatorHex,hashStructMessageHex)=>{const domainSeparator=hexBuffer(domainSeparatorHex),hashStruct=hexBuffer(hashStructMessageHex),paths=splitPath(path),buffer=TIP712_Buffer.alloc(1+4*paths.length+32+32,0);let offset=0;return buffer[0]=paths.length,paths.forEach((element,index)=>{buffer.writeUint32BE(element,1+4*index)}),offset=1+4*paths.length,domainSeparator.copy(buffer,offset),offset+=32,hashStruct.copy(buffer,offset),transport.send(224,12,0,0,buffer).then(response=>response.slice(0,65).toString("hex"))})(this.transport,path,domainSeparatorHex,hashStructMessageHex)}getECDHPairKey(path,publicKey){const paths=splitPath(path),data=Trx_Buffer.from(publicKey,"hex"),buffer=Trx_Buffer.alloc(1+4*paths.length+data.length);return buffer[0]=paths.length,paths.forEach((element,index)=>{buffer.writeUInt32BE(element,1+4*index)}),data.copy(buffer,1+4*paths.length,0,data.length),this.transport.send(224,10,0,1,buffer).then(response=>response.slice(0,65).toString("hex"))}}var events=__webpack_require__("./node_modules/events/events.js"),events_default=__webpack_require__.n(events);__webpack_require__("./node_modules/console-browserify/index.js");const errorClasses={},deserializers={},addCustomErrorDeserializer=(name,deserializer)=>{deserializers[name]=deserializer},createCustomErrorClass=name=>{class CustomErrorClass extends Error{cause;constructor(message,fields,options){if(super(message||name,options),Object.setPrototypeOf(this,CustomErrorClass.prototype),this.name=name,fields)for(const k in fields)this[k]=fields[k];if(options&&function isObject(value){return"object"==typeof value}(options)&&"cause"in options&&!this.cause){const cause=options.cause;this.cause=cause,"stack"in cause&&(this.stack=this.stack+"\nCAUSE: "+cause.stack)}}}return errorClasses[name]=CustomErrorClass,CustomErrorClass};createCustomErrorClass("AccountNameRequired"),createCustomErrorClass("AccountNotSupported"),createCustomErrorClass("AccountAwaitingSendPendingOperations"),createCustomErrorClass("AmountRequired"),createCustomErrorClass("BluetoothRequired"),createCustomErrorClass("BtcUnmatchedApp"),createCustomErrorClass("CantOpenDevice"),createCustomErrorClass("CashAddrNotSupported"),createCustomErrorClass("ClaimRewardsFeesWarning"),createCustomErrorClass("CurrencyNotSupported"),createCustomErrorClass("DeviceAppVerifyNotSupported"),createCustomErrorClass("DeviceGenuineSocketEarlyClose"),createCustomErrorClass("DeviceNotGenuine"),createCustomErrorClass("DeviceOnDashboardExpected"),createCustomErrorClass("DeviceOnDashboardUnexpected"),createCustomErrorClass("DeviceInOSUExpected"),createCustomErrorClass("DeviceHalted"),createCustomErrorClass("DeviceNameInvalid"),createCustomErrorClass("DeviceSocketFail"),createCustomErrorClass("DeviceSocketNoBulkStatus"),createCustomErrorClass("DeviceSocketNoBulkStatus"),createCustomErrorClass("UnresponsiveDeviceError"),createCustomErrorClass("DisconnectedDevice"),createCustomErrorClass("DisconnectedDeviceDuringOperation"),createCustomErrorClass("DeviceExtractOnboardingStateError"),createCustomErrorClass("DeviceOnboardingStatePollingError"),createCustomErrorClass("EnpointConfig"),createCustomErrorClass("EthAppPleaseEnableContractData"),createCustomErrorClass("CeloAppPleaseEnableContractData"),createCustomErrorClass("FeeEstimationFailed"),createCustomErrorClass("FirmwareNotRecognized"),createCustomErrorClass("HardResetFail"),createCustomErrorClass("InvalidXRPTag"),createCustomErrorClass("InvalidAddress"),createCustomErrorClass("InvalidNonce"),createCustomErrorClass("InvalidAddressBecauseDestinationIsAlsoSource"),createCustomErrorClass("LatestMCUInstalledError"),createCustomErrorClass("LatestFirmwareVersionRequired"),createCustomErrorClass("UnknownMCU"),createCustomErrorClass("LedgerAPIError"),createCustomErrorClass("LedgerAPIErrorWithMessage"),createCustomErrorClass("LedgerAPINotAvailable"),createCustomErrorClass("ManagerAppAlreadyInstalled"),createCustomErrorClass("ManagerAppRelyOnBTC"),createCustomErrorClass("ManagerAppDepInstallRequired"),createCustomErrorClass("ManagerAppDepUninstallRequired"),createCustomErrorClass("ManagerDeviceLocked"),createCustomErrorClass("ManagerFirmwareNotEnoughSpace"),createCustomErrorClass("ManagerNotEnoughSpace"),createCustomErrorClass("ManagerUninstallBTCDep"),createCustomErrorClass("NetworkDown"),createCustomErrorClass("NetworkError"),createCustomErrorClass("NoAddressesFound"),createCustomErrorClass("NotEnoughBalance"),createCustomErrorClass("NotEnoughBalanceFees"),createCustomErrorClass("NotEnoughBalanceSwap"),createCustomErrorClass("NotEnoughBalanceToDelegate"),createCustomErrorClass("UnstakeNotEnoughStakedBalanceLeft"),createCustomErrorClass("RestakeNotEnoughStakedBalanceLeft"),createCustomErrorClass("NotEnoughToRestake"),createCustomErrorClass("NotEnoughToUnstake"),createCustomErrorClass("NotEnoughBalanceInParentAccount"),createCustomErrorClass("NotEnoughSpendableBalance"),createCustomErrorClass("NotEnoughBalanceBecauseDestinationNotCreated"),createCustomErrorClass("NotEnoughToStake"),createCustomErrorClass("NoAccessToCamera"),createCustomErrorClass("NotEnoughGas"),createCustomErrorClass("NotEnoughGasSwap"),createCustomErrorClass("TronEmptyAccount"),createCustomErrorClass("MaybeKeepTronAccountAlive"),createCustomErrorClass("NotSupportedLegacyAddress"),createCustomErrorClass("GasLessThanEstimate"),createCustomErrorClass("PriorityFeeTooLow"),createCustomErrorClass("PriorityFeeTooHigh"),createCustomErrorClass("PriorityFeeHigherThanMaxFee"),createCustomErrorClass("MaxFeeTooLow"),createCustomErrorClass("PasswordsDontMatch"),createCustomErrorClass("PasswordIncorrect"),createCustomErrorClass("RecommendSubAccountsToEmpty"),createCustomErrorClass("RecommendUndelegation"),createCustomErrorClass("TimeoutTagged"),createCustomErrorClass("UnexpectedBootloader"),createCustomErrorClass("MCUNotGenuineToDashboard"),createCustomErrorClass("RecipientRequired"),createCustomErrorClass("UnavailableTezosOriginatedAccountReceive"),createCustomErrorClass("UnavailableTezosOriginatedAccountSend"),createCustomErrorClass("UpdateFetchFileFail"),createCustomErrorClass("UpdateIncorrectHash"),createCustomErrorClass("UpdateIncorrectSig"),createCustomErrorClass("UpdateYourApp"),createCustomErrorClass("UserRefusedDeviceNameChange"),createCustomErrorClass("UserRefusedAddress"),createCustomErrorClass("UserRefusedFirmwareUpdate"),createCustomErrorClass("UserRefusedAllowManager"),createCustomErrorClass("UserRefusedOnDevice"),createCustomErrorClass("PinNotSet"),createCustomErrorClass("ExpertModeRequired"),createCustomErrorClass("TransportOpenUserCancelled"),createCustomErrorClass("TransportInterfaceNotAvailable");const TransportRaceCondition=createCustomErrorClass("TransportRaceCondition");createCustomErrorClass("TransportWebUSBGestureRequired"),createCustomErrorClass("TransactionHasBeenValidatedError"),createCustomErrorClass("TransportExchangeTimeoutError"),createCustomErrorClass("DeviceShouldStayInApp"),createCustomErrorClass("WebsocketConnectionError"),createCustomErrorClass("WebsocketConnectionFailed"),createCustomErrorClass("WrongDeviceForAccount"),createCustomErrorClass("WrongDeviceForAccountPayout"),createCustomErrorClass("MissingSwapPayloadParamaters"),createCustomErrorClass("WrongDeviceForAccountRefund"),createCustomErrorClass("WrongAppForCurrency"),createCustomErrorClass("ETHAddressNonEIP"),createCustomErrorClass("CantScanQRCode"),createCustomErrorClass("FeeNotLoaded"),createCustomErrorClass("FeeNotLoadedSwap"),createCustomErrorClass("FeeRequired"),createCustomErrorClass("FeeTooHigh"),createCustomErrorClass("PendingOperation"),createCustomErrorClass("SyncError"),createCustomErrorClass("PairingFailed"),createCustomErrorClass("PeerRemovedPairing"),createCustomErrorClass("GenuineCheckFailed"),createCustomErrorClass("LedgerAPI4xx"),createCustomErrorClass("LedgerAPI5xx"),createCustomErrorClass("FirmwareOrAppUpdateRequired"),createCustomErrorClass("ReplacementTransactionUnderpriced"),createCustomErrorClass("OpReturnSizeLimit"),createCustomErrorClass("DustLimit"),createCustomErrorClass("HederaInsufficientFundsForAssociation"),createCustomErrorClass("HederaRecipientTokenAssociationRequired"),createCustomErrorClass("HederaRecipientTokenAssociationUnverified"),createCustomErrorClass("LanguageNotFound"),createCustomErrorClass("NoDBPathGiven"),createCustomErrorClass("DBWrongPassword"),createCustomErrorClass("DBNotReset"),createCustomErrorClass("SequenceNumberError"),createCustomErrorClass("DisabledTransactionBroadcastError");var HwTransportErrorType;!function(HwTransportErrorType){HwTransportErrorType.Unknown="Unknown",HwTransportErrorType.LocationServicesDisabled="LocationServicesDisabled",HwTransportErrorType.LocationServicesUnauthorized="LocationServicesUnauthorized",HwTransportErrorType.BluetoothScanStartFailed="BluetoothScanStartFailed"}(HwTransportErrorType||(HwTransportErrorType={}));Error;class TransportError extends Error{id;constructor(message,id){const name="TransportError";super(message||name),this.name=name,this.message=message,this.stack=new Error(message).stack,this.id=id}}addCustomErrorDeserializer("TransportError",e=>new TransportError(e.message,e.id));const StatusCodes={ACCESS_CONDITION_NOT_FULFILLED:38916,ALGORITHM_NOT_SUPPORTED:38020,CLA_NOT_SUPPORTED:28160,CODE_BLOCKED:38976,CODE_NOT_INITIALIZED:38914,COMMAND_INCOMPATIBLE_FILE_STRUCTURE:27009,CONDITIONS_OF_USE_NOT_SATISFIED:27013,CONTRADICTION_INVALIDATION:38928,CONTRADICTION_SECRET_CODE_STATUS:38920,DEVICE_IN_RECOVERY_MODE:26159,CUSTOM_IMAGE_EMPTY:26158,FILE_ALREADY_EXISTS:27273,FILE_NOT_FOUND:37892,GP_AUTH_FAILED:25344,HALTED:28586,INCONSISTENT_FILE:37896,INCORRECT_DATA:27264,INCORRECT_LENGTH:26368,INCORRECT_P1_P2:27392,INS_NOT_SUPPORTED:27904,DEVICE_NOT_ONBOARDED:27911,DEVICE_NOT_ONBOARDED_2:26129,INVALID_KCV:38021,INVALID_OFFSET:37890,LICENSING:28482,LOCKED_DEVICE:21781,MAX_VALUE_REACHED:38992,MEMORY_PROBLEM:37440,MISSING_CRITICAL_PARAMETER:26624,NO_EF_SELECTED:37888,NOT_ENOUGH_MEMORY_SPACE:27268,OK:36864,PIN_REMAINING_ATTEMPTS:25536,REFERENCED_DATA_NOT_FOUND:27272,SECURITY_STATUS_NOT_SATISFIED:27010,TECHNICAL_PROBLEM:28416,UNKNOWN_APDU:27906,USER_REFUSED_ON_DEVICE:21761,NOT_ENOUGH_SPACE:20738,APP_NOT_FOUND_OR_INVALID_CONTEXT:20771,INVALID_APP_NAME_LENGTH:26378,GEN_AES_KEY_FAILED:21529,INTERNAL_CRYPTO_OPERATION_FAILED:21530,INTERNAL_COMPUTE_AES_CMAC_FAILED:21531,ENCRYPT_APP_STORAGE_FAILED:21532,INVALID_BACKUP_STATE:26178,PIN_NOT_SET:21762,INVALID_BACKUP_LENGTH:26419,INVALID_RESTORE_STATE:26179,INVALID_CHUNK_LENGTH:26420,INVALID_BACKUP_HEADER:26698,TRUSTCHAIN_WRONG_SEED:45063};class TransportStatusError extends Error{statusCode;statusText;constructor(statusCode,{canBeMappedToChildError=!0}={}){const statusText=Object.keys(StatusCodes).find(k=>StatusCodes[k]===statusCode)||"UNKNOWN_ERROR",message=`Ledger device: ${function getAltStatusMessage(code){switch(code){case 26368:return"Incorrect length";case 26624:return"Missing critical parameter";case 27010:return"Security not satisfied (dongle locked or have invalid access rights)";case 27013:return"Condition of use not satisfied (denied by the user?)";case 27264:return"Invalid data received";case 27392:return"Invalid parameter received";case 21781:return"Locked device"}if(28416<=code&&code<=28671)return"Internal error, please report"}(statusCode)||statusText} (0x${statusCode.toString(16)})`;if(super(message),this.name="TransportStatusError",this.statusCode=statusCode,this.statusText=statusText,Object.setPrototypeOf(this,TransportStatusError.prototype),canBeMappedToChildError&&statusCode===StatusCodes.LOCKED_DEVICE)return new LockedDeviceError(message)}}class LockedDeviceError extends TransportStatusError{constructor(message){super(StatusCodes.LOCKED_DEVICE,{canBeMappedToChildError:!1}),message&&(this.message=message),this.name="LockedDeviceError",Object.setPrototypeOf(this,LockedDeviceError.prototype)}}Error;addCustomErrorDeserializer("TransportStatusError",e=>new TransportStatusError(e.statusCode));var lib_es_console=__webpack_require__("./node_modules/console-browserify/index.js");let id=0;const subscribers=[],log=(type,message,data)=>{const obj={type,id:String(++id),date:new Date};message&&(obj.message=message),data&&(obj.data=data),dispatch(obj)};class LocalTracer{type;context;constructor(type,context){this.type=type,this.context=context}trace(message,data){(({type,message,data,context})=>{const obj={type,id:String(++id),date:new Date};message&&(obj.message=message),data&&(obj.data=data),context&&(obj.context=context),dispatch(obj)})({type:this.type,message,data,context:this.context})}getContext(){return this.context}setContext(context){this.context=context}updateContext(contextToAdd){this.context={...this.context,...contextToAdd}}getType(){return this.type}setType(type){this.type=type}withType(type){return new LocalTracer(type,this.context)}withContext(context){return new LocalTracer(this.type,context)}withUpdatedContext(contextToAdd){return new LocalTracer(this.type,{...this.context,...contextToAdd})}}const listen=cb=>(subscribers.push(cb),()=>{const i=subscribers.indexOf(cb);-1!==i&&(subscribers[i]=subscribers[subscribers.length-1],subscribers.pop())});function dispatch(log){for(let i=0;i<subscribers.length;i++)try{subscribers[i](log)}catch(e){lib_es_console.error(e)}}"undefined"!=typeof window&&(window.__ledgerLogsListen=listen);var Transport_console=__webpack_require__("./node_modules/console-browserify/index.js"),Transport_Buffer=__webpack_require__("./node_modules/buffer/index.js").Buffer;var _a,DeviceModelId,hid_framing=__webpack_require__("./node_modules/@ledgerhq/hw-transport-webhid/node_modules/@ledgerhq/devices/lib/hid-framing.js"),semver=__webpack_require__("./node_modules/semver/index.js"),semver_default=__webpack_require__.n(semver),__assign=function(){return __assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},__assign.apply(this,arguments)};!function(DeviceModelId){DeviceModelId.blue="blue",DeviceModelId.nanoS="nanoS",DeviceModelId.nanoSP="nanoSP",DeviceModelId.nanoX="nanoX",DeviceModelId.nanoFTS="nanoFTS"}(DeviceModelId||(DeviceModelId={}));var devices=((_a={})[DeviceModelId.blue]={id:DeviceModelId.blue,productName:"Ledger Blue",productIdMM:0,legacyUsbProductId:0,usbOnly:!0,memorySize:491520,masks:[822083584,822149120],getBlockSize:function(_firwareVersion){return 4096}},_a[DeviceModelId.nanoS]={id:DeviceModelId.nanoS,productName:"Ledger Nano S",productIdMM:16,legacyUsbProductId:1,usbOnly:!0,memorySize:327680,masks:[823132160],getBlockSize:function(firmwareVersion){var _a;return semver_default().lt(null!==(_a=semver_default().coerce(firmwareVersion))&&void 0!==_a?_a:"","2.0.0")?4096:2048}},_a[DeviceModelId.nanoSP]={id:DeviceModelId.nanoSP,productName:"Ledger Nano S Plus",productIdMM:80,legacyUsbProductId:5,usbOnly:!0,memorySize:1572864,masks:[856686592],getBlockSize:function(_firmwareVersion){return 32}},_a[DeviceModelId.nanoX]={id:DeviceModelId.nanoX,productName:"Ledger Nano X",productIdMM:64,legacyUsbProductId:4,usbOnly:!1,memorySize:2097152,masks:[855638016],getBlockSize:function(_firwareVersion){return 4096},bluetoothSpec:[{serviceUuid:"13d63400-2c97-0004-0000-4c6564676572",notifyUuid:"13d63400-2c97-0004-0001-4c6564676572",writeUuid:"13d63400-2c97-0004-0002-4c6564676572",writeCmdUuid:"13d63400-2c97-0004-0003-4c6564676572"}]},_a[DeviceModelId.nanoFTS]={id:DeviceModelId.nanoFTS,productName:"Ledger Nano FTS",productIdMM:96,legacyUsbProductId:6,usbOnly:!1,memorySize:2097152,masks:[857735168],getBlockSize:function(_firwareVersion){return 4096},bluetoothSpec:[{serviceUuid:"13d63400-2c97-6004-0000-4c6564676572",notifyUuid:"13d63400-2c97-6004-0001-4c6564676572",writeUuid:"13d63400-2c97-6004-0002-4c6564676572",writeCmdUuid:"13d63400-2c97-6004-0003-4c6564676572"}]},_a),devicesList=(DeviceModelId.blue,DeviceModelId.nanoS,DeviceModelId.nanoSP,DeviceModelId.nanoX,DeviceModelId.nanoFTS,Object.values(devices)),identifyUSBProductId=function(usbProductId){var legacy=devicesList.find(function(d){return d.legacyUsbProductId===usbProductId});if(legacy)return legacy;var mm=usbProductId>>8,deviceModel=devicesList.find(function(d){return d.productIdMM===mm});return deviceModel},bluetoothServices=[],serviceUuidToInfos={};for(var lib_es_id in devices){var deviceModel=devices[lib_es_id],bluetoothSpec=deviceModel.bluetoothSpec;if(bluetoothSpec)for(var i=0;i<bluetoothSpec.length;i++){var spec=bluetoothSpec[i];bluetoothServices.push(spec.serviceUuid),serviceUuidToInfos[spec.serviceUuid]=serviceUuidToInfos[spec.serviceUuid.replace(/-/g,"")]=__assign({deviceModel},spec)}}var extendStatics,lib_es=__webpack_require__("./node_modules/@ledgerhq/errors/lib-es/index.js"),TransportWebHID_Buffer=__webpack_require__("./node_modules/buffer/index.js").Buffer,__extends=(extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)},function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function step(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=_.trys,(t=t.length>0&&t[t.length-1])||6!==op[0]&&2!==op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}},__read=function(o,n){var m="function"==typeof Symbol&&o[Symbol.iterator];if(!m)return o;var r,e,i=m.call(o),ar=[];try{for(;(void 0===n||n-- >0)&&!(r=i.next()).done;)ar.push(r.value)}catch(error){e={error}}finally{try{r&&!r.done&&(m=i.return)&&m.call(i)}finally{if(e)throw e.error}}return ar},ledgerDevices=[{vendorId:11415}],isSupported=function(){return Promise.resolve(!(!window.navigator||!window.navigator.hid))},getHID=function(){var hid=navigator.hid;if(!hid)throw new lib_es.TransportError("navigator.hid is not supported","HIDNotSupported");return hid};function requestLedgerDevices(){return __awaiter(this,void 0,void 0,function(){var device;return __generator(this,function(_a){switch(_a.label){case 0:return[4,getHID().requestDevice({filters:ledgerDevices})];case 1:return device=_a.sent(),Array.isArray(device)?[2,device]:[2,[device]]}})})}function getLedgerDevices(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,getHID().getDevices()];case 1:return[2,_a.sent().filter(function(d){return 11415===d.vendorId})]}})})}var TransportWebHID=function(_super){function TransportWebHID(device){var _this=_super.call(this)||this;return _this.channel=Math.floor(65535*Math.random()),_this.packetSize=64,_this.inputs=[],_this.read=function(){return _this.inputs.length?Promise.resolve(_this.inputs.shift()):new Promise(function(success){_this.inputCallback=success})},_this.onInputReport=function(e){var buffer=TransportWebHID_Buffer.from(e.data.buffer);_this.inputCallback?(_this.inputCallback(buffer),_this.inputCallback=null):_this.inputs.push(buffer)},_this._disconnectEmitted=!1,_this._emitDisconnect=function(e){_this._disconnectEmitted||(_this._disconnectEmitted=!0,_this.emit("disconnect",e))},_this.exchange=function(apdu){return __awaiter(_this,void 0,void 0,function(){var _this=this;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.exchangeAtomicImpl(function(){return __awaiter(_this,void 0,void 0,function(){var _a,channel,packetSize,framing,blocks,i,result,acc,buffer;return __generator(this,function(_b){switch(_b.label){case 0:channel=(_a=this).channel,packetSize=_a.packetSize,log("apdu","=> "+apdu.toString("hex")),framing=(0,hid_framing.A)(channel,packetSize),blocks=framing.makeBlocks(apdu),i=0,_b.label=1;case 1:return i<blocks.length?[4,this.device.sendReport(0,blocks[i])]:[3,4];case 2:_b.sent(),_b.label=3;case 3:return i++,[3,1];case 4:return(result=framing.getReducedResult(acc))?[3,6]:[4,this.read()];case 5:return buffer=_b.sent(),acc=framing.reduceResponse(acc,buffer),[3,4];case 6:return log("apdu","<= "+result.toString("hex")),[2,result]}})})}).catch(function(e){if(e&&e.message&&e.message.includes("write"))throw _this._emitDisconnect(e),new lib_es.DisconnectedDeviceDuringOperation(e.message);throw e})];case 1:return[2,_a.sent()]}})})},_this.device=device,_this.deviceModel="number"==typeof device.productId?identifyUSBProductId(device.productId):void 0,device.addEventListener("inputreport",_this.onInputReport),_this}return __extends(TransportWebHID,_super),TransportWebHID.request=function(){return __awaiter(this,void 0,void 0,function(){var _a,device;return __generator(this,function(_b){switch(_b.label){case 0:return[4,requestLedgerDevices()];case 1:return _a=__read.apply(void 0,[_b.sent(),1]),device=_a[0],[2,TransportWebHID.open(device)]}})})},TransportWebHID.openConnected=function(){return __awaiter(this,void 0,void 0,function(){var devices;return __generator(this,function(_a){switch(_a.label){case 0:return[4,getLedgerDevices()];case 1:return 0===(devices=_a.sent()).length?[2,null]:[2,TransportWebHID.open(devices[0])]}})})},TransportWebHID.open=function(device){return __awaiter(this,void 0,void 0,function(){var transport,onDisconnect;return __generator(this,function(_a){switch(_a.label){case 0:return[4,device.open()];case 1:return _a.sent(),transport=new TransportWebHID(device),onDisconnect=function(e){device===e.device&&(getHID().removeEventListener("disconnect",onDisconnect),transport._emitDisconnect(new lib_es.DisconnectedDevice))},getHID().addEventListener("disconnect",onDisconnect),[2,transport]}})})},TransportWebHID.prototype.close=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.exchangeBusyPromise];case 1:return _a.sent(),this.device.removeEventListener("inputreport",this.onInputReport),[4,this.device.close()];case 2:return _a.sent(),[2]}})})},TransportWebHID.prototype.setScrambleKey=function(){},TransportWebHID.isSupported=isSupported,TransportWebHID.list=getLedgerDevices,TransportWebHID.listen=function(observer){var unsubscribed=!1;return function getFirstLedgerDevice(){return __awaiter(this,void 0,void 0,function(){var existingDevices;return __generator(this,function(_a){switch(_a.label){case 0:return[4,getLedgerDevices()];case 1:return(existingDevices=_a.sent()).length>0?[2,existingDevices[0]]:[4,requestLedgerDevices()];case 2:return[2,_a.sent()[0]]}})})}().then(function(device){if(device){if(!unsubscribed){var deviceModel="number"==typeof device.productId?identifyUSBProductId(device.productId):void 0;observer.next({type:"add",descriptor:device,deviceModel}),observer.complete()}}else observer.error(new lib_es.TransportOpenUserCancelled("Access denied to use Ledger device"))},function(error){observer.error(new lib_es.TransportOpenUserCancelled(error.message))}),{unsubscribe:function unsubscribe(){unsubscribed=!0}}},TransportWebHID}(class Transport{exchangeTimeout=3e4;unresponsiveTimeout=15e3;deviceModel=null;tracer;constructor({context,logType}={}){this.tracer=new LocalTracer(logType??"transport",context)}static isSupported;static list;static listen;static open;exchange(_apdu,{abortTimeoutMs:_abortTimeoutMs}={}){throw new Error("exchange not implemented")}exchangeBulk(apdus,observer){let unsubscribed=!1;return(async()=>{if(!unsubscribed)for(const apdu of apdus){const r=await this.exchange(apdu);if(unsubscribed)return;const status=r.readUInt16BE(r.length-2);if(status!==StatusCodes.OK)throw new TransportStatusError(status);observer.next(r)}})().then(()=>!unsubscribed&&observer.complete(),e=>!unsubscribed&&observer.error(e)),{unsubscribe:()=>{unsubscribed=!0}}}setScrambleKey(_key){}close(){return Promise.resolve()}_events=new(events_default());on(eventName,cb){this._events.on(eventName,cb)}off(eventName,cb){this._events.removeListener(eventName,cb)}emit(event,...args){this._events.emit(event,...args)}setDebugMode(){Transport_console.warn("setDebugMode is deprecated. use @ledgerhq/logs instead. No logs are emitted in this anymore.")}setExchangeTimeout(exchangeTimeout){this.exchangeTimeout=exchangeTimeout}setExchangeUnresponsiveTimeout(unresponsiveTimeout){this.unresponsiveTimeout=unresponsiveTimeout}send=async(cla,ins,p1,p2,data=Transport_Buffer.alloc(0),statusList=[StatusCodes.OK],{abortTimeoutMs}={})=>{const tracer=this.tracer.withUpdatedContext({function:"send"});if(data.length>=256)throw tracer.trace("data.length exceeded 256 bytes limit",{dataLength:data.length}),new TransportError("data.length exceed 256 bytes limit. Got: "+data.length,"DataLengthTooBig");tracer.trace("Starting an exchange",{abortTimeoutMs});const response=await this.exchange(Transport_Buffer.concat([Transport_Buffer.from([cla,ins,p1,p2]),Transport_Buffer.from([data.length]),data]),{abortTimeoutMs});tracer.trace("Received response from exchange");const sw=response.readUInt16BE(response.length-2);if(!statusList.some(s=>s===sw))throw new TransportStatusError(sw);return response};static create(openTimeout=3e3,listenTimeout){return new Promise((resolve,reject)=>{let found=!1;const sub=this.listen({next:e=>{found=!0,sub&&sub.unsubscribe(),listenTimeoutId&&clearTimeout(listenTimeoutId),this.open(e.descriptor,openTimeout).then(resolve,reject)},error:e=>{listenTimeoutId&&clearTimeout(listenTimeoutId),reject(e)},complete:()=>{listenTimeoutId&&clearTimeout(listenTimeoutId),found||reject(new TransportError(this.ErrorMessage_NoDeviceFound,"NoDeviceFound"))}}),listenTimeoutId=listenTimeout?setTimeout(()=>{sub.unsubscribe(),reject(new TransportError(this.ErrorMessage_ListenTimeout,"ListenTimeout"))},listenTimeout):null})}exchangeBusyPromise;async exchangeAtomicImpl(f){const tracer=this.tracer.withUpdatedContext({function:"exchangeAtomicImpl",unresponsiveTimeout:this.unresponsiveTimeout});if(this.exchangeBusyPromise)throw tracer.trace("Atomic exchange is already busy"),new TransportRaceCondition("An action was already pending on the Ledger device. Please deny or reconnect.");let resolveBusy;const busyPromise=new Promise(r=>{resolveBusy=r});this.exchangeBusyPromise=busyPromise;let unresponsiveReached=!1;const timeout=setTimeout(()=>{tracer.trace('Timeout reached, emitting Transport event "unresponsive"',{unresponsiveTimeout:this.unresponsiveTimeout}),unresponsiveReached=!0,this.emit("unresponsive")},this.unresponsiveTimeout);try{const res=await f();return unresponsiveReached&&(tracer.trace("Device was unresponsive, emitting responsive"),this.emit("responsive")),res}finally{tracer.trace("Finalize, clearing busy guard"),clearTimeout(timeout),resolveBusy&&resolveBusy(),this.exchangeBusyPromise=null}}decorateAppAPIMethods(self,methods,scrambleKey){for(const methodName of methods)self[methodName]=this.decorateAppAPIMethod(methodName,self[methodName],self,scrambleKey)}_appAPIlock=null;decorateAppAPIMethod(methodName,f,ctx,scrambleKey){return async(...args)=>{const{_appAPIlock}=this;if(_appAPIlock)return Promise.reject(new TransportError("Ledger Device is busy (lock "+_appAPIlock+")","TransportLocked"));try{return this._appAPIlock=methodName,this.setScrambleKey(scrambleKey),await f.apply(ctx,args)}finally{this._appAPIlock=null}}}setTraceContext(context){this.tracer=this.tracer.withContext(context)}updateTraceContext(contextToAdd){this.tracer.updateContext(contextToAdd)}getTraceContext(){return this.tracer.getContext()}static ErrorMessage_ListenTimeout="No Ledger device found (timeout)";static ErrorMessage_NoDeviceFound="No Ledger device found"});const lib_es_TransportWebHID=TransportWebHID;var n,preact_module_l,u,preact_module_i,preact_module_r,o,preact_module_e,f,c,s,a,p={},v=[],y=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,w=Array.isArray;function d(n,l){for(var u in l)n[u]=l[u];return n}function g(n){n&&n.parentNode&&n.parentNode.removeChild(n)}function _(l,u,t){var i,r,o,e={};for(o in u)"key"==o?i=u[o]:"ref"==o?r=u[o]:e[o]=u[o];if(arguments.length>2&&(e.children=arguments.length>3?n.call(arguments,2):t),"function"==typeof l&&null!=l.defaultProps)for(o in l.defaultProps)void 0===e[o]&&(e[o]=l.defaultProps[o]);return m(l,e,i,r,null)}function m(n,t,i,r,o){var e={type:n,props:t,key:i,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:null==o?++u:o,__i:-1,__u:0};return null==o&&null!=preact_module_l.vnode&&preact_module_l.vnode(e),e}function k(n){return n.children}function x(n,l){this.props=n,this.context=l}function S(n,l){if(null==l)return n.__?S(n.__,n.__i+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return"function"==typeof n.type?S(n):null}function C(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return C(n)}}function M(n){(!n.__d&&(n.__d=!0)&&preact_module_i.push(n)&&!$.__r++||preact_module_r!=preact_module_l.debounceRendering)&&((preact_module_r=preact_module_l.debounceRendering)||o)($)}function $(){for(var n,u,t,r,o,f,c,s=1;preact_module_i.length;)preact_module_i.length>s&&preact_module_i.sort(preact_module_e),n=preact_module_i.shift(),s=preact_module_i.length,n.__d&&(t=void 0,o=(r=(u=n).__v).__e,f=[],c=[],u.__P&&((t=d({},r)).__v=r.__v+1,preact_module_l.vnode&&preact_module_l.vnode(t),O(u.__P,t,r,u.__n,u.__P.namespaceURI,32&r.__u?[o]:null,f,null==o?S(r):o,!!(32&r.__u),c),t.__v=r.__v,t.__.__k[t.__i]=t,z(f,t,c),t.__e!=o&&C(t)));$.__r=0}function I(n,l,u,t,i,r,o,e,f,c,s){var a,h,y,w,d,g,_=t&&t.__k||v,m=l.length;for(f=P(u,l,_,f,m),a=0;a<m;a++)null!=(y=u.__k[a])&&(h=-1==y.__i?p:_[y.__i]||p,y.__i=a,g=O(n,y,h,i,r,o,e,f,c,s),w=y.__e,y.ref&&h.ref!=y.ref&&(h.ref&&q(h.ref,null,y),s.push(y.ref,y.__c||w,y)),null==d&&null!=w&&(d=w),4&y.__u||h.__k===y.__k?f=A(y,f,n):"function"==typeof y.type&&void 0!==g?f=g:w&&(f=w.nextSibling),y.__u&=-7);return u.__e=d,f}function P(n,l,u,t,i){var r,o,e,f,c,s=u.length,a=s,h=0;for(n.__k=new Array(i),r=0;r<i;r++)null!=(o=l[r])&&"boolean"!=typeof o&&"function"!=typeof o?(f=r+h,(o=n.__k[r]="string"==typeof o||"number"==typeof o||"bigint"==typeof o||o.constructor==String?m(null,o,null,null,null):w(o)?m(k,{children:o},null,null,null):null==o.constructor&&o.__b>0?m(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):o).__=n,o.__b=n.__b+1,e=null,-1!=(c=o.__i=L(o,u,f,a))&&(a--,(e=u[c])&&(e.__u|=2)),null==e||null==e.__v?(-1==c&&(i>s?h--:i<s&&h++),"function"!=typeof o.type&&(o.__u|=4)):c!=f&&(c==f-1?h--:c==f+1?h++:(c>f?h--:h++,o.__u|=4))):n.__k[r]=null;if(a)for(r=0;r<s;r++)null!=(e=u[r])&&!(2&e.__u)&&(e.__e==t&&(t=S(e)),B(e,e));return t}function A(n,l,u){var t,i;if("function"==typeof n.type){for(t=n.__k,i=0;t&&i<t.length;i++)t[i]&&(t[i].__=n,l=A(t[i],l,u));return l}n.__e!=l&&(l&&n.type&&!u.contains(l)&&(l=S(n)),u.insertBefore(n.__e,l||null),l=n.__e);do{l=l&&l.nextSibling}while(null!=l&&8==l.nodeType);return l}function H(n,l){return l=l||[],null==n||"boolean"==typeof n||(w(n)?n.some(function(n){H(n,l)}):l.push(n)),l}function L(n,l,u,t){var i,r,o=n.key,e=n.type,f=l[u];if(null===f&&null==n.key||f&&o==f.key&&e==f.type&&!(2&f.__u))return u;if(t>(null==f||2&f.__u?0:1))for(i=u-1,r=u+1;i>=0||r<l.length;){if(i>=0){if((f=l[i])&&!(2&f.__u)&&o==f.key&&e==f.type)return i;i--}if(r<l.length){if((f=l[r])&&!(2&f.__u)&&o==f.key&&e==f.type)return r;r++}}return-1}function T(n,l,u){"-"==l[0]?n.setProperty(l,null==u?"":u):n[l]=null==u?"":"number"!=typeof u||y.test(l)?u:u+"px"}function j(n,l,u,t,i){var r,o;n:if("style"==l)if("string"==typeof u)n.style.cssText=u;else{if("string"==typeof t&&(n.style.cssText=t=""),t)for(l in t)u&&l in u||T(n.style,l,"");if(u)for(l in u)t&&u[l]==t[l]||T(n.style,l,u[l])}else if("o"==l[0]&&"n"==l[1])r=l!=(l=l.replace(f,"$1")),o=l.toLowerCase(),l=o in n||"onFocusOut"==l||"onFocusIn"==l?o.slice(2):l.slice(2),n.l||(n.l={}),n.l[l+r]=u,u?t?u.u=t.u:(u.u=c,n.addEventListener(l,r?a:s,r)):n.removeEventListener(l,r?a:s,r);else{if("http://www.w3.org/2000/svg"==i)l=l.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!=l&&"height"!=l&&"href"!=l&&"list"!=l&&"form"!=l&&"tabIndex"!=l&&"download"!=l&&"rowSpan"!=l&&"colSpan"!=l&&"role"!=l&&"popover"!=l&&l in n)try{n[l]=null==u?"":u;break n}catch(n){}"function"==typeof u||(null==u||!1===u&&"-"!=l[4]?n.removeAttribute(l):n.setAttribute(l,"popover"==l&&1==u?"":u))}}function F(n){return function(u){if(this.l){var t=this.l[u.type+n];if(null==u.t)u.t=c++;else if(u.t<t.u)return;return t(preact_module_l.event?preact_module_l.event(u):u)}}}function O(n,u,t,i,r,o,e,f,c,s){var a,h,p,v,y,_,m,b,S,C,M,$,P,A,H,L,T,j=u.type;if(null!=u.constructor)return null;128&t.__u&&(c=!!(32&t.__u),o=[f=u.__e=t.__e]),(a=preact_module_l.__b)&&a(u);n:if("function"==typeof j)try{if(b=u.props,S="prototype"in j&&j.prototype.render,C=(a=j.contextType)&&i[a.__c],M=a?C?C.props.value:a.__:i,t.__c?m=(h=u.__c=t.__c).__=h.__E:(S?u.__c=h=new j(b,M):(u.__c=h=new x(b,M),h.constructor=j,h.render=D),C&&C.sub(h),h.props=b,h.state||(h.state={}),h.context=M,h.__n=i,p=h.__d=!0,h.__h=[],h._sb=[]),S&&null==h.__s&&(h.__s=h.state),S&&null!=j.getDerivedStateFromProps&&(h.__s==h.state&&(h.__s=d({},h.__s)),d(h.__s,j.getDerivedStateFromProps(b,h.__s))),v=h.props,y=h.state,h.__v=u,p)S&&null==j.getDerivedStateFromProps&&null!=h.componentWillMount&&h.componentWillMount(),S&&null!=h.componentDidMount&&h.__h.push(h.componentDidMount);else{if(S&&null==j.getDerivedStateFromProps&&b!==v&&null!=h.componentWillReceiveProps&&h.componentWillReceiveProps(b,M),!h.__e&&null!=h.shouldComponentUpdate&&!1===h.shouldComponentUpdate(b,h.__s,M)||u.__v==t.__v){for(u.__v!=t.__v&&(h.props=b,h.state=h.__s,h.__d=!1),u.__e=t.__e,u.__k=t.__k,u.__k.some(function(n){n&&(n.__=u)}),$=0;$<h._sb.length;$++)h.__h.push(h._sb[$]);h._sb=[],h.__h.length&&e.push(h);break n}null!=h.componentWillUpdate&&h.componentWillUpdate(b,h.__s,M),S&&null!=h.componentDidUpdate&&h.__h.push(function(){h.componentDidUpdate(v,y,_)})}if(h.context=M,h.props=b,h.__P=n,h.__e=!1,P=preact_module_l.__r,A=0,S){for(h.state=h.__s,h.__d=!1,P&&P(u),a=h.render(h.props,h.state,h.context),H=0;H<h._sb.length;H++)h.__h.push(h._sb[H]);h._sb=[]}else do{h.__d=!1,P&&P(u),a=h.render(h.props,h.state,h.context),h.state=h.__s}while(h.__d&&++A<25);h.state=h.__s,null!=h.getChildContext&&(i=d(d({},i),h.getChildContext())),S&&!p&&null!=h.getSnapshotBeforeUpdate&&(_=h.getSnapshotBeforeUpdate(v,y)),L=a,null!=a&&a.type===k&&null==a.key&&(L=N(a.props.children)),f=I(n,w(L)?L:[L],u,t,i,r,o,e,f,c,s),h.base=u.__e,u.__u&=-161,h.__h.length&&e.push(h),m&&(h.__E=h.__=null)}catch(n){if(u.__v=null,c||null!=o)if(n.then){for(u.__u|=c?160:128;f&&8==f.nodeType&&f.nextSibling;)f=f.nextSibling;o[o.indexOf(f)]=null,u.__e=f}else for(T=o.length;T--;)g(o[T]);else u.__e=t.__e,u.__k=t.__k;preact_module_l.__e(n,u,t)}else null==o&&u.__v==t.__v?(u.__k=t.__k,u.__e=t.__e):f=u.__e=V(t.__e,u,t,i,r,o,e,c,s);return(a=preact_module_l.diffed)&&a(u),128&u.__u?void 0:f}function z(n,u,t){for(var i=0;i<t.length;i++)q(t[i],t[++i],t[++i]);preact_module_l.__c&&preact_module_l.__c(u,n),n.some(function(u){try{n=u.__h,u.__h=[],n.some(function(n){n.call(u)})}catch(n){preact_module_l.__e(n,u.__v)}})}function N(n){return"object"!=typeof n||null==n||n.__b&&n.__b>0?n:w(n)?n.map(N):d({},n)}function V(u,t,i,r,o,e,f,c,s){var a,h,v,y,d,_,m,b=i.props,k=t.props,x=t.type;if("svg"==x?o="http://www.w3.org/2000/svg":"math"==x?o="http://www.w3.org/1998/Math/MathML":o||(o="http://www.w3.org/1999/xhtml"),null!=e)for(a=0;a<e.length;a++)if((d=e[a])&&"setAttribute"in d==!!x&&(x?d.localName==x:3==d.nodeType)){u=d,e[a]=null;break}if(null==u){if(null==x)return document.createTextNode(k);u=document.createElementNS(o,x,k.is&&k),c&&(preact_module_l.__m&&preact_module_l.__m(t,e),c=!1),e=null}if(null==x)b===k||c&&u.data==k||(u.data=k);else{if(e=e&&n.call(u.childNodes),b=i.props||p,!c&&null!=e)for(b={},a=0;a<u.attributes.length;a++)b[(d=u.attributes[a]).name]=d.value;for(a in b)if(d=b[a],"children"==a);else if("dangerouslySetInnerHTML"==a)v=d;else if(!(a in k)){if("value"==a&&"defaultValue"in k||"checked"==a&&"defaultChecked"in k)continue;j(u,a,null,d,o)}for(a in k)d=k[a],"children"==a?y=d:"dangerouslySetInnerHTML"==a?h=d:"value"==a?_=d:"checked"==a?m=d:c&&"function"!=typeof d||b[a]===d||j(u,a,d,b[a],o);if(h)c||v&&(h.__html==v.__html||h.__html==u.innerHTML)||(u.innerHTML=h.__html),t.__k=[];else if(v&&(u.innerHTML=""),I("template"==t.type?u.content:u,w(y)?y:[y],t,i,r,"foreignObject"==x?"http://www.w3.org/1999/xhtml":o,e,f,e?e[0]:i.__k&&S(i,0),c,s),null!=e)for(a=e.length;a--;)g(e[a]);c||(a="value","progress"==x&&null==_?u.removeAttribute("value"):null!=_&&(_!==u[a]||"progress"==x&&!_||"option"==x&&_!=b[a])&&j(u,a,_,b[a],o),a="checked",null!=m&&m!=u[a]&&j(u,a,m,b[a],o))}return u}function q(n,u,t){try{if("function"==typeof n){var i="function"==typeof n.__u;i&&n.__u(),i&&null==u||(n.__u=n(u))}else n.current=u}catch(n){preact_module_l.__e(n,t)}}function B(n,u,t){var i,r;if(preact_module_l.unmount&&preact_module_l.unmount(n),(i=n.ref)&&(i.current&&i.current!=n.__e||q(i,null,u)),null!=(i=n.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(n){preact_module_l.__e(n,u)}i.base=i.__P=null}if(i=n.__k)for(r=0;r<i.length;r++)i[r]&&B(i[r],u,t||"function"!=typeof n.type);t||g(n.__e),n.__c=n.__=n.__e=void 0}function D(n,l,u){return this.constructor(n,u)}function E(u,t,i){var r,o,e,f;t==document&&(t=document.documentElement),preact_module_l.__&&preact_module_l.__(u,t),o=(r="function"==typeof i)?null:i&&i.__k||t.__k,e=[],f=[],O(t,u=(!r&&i||t).__k=_(k,null,[u]),o||p,p,t.namespaceURI,!r&&i?[i]:o?null:t.firstChild?n.call(t.childNodes):null,e,!r&&i?i:o?o.__e:t.firstChild,r,f),z(e,u,f)}n=v.slice,preact_module_l={__e:function(n,l,u,t){for(var i,r,o;l=l.__;)if((i=l.__c)&&!i.__)try{if((r=i.constructor)&&null!=r.getDerivedStateFromError&&(i.setState(r.getDerivedStateFromError(n)),o=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(n,t||{}),o=i.__d),o)return i.__E=i}catch(l){n=l}throw n}},u=0,x.prototype.setState=function(n,l){var u;u=null!=this.__s&&this.__s!=this.state?this.__s:this.__s=d({},this.state),"function"==typeof n&&(n=n(d({},u),this.props)),n&&d(u,n),null!=n&&this.__v&&(l&&this._sb.push(l),M(this))},x.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),M(this))},x.prototype.render=k,preact_module_i=[],o="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,preact_module_e=function(n,l){return n.__v.__b-l.__v.__b},$.__r=0,f=/(PointerCapture)$|Capture$/i,c=0,s=F(!1),a=F(!0);var jsxRuntime_module_f=0;Array.isArray;function jsxRuntime_module_u(e,t,n,o,i,u){t||(t={});var a,c,p=t;if("ref"in p)for(c in p={},t)"ref"==c?a=t[c]:p[c]=t[c];var l={type:e,props:p,key:n,ref:a,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--jsxRuntime_module_f,__i:-1,__u:0,__source:i,__self:u};if("function"==typeof e&&(a=e.defaultProps))for(c in a)void 0===p[c]&&(p[c]=a[c]);return preact_module_l.vnode&&preact_module_l.vnode(l),l}var hooks_module_t,hooks_module_r,hooks_module_u,hooks_module_i,hooks_module_o=0,hooks_module_f=[],hooks_module_c=preact_module_l,hooks_module_e=hooks_module_c.__b,hooks_module_a=hooks_module_c.__r,hooks_module_v=hooks_module_c.diffed,hooks_module_l=hooks_module_c.__c,hooks_module_m=hooks_module_c.unmount,hooks_module_s=hooks_module_c.__;function hooks_module_p(n,t){hooks_module_c.__h&&hooks_module_c.__h(hooks_module_r,n,hooks_module_o||t),hooks_module_o=0;var u=hooks_module_r.__H||(hooks_module_r.__H={__:[],__h:[]});return n>=u.__.length&&u.__.push({}),u.__[n]}function hooks_module_d(n){return hooks_module_o=1,hooks_module_h(hooks_module_D,n)}function hooks_module_h(n,u,i){var o=hooks_module_p(hooks_module_t++,2);if(o.t=n,!o.__c&&(o.__=[i?i(u):hooks_module_D(void 0,u),function(n){var t=o.__N?o.__N[0]:o.__[0],r=o.t(t,n);t!==r&&(o.__N=[r,o.__[1]],o.__c.setState({}))}],o.__c=hooks_module_r,!hooks_module_r.__f)){var f=function(n,t,r){if(!o.__c.__H)return!0;var u=o.__c.__H.__.filter(function(n){return!!n.__c});if(u.every(function(n){return!n.__N}))return!c||c.call(this,n,t,r);var i=o.__c.props!==n;return u.forEach(function(n){if(n.__N){var t=n.__[0];n.__=n.__N,n.__N=void 0,t!==n.__[0]&&(i=!0)}}),c&&c.call(this,n,t,r)||i};hooks_module_r.__f=!0;var c=hooks_module_r.shouldComponentUpdate,e=hooks_module_r.componentWillUpdate;hooks_module_r.componentWillUpdate=function(n,t,r){if(this.__e){var u=c;c=void 0,f(n,t,r),c=u}e&&e.call(this,n,t,r)},hooks_module_r.shouldComponentUpdate=f}return o.__N||o.__}function hooks_module_y(n,u){var i=hooks_module_p(hooks_module_t++,3);!hooks_module_c.__s&&hooks_module_C(i.__H,u)&&(i.__=n,i.u=u,hooks_module_r.__H.__h.push(i))}function hooks_module_(n,u){var i=hooks_module_p(hooks_module_t++,4);!hooks_module_c.__s&&hooks_module_C(i.__H,u)&&(i.__=n,i.u=u,hooks_module_r.__h.push(i))}function hooks_module_A(n){return hooks_module_o=5,hooks_module_T(function(){return{current:n}},[])}function hooks_module_T(n,r){var u=hooks_module_p(hooks_module_t++,7);return hooks_module_C(u.__H,r)&&(u.__=n(),u.__H=r,u.__h=n),u.__}function hooks_module_j(){for(var n;n=hooks_module_f.shift();)if(n.__P&&n.__H)try{n.__H.__h.forEach(hooks_module_z),n.__H.__h.forEach(hooks_module_B),n.__H.__h=[]}catch(t){n.__H.__h=[],hooks_module_c.__e(t,n.__v)}}hooks_module_c.__b=function(n){hooks_module_r=null,hooks_module_e&&hooks_module_e(n)},hooks_module_c.__=function(n,t){n&&t.__k&&t.__k.__m&&(n.__m=t.__k.__m),hooks_module_s&&hooks_module_s(n,t)},hooks_module_c.__r=function(n){hooks_module_a&&hooks_module_a(n),hooks_module_t=0;var i=(hooks_module_r=n.__c).__H;i&&(hooks_module_u===hooks_module_r?(i.__h=[],hooks_module_r.__h=[],i.__.forEach(function(n){n.__N&&(n.__=n.__N),n.u=n.__N=void 0})):(i.__h.forEach(hooks_module_z),i.__h.forEach(hooks_module_B),i.__h=[],hooks_module_t=0)),hooks_module_u=hooks_module_r},hooks_module_c.diffed=function(n){hooks_module_v&&hooks_module_v(n);var t=n.__c;t&&t.__H&&(t.__H.__h.length&&(1!==hooks_module_f.push(t)&&hooks_module_i===hooks_module_c.requestAnimationFrame||((hooks_module_i=hooks_module_c.requestAnimationFrame)||hooks_module_w)(hooks_module_j)),t.__H.__.forEach(function(n){n.u&&(n.__H=n.u),n.u=void 0})),hooks_module_u=hooks_module_r=null},hooks_module_c.__c=function(n,t){t.some(function(n){try{n.__h.forEach(hooks_module_z),n.__h=n.__h.filter(function(n){return!n.__||hooks_module_B(n)})}catch(r){t.some(function(n){n.__h&&(n.__h=[])}),t=[],hooks_module_c.__e(r,n.__v)}}),hooks_module_l&&hooks_module_l(n,t)},hooks_module_c.unmount=function(n){hooks_module_m&&hooks_module_m(n);var t,r=n.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{hooks_module_z(n)}catch(n){t=n}}),r.__H=void 0,t&&hooks_module_c.__e(t,r.__v))};var hooks_module_k="function"==typeof requestAnimationFrame;function hooks_module_w(n){var t,r=function(){clearTimeout(u),hooks_module_k&&cancelAnimationFrame(t),setTimeout(n)},u=setTimeout(r,35);hooks_module_k&&(t=requestAnimationFrame(r))}function hooks_module_z(n){var t=hooks_module_r,u=n.__c;"function"==typeof u&&(n.__c=void 0,u()),hooks_module_r=t}function hooks_module_B(n){var t=hooks_module_r;n.__c=n.__(),hooks_module_r=t}function hooks_module_C(n,t){return!n||n.length!==t.length||t.some(function(t,r){return t!==n[r]})}function hooks_module_D(n,t){return"function"==typeof t?t(n):t}function compat_module_g(n,t){for(var e in t)n[e]=t[e];return n}function compat_module_E(n,t){for(var e in n)if("__source"!==e&&!(e in t))return!0;for(var r in t)if("__source"!==r&&n[r]!==t[r])return!0;return!1}function compat_module_N(n,t){this.props=n,this.context=t}(compat_module_N.prototype=new x).isPureReactComponent=!0,compat_module_N.prototype.shouldComponentUpdate=function(n,t){return compat_module_E(this.props,n)||compat_module_E(this.state,t)};var compat_module_T=preact_module_l.__b;preact_module_l.__b=function(n){n.type&&n.type.__f&&n.ref&&(n.props.ref=n.ref,n.ref=null),compat_module_T&&compat_module_T(n)};"undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref");var compat_module_F=preact_module_l.__e;preact_module_l.__e=function(n,t,e,r){if(n.then)for(var u,o=t;o=o.__;)if((u=o.__c)&&u.__c)return null==t.__e&&(t.__e=e.__e,t.__k=e.__k),u.__c(n,t);compat_module_F(n,t,e,r)};var U=preact_module_l.unmount;function compat_module_V(n,t,e){return n&&(n.__c&&n.__c.__H&&(n.__c.__H.__.forEach(function(n){"function"==typeof n.__c&&n.__c()}),n.__c.__H=null),null!=(n=compat_module_g({},n)).__c&&(n.__c.__P===e&&(n.__c.__P=t),n.__c.__e=!0,n.__c=null),n.__k=n.__k&&n.__k.map(function(n){return compat_module_V(n,t,e)})),n}function W(n,t,e){return n&&e&&(n.__v=null,n.__k=n.__k&&n.__k.map(function(n){return W(n,t,e)}),n.__c&&n.__c.__P===t&&(n.__e&&e.appendChild(n.__e),n.__c.__e=!0,n.__c.__P=e)),n}function compat_module_P(){this.__u=0,this.o=null,this.__b=null}function compat_module_j(n){var t=n.__.__c;return t&&t.__a&&t.__a(n)}function compat_module_B(){this.i=null,this.l=null}preact_module_l.unmount=function(n){var t=n.__c;t&&t.__R&&t.__R(),t&&32&n.__u&&(n.type=null),U&&U(n)},(compat_module_P.prototype=new x).__c=function(n,t){var e=t.__c,r=this;null==r.o&&(r.o=[]),r.o.push(e);var u=compat_module_j(r.__v),o=!1,i=function(){o||(o=!0,e.__R=null,u?u(l):l())};e.__R=i;var l=function(){if(! --r.__u){if(r.state.__a){var n=r.state.__a;r.__v.__k[0]=W(n,n.__c.__P,n.__c.__O)}var t;for(r.setState({__a:r.__b=null});t=r.o.pop();)t.forceUpdate()}};r.__u++||32&t.__u||r.setState({__a:r.__b=r.__v.__k[0]}),n.then(i,i)},compat_module_P.prototype.componentWillUnmount=function(){this.o=[]},compat_module_P.prototype.render=function(n,e){if(this.__b){if(this.__v.__k){var r=document.createElement("div"),o=this.__v.__k[0].__c;this.__v.__k[0]=compat_module_V(this.__b,r,o.__O=o.__P)}this.__b=null}var i=e.__a&&_(k,null,n.fallback);return i&&(i.__u&=-33),[_(k,null,e.__a?null:n.children),i]};var compat_module_H=function(n,t,e){if(++e[1]===e[0]&&n.l.delete(t),n.props.revealOrder&&("t"!==n.props.revealOrder[0]||!n.l.size))for(e=n.i;e;){for(;e.length>3;)e.pop()();if(e[1]<e[0])break;n.i=e=e[2]}};(compat_module_B.prototype=new x).__a=function(n){var t=this,e=compat_module_j(t.__v),r=t.l.get(n);return r[0]++,function(u){var o=function(){t.props.revealOrder?(r.push(u),compat_module_H(t,n,r)):u()};e?e(o):o()}},compat_module_B.prototype.render=function(n){this.i=null,this.l=new Map;var t=H(n.children);n.revealOrder&&"b"===n.revealOrder[0]&&t.reverse();for(var e=t.length;e--;)this.l.set(t[e],this.i=[1,0,this.i]);return n.children},compat_module_B.prototype.componentDidUpdate=compat_module_B.prototype.componentDidMount=function(){var n=this;this.l.forEach(function(t,e){compat_module_H(n,e,t)})};var compat_module_q="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,compat_module_G=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,compat_module_J=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,compat_module_K=/[A-Z0-9]/g,Q="undefined"!=typeof document,X=function(n){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/:/fil|che|ra/).test(n)};function nn(n,t,e){return null==t.__k&&(t.textContent=""),E(n,t),"function"==typeof e&&e(),n?n.__c:null}x.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(x.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(n){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:n})}})});var en=preact_module_l.event;function rn(){}function un(){return this.cancelBubble}function on(){return this.defaultPrevented}preact_module_l.event=function(n){return en&&(n=en(n)),n.persist=rn,n.isPropagationStopped=un,n.isDefaultPrevented=on,n.nativeEvent=n};var cn={enumerable:!1,configurable:!0,get:function(){return this.class}},fn=preact_module_l.vnode;preact_module_l.vnode=function(n){"string"==typeof n.type&&function(n){var t=n.props,e=n.type,u={},o=-1===e.indexOf("-");for(var i in t){var l=t[i];if(!("value"===i&&"defaultValue"in t&&null==l||Q&&"children"===i&&"noscript"===e||"class"===i||"className"===i)){var c=i.toLowerCase();"defaultValue"===i&&"value"in t&&null==t.value?i="value":"download"===i&&!0===l?l="":"translate"===c&&"no"===l?l=!1:"o"===c[0]&&"n"===c[1]?"ondoubleclick"===c?i="ondblclick":"onchange"!==c||"input"!==e&&"textarea"!==e||X(t.type)?"onfocus"===c?i="onfocusin":"onblur"===c?i="onfocusout":compat_module_J.test(i)&&(i=c):c=i="oninput":o&&compat_module_G.test(i)?i=i.replace(compat_module_K,"-$&").toLowerCase():null===l&&(l=void 0),"oninput"===c&&u[i=c]&&(i="oninputCapture"),u[i]=l}}"select"==e&&u.multiple&&Array.isArray(u.value)&&(u.value=H(t.children).forEach(function(n){n.props.selected=-1!=u.value.indexOf(n.props.value)})),"select"==e&&null!=u.defaultValue&&(u.value=H(t.children).forEach(function(n){n.props.selected=u.multiple?-1!=u.defaultValue.indexOf(n.props.value):u.defaultValue==n.props.value})),t.class&&!t.className?(u.class=t.class,Object.defineProperty(u,"className",cn)):(t.className&&!t.class||t.class&&t.className)&&(u.class=u.className=t.className),n.props=u}(n),n.$$typeof=compat_module_q,fn&&fn(n)};var an=preact_module_l.__r;preact_module_l.__r=function(n){an&&an(n),n.__c};var sn=preact_module_l.diffed;preact_module_l.diffed=function(n){sn&&sn(n);var t=n.props,e=n.__e;null!=e&&"textarea"===n.type&&"value"in t&&t.value!==e.value&&(e.value=null==t.value?"":t.value)};const Lang={en:{loadingTitle:"Log in with Ledger",loadingTip0:"Please connect to your Ledger device and open “Tron” App.",loadingTip4:"Preparing your Ledger device...",checkTitle:"Please check if the address below is the same one shown on your Ledger device",checkTip0:"If it is: press “Approve” button to confirm the address",checkTip1:"If it isn't: select “Reject” on your Ledger device and refresh this page",confirmTip:"Please confirm on your Ledger",selectTitle:"Select account",selectTip:"Please select an account to use",cancel:"Cancel",confirm:"Confirm",address:"Address",balance:"Available Balance",loadMore:"Load More"},"zh-CN":{loadingTitle:"Ledger 登录",loadingTip0:"请连接 Ledger 设备，并在设备上进入 “TRON” 应用",loadingTip4:"Ledger 设备准备中......",checkTitle:"请确认以下地址与 Ledger 设备显示地址一致",checkTip0:"如果一致：请按设备上的 Approve 按钮进行确认",checkTip1:"如果不一致：请在 Ledger 设备中选择 Reject 按钮并刷新本页面",confirmTip:"请在 Ledger 上确认",selectTitle:"选择账户",selectTip:"请选择要使用的钱包账户",cancel:"取消",confirm:"确认",address:"地址",balance:"可用余额",loadMore:"加载更多账户"},"zh-TC":{loadingTitle:"Ledger 登錄",loadingTip0:"請連接 Ledger 設備，並在設備上進入 “TRON” 應用",loadingTip4:"Ledger 設備準備中......",checkTitle:"請確認以下地址與 Ledger 設備顯示地址一致",checkTip0:"如果一致：請按設備上的 Approve 按鈕進行確認",checkTip1:"如果不一致：請在 Ledger 設備中選擇 Reject 按鈕並刷新本頁面",confirmTip:"請在 Ledger 上確認",selectTitle:"選擇賬戶",selectTip:"請選擇要使用的錢包賬戶",cancel:"取消",confirm:"確認",address:"地址",balance:"可用餘額",loadMore:"加載更多賬戶"}};function getLangText(){const searchParamsLang=new URLSearchParams(globalThis.location.search).get("lang"),storageSettingLang=globalThis.localStorage.getItem("lang"),appLang=(searchParamsLang||storageSettingLang||"").toLowerCase(),browserSettingLang=(globalThis.navigator.language||"").toLowerCase();let browserLang;["zh-tw","zh-hk","zh-tc"].includes(browserSettingLang)?browserLang=Lang["zh-TC"]:["zh","zh-cn"].includes(browserSettingLang)?browserLang=Lang["zh-CN"]:browserSettingLang.includes("en")&&(browserLang=Lang.en);let lang=browserLang;return appLang&&(["zh-tw","zh-hk","zh-tc"].includes(appLang)?lang=Lang["zh-TC"]:["zh","zh-cn"].includes(appLang)?lang=Lang["zh-CN"]:appLang.includes("en")&&(lang=Lang.en)),lang||Lang.en}function LedgerIcon(){return jsxRuntime_module_u("div",{children:jsxRuntime_module_u("img",{style:{width:"5vw",marginBottom:"1vw"},src:"data:image/png;base64,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",alt:"logo"})})}function LoadingIcon(){return jsxRuntime_module_u("div",{className:"ledger-ant-spin ledger-ant-spin-lg ledger-ant-spin-spinning spin",children:jsxRuntime_module_u("span",{className:"ledger-ant-spin-dot",children:[jsxRuntime_module_u("i",{className:"ledger-ant-spin-dot-item"}),jsxRuntime_module_u("i",{className:"ledger-ant-spin-dot-item"}),jsxRuntime_module_u("i",{className:"ledger-ant-spin-dot-item"}),jsxRuntime_module_u("i",{className:"ledger-ant-spin-dot-item"})]})})}function ConfirmContent(props){const langText=hooks_module_T(()=>getLangText(),[]);return jsxRuntime_module_u("div",{style:{textAlign:"center"},"data-testid":"confirm-content",children:[jsxRuntime_module_u(LedgerIcon,{}),jsxRuntime_module_u("div",{className:"ledger-connecting-pop",children:[jsxRuntime_module_u("ul",{className:"ledger-connecting-pop-content",children:[jsxRuntime_module_u("li",{className:"title",style:{wordBreak:"break-word"},children:langText.checkTitle}),jsxRuntime_module_u("li",{children:jsxRuntime_module_u("strong",{style:{color:"#B0170D",textAlign:"left",fontWeight:"600"},"data-testid":"confirm-content-address",children:props.address})}),jsxRuntime_module_u("li",{children:langText.checkTip0}),jsxRuntime_module_u("li",{children:langText.checkTip1})]}),jsxRuntime_module_u("div",{className:"mt-4",children:[jsxRuntime_module_u(LoadingIcon,{}),jsxRuntime_module_u("div",{children:jsxRuntime_module_u("div",{className:"text-muted",children:jsxRuntime_module_u("span",{children:langText.confirmTip})})})]})]})]})}function ConnectingContent(){const langText=hooks_module_T(()=>getLangText(),[]);return jsxRuntime_module_u("div",{style:{textAlign:"center"},"data-testid":"connecting-content",children:[jsxRuntime_module_u(LedgerIcon,{}),jsxRuntime_module_u("div",{className:"ledger-connecting-pop",children:[jsxRuntime_module_u("ul",{className:"ledger-connecting-pop-content",children:jsxRuntime_module_u("li",{className:"title",children:langText.loadingTip0})}),jsxRuntime_module_u("div",{className:"mt-4",children:[jsxRuntime_module_u(LoadingIcon,{}),jsxRuntime_module_u("div",{children:jsxRuntime_module_u("div",{className:"text-muted",children:jsxRuntime_module_u("span",{children:langText.loadingTip4})})})]})]})]})}function Modal(props){return jsxRuntime_module_u("div",{className:"ledger-modal-root",children:[jsxRuntime_module_u("div",{className:"ledger-modal-mask"}),jsxRuntime_module_u("div",{className:"ledger-modal-wrap",children:jsxRuntime_module_u("div",{className:"ledger-modal",style:{width:props.width||"550px"},children:jsxRuntime_module_u("div",{className:"ledger-modal-content",children:[jsxRuntime_module_u("button",{onClick:props.onClose,type:"button","aria-label":"Close",className:"ledger-modal-close",children:jsxRuntime_module_u("span",{className:"ledger-modal-close-x",children:jsxRuntime_module_u("i",{"aria-label":"icon: close",className:"icon icon-close ledger-modal-close-icon",children:jsxRuntime_module_u("svg",{viewBox:"64 64 896 896",focusable:"false",className:"","data-icon":"close",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",children:jsxRuntime_module_u("path",{d:"M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 0 0 203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z"})})})})}),jsxRuntime_module_u("div",{className:"ledger-modal-header",children:jsxRuntime_module_u("div",{className:"ledger-modal-title",children:props.title})}),jsxRuntime_module_u("div",{className:"ledger-modal-body",children:props.children})]})})})]})}var SelectAccount_awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})};function SelectAccount(props){const[index,setIndex]=hooks_module_d(0),[accounts,setAccounts]=hooks_module_d([]),[loading,setLoading]=hooks_module_d(!1),loadBtnRef=hooks_module_A(null),langText=hooks_module_T(()=>getLangText(),[]);function onInput(e){setIndex(+e.target.value)}return hooks_module_y(()=>{setAccounts([...props.accounts])},[props.accounts]),hooks_module_y(()=>{setIndex(props.selectedIndex)},[props.selectedIndex]),hooks_module_(()=>{var _a,_b;null===(_b=null===(_a=loadBtnRef.current)||void 0===_a?void 0:_a.scrollIntoView)||void 0===_b||_b.call(_a)},[accounts]),jsxRuntime_module_u("div",{style:{paddingLeft:40},className:"ledger-select","data-testid":"select-account-content",children:[jsxRuntime_module_u("span",{className:"title",children:langText.selectTip}),jsxRuntime_module_u("div",{className:"ledger-select-list-wrap",children:[jsxRuntime_module_u("ul",{className:"ledger-select-list","data-testid":"select-account-list",children:accounts.map((account,idx)=>jsxRuntime_module_u("li",{className:"ledger-select-item",children:jsxRuntime_module_u("label",{htmlFor:`ledger-select-radio${idx}`,children:[jsxRuntime_module_u("input",{className:account.index===index?"checked":"",id:`ledger-select-radio${idx}`,type:"radio",name:"selectedAddress",value:account.index,checked:account.index===index,onInput}),jsxRuntime_module_u("span",{children:account.address})]})},idx))}),jsxRuntime_module_u("div",{style:{display:"flex",justifyContent:"flex-end"},children:jsxRuntime_module_u("button",{"data-testid":"btn-load-more",ref:loadBtnRef,style:{marginTop:10},disabled:loading,className:"ledger-select-button",onClick:function onLoadMore(){return SelectAccount_awaiter(this,void 0,void 0,function*(){setLoading(!0);const last=accounts[accounts.length-1]||{index:-1},from=last.index+1,to=last.index+6;try{const result=yield props.getAccounts(from,to);setAccounts(accounts=>[...accounts,...result])}finally{setLoading(!1)}})},children:[jsxRuntime_module_u("span",{style:{marginRight:loading?10:0},children:langText.loadMore}),loading?jsxRuntime_module_u("svg",{width:"18",height:"18",viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg",stroke:"#fff",children:jsxRuntime_module_u("g",{fill:"none",fillRule:"evenodd",children:jsxRuntime_module_u("g",{transform:"translate(1 1)",strokeWidth:"2",children:[jsxRuntime_module_u("circle",{strokeOpacity:".5",cx:"18",cy:"18",r:"18"}),jsxRuntime_module_u("path",{d:"M36 18c0-9.94-8.06-18-18-18",children:jsxRuntime_module_u("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"1s",repeatCount:"indefinite"})})]})})}):null]})})]}),jsxRuntime_module_u("footer",{style:{display:"flex",justifyContent:"flex-end"},children:[jsxRuntime_module_u("button",{"data-testid":"btn-cancel",style:{marginRight:10},className:"ledger-select-button default-button",onClick:function onCancel(){props.onCancel()},children:langText.cancel}),jsxRuntime_module_u("button",{"data-testid":"btn-confirm",disabled:loading,className:"ledger-select-button",onClick:function onConfirm(){const selected=accounts.find(item=>item.index===index);props.onConfirm(selected||(null==accounts?void 0:accounts[0]))},children:langText.confirm})]})]})}function prepareDomNode(){const div=document.createElement("div"),style=document.createElement("style");return style.innerHTML="\n.ledger-modal-mask, .ledger-modal-wrap {\n    position: fixed;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    z-index: 1000;\n    font-family: 'PingFangSC-Regular', 'Arial', sans-serif, 'Droid Sans', 'Helvetica Neue';\n}\n.ledger-modal-mask {\n    height: 100%;\n    background-color: rgba(0, 0, 0, 0.45);\n}\n.ledger-modal-wrap {\n    overflow: auto;\n    outline: 0;\n}\n.ledger-modal {\n  position: relative;\n  margin: 0 auto;\n  padding-bottom: 24px;\n  line-height: 1.5;\n  top: 50px;\n  width: 600px;\n  color: rgba(0, 0, 0, 0.65);\n}\n.ledger-modal-content {\n  position: relative;\n  background-color: #fff;\n  background-clip: padding-box;\n  border: 0;\n  border-radius: 4px;\n  box-shadow: 0 4px 12px rgb(0 0 0 / 15%);\n  pointer-events: auto;\n}\n.ledger-modal-close {\n  -webkit-appearance: button;\n  position: absolute;\n  top: 0;\n  right: 0;\n  z-index: 10;\n  padding: 0;\n  color: rgba(0, 0, 0, 0.45);\n  font-weight: 700;\n  line-height: 1;\n  text-decoration: none;\n  background: transparent;\n  border: 0;\n  outline: 0;\n  cursor: pointer;\n  transition: color 0.3s;\n}\n.ledger-modal-close:focus,.ledger-modal-close:active,.ledger-modal-close:hover {\n  color: rgba(0, 0, 0, 0.75);\n  text-decoration: none;\n  border: none;\n  outline: none;\n}\n.ledger-modal-close-x {\n  display: block;\n  width: 56px;\n  height: 56px;\n  font-size: 16px;\n  font-style: normal;\n  line-height: 56px;\n  text-align: center;\n  text-transform: none;\n  text-rendering: auto;\n}\n.ledger-modal-close-x .icon {\n  display: inline-block;\n  color: inherit;\n  font-style: normal;\n  line-height: 0;\n  text-align: center;\n  text-transform: none;\n  vertical-align: -0.125em;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n}\n.ledger-modal-header {\n  padding: 16px 24px;\n  color: rgba(0, 0, 0, 0.65);\n  background: #fff;\n  border-bottom: 1px solid #e8e8e8;\n  border-radius: 4px 4px 0 0;\n}\n.ledger-select .title, .ledger-modal-title {\n  margin: 0;\n  color: rgba(0, 0, 0, 0.85);\n  font-weight: 500;\n  font-size: 18px;\n  line-height: 22px;\n  word-wrap: break-word;\n}\n.ledger-modal-body {\n  padding: 24px;\n  font-size: 14px;\n  line-height: 1.5;\n  word-wrap: break-word;\n  max-height: 650px;\n  overflow-y: auto;\n}\n\n\n// connecting content\n.ledger-connecting-pop ul {\n  margin: 0;\n}\n.ledger-connecting-pop-content {\n  padding-left: 8%;\n}\n.ledger-connecting-pop-content li, .ledger-select li {\n  display: flex;\n  margin: 10px 0 10px 0;\n  line-height: 25px;\n  word-break: break-all;\n  text-align: left;\n}\n.ledger-connecting-pop-content .title {\n  margin-bottom: 20px;\n  font-weight: bold;\n}\n.ledger-ant-spin {\n  box-sizing: border-box;\n  padding: 0;\n  font-size: 14px;\n  font-variant: tabular-nums;\n  line-height: 1.5;\n  list-style: none;\n  font-feature-settings: 'tnum';\n  color: #B0170D;\n  vertical-align: middle;\n  transition: transform 0.3s cubic-bezier(0.78, 0.14, 0.15, 0.86);\n  position: static;\n  opacity: 1;\n  margin: 2vw 0;\n  text-align: center;\n  display: block;\n}\n.ledger-ant-spin-dot {\n  position: relative;\n  display: inline-block;\n  font-size: 20px;\n  width: 1em;\n  height: 1em;\n  transform: rotate(45deg);\n  animation: antRotate 1.2s infinite linear;\n  font-size: 32px;\n}\n\n.ledger-ant-spin-dot-item {\n  position: absolute;\n  display: block;\n  width: 9px;\n  height: 9px;\n  background-color: #B0170D;\n  border-radius: 100%;\n  transform: scale(0.75);\n  transform-origin: 50% 50%;\n  opacity: 0.3;\n  animation: antSpinMove 1s infinite linear alternate;\n}\n.ledger-ant-spin-dot-item:nth-child(1) {\n  top: 0;\n  left: 0;\n}\n.ledger-ant-spin-dot-item:nth-child(2) {\n  top: 0;\n  right: 0;\n  animation-delay: 0.4s;\n}\n.ledger-ant-spin-dot-item:nth-child(3) {\n  right: 0;\n  bottom: 0;\n  animation-delay: 0.8s;\n}\n.ledger-ant-spin-dot-item:nth-child(4) {\n  bottom: 0;\n  left: 0;\n  animation-delay: 1.2s;\n}\n.ledger-ant-spin-lg .ledger-ant-spin-dot i {\n  width: 14px;\n  height: 14px;\n}\n@keyframes antRotate {\n  100% {\n    transform: rotate(405deg)\n  }\n}\n@keyframes antSpinMove {\n  100% {\n    opacity: 1;\n  }\n}\n\n.ledger-select {\n  text-align: left;\n}\n.ledger-select .title {\n  display: block;\n  margin-bottom: 10px;\n}\n.ledger-select-list-wrap {\n  width: 100%;\n  max-height: 400px;\n  overflow-y: auto;\n  margin: 0 0 20px 0;\n}\n.ledger-select-list {\n  margin-top: 0;\n  padding: 0;\n}\n.ledger-select-item {\n  font-size: 14px;\n  color: #2f2f2f;\n  line-height: 25px;\n  margin-top: 0;\n}\n.ledger-select-item:hover {\n  color: #6f6f6f;\n}\n.ledger-select-item label {\n  cursor: pointer;\n  width: 100%;\n  display: flex;\n}\n.ledger-select-item input {\n  width: 15px;\n  height: 25px;\n  margin: 0 10px 0 0;\n}\n.ledger-select-button {\n  display: inline-flex;\n  color: #fff;\n  cursor: pointer;\n  height: 36px;\n  background-color: #c23631;\n  border: none;\n  border-radius: 4px;\n  align-items: center;\n  padding: 0 18px;\n  font-family: DM Sans, Roboto, Helvetica Neue, Helvetica, Arial, sans-serif;\n  font-size: 14px;\n  font-weight: 500;\n  line-height: 36px;\n  user-select: none;\n  -webkit-tap-highlight-color: transparent;\n}\n.ledger-select-button[disabled] {\n  cursor: not-allowed;\n}\n.ledger-select-button.default-button {\n  background-color: #fff;\n  color: rgba(0, 0, 0, 0.65);\n  border: 1px solid #dcdfe6;\n}\n.ledger-select-button:focus {\n  outline: none;\n}\n.ledger-select-button:focus-visible {\n  outline: 2px solid white;\n}\n.ledger-select-button:hover {\n  opacity: 0.7;\n}\n",document.body.append(style),document.body.append(div),{onClose:function onClose(){div.remove(),style.remove()},div}}var LedgerWallet_console=__webpack_require__("./node_modules/console-browserify/index.js"),LedgerWallet_Buffer=__webpack_require__("./node_modules/buffer/index.js").Buffer,LedgerWallet_awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})};function wait(timeout){return LedgerWallet_awaiter(this,void 0,void 0,function*(){return new Promise(resolve=>{setTimeout(resolve,timeout)})})}const defaultSelectAccount=function(_a){return LedgerWallet_awaiter(this,arguments,void 0,function*({accounts,ledgerUtils}){const account=yield function openSelectAccountModal(options){const{onClose,div}=prepareDomNode(),langText=getLangText();return new Promise((resolve,reject)=>{function onCancel(){reject(new Error("Operation is canceled.")),onClose()}nn(jsxRuntime_module_u(Modal,{title:langText.loadingTitle,onClose:onCancel,children:jsxRuntime_module_u(SelectAccount,{accounts:options.accounts,selectedIndex:options.selectedIndex||0,onConfirm:function onConfirm(account){resolve(account),onClose()},onCancel,getAccounts:options.getAccounts})}),div)})}({accounts,getAccounts:ledgerUtils.getAccounts}),closeConfirm=function openVerifyAddressModal(address){const{onClose,div}=prepareDomNode();return nn(jsxRuntime_module_u(Modal,{width:550,title:getLangText().loadingTitle,onClose,children:jsxRuntime_module_u(ConfirmContent,{address})}),div),onClose}(account.address);try{yield ledgerUtils.getAddress(account.index,!0)}finally{null==closeConfirm||closeConfirm()}return account})};class LedgerWallet{constructor(config={}){this.app=null,this.transport=null,this.fetchState="Initial",this.selectedIndex=0,this._address="",this.getAccounts=(from,to)=>LedgerWallet_awaiter(this,void 0,void 0,function*(){if(from<0)throw new Error("getAccount parameter error: from cannot be smaller than 0.");if(from>=to)throw new Error("getAccount parameter error: from cannot be bigger than to.");if("Fetching"===this.fetchState)return yield wait(500),this.getAccounts(from,to);this.fetchState="Fetching",yield this.makeApp();try{const obj={};for(let i=from;i<to;i++){const account=yield this.getAccount(i);obj[account.index]=account}return Object.keys(obj).forEach(key=>{this.accounts[+key]=obj[key]}),this.accounts.slice(from,to)}finally{this.fetchState="Initial",yield this.cleanUp()}}),this.getAddress=(index_1,...args_1)=>LedgerWallet_awaiter(this,[index_1,...args_1],void 0,function*(index,display=!1){try{const path=this.getPathForIndex(index);return yield this.makeApp(),yield this.app.getAddress(path,display)}finally{yield this.cleanUp()}}),this.accounts=[];const{accountNumber=1}=config;if(["beforeConnect","selectAccount","getDerivationPath"].forEach(func=>{if(config[func]&&!function isFunction(fn){return"function"==typeof fn}(config[func]))throw new Error(`[Ledger]: ${func} must be a function!`)}),accountNumber&&!Number.isInteger(+accountNumber))throw new Error("[Ledger]: accountNumber must be an integer!");this.config=Object.assign(Object.assign({},config),{accountNumber})}get address(){return this._address}connect(options){return LedgerWallet_awaiter(this,void 0,void 0,function*(){if((null==options?void 0:options.account)&&"object"==typeof options.account){const account=options.account;return this.selectedIndex=+account.index,this._address=account.address,void(void 0!==account.index&&void 0!==account.address||LedgerWallet_console.warn("[LedgerWallet] account parameter passed to connect() should have valid index and address property"))}const ledgerUtils={getAccounts:this.getAccounts,getAddress:this.getAddress};this.accounts=[],this._address="",this.selectedIndex=0;const{accountNumber=1,beforeConnect,selectAccount=defaultSelectAccount}=this.config;let closeConnectingModal=null;try{beforeConnect?yield beforeConnect():closeConnectingModal=function openConnectingModal(){const{onClose,div}=prepareDomNode();return nn(jsxRuntime_module_u(Modal,{title:getLangText().loadingTitle,onClose,children:jsxRuntime_module_u(ConnectingContent,{})}),div),onClose}(),yield this.makeApp();const firstAccount=yield this.getAccount(0);this.accounts[0]=firstAccount,yield this.cleanUp(),accountNumber>1&&(yield this.getAccounts(1,accountNumber)),null==closeConnectingModal||closeConnectingModal();const accounts=this.accounts.slice(0,accountNumber),selectedAccount=yield selectAccount({accounts,ledgerUtils});this.selectedIndex=selectedAccount.index,this._address=selectedAccount.address}finally{yield this.cleanUp()}})}disconnect(){this.selectedIndex=0,this._address=""}signPersonalMessage(message){return LedgerWallet_awaiter(this,void 0,void 0,function*(){yield this.waitForIdle();try{const index=this.selectedIndex;yield this.makeApp();const path=this.getPathForIndex(index),hex=LedgerWallet_Buffer.from(message).toString("hex");return yield this.app.signPersonalMessage(path,hex)}finally{yield this.cleanUp()}})}signTransaction(transaction){return LedgerWallet_awaiter(this,void 0,void 0,function*(){yield this.waitForIdle();try{const index=this.selectedIndex,path=this.getPathForIndex(index);let signedResponse;yield this.makeApp();try{signedResponse=yield this.app.signTransaction(path,transaction.raw_data_hex,[])}catch(e){if(!/Too many bytes to encode/.test(e.message))throw e;signedResponse=yield this.app.signTransactionHash(path,transaction.txID)}let signature=transaction.signature;return Array.isArray(signature)?signature.includes(signedResponse)||signature.push(signedResponse):signature=[signedResponse],Object.assign(Object.assign({},transaction),{signature})}finally{yield this.cleanUp()}})}getAccount(index){return LedgerWallet_awaiter(this,void 0,void 0,function*(){const path=this.getPathForIndex(index),{address}=yield this.app.getAddress(path);return{path,address,index}})}waitForIdle(){return LedgerWallet_awaiter(this,void 0,void 0,function*(){"Fetching"===this.fetchState&&(yield wait(300),yield this.waitForIdle())})}getPathForIndex(index){return this.config.getDerivationPath?this.config.getDerivationPath(index):`44'/195'/${index}'/0/0`}makeApp(){return LedgerWallet_awaiter(this,void 0,void 0,function*(){this.transport&&this.app||(this.transport=yield lib_es_TransportWebHID.create(),this.app=new Trx(this.transport))})}cleanUp(){return LedgerWallet_awaiter(this,void 0,void 0,function*(){var _a;this.app=null,yield null===(_a=this.transport)||void 0===_a?void 0:_a.close(),this.transport=null})}}var adapter_awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})};class LedgerAdapter extends adapter.Y3{constructor(config={}){super(),this.name="Ledger",this.url="https://www.ledger.com/",this.icon="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAACgCAYAAACLz2ctAAAAAXNSR0IArs4c6QAAFMhJREFUeAHtXXuMFEUeruW5PJbwFEVQjAtcvBCJmoASiUG4O3ICioBiEM5gNPgHJubERzw2HuApHOrxh3gcRLISlA2eghLfiCTKGgNBucNDFgiKILsIeyy77LI87vua7rmZ2Zme7pl+VPf8Kunp7urq+v3qq29+9eyqEiUuBYGysrK+586dG3bx4kXr6FdSUlKGQGXwM868t67Nlxvg1wC/Btwb1zzzHv51OPby6NChw96Ghobj5jtyAgIlxYpC//79u9XX148GSW4ABsOSjt4+Y3IC8e+1DhBzZ8+ePb84duxYo89ytYy+aAhYXl7e+fDhw6OQC2NBOh4jcd1Rk1xpBRG/wrEF+mwZOHBgdU1NTYsmuvmqRqwJ2Llz5yEg2lRk7O043wIku/iKpneRn4HOX0LnT3He0NLSss+7qPWKKXYE7NGjR29k2D3IvPsB9c16wZ23NttBxNfxh1p/6tQpFuGxcbEg4I033thx9+7dv0cm3Q/i3YHc6RSbHEpNyFmk8T2k8fXhw4dv3rFjR2vq4+jdRZqA3bp1648W62PIkDmAvk/04C9I419AxtVoWb/Y2Nh4rKCYQnw5kgTs0qXLoAsXLswH8R4EdqUh4qeD6GYQcVW7du2WnDlz5kcdFHKjQ6QIiDpQORL3JIg3C2ddWrBu8PYzLFvSlRDwPOrANX4K8jLuSBDQbM0+i4RPx9HeSwBiGNd5pKkKZKyIQutZ68xEf1iXs2fPVsDirQWoI3C0iyFhvE4SMRqO46GOHTt2vvzyy6vRcj7ntRCv4tPWAsLqsTW7HOS7xqvEFmM8sIQHke55sIbv6Zh+7QhYWlp6NUj3NxyTdQQsqjqBiBtxPNrc3HxIpzRoU6RNmzatfadOnZ5E63aPkM97ihBTYkuMibX3EvKLUQsL2LVr1yvOnz+/DiDdll8y5C03CMASbm3fvv19TU1NR92850fY0AmIut54JGwtyHeZHwmUODMjABLW4slM1A0/zhwiGN/QimAWA6jvLQLxPhDyBZPZyVKIObFnHoRZJIdiAVHkDkCR+wYAGJMMilyHgwCs4TYUyTNQJB8JWoPACYhhtJGoDL8L8vULOrEiLzsCIGEdhvMmYjjvq+yhvH8SKAFR35sA4m1AMrp6nxSJ0QMEmkDEqagXvu9BXI6iCKw5jrrGTJBvPbTq7EgzCRQGAhxfvwcjKAcxy+jbIBQIhICwfJwytQIJCkReEMDFWEY75NVdmObVgHr6dr/T6WsrGAkpAfmW4LwMCQm0uPcbuJjHX8I8M/PO13zzLXKSD8XuP3CeE/PMinXyUCdcheG7h3C+6EdCfbOAIN8LQj4/sizYOJGHDzIv/ZLqS53MrPM965fSEm/gCIz2q07oOQHN1i4bHL4V74HDLwKJwG/QOt7vdevYU5LA8rGfbxOU7SB5FksEzqEuOMnLfkLPCMgRDjTb+WW/dDLHknuJRDVh2G6sVyMmnhDQHNvdBesnw2uJfIrvBaxgHUg4woux44JbwZxJYU4sEPLFl3MpKaOhYZ57MYum4EbIgQMHFkIhLoMhrrgQuHrfvn3t0ShhtStvV1ARjEbHeJDvA0gv2JLmnQJ5MUwELqA4/l0hk1rzJqA5jZ71PpnJHCYFQpYNAtaa9cG8pvfnZbnMeh+/4RDyhUyAsMWTA6gPrsu3PpiXBeSXVUj4X8JOvMjXCoGnsIjA8241ck1AjHRczc/7IEj6+9yiHe/wTZhRfZ3b745dF8EwucuFfPFmUp6p62pyw9XrriwgWr13QMi7riRI4KJCAI2SiWgVO14GxLEF5EJBQJLWT5wgYIfAcpMrdmESzxxbQNT9FqLu90ziTc0uMF1I8UADSV155ZUKuir8G40D/0j1ww8/KLTWFCy4I80ZF7qaFMA03nP0kk+BUK9StbW1hu5MQ2ur3ivzoi64CDr/yQkcjgiIoperzf8LEWq19jL6nxQWJVeTJk1Sw4YNM66x/4dxn5z4kydPqsrKSrV27Vr17be5v7Xp3r27mj17tho9erS6++67k6MK5fr48eNq48aNhuzTp0+rn376Sb355psJUoailL3QFvz5h+OPn3N1f0cEhFVZB3kz7GUG9xT/MDV48GB12223qblz5yos2G1YulwaVFdXq/Hjxyt0F9gGZbybNm1S+OPZhgvz4XfffafWrVunqqqq1KFDhxxb9gB1fgM435dLXk4CIhPKYf3+g4gKHjfOpYyT55gUqUaNGqWWLVtmEI9kdOpYjA0dOlRhKpHtK3feeadav55fkOrvsPmOevzxx9XmzZsVqxoaufOwgr+CTrbLBTvJPXY6a0E+WqQpU6aoV155RV1//fXKDfmYMRg4d2QpWH+MimMdlXjMmjVLseqgkSNnyB1bZ0tArkYP6zfLNoaAHrK+x+KzoqLCsGIBiY2EmF69eqlFixYZf042wnRx5A45ZKePLQFhCebjZS1Wo6fFW7Bggbr22mvt0lO0z7DhoVq4cKG69dZbdcKgo8mhrDplJSA3gQGDuQ9H6I4t2xdeeMEodkNXRmMFsCC5mjNnjiJeujhyiFzKpk9WAqK+9Bhe0mITmJkzZ6oxY8ZkS4P4JyHABhTrg6yyaOJKTS5lVCcjAbn3Gpg7J+MbAXuuWbNGPfDAAwFLja44Eo9/WFgdbRJBLpFTmRTKSEBu/IfAWuy9Nn36dDVkyJBMuotfFgTYOY/9kbM8DcW7j8mpNsIzEhD9N9p844GN+NooLR72CAwYMEBNnjzZUee8fUzePc3GqTYE5H67MJncJEZchBEYNGiQVv2C5BS5lQ5pGwKi5/oeBNKnMyldY7l3hMCMGTN067LqZHIrRf82BARTteh4TtFSblwjwFEijVrChv7gVpuqXQoBOesFIUe5Tq28IAg4Q+Bmk2OJ0CkEBEOnJp7IhSDgAwLpHEshIFoqt/sgU6IUBBIIpHMsQUD0G3UGO29JhIzhBQfq3c6giSEMoSaJHCPXLCUSBMS8Mtb9+N2HVo7z/7xynEWcazKqV7IknqwIdDG5ZgRIXkhybNZXQnywa9cuoz8r3XLBlDua20fVGfbDDz9UL7/8sjEnMMTkiOhLCJBrn/MyQUCYRi0JOG7cOKPYtLoUoKdBKIuAvE931jP685qOH/OI9TOgCP3H5FoFFTEIiOk73fDhzsjQNcugAGcxi4sXAiDgSHLu2LFjjUYdsL6+fjSS6F1lK154SWq8R6CjyblL6/qBkTd4L0NiFASyI2BxzrCACDYse1B5Igj4goDBOSGgL9hKpA4QEAI6AEmC+IfAJQKWlZX1hYw287T8kysxCwIGAr3JvXbo5pD6nzAiFATIvQ5ojWhNQH7nyuE4rlYFXQ2g2LmcvPpVNvSSw2NLAWMNlSitepAtXXHxJ/e0J+D7779vELBQ0EnARx55RG3btq3QqOR9jxAgAbk9u9Yr3edaSMgpFvyy7qWXXtJ6xSunaYlLOHKvHYqzsrgkKFc6+vbtK9OxcoEU4HNyj/2ARUNA1v/wrwsQYhGVA4EyFsFFQ8AcYMjjgBEg92gBtVpULmAMRFy4CHQvqjpguFiL9HQEjDqgFMHpsMh9UAhYRbDUAYNCXOSkI2DUAdM95V4QCAwBNkIaApMmggSBVAQa2AgRAqaCIncBIUDusR9QCBgQ4CImFQFyT4rgVEzkLlgEpAgOFm+RloyAUQTDQ4rgZFTkOkgEjDrg6SAliixBwELAqAPCDNZaHnE/c2Z1+hozmdIMTDJ5R87PWs5EV8WBcx27YfbqqiD1wl5jnqiHf5tauXKlo/VhGhqiXyvZsGGD2r9/vyfY+RUJuddBdwJySj43XUm3XCQUdM+JjRWGq2OtWbPG0epYn3/+ubH5Hzestt6nvCg46svd4RcvXqxOnDihtcrQdW8JP43D6uV1WmsK5dwS0CKM9V4+k1GZmXzfikt3jKgfdc4nrWGkDetF9zNMCFYO/QUKyLfBYeRC8co8geXy+rAjmk7reuAlFeU3ZggYnBMCxixXI5QcIWCEMiuOqv6fgKi47oxjCiVN+iJgcc4ogrHd+xdQtVVfdUWzmCHQanLu0gqpXKsXjPwqZomU5GiKALlGzlE9qxHC/qMtmuorasUMgWSuJbZpQBpJwAW6pXXKlCnK2uEIihvquekYtjqiv/nmG7Vnzx5ju4ZcaaQcFBFqzJgxxh4lvHe7qpbVgf3JJ5+o48ePO5LLsdvBgwerkSPz27CAevKgvC1btjgadsyFhU/PE8YuMZbF7ZMwhHMSAr0ZfPVI8+bm5sRwWCFRHjlyRM2dO9fYsCYXgfv162cMZc2ePbsQkca7n332mZo3b576/vvvc8a1YMECNW3aNDV06NCcYe0CcE+Up59+Wr366quK+Gnmzlx11VW9ampqWqhXgoC8wdDIJ8gcrTYsrKurU9hpm+oV7A4cOKBGjBihMPRoG9eECRPUO++8YxvGzUMS4dFHH7V9hTN1Nm3apMaOHWsbzulD7q/CsWzuNKWTg4X+FPiPs3RK1AHpAfJ9aj2I45kza6wi2S59Xu5PRzldu3a1E2c8o15ebsrDBT156ObSOZZCQLBzg24Ke6kPi14eQTsn9Uc/dAsjrbmwTedYCgFhGvchgu25IpHngkCeCGw3OZZ4PYWA9AVDX088lQtPEACmnsQT9UgycasNAdEQWY+Eno16YnXSP6yi0El9N0CczprcShHZhoCnTp06Aaa+lxJKbgpCwIkF9LoOWF1drX7++eeC9PbyZXKK3EqPsw0BGQBgSDGcjlTE7r/++mutCJiNUxkJOHz48M3Am7OkQ3dOrEfoSmqmQGNjo9q9e7dqbdVmfskvJqfaIJWRgDt27GhFxq9uEzoED/bks2dfnHMEjh49qvgxly6OXCKnMumTkYAMiE7MF3EKfRznpptuUitWrMiku/hlQQDDXAr1rSxPA/duNrmUUXBWAsKMHwNzV2V8K0BPVqSrqqoUpu8EKDW6olj0Pvfcc9qMAZND5FI2RLMSkC+gGb8Ep4ymM1uEfvizQs3BdXG5EeCfdedObSa4t5ocyqq4LQGxTdaPYHBl1rcDesChrI8++kht3y6DNHaQczWEyspKbRof5A45ZKezLQHNF5/HOfRWQG1treLcQJLQydiqXaLj+Gzjxo2qoqJCp64XcobcsXU5CYixuxrEUGUbS0APudTEvffeq+bPn6+82sQwINV9FfPWW2+pJ554QrHxoZGrMrljq1JOAvJtmNIKnOwn0dmK8e4hGyWrV69WDz/8sOJcwWJ3XAOGcw0PHjyoExQtJmdy6uRowhhnMJSWli5F0fdMzhgDCNDU1KTefvttY/9fLlzkpMOV46JOV73ivDxaWCwdUXBqunfv7thaM12U6ca6v/baa9r9EYH1UvTfcmZVTud4msbAgQO7wOL8G0Mq1+SMVQIULQKwfAfxScOvDx8+fMYJCI4JyMgwm+EOEPBdJxFLmOJEAASciBLT8WQWR3VAC0pGDAEbrXs5CwLJCJAbbsjHd11ZQL6AuuDVqAvuwWXuDx34grhiQaAJdb/rUPc75CbB7d0EZlhU0P+L71cv4DLxZZPbOCR8LBFYAOvHWVSunKsi2Ip58uTJS2Fut1r3ci5uBMgFciIfFFwXwZYQfGp4BaZJ7UKj5DLLT87FhwDIV4sScQS6kI7mk/q8LCAFmQJn4pLFsbjiRIB5PzNf8hEy13XAZJxhAQ/gI+5OsIJjkv3lujgQQKPjOdT7VhWS2rwtoCV04sSJFTDD26x7ORcHAsxz5n2hqc27DpgsGPXBAWZ9sF+yv1zHEwGQr86s9x0pNIUFW0AqgDrAEZjjibwsVCF5X3sE2N83kXnuhaaeEJCKYAD9K/wzpuLynBeKSRxaInCOecy89kq7ghoh6UqgGK5Bo+QgGiV34ZknxXu6DLkPDYGLsHx/QKPjn15q4CkBqRhGSr7FV1Dc7e+3XioqcYWLACzfH0G+v3uthecEpIKwhNtBwm64HO21whJf8AiAfEtBvj/7Idm3YhLFcAkmLqzE+UE/FJc4g0EA5FuFCQYP4ezLwoqeNULS4aDCpuJ5jRGmxyf3wSNAy+cn+Zgi3yxgMlyYyPoYLOFfg5KXLFuu80LgIsjHOh9Xx/DV+VIHTNeYdUK0jveDhJPwzDermy5X7vNC4JzZ2vW8wZFJm0AsoCUYlnACSMh1qGUyqwWKXucmWL6psHyBrWwUKAGJNVaqH4kZ1e+CiDJspxH5QLw6jnB42cnsJHmBF4dMIMcRkeBtThSUMP4jwLxgngRNPqYscAJSKMcRJ02aNBb/uMW4lfmEBCUcd4F5wLzwamzXbTICL4LTFUS9cDz81qJIlpnV6eD4eA+rV4voZ6K+97GPYnJGHYoFTNaKAJhF8tZkf7n2DwGQbysxD5t8TGHoBKQSMP9HUQzwK7uneEs/cb4gQGyfItbE3BcJLiMNvQhO15ffHaM4Xo6DfYbiPEIAVm8Tjnluv9v1SHzWaLQjoKUplwHBNYl4jeUnZ/cIgHRcNmseilvHy2W4l5L/G1oUwZnUJ2Bc5AattEV4XvgyVZmExNuvhdgRQ13JR/i1tYDJ3IA1HAJL+Cz8puMIZPgwWX7ErrkyaRUsXwWI52iJtDDTFwkCWgCBiOW4fhJknIVzR8tfzgYC3NulElfPg3g1UcEkUgS0QMVw3iAM580HETnXsNTyL9JzM4i3CsXtEoxk/Bg1DCJJQAtkrI7aH58AcKrXHPj1sfyL5PwLiLeam8DY7cOhOxbaNkKcAEfgUdw8gX3IrkD4u5Ah/GAmzg2Ws2Ya72KamfYok495HGkLyASkux49evRGxtxj1hNHpT+P6H01iFeJOvD6TFueRjRNhtqxI2ByZpit56nIvNtByFvwrEvyc42vz0DnL6HzpzhvwB9K+9ZsvljGmoDJoJSXl3fGwtm0iGORsTxG4lqXljRbsPywfwt02oIF4aux50dLsv5xvS4aAqZnYP/+/bvV19ePBhFvwLNhSUfv9LAe359AfHutA6Tb2bNnzy+wGWOjx3IiEV3REjBb7pSVlfVFy3oYiGkdl4EkZQhfBj+eu/PevOY9XQP8GuDHD/JP85p+vMd1LY69PNBi3Yu9So7zBXGXEPgf30hvKVSaI9kAAAAASUVORK5CYII=",this._readyState=adapter.Ok.Loading,this._state=adapter.nL.NotFound,this._connecting=!1,this._address=null,this.config=config,this._wallet=new LedgerWallet(config),globalThis.navigator&&globalThis.navigator.hid?(this._readyState=adapter.Ok.Found,this._state=adapter.nL.Disconnect):this._readyState=adapter.Ok.NotFound}get address(){return this._address}get state(){return this._state}get connecting(){return this._connecting}get readyState(){return this._readyState}get ledgerUtils(){return{getAccounts:this._wallet.getAccounts,getAddress:this._wallet.getAddress}}connect(options){return adapter_awaiter(this,void 0,void 0,function*(){try{if(this.connected||this.connecting)return;if(this.state===adapter.nL.NotFound)throw!1!==this.config.openUrlWhenWalletNotFound&&(0,utils.My)()&&window.open(this.url,"_blank"),new errors.hv;this._connecting=!0;try{yield this._wallet.connect(options)}catch(e){throw new errors.Y6(`${e.message}.`)}this._address=this._wallet.address,this._state=adapter.nL.Connected,this.emit("connect",this.address||""),this.emit("stateChanged",this._state)}catch(error){throw this.emit("error",error),error}finally{this._connecting=!1}})}disconnect(){return adapter_awaiter(this,void 0,void 0,function*(){if(this.state===adapter.nL.Connected)try{this._wallet.disconnect(),this._state=adapter.nL.Disconnect,this._address=null,this.emit("disconnect"),this.emit("stateChanged",this._state)}catch(e){throw this.emit("error",e),new errors.Y8(e.message)}})}signTransaction(transaction){return adapter_awaiter(this,void 0,void 0,function*(){try{if(this.state!==adapter.nL.Connected)throw new errors.PQ;try{return yield this._wallet.signTransaction(transaction)}catch(e){throw new errors.z4(e.message)}}catch(error){throw this.emit("error",error),error}})}signMessage(message){return adapter_awaiter(this,void 0,void 0,function*(){try{if(this.state!==adapter.nL.Connected)throw new errors.PQ;try{return yield this._wallet.signPersonalMessage(message)}catch(error){throw new errors.K3(null==error?void 0:error.message,error)}}catch(error){throw this.emit("error",error),error}})}}},"./node_modules/@tronweb3/tronwallet-adapter-okxwallet/lib/esm/adapter.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{L:()=>OkxWalletAdapter});var adapter=__webpack_require__("./node_modules/@tronweb3/tronwallet-abstract-adapter/lib/esm/adapter.js"),utils=__webpack_require__("./node_modules/@tronweb3/tronwallet-abstract-adapter/lib/esm/utils.js"),errors=__webpack_require__("./node_modules/@tronweb3/tronwallet-abstract-adapter/lib/esm/errors.js"),esm_adapter=__webpack_require__("./node_modules/@tronweb3/tronwallet-adapter-tronlink/lib/esm/adapter.js");function supportOkxWallet(){return!(!window.okxwallet||!window.okxwallet.tronLink)}"undefined"!=typeof navigator&&/OKApp/i.test(navigator.userAgent);function openOkxWallet(){return!(function isInOKApp(){return"undefined"!=typeof window&&void 0!==window.navigator&&/OKApp/i.test(window.navigator.userAgent)}()||!(0,utils.yO)())&&(window.location.href="okx://wallet/dapp/url?dappUrl="+encodeURIComponent(window.location.href),!0)}var __awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})};class OkxWalletAdapter extends adapter.Y3{constructor(config={}){super(),this.name="OKX Wallet",this.url="https://okx.com",this.icon="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQwIiBoZWlnaHQ9IjQwIiByeD0iOCIgZmlsbD0iYmxhY2siLz4KPHBhdGggZD0iTTIzLjU1ODMgMTUuODk2NUgxNi40NDc0QzE2LjE0NTMgMTUuODk2NSAxNS45MDA0IDE2LjE0MTQgMTUuOTAwNCAxNi40NDM1VjIzLjU1NDRDMTUuOTAwNCAyMy44NTY1IDE2LjE0NTMgMjQuMTAxNCAxNi40NDc0IDI0LjEwMTRIMjMuNTU4M0MyMy44NjA0IDI0LjEwMTQgMjQuMTA1MyAyMy44NTY1IDI0LjEwNTMgMjMuNTU0NFYxNi40NDM1QzI0LjEwNTMgMTYuMTQxNCAyMy44NjA0IDE1Ljg5NjUgMjMuNTU4MyAxNS44OTY1WiIgZmlsbD0id2hpdGUiLz4KPHBhdGggZD0iTTE2LjQ0NzQgMTYuMzk2NUgyMy41NTgzQzIzLjU4NDIgMTYuMzk2NSAyMy42MDUzIDE2LjQxNzUgMjMuNjA1MyAxNi40NDM1VjIzLjU1NDRDMjMuNjA1MyAyMy41ODAzIDIzLjU4NDIgMjMuNjAxNCAyMy41NTgzIDIzLjYwMTRIMTYuNDQ3NEMxNi40MjE0IDIzLjYwMTQgMTYuNDAwNCAyMy41ODAzIDE2LjQwMDQgMjMuNTU0NFYxNi40NDM1QzE2LjQwMDQgMTYuNDE3NSAxNi40MjE0IDE2LjM5NjUgMTYuNDQ3NCAxNi4zOTY1WiIgc3Ryb2tlPSJ3aGl0ZSIgc3Ryb2tlLW9wYWNpdHk9IjAuMTUiLz4KPHBhdGggZD0iTTE1LjM1MDMgNy42OTE0MUg4LjIzOTM3QzcuOTM3MjggNy42OTE0MSA3LjY5MjM4IDcuOTM2MyA3LjY5MjM4IDguMjM4NFYxNS4zNDkzQzcuNjkyMzggMTUuNjUxNCA3LjkzNzI4IDE1Ljg5NjMgOC4yMzkzNyAxNS44OTYzSDE1LjM1MDNDMTUuNjUyMyAxNS44OTYzIDE1Ljg5NzIgMTUuNjUxNCAxNS44OTcyIDE1LjM0OTNWOC4yMzg0QzE1Ljg5NzIgNy45MzYzIDE1LjY1MjMgNy42OTE0MSAxNS4zNTAzIDcuNjkxNDFaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNOC4yMzkzNyA4LjE5MTQxSDE1LjM1MDNDMTUuMzc2MiA4LjE5MTQxIDE1LjM5NzIgOC4yMTI0NSAxNS4zOTcyIDguMjM4NFYxNS4zNDkzQzE1LjM5NzIgMTUuMzc1MiAxNS4zNzYyIDE1LjM5NjMgMTUuMzUwMyAxNS4zOTYzSDguMjM5MzdDOC4yMTM0MiAxNS4zOTYzIDguMTkyMzggMTUuMzc1MiA4LjE5MjM4IDE1LjM0OTNWOC4yMzg0QzguMTkyMzggOC4yMTI0NCA4LjIxMzQyIDguMTkxNDEgOC4yMzkzNyA4LjE5MTQxWiIgc3Ryb2tlPSJ3aGl0ZSIgc3Ryb2tlLW9wYWNpdHk9IjAuMTUiLz4KPHBhdGggZD0iTTMxLjc2MDQgNy42OTE0MUgyNC42NDk1QzI0LjM0NzQgNy42OTE0MSAyNC4xMDI1IDcuOTM2MyAyNC4xMDI1IDguMjM4NFYxNS4zNDkzQzI0LjEwMjUgMTUuNjUxNCAyNC4zNDc0IDE1Ljg5NjMgMjQuNjQ5NSAxNS44OTYzSDMxLjc2MDRDMzIuMDYyNSAxNS44OTYzIDMyLjMwNzQgMTUuNjUxNCAzMi4zMDc0IDE1LjM0OTNWOC4yMzg0QzMyLjMwNzQgNy45MzYzIDMyLjA2MjUgNy42OTE0MSAzMS43NjA0IDcuNjkxNDFaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNMjQuNjQ5NSA4LjE5MTQxSDMxLjc2MDRDMzEuNzg2NCA4LjE5MTQxIDMxLjgwNzQgOC4yMTI0NSAzMS44MDc0IDguMjM4NFYxNS4zNDkzQzMxLjgwNzQgMTUuMzc1MiAzMS43ODY0IDE1LjM5NjMgMzEuNzYwNCAxNS4zOTYzSDI0LjY0OTVDMjQuNjIzNiAxNS4zOTYzIDI0LjYwMjUgMTUuMzc1MiAyNC42MDI1IDE1LjM0OTNWOC4yMzg0QzI0LjYwMjUgOC4yMTI0NCAyNC42MjM2IDguMTkxNDEgMjQuNjQ5NSA4LjE5MTQxWiIgc3Ryb2tlPSJ3aGl0ZSIgc3Ryb2tlLW9wYWNpdHk9IjAuMTUiLz4KPHBhdGggZD0iTTE1LjM1MDMgMjQuMDk5Nkg4LjIzOTM3QzcuOTM3MjggMjQuMDk5NiA3LjY5MjM4IDI0LjM0NDUgNy42OTIzOCAyNC42NDY2VjMxLjc1NzVDNy42OTIzOCAzMi4wNTk2IDcuOTM3MjggMzIuMzA0NSA4LjIzOTM3IDMyLjMwNDVIMTUuMzUwM0MxNS42NTI0IDMyLjMwNDUgMTUuODk3MyAzMi4wNTk2IDE1Ljg5NzMgMzEuNzU3NVYyNC42NDY2QzE1Ljg5NzMgMjQuMzQ0NSAxNS42NTI0IDI0LjA5OTYgMTUuMzUwMyAyNC4wOTk2WiIgZmlsbD0id2hpdGUiLz4KPHBhdGggZD0iTTguMjM5MzcgMjQuNTk5NkgxNS4zNTAzQzE1LjM3NjIgMjQuNTk5NiAxNS4zOTczIDI0LjYyMDYgMTUuMzk3MyAyNC42NDY2VjMxLjc1NzVDMTUuMzk3MyAzMS43ODM0IDE1LjM3NjIgMzEuODA0NSAxNS4zNTAzIDMxLjgwNDVIOC4yMzkzN0M4LjIxMzQyIDMxLjgwNDUgOC4xOTIzOCAzMS43ODM0IDguMTkyMzggMzEuNzU3NVYyNC42NDY2QzguMTkyMzggMjQuNjIwNiA4LjIxMzQyIDI0LjU5OTYgOC4yMzkzNyAyNC41OTk2WiIgc3Ryb2tlPSJ3aGl0ZSIgc3Ryb2tlLW9wYWNpdHk9IjAuMTUiLz4KPHBhdGggZD0iTTMxLjc2MDQgMjQuMDk5NkgyNC42NDk1QzI0LjM0NzQgMjQuMDk5NiAyNC4xMDI1IDI0LjM0NDUgMjQuMTAyNSAyNC42NDY2VjMxLjc1NzVDMjQuMTAyNSAzMi4wNTk2IDI0LjM0NzQgMzIuMzA0NSAyNC42NDk1IDMyLjMwNDVIMzEuNzYwNEMzMi4wNjI1IDMyLjMwNDUgMzIuMzA3NCAzMi4wNTk2IDMyLjMwNzQgMzEuNzU3NVYyNC42NDY2QzMyLjMwNzQgMjQuMzQ0NSAzMi4wNjI1IDI0LjA5OTYgMzEuNzYwNCAyNC4wOTk2WiIgZmlsbD0id2hpdGUiLz4KPHBhdGggZD0iTTI0LjY0OTUgMjQuNTk5NkgzMS43NjA0QzMxLjc4NjQgMjQuNTk5NiAzMS44MDc0IDI0LjYyMDYgMzEuODA3NCAyNC42NDY2VjMxLjc1NzVDMzEuODA3NCAzMS43ODM0IDMxLjc4NjQgMzEuODA0NSAzMS43NjA0IDMxLjgwNDVIMjQuNjQ5NUMyNC42MjM2IDMxLjgwNDUgMjQuNjAyNSAzMS43ODM0IDI0LjYwMjUgMzEuNzU3NVYyNC42NDY2QzI0LjYwMjUgMjQuNjIwNiAyNC42MjM2IDI0LjU5OTYgMjQuNjQ5NSAyNC41OTk2WiIgc3Ryb2tlPSJ3aGl0ZSIgc3Ryb2tlLW9wYWNpdHk9IjAuMTUiLz4KPC9zdmc+Cg==",this._readyState=(0,utils.My)()?adapter.Ok.Loading:adapter.Ok.NotFound,this._state=adapter.nL.Loading,this.messageHandler=e=>{var _a,_b,_c;const message=null===(_a=e.data)||void 0===_a?void 0:_a.message;if(message)if("accountsChanged"===message.action)setTimeout(()=>{var _a;const preAddr=this.address||"";if(null===(_a=this._wallet)||void 0===_a?void 0:_a.ready){const address=message.data.address;this.setAddress(address),this.setState(adapter.nL.Connected)}else this.setAddress(null),this.setState(adapter.nL.Disconnect);(this.address||"")!==preAddr&&this.emit("accountsChanged",this.address||"",preAddr),!preAddr&&this.address?this.emit("connect",this.address):preAddr&&!this.address&&this.emit("disconnect")},200);else if("connect"===message.action){const isCurConnected=this.connected,preAddress=this.address||"",address=(null===(_c=null===(_b=this._wallet.tronWeb)||void 0===_b?void 0:_b.defaultAddress)||void 0===_c?void 0:_c.base58)||"";this.setAddress(address),this.setState(adapter.nL.Connected),isCurConnected?address!==preAddress&&this.emit("accountsChanged",this.address||"",preAddress):this.emit("connect",address)}else"disconnect"===message.action&&(this.setAddress(null),this.setState(adapter.nL.Disconnect),this.emit("disconnect"))},this._checkPromise=null,this._updateWallet=()=>{var _a,_b;let state=this.state,address=this.address;supportOkxWallet()?(this._wallet=window.okxwallet.tronLink,this._listenEvent(),address=(null===(_b=null===(_a=this._wallet.tronWeb)||void 0===_a?void 0:_a.defaultAddress)||void 0===_b?void 0:_b.base58)||null,state=this._wallet.ready?adapter.nL.Connected:adapter.nL.Disconnect):(this._wallet=null,address=null,state=adapter.nL.NotFound),this.setAddress(address),this.setState(state)};const{checkTimeout=2e3,openUrlWhenWalletNotFound=!0,openAppWithDeeplink=!0}=config;if("number"!=typeof checkTimeout)throw new Error("[OkxWalletAdapter] config.checkTimeout should be a number");if(this.config={checkTimeout,openAppWithDeeplink,openUrlWhenWalletNotFound},this._connecting=!1,this._wallet=null,this._address=null,!(0,utils.My)())return this._readyState=adapter.Ok.NotFound,void this.setState(adapter.nL.NotFound);supportOkxWallet()?(this._readyState=adapter.Ok.Found,this._updateWallet()):this._checkWallet().then(()=>{this.connected&&this.emit("connect",this.address||"")})}get address(){return this._address}get state(){return this._state}get readyState(){return this._readyState}get connecting(){return this._connecting}network(){return __awaiter(this,void 0,void 0,function*(){try{if(yield this._checkWallet(),this.state!==adapter.nL.Connected)throw new errors.PQ;const wallet=this._wallet;if(!wallet||!wallet.tronWeb)throw new errors.PQ;try{return yield(0,esm_adapter.NA)(wallet.tronWeb)}catch(e){throw new errors.W0(null==e?void 0:e.message,e)}}catch(e){throw this.emit("error",e),e}})}connect(){return __awaiter(this,void 0,void 0,function*(){var _a;try{if(this.checkIfOpenOkxWallet(),this.connected||this.connecting)return;if(yield this._checkWallet(),this.state===adapter.nL.NotFound)throw!1!==this.config.openUrlWhenWalletNotFound&&(0,utils.My)()&&window.open(this.url,"_blank"),new errors.hv;if(!this._wallet)return;this._connecting=!0;const wallet=this._wallet;try{const res=yield wallet.request({method:"tron_requestAccounts"});if(!res)throw new errors.Y6("Request connect error.");if(4e3===res.code)throw new errors.Y6("The same DApp has already initiated a request to connect to OkxWallet, and the pop-up window has not been closed.");if(4001===res.code)throw new errors.Y6("The user rejected connection.")}catch(error){throw new errors.Y6(null==error?void 0:error.message,error)}const address=(null===(_a=wallet.tronWeb.defaultAddress)||void 0===_a?void 0:_a.base58)||"";this.setAddress(address),this.setState(adapter.nL.Connected),this._listenEvent(),this.connected&&this.emit("connect",this.address||"")}catch(error){throw this.emit("error",error),error}finally{this._connecting=!1}})}disconnect(){return __awaiter(this,void 0,void 0,function*(){this._stopListenEvent(),this.state===adapter.nL.Connected&&(this.setAddress(null),this.setState(adapter.nL.Disconnect),this.emit("disconnect"))})}signTransaction(transaction,privateKey){return __awaiter(this,void 0,void 0,function*(){try{const wallet=yield this.checkAndGetWallet();try{return yield wallet.tronWeb.trx.sign(transaction,privateKey)}catch(error){throw error instanceof Error?new errors.z4(error.message,error):new errors.z4(error,new Error(error))}}catch(error){throw this.emit("error",error),error}})}multiSign(transaction,privateKey,permissionId){return __awaiter(this,void 0,void 0,function*(){try{const wallet=yield this.checkAndGetWallet();try{return yield wallet.tronWeb.trx.multiSign(transaction,privateKey,permissionId)}catch(error){throw error instanceof Error?new errors.z4(error.message,error):new errors.z4(error,new Error(error))}}catch(error){throw this.emit("error",error),error}})}signMessage(message,privateKey){return __awaiter(this,void 0,void 0,function*(){try{const wallet=yield this.checkAndGetWallet();try{return yield wallet.tronWeb.trx.signMessageV2(message,privateKey)}catch(error){throw error instanceof Error?new errors.K3(error.message,error):new errors.K3(error,new Error(error))}}catch(error){throw this.emit("error",error),error}})}checkAndGetWallet(){return __awaiter(this,void 0,void 0,function*(){if(this.checkIfOpenOkxWallet(),yield this._checkWallet(),this.state!==adapter.nL.Connected)throw new errors.PQ;const wallet=this._wallet;if(!wallet||!wallet.tronWeb)throw new errors.PQ;return wallet})}_listenEvent(){this._stopListenEvent(),window.addEventListener("message",this.messageHandler)}_stopListenEvent(){window.removeEventListener("message",this.messageHandler)}checkIfOpenOkxWallet(){if(!1!==this.config.openAppWithDeeplink&&openOkxWallet())throw new errors.hv}_checkWallet(){if(this.readyState===adapter.Ok.Found)return Promise.resolve(!0);if(this._checkPromise)return this._checkPromise;const maxTimes=Math.floor(this.config.checkTimeout/100);let timer,times=0;return this._checkPromise=new Promise(resolve=>{const check=()=>{times++;const isSupport=supportOkxWallet();(isSupport||times>maxTimes)&&(timer&&clearInterval(timer),this._readyState=isSupport?adapter.Ok.Found:adapter.Ok.NotFound,this._updateWallet(),this.emit("readyStateChanged",this.readyState),resolve(isSupport))};timer=setInterval(check,100),check()}),this._checkPromise}setAddress(address){this._address=address}setState(state){state!==this.state&&(this._state=state,this.emit("stateChanged",state))}}},"./node_modules/@tronweb3/tronwallet-adapter-react-hooks/lib/esm/WalletProvider.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{r:()=>WalletProvider});var esm_adapter=__webpack_require__("./node_modules/@tronweb3/tronwallet-abstract-adapter/lib/esm/adapter.js"),errors=__webpack_require__("./node_modules/@tronweb3/tronwallet-abstract-adapter/lib/esm/errors.js"),lib_esm_adapter=__webpack_require__("./node_modules/@tronweb3/tronwallet-adapter-tronlink/lib/esm/adapter.js"),react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),useWallet=__webpack_require__("./node_modules/@tronweb3/tronwallet-adapter-react-hooks/lib/esm/useWallet.js"),utils=__webpack_require__("./node_modules/@tronweb3/tronwallet-abstract-adapter/lib/esm/utils.js"),console=__webpack_require__("./node_modules/console-browserify/index.js");var WalletProvider_console=__webpack_require__("./node_modules/console-browserify/index.js"),__awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})};const initialState={wallet:null,address:null,connected:!1,adapter:null},WalletProvider=function({children,adapters:adaptersPro=null,onError=error=>WalletProvider_console.error(error),onReadyStateChanged,onConnect,onDisconnect,onAccountsChanged,onChainChanged,onAdapterChanged,localStorageKey="tronAdapterName",autoConnect=!0,disableAutoConnectOnLoad=!1}){const[name,setName]=function useLocalStorage(key,defaultState){const[state,setState]=(0,react.useState)(()=>{try{const value=localStorage.getItem(key);if(value)return JSON.parse(value)}catch(error){(0,utils.My)()&&console.error(error)}return defaultState}),isFirstRender=(0,react.useRef)(!0);return(0,react.useEffect)(()=>{if(isFirstRender.current)isFirstRender.current=!1;else try{null===state?localStorage.removeItem(key):localStorage.setItem(key,JSON.stringify(state))}catch(error){(0,utils.My)()&&console.error(error)}},[state,key]),[state,setState]}(localStorageKey,null),[{wallet,connected,address,adapter},setState]=(0,react.useState)(initialState),[connecting,setConnecting]=(0,react.useState)(!1),[disconnecting,setDisconnecting]=(0,react.useState)(!1),isConnecting=(0,react.useRef)(!1),isDisconnecting=(0,react.useRef)(!1),adapters=(0,react.useMemo)(()=>null===adaptersPro?[new lib_esm_adapter.Fq]:adaptersPro,[adaptersPro]),[wallets,setWallets]=(0,react.useState)(()=>adapters.map(adapter=>({adapter,state:adapter.state})));(0,react.useEffect)(function(){function handleStateChange(){setWallets(prevWallets=>{const index=prevWallets.findIndex(wallet=>wallet.adapter===this);return-1===index?prevWallets:prevWallets.map((wallet,idx)=>idx===index?Object.assign(Object.assign({},wallet),{state:wallet.adapter.state}):wallet)})}return setWallets(prevWallets=>adapters.map((adapter,index)=>{const wallet=prevWallets[index];return wallet&&wallet.adapter===adapter&&wallet.state===adapter.state?wallet:{adapter,state:adapter.state}})),adapters.forEach(adapter=>adapter.on("stateChanged",handleStateChange,adapter)),()=>adapters.forEach(adapter=>adapter.off("stateChanged",handleStateChange,adapter))},[adapters]),(0,react.useEffect)(function(){const wallet=name&&wallets.find(item=>item.adapter.name===name);setState(wallet?{wallet,adapter:wallet.adapter,connected:wallet.adapter.connected,address:wallet.adapter.address}:initialState)},[name,wallets]);const preAdapter=(0,react.useRef)(null);(0,react.useEffect)(function(){adapter!==preAdapter.current&&(null==onAdapterChanged||onAdapterChanged(adapter),preAdapter.current=adapter)},[adapter,onAdapterChanged]);const handleConnect=(0,react.useCallback)(function(addr){if(!adapter)return setName(null);setState(state=>Object.assign(Object.assign({},state),{connected:adapter.connected,address:adapter.address})),null==onConnect||onConnect(addr)},[adapter,setName,onConnect]),handleError=(0,react.useCallback)(function(error){return onError(error),error},[onError]),handleAccountChange=(0,react.useCallback)(function(address,preAddr){setState(state=>Object.assign(Object.assign({},state),{address})),null==onAccountsChanged||onAccountsChanged(address,preAddr)},[onAccountsChanged]),handleDisconnect=(0,react.useCallback)(function(){null==onDisconnect||onDisconnect()},[onDisconnect]),handleReadyStateChanged=(0,react.useCallback)(function(readyState){null==onReadyStateChanged||onReadyStateChanged(readyState)},[onReadyStateChanged]),handleChainChanged=(0,react.useCallback)(function(chainData){null==onChainChanged||onChainChanged(chainData)},[onChainChanged]);(0,react.useEffect)(function(){if(adapter)return adapter.on("connect",handleConnect),adapter.on("error",handleError),adapter.on("accountsChanged",handleAccountChange),adapter.on("chainChanged",handleChainChanged),adapter.on("readyStateChanged",handleReadyStateChanged),adapter.on("disconnect",handleDisconnect),()=>{adapter.off("connect",handleConnect),adapter.off("error",handleError),adapter.off("accountsChanged",handleAccountChange),adapter.off("chainChanged",handleChainChanged),adapter.off("readyStateChanged",handleReadyStateChanged),adapter.off("disconnect",handleDisconnect)}},[adapter,handleConnect,handleError,handleAccountChange,handleChainChanged,handleReadyStateChanged,handleDisconnect]),(0,react.useEffect)(()=>()=>{null==adapter||adapter.disconnect()},[adapter]);const hasManuallySetName=(0,react.useRef)(!1);(0,react.useEffect)(function(){const canAutoConnect=autoConnect&&(!disableAutoConnectOnLoad||hasManuallySetName.current);!isConnecting.current&&canAutoConnect&&adapter&&adapter.state===esm_adapter.nL.Disconnect&&function connect(){__awaiter(this,void 0,void 0,function*(){isConnecting.current=!0,setConnecting(!0);try{yield adapter.connect()}catch(error){}finally{setConnecting(!1),isConnecting.current=!1}})}()},[isConnecting,autoConnect,adapter,setName,disableAutoConnectOnLoad]);const select=(0,react.useCallback)(name=>{hasManuallySetName.current=!0,setName(name)},[setName]),connect=(0,react.useCallback)(function(){return __awaiter(this,void 0,void 0,function*(){if(!(isConnecting.current||isDisconnecting.current||connected)){if(!adapter)throw handleError(new errors.gK);isConnecting.current=!0,setConnecting(!0);try{yield adapter.connect()}catch(error){throw setName(null),error}finally{setConnecting(!1),isConnecting.current=!1}}})},[isConnecting,isDisconnecting,adapter,connected,handleError,setName]),disconnect=(0,react.useCallback)(function(){return __awaiter(this,void 0,void 0,function*(){if(!isDisconnecting.current){if(!adapter)return setName(null);isDisconnecting.current=!0,setDisconnecting(!0);try{yield adapter.disconnect(),setName(null)}catch(error){throw setName(null),error}finally{setDisconnecting(!1),isDisconnecting.current=!1}}})},[adapter,isDisconnecting,setName]),signTransaction=(0,react.useCallback)(function(transaction,privateKey){return __awaiter(this,void 0,void 0,function*(){if(!adapter)throw handleError(new errors.gK);return yield adapter.signTransaction(transaction,privateKey)})},[adapter,handleError]),signMessage=(0,react.useCallback)(function(message,privateKey){return __awaiter(this,void 0,void 0,function*(){if(!adapter)throw handleError(new errors.gK);return yield adapter.signMessage(message,privateKey)})},[adapter,handleError]);return react.createElement(useWallet.b.Provider,{value:{disableAutoConnectOnLoad,autoConnect,wallets,wallet,address,connecting,connected,disconnecting,select,connect,disconnect,signTransaction,signMessage}},children)}},"./node_modules/@tronweb3/tronwallet-adapter-tokenpocket/lib/esm/adapter.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{D:()=>TokenPocketAdapter});var adapter=__webpack_require__("./node_modules/@tronweb3/tronwallet-abstract-adapter/lib/esm/adapter.js"),utils=__webpack_require__("./node_modules/@tronweb3/tronwallet-abstract-adapter/lib/esm/utils.js"),errors=__webpack_require__("./node_modules/@tronweb3/tronwallet-abstract-adapter/lib/esm/errors.js"),esm_adapter=__webpack_require__("./node_modules/@tronweb3/tronwallet-adapter-tronlink/lib/esm/adapter.js");function supportTokenPocket(){return!!window.tronWeb&&void 0!==window.tokenpocket}function openTokenPocket(){if(!supportTokenPocket()&&(0,utils.yO)()&&!function isInTokenPocket(){return(0,utils.My)()&&void 0!==window.tokenpocket}()){const{origin,pathname,search,hash}=window.location,url=origin+pathname+search+hash,params={action:"open",actionId:Date.now()+"",callbackUrl:"http://someurl.com",blockchain:"Tron",chain:"Tron",url,protocol:"TokenPocket",version:"1.0"};return window.location.href=`tpdapp://open?params=${encodeURIComponent(JSON.stringify(params))}`,!0}return!1}var __awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})};class TokenPocketAdapter extends adapter.Y3{constructor(config={}){super(),this.name="TokenPocket",this.url="https://tokenpocket.pro/",this.icon="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIwIiBoZWlnaHQ9IjEyMCIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGc+CjxwYXRoIGQ9Ik0xMDQxLjUyIDBILTI3VjEwMjRIMTA0MS41MlYwWiIgZmlsbD0iIzI5ODBGRSIvPgo8ZyBjbGlwLXBhdGg9InVybCgjY2xpcDBfNDA4XzIyNSkiPgo8cGF0aCBkPSJNNDA2Ljc5NiA0MzguNjQzSDQwNi45MjdDNDA2Ljc5NiA0MzcuODU3IDQwNi43OTYgNDM2Ljk0IDQwNi43OTYgNDM2LjE1NFY0MzguNjQzWiIgZmlsbD0iIzI5QUVGRiIvPgo8cGF0aCBkPSJNNjY3LjYwMiA0NjMuNTMzSDUyMy4yNDlWNzI0LjA3NkM1MjMuMjQ5IDczNi4zODkgNTMzLjIwNCA3NDYuMzQ1IDU0NS41MTcgNzQ2LjM0NUg2NDUuMzMzQzY1Ny42NDcgNzQ2LjM0NSA2NjcuNjAyIDczNi4zODkgNjY3LjYwMiA3MjQuMDc2VjQ2My41MzNaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNNDUzLjU2MyAyNzdINDQ4LjcxNkgxOTAuMjY5QzE3Ny45NTUgMjc3IDE2OCAyODYuOTU1IDE2OCAyOTkuMjY5VjM4OS42NTNDMTY4IDQwMS45NjcgMTc3Ljk1NSA0MTEuOTIyIDE5MC4yNjkgNDExLjkyMkgyNTAuOTE4SDI3NS4wMjFWNDM4LjY0NFY3MjQuNzMxQzI3NS4wMjEgNzM3LjA0NSAyODQuOTc2IDc0NyAyOTcuMjg5IDc0N0gzOTIuMTI4QzQwNC40NDEgNzQ3IDQxNC4zOTYgNzM3LjA0NSA0MTQuMzk2IDcyNC43MzFWNDM4LjY0NFY0MzYuMTU2VjQxMS45MjJINDM4LjQ5OUg0NDguMzIzSDQ1My4xN0M0OTAuMzcyIDQxMS45MjIgNTIwLjYzMSAzODEuNjYzIDUyMC42MzEgMzQ0LjQ2MUM1MjEuMDI0IDMwNy4yNTkgNDkwLjc2NSAyNzcgNDUzLjU2MyAyNzdaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNNjY3LjczNSA0NjMuNTMzVjY0NS4zNUM2NzIuNzEzIDY0Ni41MjkgNjc3LjgyMSA2NDcuNDQ2IDY4My4wNjEgNjQ4LjIzMkM2OTAuMzk3IDY0OS4yOCA2OTcuOTk0IDY0OS45MzUgNzA1LjU5MiA2NTAuMDY2QzcwNS45ODUgNjUwLjA2NiA3MDYuMzc4IDY1MC4wNjYgNzA2LjkwMiA2NTAuMDY2VjUwNS40NUM2ODUuMDI2IDUwNC4wMDkgNjY3LjczNSA0ODUuODAxIDY2Ny43MzUgNDYzLjUzM1oiIGZpbGw9InVybCgjcGFpbnQwX2xpbmVhcl80MDhfMjI1KSIvPgo8cGF0aCBkPSJNNzA5Ljc4MSAyNzdDNjA2LjgyMiAyNzcgNTIzLjI0OSAzNjAuNTczIDUyMy4yNDkgNDYzLjUzM0M1MjMuMjQ5IDU1Mi4wODQgNTg0Ljk0NiA2MjYuMjI1IDY2Ny43MzMgNjQ1LjM1VjQ2My41MzNDNjY3LjczMyA0NDAuMzQ3IDY4Ni41OTYgNDIxLjQ4NCA3MDkuNzgxIDQyMS40ODRDNzMyLjk2NyA0MjEuNDg0IDc1MS44MyA0NDAuMzQ3IDc1MS44MyA0NjMuNTMzQzc1MS44MyA0ODMuMDUxIDczOC42IDQ5OS40MjUgNzIwLjUyMyA1MDQuMTRDNzE3LjExNyA1MDUuMDU3IDcxMy40NDkgNTA1LjU4MSA3MDkuNzgxIDUwNS41ODFWNjUwLjA2NkM3MTMuNDQ5IDY1MC4wNjYgNzE2Ljk4NiA2NDkuOTM1IDcyMC41MjMgNjQ5LjgwNEM4MTguNTA1IDY0NC4xNzEgODk2LjMxNCA1NjIuOTU2IDg5Ni4zMTQgNDYzLjUzM0M4OTYuNDQ1IDM2MC41NzMgODEyLjg3MiAyNzcgNzA5Ljc4MSAyNzdaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNNzA5Ljc4IDY1MC4wNjZWNTA1LjU4MUM3MDguNzMzIDUwNS41ODEgNzA3LjgxNiA1MDUuNTgxIDcwNi43NjggNTA1LjQ1VjY1MC4wNjZDNzA3LjgxNiA2NTAuMDY2IDcwOC44NjQgNjUwLjA2NiA3MDkuNzggNjUwLjA2NloiIGZpbGw9IndoaXRlIi8+CjwvZz4KPC9nPgo8ZGVmcz4KPGxpbmVhckdyYWRpZW50IGlkPSJwYWludDBfbGluZWFyXzQwOF8yMjUiIHgxPSI3MDkuODQ0IiB5MT0iNTU2LjgyNyIgeDI9IjY2Ny43NTMiIHkyPSI1NTYuODI3IiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CjxzdG9wIHN0b3AtY29sb3I9IndoaXRlIi8+CjxzdG9wIG9mZnNldD0iMC45NjY3IiBzdG9wLWNvbG9yPSJ3aGl0ZSIgc3RvcC1vcGFjaXR5PSIwLjMyMzMiLz4KPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSJ3aGl0ZSIgc3RvcC1vcGFjaXR5PSIwLjMiLz4KPC9saW5lYXJHcmFkaWVudD4KPGNsaXBQYXRoIGlkPSJjbGlwMF80MDhfMjI1Ij4KPHJlY3Qgd2lkdGg9IjcyOC40NDgiIGhlaWdodD0iNDcwIiBmaWxsPSJ3aGl0ZSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTY4IDI3NykiLz4KPC9jbGlwUGF0aD4KPC9kZWZzPgo8L3N2Zz4K",this._readyState=(0,utils.My)()?adapter.Ok.Loading:adapter.Ok.NotFound,this._state=adapter.nL.Loading,this.onChainChanged=data=>{this.emit("chainChanged",data)},this.onAccountsChanged=()=>{var _a,_b,_c;const preAddr=this.address||"",curAddr=(null===(_a=this._wallet)||void 0===_a?void 0:_a.tronWeb)&&(null===(_c=null===(_b=this._wallet)||void 0===_b?void 0:_b.tronWeb.defaultAddress)||void 0===_c?void 0:_c.base58)||"";if(curAddr){const address=curAddr;this.setAddress(address),this.setState(adapter.nL.Connected)}else this.setAddress(null),this.setState(adapter.nL.Disconnect);this.emit("accountsChanged",this.address||"",preAddr),!preAddr&&this.address?this.emit("connect",this.address):preAddr&&!this.address&&this.emit("disconnect")},this.checkReadyInterval=null,this._checkPromise=null,this._updateWallet=()=>{var _a,_b,_c,_d,_e;let state=this.state,address=this.address;if(supportTokenPocket()){const tron=null===(_a=window.tokenpocket)||void 0===_a?void 0:_a.tron;this._wallet=(0,utils.yO)()?{tron,ready:null===(_b=window.tronWeb)||void 0===_b?void 0:_b.ready,tronWeb:null===(_c=window.tokenpocket)||void 0===_c?void 0:_c.tronWeb}:{tron,ready:!!(null===(_d=(null==tron?void 0:tron.tronWeb).defaultAddress)||void 0===_d?void 0:_d.base58)||!1,tronWeb:null==tron?void 0:tron.tronWeb},address=(null===(_e=this._wallet.tronWeb.defaultAddress)||void 0===_e?void 0:_e.base58)||null,state=address?adapter.nL.Connected:adapter.nL.Disconnect,this.listenTronEvent(),address||this.checkForWalletReady()}else this._wallet=null,address=null,state=adapter.nL.NotFound;this.setAddress(address),this.setState(state)};const{checkTimeout=2e3,openUrlWhenWalletNotFound=!0,openAppWithDeeplink=!0}=config;if("number"!=typeof checkTimeout)throw new Error("[TokenPocketAdapter] config.checkTimeout should be a number");this.config={checkTimeout,openAppWithDeeplink,openUrlWhenWalletNotFound},this._connecting=!1,this._wallet=null,this._address=null,supportTokenPocket()?(this._readyState=adapter.Ok.Found,this._updateWallet()):this._checkWallet().then(()=>{this.connected&&this.emit("connect",this.address||"")})}get address(){return this._address}get state(){return this._state}get readyState(){return this._readyState}get connecting(){return this._connecting}network(){return __awaiter(this,void 0,void 0,function*(){try{if(yield this._checkWallet(),this.state!==adapter.nL.Connected)throw new errors.PQ;const wallet=this._wallet;if(!wallet||!wallet.tronWeb)throw new errors.PQ;try{return yield(0,esm_adapter.NA)(wallet.tronWeb)}catch(e){throw new errors.W0(null==e?void 0:e.message,e)}}catch(e){throw this.emit("error",e),e}})}connect(){return __awaiter(this,void 0,void 0,function*(){try{if(this.checkIfOpenApp(),this.connected||this.connecting)return;if(yield this._checkWallet(),this.readyState===adapter.Ok.NotFound)throw!1!==this.config.openUrlWhenWalletNotFound&&(0,utils.My)()&&window.open(this.url,"_blank"),new errors.hv;if(!this._wallet)return;this._connecting=!0;const wallet=this._wallet,res=yield wallet.tron.request({method:"eth_requestAccounts"});if(!(null==res?void 0:res[0]))throw new errors.Y6("Request connect error.");const address=res[0];this.setAddress(address),this.setState(adapter.nL.Connected),this.listenTronEvent(),this.emit("connect",this.address||"")}catch(error){throw this.emit("error",error),error}finally{this._connecting=!1}})}disconnect(){return __awaiter(this,void 0,void 0,function*(){this.state===adapter.nL.Connected&&(this.setAddress(null),this.setState(adapter.nL.Disconnect),this.emit("disconnect"))})}signTransaction(transaction,privateKey){return __awaiter(this,void 0,void 0,function*(){try{const wallet=yield this.checkAndGetWallet();try{return yield wallet.tronWeb.trx.sign(transaction,privateKey)}catch(error){throw error instanceof Error?new errors.z4(error.message,error):new errors.z4(error,new Error(error))}}catch(error){throw this.emit("error",error),error}})}multiSign(transaction,privateKey,permissionId){return __awaiter(this,void 0,void 0,function*(){try{const wallet=yield this.checkAndGetWallet();try{return yield wallet.tronWeb.trx.multiSign(transaction,privateKey,permissionId)}catch(error){throw error instanceof Error?new errors.z4(error.message,error):new errors.z4(error,new Error(error))}}catch(error){throw this.emit("error",error),error}})}signMessage(message,privateKey){return __awaiter(this,void 0,void 0,function*(){try{const wallet=yield this.checkAndGetWallet();try{return yield wallet.tronWeb.trx.signMessageV2(message,privateKey)}catch(error){throw error instanceof Error?new errors.K3(error.message,error):new errors.K3(error,new Error(error))}}catch(error){throw this.emit("error",error),error}})}listenTronEvent(){if((0,utils.yO)())return;this.stopListenTronEvent();const wallet=this._wallet;wallet&&wallet.tron&&(wallet.tron.on("chainChanged",this.onChainChanged),wallet.tron.on("accountsChanged",this.onAccountsChanged))}stopListenTronEvent(){if((0,utils.yO)())return;const wallet=this._wallet;wallet&&wallet.tron&&(wallet.tron.removeListener("chainChanged",this.onChainChanged),wallet.tron.removeListener("accountsChanged",this.onAccountsChanged))}checkAndGetWallet(){return __awaiter(this,void 0,void 0,function*(){if(this.checkIfOpenApp(),yield this._checkWallet(),!this.connected)throw new errors.PQ;const wallet=this._wallet;if(!wallet||!wallet.tronWeb)throw new errors.PQ;return wallet})}checkIfOpenApp(){if(!1!==this.config.openAppWithDeeplink&&openTokenPocket())throw new errors.hv}checkForWalletReady(){if(this.checkReadyInterval)return;let times=0;const maxTimes=Math.floor(this.config.checkTimeout/200);this.checkReadyInterval=setInterval(()=>{var _a,_b;((0,utils.yO)()?null===(_a=window.tronWeb)||void 0===_a?void 0:_a.ready:null===(_b=this._wallet)||void 0===_b?void 0:_b.ready)?(this.checkReadyInterval&&clearInterval(this.checkReadyInterval),this.checkReadyInterval=null,this._updateWallet(),this.emit("connect",this.address||"")):times>maxTimes?(this.checkReadyInterval&&clearInterval(this.checkReadyInterval),this.checkReadyInterval=null):times++},200)}_checkWallet(){if(this.readyState===adapter.Ok.Found)return Promise.resolve(!0);if(this._checkPromise)return this._checkPromise;const maxTimes=Math.floor(this.config.checkTimeout/100);let timer,times=0;return this._checkPromise=new Promise(resolve=>{const check=()=>{times++;const isSupport=supportTokenPocket();(isSupport||times>maxTimes)&&(timer&&clearInterval(timer),this._readyState=isSupport?adapter.Ok.Found:adapter.Ok.NotFound,this._updateWallet(),this.emit("readyStateChanged",this.readyState),resolve(isSupport))};timer=setInterval(check,100),check()}),this._checkPromise}setAddress(address){this._address=address}setState(state){state!==this.state&&(this._state=state,this.emit("stateChanged",state))}}},"./node_modules/@tronweb3/tronwallet-adapter-tronlink/lib/esm/adapter.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";var NetworkType,ChainNetwork;__webpack_require__.d(__webpack_exports__,{Fq:()=>TronLinkAdapter,NA:()=>getNetworkInfoByTronWeb}),function(NetworkType){NetworkType.Mainnet="Mainnet",NetworkType.Shasta="Shasta",NetworkType.Nile="Nile",NetworkType.Unknown="Unknown"}(NetworkType||(NetworkType={})),function(ChainNetwork){ChainNetwork.Mainnet="Mainnet",ChainNetwork.Shasta="Shasta",ChainNetwork.Nile="Nile"}(ChainNetwork||(ChainNetwork={}));var adapter=__webpack_require__("./node_modules/@tronweb3/tronwallet-abstract-adapter/lib/esm/adapter.js"),utils=__webpack_require__("./node_modules/@tronweb3/tronwallet-abstract-adapter/lib/esm/utils.js"),errors=__webpack_require__("./node_modules/@tronweb3/tronwallet-abstract-adapter/lib/esm/errors.js"),__awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})};function supportTron(){return!(!window.tron||!window.tron.isTronLink)}function supportTronLink(){return!!(supportTron()||window.tronLink||window.tronWeb)}function openTronLink({dappIcon,dappName}={dappIcon:"",dappName:""}){if(!supportTronLink()&&(0,utils.yO)()&&!function isInTronLinkApp(){return(0,utils.My)()&&void 0!==window.iTron}()){let defaultDappName="",defaultDappIcon="";try{defaultDappName=document.title;const link=document.querySelector('link[rel*="icon"]');link&&(defaultDappIcon=new URL(link.getAttribute("href")||"",location.href).toString())}catch(e){}const{origin,pathname,search,hash}=window.location,url=origin+pathname+search+(hash.includes("?")?hash:`${hash}?_=1`),params={action:"open",actionId:Date.now()+"",callbackUrl:"http://someurl.com",dappIcon:dappIcon||defaultDappIcon,dappName:dappName||defaultDappName,url,protocol:"TronLink",version:"1.0",chainId:"0x2b6653dc"};return window.location.href=`tronlinkoutside://pull.activity?param=${encodeURIComponent(JSON.stringify(params))}`,!0}return!1}var console=__webpack_require__("./node_modules/console-browserify/index.js"),adapter_awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})};const chainIdNetworkMap={"0x2b6653dc":NetworkType.Mainnet,"0x94a9059e":NetworkType.Shasta,"0xcd8690dc":NetworkType.Nile};function getNetworkInfoByTronWeb(tronWeb){return adapter_awaiter(this,void 0,void 0,function*(){var _a,_b,_c;const{blockID=""}=yield tronWeb.trx.getBlockByNumber(0),chainId=`0x${blockID.slice(-8)}`;return{networkType:chainIdNetworkMap[chainId]||NetworkType.Unknown,chainId,fullNode:(null===(_a=tronWeb.fullNode)||void 0===_a?void 0:_a.host)||"",solidityNode:(null===(_b=tronWeb.solidityNode)||void 0===_b?void 0:_b.host)||"",eventServer:(null===(_c=tronWeb.eventServer)||void 0===_c?void 0:_c.host)||""}})}class TronLinkAdapter extends adapter.Y3{constructor(config={}){super(),this.name="TronLink",this.url="https://www.tronlink.org/",this.icon="data:image/png;base64,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",this._readyState=(0,utils.My)()?adapter.Ok.Loading:adapter.Ok.NotFound,this._state=adapter.nL.Loading,this._supportNewTronProtocol=!1,this._tronLinkMessageHandler=e=>{var _a,_b,_c,_d,_e;const message=null===(_a=e.data)||void 0===_a?void 0:_a.message;if(message)if("accountsChanged"===message.action)setTimeout(()=>{var _a;const preAddr=this.address||"";if(null===(_a=this._wallet)||void 0===_a?void 0:_a.ready){const address=message.data.address;this.setAddress(address),this.setState(adapter.nL.Connected)}else this.setAddress(null),this.setState(adapter.nL.Disconnect);this.emit("accountsChanged",this.address||"",preAddr),!preAddr&&this.address?this.emit("connect",this.address):preAddr&&!this.address&&this.emit("disconnect")},200);else if("setNode"===message.action)this.emit("chainChanged",{chainId:(null===(_c=null===(_b=message.data)||void 0===_b?void 0:_b.node)||void 0===_c?void 0:_c.chainId)||""});else if("connect"===message.action){const address=(null===(_e=null===(_d=this._wallet.tronWeb)||void 0===_d?void 0:_d.defaultAddress)||void 0===_e?void 0:_e.base58)||"";this.setAddress(address),this.setState(adapter.nL.Connected),this.emit("connect",address)}else"disconnect"===message.action&&(this.setAddress(null),this.setState(adapter.nL.Disconnect),this.emit("disconnect"))},this._onChainChanged=data=>{this.emit("chainChanged",data)},this._onAccountsChanged=()=>{var _a,_b,_c;const preAddr=this.address||"",curAddr=(null===(_a=this._wallet)||void 0===_a?void 0:_a.tronWeb)&&(null===(_c=null===(_b=this._wallet)||void 0===_b?void 0:_b.tronWeb.defaultAddress)||void 0===_c?void 0:_c.base58)||"";if(curAddr){const address=curAddr;this.setAddress(address),this.setState(adapter.nL.Connected)}else this.setAddress(null),this.setState(adapter.nL.Disconnect);this.emit("accountsChanged",this.address||"",preAddr),!preAddr&&this.address?this.emit("connect",this.address):preAddr&&!this.address&&this.emit("disconnect")},this._checkPromise=null,this._updateWallet=()=>{var _a,_b,_c,_d,_e,_f,_g,_h,_j;let state=this.state,address=this.address;if((0,utils.yO)())window.tronLink?this._wallet=window.tronLink:this._wallet={ready:!!(null===(_a=window.tronWeb)||void 0===_a?void 0:_a.defaultAddress),tronWeb:window.tronWeb,request:()=>Promise.resolve(!0)},address=(null===(_c=null===(_b=this._wallet.tronWeb)||void 0===_b?void 0:_b.defaultAddress)||void 0===_c?void 0:_c.base58)||null,state=address?adapter.nL.Connected:adapter.nL.Disconnect;else if(window.tron&&window.tron.isTronLink){this._supportNewTronProtocol=!0,this._wallet=window.tron,this._listenTronEvent();try{address=(null===(_d=this._wallet)||void 0===_d?void 0:_d.tronWeb)&&(null===(_f=null===(_e=this._wallet.tronWeb)||void 0===_e?void 0:_e.defaultAddress)||void 0===_f?void 0:_f.base58)||null,state=address?adapter.nL.Connected:adapter.nL.Disconnect}catch(e){return console.error("Unknow error: "+e," Please install TronLink extension wallet."),address=null,state=adapter.nL.Disconnect,this._readyState=adapter.Ok.NotFound,void this.emit("readyStateChanged",this.readyState)}}else window.tronLink?(this._wallet=window.tronLink,this._listenTronLinkEvent(),address=(null===(_h=null===(_g=this._wallet.tronWeb)||void 0===_g?void 0:_g.defaultAddress)||void 0===_h?void 0:_h.base58)||null,state=this._wallet.ready?adapter.nL.Connected:adapter.nL.Disconnect):window.tronWeb?(this._wallet={ready:window.tronWeb.ready,tronWeb:window.tronWeb,request:()=>Promise.resolve(!0)},address=(null===(_j=this._wallet.tronWeb.defaultAddress)||void 0===_j?void 0:_j.base58)||null,state=this._wallet.ready?adapter.nL.Connected:adapter.nL.Disconnect):(this._wallet=null,address=null,state=adapter.nL.NotFound);(0,utils.yO)()&&state===adapter.nL.Disconnect&&this.checkForWalletReadyForApp(),this.setAddress(address),this.setState(state)},this.checkReadyInterval=null;const{checkTimeout=3e4,dappIcon="",dappName="",openUrlWhenWalletNotFound=!0,openTronLinkAppOnMobile=!0}=config;if("number"!=typeof checkTimeout)throw new Error("[TronLinkAdapter] config.checkTimeout should be a number");if(this.config={checkTimeout,openTronLinkAppOnMobile,openUrlWhenWalletNotFound,dappIcon,dappName},this._connecting=!1,this._wallet=null,this._address=null,!(0,utils.My)())return this._readyState=adapter.Ok.NotFound,void this.setState(adapter.nL.NotFound);supportTron()||(0,utils.yO)()&&(window.tronLink||window.tronWeb)?(this._readyState=adapter.Ok.Found,this._updateWallet()):this._checkWallet().then(()=>{this.connected&&this.emit("connect",this.address||"")})}get address(){return this._address}get state(){return this._state}get readyState(){return this._readyState}get connecting(){return this._connecting}network(){return adapter_awaiter(this,void 0,void 0,function*(){var _a;try{if(yield this._checkWallet(),this.state!==adapter.nL.Connected)throw new errors.PQ;const tronWeb=(null===(_a=this._wallet)||void 0===_a?void 0:_a.tronWeb)||window.tronWeb;if(!tronWeb)throw new errors.PQ;try{return yield getNetworkInfoByTronWeb(tronWeb)}catch(e){throw new errors.W0(null==e?void 0:e.message,e)}}catch(e){throw this.emit("error",e),e}})}connect(){return adapter_awaiter(this,void 0,void 0,function*(){var _a,_b;try{if(this.checkIfOpenTronLink(),this.connected||this.connecting)return;if(yield this._checkWallet(),this.state===adapter.nL.NotFound)throw!1!==this.config.openUrlWhenWalletNotFound&&(0,utils.My)()&&window.open(this.url,"_blank"),new errors.hv;if(!this._wallet)return;if(this._connecting=!0,this._supportNewTronProtocol){const wallet=this._wallet;try{const address=(yield wallet.request({method:"eth_requestAccounts"}))[0];this.setAddress(address),this.setState(adapter.nL.Connected),this._listenTronEvent(),this._wallet.tronWeb||(yield function waitTronwebReady(tronObj){return __awaiter(this,void 0,void 0,function*(){return new Promise((resolve,reject)=>{const interval=setInterval(()=>{tronObj.tronWeb&&(clearInterval(interval),clearTimeout(timeout),resolve())},50),timeout=setTimeout(()=>{clearInterval(interval),reject("`window.tron.tronweb` is not ready.")},2e3)})})}(this._wallet))}catch(error){let message=(null==error?void 0:error.message)||error||"Connect TronLink wallet failed.";throw-32002===error.code&&(message="The same DApp has already initiated a request to connect to TronLink wallet, and the pop-up window has not been closed."),4001===error.code&&(message="The user rejected connection."),new errors.Y6(message,error)}}else if(window.tronLink){const wallet=this._wallet;try{const res=yield wallet.request({method:"tron_requestAccounts"});if(!res)throw new errors.Y6("TronLink wallet is locked or no wallet account is avaliable.");if(4e3===res.code)throw new errors.Y6("The same DApp has already initiated a request to connect to TronLink wallet, and the pop-up window has not been closed.");if(4001===res.code)throw new errors.Y6("The user rejected connection.")}catch(error){throw new errors.Y6(null==error?void 0:error.message,error)}const address=(null===(_a=wallet.tronWeb.defaultAddress)||void 0===_a?void 0:_a.base58)||"";this.setAddress(address),this.setState(adapter.nL.Connected),this._listenTronLinkEvent()}else{if(!window.tronWeb)throw new errors.Y6("Cannot connect wallet.");{const address=(null===(_b=this._wallet.tronWeb.defaultAddress)||void 0===_b?void 0:_b.base58)||"";this.setAddress(address),this.setState(adapter.nL.Connected)}}this.connected&&this.emit("connect",this.address||"")}catch(error){throw this.emit("error",error),error}finally{this._connecting=!1}})}disconnect(){return adapter_awaiter(this,void 0,void 0,function*(){this._supportNewTronProtocol?this._stopListenTronEvent():this._stopListenTronLinkEvent(),this.state===adapter.nL.Connected&&(this.setAddress(null),this.setState(adapter.nL.Disconnect),this.emit("disconnect"))})}signTransaction(transaction,privateKey){return adapter_awaiter(this,void 0,void 0,function*(){try{const wallet=yield this.checkAndGetWallet();try{return yield wallet.tronWeb.trx.sign(transaction,privateKey)}catch(error){throw error instanceof Error?new errors.z4(error.message,error):new errors.z4(error,new Error(error))}}catch(error){throw this.emit("error",error),error}})}multiSign(transaction,privateKey,permissionId){return adapter_awaiter(this,void 0,void 0,function*(){try{const wallet=yield this.checkAndGetWallet();try{return yield wallet.tronWeb.trx.multiSign(transaction,privateKey,permissionId)}catch(error){throw error instanceof Error?new errors.z4(error.message,error):new errors.z4(error,new Error(error))}}catch(error){throw this.emit("error",error),error}})}signMessage(message,privateKey){return adapter_awaiter(this,void 0,void 0,function*(){try{const wallet=yield this.checkAndGetWallet();try{return yield wallet.tronWeb.trx.signMessageV2(message,privateKey)}catch(error){throw error instanceof Error?new errors.K3(error.message,error):new errors.K3(error,new Error(error))}}catch(error){throw this.emit("error",error),error}})}switchChain(chainId){return adapter_awaiter(this,void 0,void 0,function*(){try{if(yield this._checkWallet(),this.state===adapter.nL.NotFound)throw!1!==this.config.openUrlWhenWalletNotFound&&(0,utils.My)()&&window.open(this.url,"_blank"),new errors.hv;if(!this._supportNewTronProtocol)throw new errors.Pj("Current version of TronLink doesn't support switch chain operation.");const wallet=this._wallet;try{yield wallet.request({method:"wallet_switchEthereumChain",params:[{chainId}]})}catch(e){throw new errors.Pj((null==e?void 0:e.message)||e,e instanceof Error?e:new Error(e))}}catch(error){throw this.emit("error",error),error}})}checkAndGetWallet(){return adapter_awaiter(this,void 0,void 0,function*(){if(this.checkIfOpenTronLink(),yield this._checkWallet(),this.state!==adapter.nL.Connected)throw new errors.PQ;const wallet=this._wallet;if(!wallet||!wallet.tronWeb)throw new errors.PQ;return wallet})}_listenTronLinkEvent(){this._stopListenTronLinkEvent(),window.addEventListener("message",this._tronLinkMessageHandler)}_stopListenTronLinkEvent(){window.removeEventListener("message",this._tronLinkMessageHandler)}checkIfOpenTronLink(){const{dappName="",dappIcon=""}=this.config;if(!1!==this.config.openTronLinkAppOnMobile&&openTronLink({dappIcon,dappName}))throw new errors.hv}_listenTronEvent(){var _a,_b;this._stopListenTronEvent(),this._stopListenTronLinkEvent();const wallet=this._wallet;null===(_a=wallet.on)||void 0===_a||_a.call(wallet,"chainChanged",this._onChainChanged),null===(_b=wallet.on)||void 0===_b||_b.call(wallet,"accountsChanged",this._onAccountsChanged)}_stopListenTronEvent(){var _a,_b;const wallet=this._wallet;null===(_a=wallet.removeListener)||void 0===_a||_a.call(wallet,"chainChanged",this._onChainChanged),null===(_b=wallet.removeListener)||void 0===_b||_b.call(wallet,"accountsChanged",this._onAccountsChanged)}_checkWallet(){if(this.readyState===adapter.Ok.Found)return Promise.resolve(!0);if(this._checkPromise)return this._checkPromise;const checkTronTimes=Math.floor(20),maxTimes=Math.floor(this.config.checkTimeout/100);let timer,times=0;return this._checkPromise=new Promise(resolve=>{const check=()=>{times++;const isSupport=times<checkTronTimes&&!(0,utils.yO)()?supportTron():supportTronLink();(isSupport||times>maxTimes)&&(timer&&clearInterval(timer),this._readyState=isSupport?adapter.Ok.Found:adapter.Ok.NotFound,this._updateWallet(),this.emit("readyStateChanged",this.readyState),resolve(isSupport))};timer=setInterval(check,100),check()}),this._checkPromise}checkForWalletReadyForApp(){if(this.checkReadyInterval)return;let times=0;const maxTimes=Math.floor(this.config.checkTimeout/200);this.checkReadyInterval=setInterval(()=>{var _a,_b;(window.tronLink?null===(_a=window.tronLink.tronWeb)||void 0===_a?void 0:_a.defaultAddress:null===(_b=window.tronWeb)||void 0===_b?void 0:_b.defaultAddress)?(this.checkReadyInterval&&clearInterval(this.checkReadyInterval),this.checkReadyInterval=null,this._updateWallet(),this.emit("connect",this.address||"")):times>maxTimes?(this.checkReadyInterval&&clearInterval(this.checkReadyInterval),this.checkReadyInterval=null):times++},200)}setAddress(address){this._address=address}setState(state){state!==this.state&&(this._state=state,this.emit("stateChanged",state))}}},"./node_modules/@tronweb3/tronwallet-adapter-trust/lib/esm/adapter.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{K:()=>TrustAdapter});var adapter=__webpack_require__("./node_modules/@tronweb3/tronwallet-abstract-adapter/lib/esm/adapter.js"),utils=__webpack_require__("./node_modules/@tronweb3/tronwallet-abstract-adapter/lib/esm/utils.js"),errors=__webpack_require__("./node_modules/@tronweb3/tronwallet-abstract-adapter/lib/esm/errors.js"),esm_adapter=__webpack_require__("./node_modules/@tronweb3/tronwallet-adapter-tronlink/lib/esm/adapter.js");function supportTrust(){return"undefined"!=typeof window&&!(!window.trustwallet||!window.trustwallet.tronLink)}function openTrustWallet(){return!("undefined"!=typeof window&&void 0!==window.navigator&&/Trust/i.test(window.navigator.userAgent)||!(0,utils.yO)())&&(window.location.href="https://link.trustwallet.com?source="+encodeURIComponent(window.location.href),!0)}var __awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})};class TrustAdapter extends adapter.Y3{constructor(config={}){super(),this.name="Trust",this.url="https://trustwallet.com",this.icon="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTgiIGhlaWdodD0iNjUiIHZpZXdCb3g9IjAgMCA1OCA2NSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTAgOS4zODk0OUwyOC44OTA3IDBWNjUuMDA0MkM4LjI1NDUgNTYuMzM2OSAwIDM5LjcyNDggMCAzMC4zMzUzVjkuMzg5NDlaIiBmaWxsPSIjMDUwMEZGIi8+CjxwYXRoIGQ9Ik01Ny43ODIyIDkuMzg5NDlMMjguODkxNSAwVjY1LjAwNDJDNDkuNTI3NyA1Ni4zMzY5IDU3Ljc4MjIgMzkuNzI0OCA1Ny43ODIyIDMwLjMzNTNWOS4zODk0OVoiIGZpbGw9InVybCgjcGFpbnQwX2xpbmVhcl8yMjAxXzY5NDIpIi8+CjxkZWZzPgo8bGluZWFyR3JhZGllbnQgaWQ9InBhaW50MF9saW5lYXJfMjIwMV82OTQyIiB4MT0iNTEuMzYxNSIgeTE9Ii00LjE1MjkzIiB4Mj0iMjkuNTM4NCIgeTI9IjY0LjUxNDciIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KPHN0b3Agb2Zmc2V0PSIwLjAyMTEyIiBzdG9wLWNvbG9yPSIjMDAwMEZGIi8+CjxzdG9wIG9mZnNldD0iMC4wNzYyNDIzIiBzdG9wLWNvbG9yPSIjMDA5NEZGIi8+CjxzdG9wIG9mZnNldD0iMC4xNjMwODkiIHN0b3AtY29sb3I9IiM0OEZGOTEiLz4KPHN0b3Agb2Zmc2V0PSIwLjQyMDA0OSIgc3RvcC1jb2xvcj0iIzAwOTRGRiIvPgo8c3RvcCBvZmZzZXQ9IjAuNjgyODg2IiBzdG9wLWNvbG9yPSIjMDAzOEZGIi8+CjxzdG9wIG9mZnNldD0iMC45MDI0NjUiIHN0b3AtY29sb3I9IiMwNTAwRkYiLz4KPC9saW5lYXJHcmFkaWVudD4KPC9kZWZzPgo8L3N2Zz4K",this._readyState=(0,utils.My)()?adapter.Ok.Loading:adapter.Ok.NotFound,this._state=adapter.nL.Loading,this.messageHandler=e=>{var _a,_b,_c;const message=null===(_a=e.data)||void 0===_a?void 0:_a.message;if(message)if("accountsChanged"===message.action)setTimeout(()=>{var _a;const preAddr=this.address||"";if(null===(_a=this._wallet)||void 0===_a?void 0:_a.ready){const address=message.data.address;this.setAddress(address),this.setState(adapter.nL.Connected)}else this.setAddress(null),this.setState(adapter.nL.Disconnect);(this.address||"")!==preAddr&&this.emit("accountsChanged",this.address||"",preAddr),!preAddr&&this.address?this.emit("connect",this.address):preAddr&&!this.address&&this.emit("disconnect")},200);else if("connect"===message.action){const isCurConnected=this.connected,preAddress=this.address||"",address=(null===(_c=null===(_b=this._wallet.tronWeb)||void 0===_b?void 0:_b.defaultAddress)||void 0===_c?void 0:_c.base58)||"";this.setAddress(address),this.setState(adapter.nL.Connected),isCurConnected?address!==preAddress&&this.emit("accountsChanged",this.address||"",preAddress):this.emit("connect",address)}else"disconnect"===message.action&&(this.setAddress(null),this.setState(adapter.nL.Disconnect),this.emit("disconnect"))},this._checkPromise=null,this._updateWallet=()=>{var _a,_b;let state=this.state,address=this.address;supportTrust()?(this._wallet=window.trustwallet.tronLink,this._listenEvent(),address=(null===(_b=null===(_a=this._wallet.tronWeb)||void 0===_a?void 0:_a.defaultAddress)||void 0===_b?void 0:_b.base58)||null,state=this._wallet.ready?adapter.nL.Connected:adapter.nL.Disconnect):(this._wallet=null,address=null,state=adapter.nL.NotFound),this.setAddress(address),this.setState(state)};const{checkTimeout=2e3,openUrlWhenWalletNotFound=!0,openAppWithDeeplink=!0}=config;if("number"!=typeof checkTimeout)throw new Error("[TrustAdapter] config.checkTimeout should be a number");if(this.config={checkTimeout,openAppWithDeeplink,openUrlWhenWalletNotFound},this._connecting=!1,this._wallet=null,this._address=null,!(0,utils.My)())return this._readyState=adapter.Ok.NotFound,void this.setState(adapter.nL.NotFound);supportTrust()?(this._readyState=adapter.Ok.Found,this._updateWallet()):this._checkWallet().then(()=>{this.connected&&this.emit("connect",this.address||"")})}get address(){return this._address}get state(){return this._state}get readyState(){return this._readyState}get connecting(){return this._connecting}network(){return __awaiter(this,void 0,void 0,function*(){try{if(yield this._checkWallet(),this.state!==adapter.nL.Connected)throw new errors.PQ;const wallet=this._wallet;if(!wallet||!wallet.tronWeb)throw new errors.PQ;try{return yield(0,esm_adapter.NA)(wallet.tronWeb)}catch(e){throw new errors.W0(null==e?void 0:e.message,e)}}catch(e){throw this.emit("error",e),e}})}connect(){return __awaiter(this,void 0,void 0,function*(){var _a;try{if(this.checkIfopenTrustWallet(),this.connected||this.connecting)return;if(yield this._checkWallet(),this.state===adapter.nL.NotFound)throw!1!==this.config.openUrlWhenWalletNotFound&&(0,utils.My)()&&window.open(this.url,"_blank"),new errors.hv;if(!this._wallet)return;this._connecting=!0;const wallet=this._wallet;try{const res=yield wallet.request({method:"tron_requestAccounts"});if(!res)throw new errors.Y6("Request connect error.");if(4e3===res.code)throw new errors.Y6("The same DApp has already initiated a request to connect to trustwallet, and the pop-up window has not been closed.");if(4001===res.code)throw new errors.Y6("The user rejected connection.")}catch(error){throw new errors.Y6(null==error?void 0:error.message,error)}const address=(null===(_a=wallet.tronWeb.defaultAddress)||void 0===_a?void 0:_a.base58)||"";this.setAddress(address),this.setState(adapter.nL.Connected),this._listenEvent(),this.connected&&this.emit("connect",this.address||"")}catch(error){throw this.emit("error",error),error}finally{this._connecting=!1}})}disconnect(){return __awaiter(this,void 0,void 0,function*(){this._stopListenEvent(),this.state===adapter.nL.Connected&&(this.setAddress(null),this.setState(adapter.nL.Disconnect),this.emit("disconnect"))})}signTransaction(transaction,privateKey){return __awaiter(this,void 0,void 0,function*(){try{const wallet=yield this.checkAndGetWallet();try{return yield wallet.tronWeb.trx.sign(transaction,privateKey)}catch(error){throw error instanceof Error?new errors.z4(error.message,error):new errors.z4(error,new Error(error))}}catch(error){throw this.emit("error",error),error}})}multiSign(transaction,privateKey,permissionId){return __awaiter(this,void 0,void 0,function*(){try{const wallet=yield this.checkAndGetWallet();try{return yield wallet.tronWeb.trx.multiSign(transaction,privateKey,permissionId)}catch(error){throw error instanceof Error?new errors.z4(error.message,error):new errors.z4(error,new Error(error))}}catch(error){throw this.emit("error",error),error}})}signMessage(message,privateKey){return __awaiter(this,void 0,void 0,function*(){try{const wallet=yield this.checkAndGetWallet();try{return yield wallet.tronWeb.trx.signMessageV2(message,privateKey)}catch(error){throw error instanceof Error?new errors.K3(error.message,error):new errors.K3(error,new Error(error))}}catch(error){throw this.emit("error",error),error}})}checkAndGetWallet(){return __awaiter(this,void 0,void 0,function*(){if(this.checkIfopenTrustWallet(),yield this._checkWallet(),this.state!==adapter.nL.Connected)throw new errors.PQ;const wallet=this._wallet;if(!wallet||!wallet.tronWeb)throw new errors.PQ;return wallet})}_listenEvent(){this._stopListenEvent(),window.addEventListener("message",this.messageHandler)}_stopListenEvent(){window.removeEventListener("message",this.messageHandler)}checkIfopenTrustWallet(){if(!1!==this.config.openAppWithDeeplink&&openTrustWallet())throw new errors.hv}_checkWallet(){if(this.readyState===adapter.Ok.Found)return Promise.resolve(!0);if(this._checkPromise)return this._checkPromise;const maxTimes=Math.floor(this.config.checkTimeout/100);let timer,times=0;return this._checkPromise=new Promise(resolve=>{const check=()=>{times++;const isSupport=supportTrust();(isSupport||times>maxTimes)&&(timer&&clearInterval(timer),this._readyState=isSupport?adapter.Ok.Found:adapter.Ok.NotFound,this._updateWallet(),this.emit("readyStateChanged",this.readyState),resolve(isSupport))};timer=setInterval(check,100),check()}),this._checkPromise}setAddress(address){this._address=address}setState(state){state!==this.state&&(this._state=state,this.emit("stateChanged",state))}}},"./node_modules/@wallet-standard/features/lib/cjs/connect.js":(__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Connect=exports.StandardConnect=void 0,exports.StandardConnect="standard:connect",exports.Connect=exports.StandardConnect},"./node_modules/@wallet-standard/features/lib/cjs/disconnect.js":(__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Disconnect=exports.StandardDisconnect=void 0,exports.StandardDisconnect="standard:disconnect",exports.Disconnect=exports.StandardDisconnect},"./node_modules/@wallet-standard/features/lib/cjs/events.js":(__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Events=exports.StandardEvents=void 0,exports.StandardEvents="standard:events",exports.Events=exports.StandardEvents},"./node_modules/@wallet-standard/features/lib/cjs/index.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k);var desc=Object.getOwnPropertyDescriptor(m,k);desc&&!("get"in desc?!m.__esModule:desc.writable||desc.configurable)||(desc={enumerable:!0,get:function(){return m[k]}}),Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__exportStar=this&&this.__exportStar||function(m,exports){for(var p in m)"default"===p||Object.prototype.hasOwnProperty.call(exports,p)||__createBinding(exports,m,p)};Object.defineProperty(exports,"__esModule",{value:!0}),__exportStar(__webpack_require__("./node_modules/@wallet-standard/features/lib/cjs/connect.js"),exports),__exportStar(__webpack_require__("./node_modules/@wallet-standard/features/lib/cjs/disconnect.js"),exports),__exportStar(__webpack_require__("./node_modules/@wallet-standard/features/lib/cjs/events.js"),exports)},"./node_modules/@walletconnect/solana-adapter/dist/adapter.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{K:()=>WalletConnectWalletAdapter});var WalletConnectChainID,WalletConnectRPCMethods,signer=__webpack_require__("./node_modules/@solana/wallet-adapter-base/lib/esm/signer.js"),adapter=__webpack_require__("./node_modules/@solana/wallet-adapter-base/lib/esm/adapter.js"),errors=__webpack_require__("./node_modules/@solana/wallet-adapter-base/lib/esm/errors.js"),types=__webpack_require__("./node_modules/@solana/wallet-adapter-base/lib/esm/types.js");!function(WalletConnectChainID){WalletConnectChainID.Mainnet="solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",WalletConnectChainID.Devnet="solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",WalletConnectChainID.Deprecated_Mainnet="solana:4sGjMW1sUnHzSxGspuhpqLDx6wiyjNtZ",WalletConnectChainID.Deprecated_Devnet="solana:8E9rvCKLFQia2Y35HXjjpWzj8weVo44K"}(WalletConnectChainID||(WalletConnectChainID={})),function(WalletConnectRPCMethods){WalletConnectRPCMethods.signTransaction="solana_signTransaction",WalletConnectRPCMethods.signMessage="solana_signMessage",WalletConnectRPCMethods.signAndSendTransaction="solana_signAndSendTransaction",WalletConnectRPCMethods.signAndSendAllTransactions="solana_signAndSendAllTransactions",WalletConnectRPCMethods.signAllTransactions="solana_signAllTransactions"}(WalletConnectRPCMethods||(WalletConnectRPCMethods={}));const SolanaChainIDs_Mainnet="solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",SolanaChainIDs_Devnet="solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",SolanaChainIDs_Deprecated_Mainnet="solana:4sGjMW1sUnHzSxGspuhpqLDx6wiyjNtZ",SolanaChainIDs_Deprecated_Devnet="solana:8E9rvCKLFQia2Y35HXjjpWzj8weVo44K";var esm_transaction=__webpack_require__("./node_modules/@solana/wallet-adapter-base/lib/esm/transaction.js"),index_browser_esm=__webpack_require__("./node_modules/@solana/web3.js/lib/index.browser.esm.js"),index_es=__webpack_require__("./node_modules/@walletconnect/universal-provider/dist/index.es.js"),basics=(__webpack_require__("./node_modules/@walletconnect/time/dist/cjs/index.js"),__webpack_require__("./node_modules/@walletconnect/window-getters/dist/cjs/index.js"),__webpack_require__("./node_modules/@walletconnect/window-metadata/dist/cjs/index.js"),__webpack_require__("./node_modules/@walletconnect/relay-auth/dist/index.es.js"),__webpack_require__("./node_modules/multiformats/esm/src/basics.js"));function createCodec(name,prefix,encode,decode){return{name,prefix,encoder:{name,prefix,encode},decoder:{decode}}}const string=createCodec("utf8","u",buf=>"u"+new TextDecoder("utf8").decode(buf),str=>(new TextEncoder).encode(str.substring(1))),ascii=createCodec("ascii","a",buf=>{let string="a";for(let i=0;i<buf.length;i++)string+=String.fromCharCode(buf[i]);return string},str=>{const buf=function allocUnsafe(size=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?globalThis.Buffer.allocUnsafe(size):new Uint8Array(size)}((str=str.substring(1)).length);for(let i=0;i<str.length;i++)buf[i]=str.charCodeAt(i);return buf});basics.Fo.base16,basics.Fo;__webpack_require__("./node_modules/elliptic/lib/elliptic.js"),__webpack_require__("./node_modules/@walletconnect/relay-api/dist/index.es.js"),__webpack_require__("./node_modules/process/browser.js"),__webpack_require__("./node_modules/console-browserify/index.js"),__webpack_require__("./node_modules/buffer/index.js").Buffer;function Xe(e){const[t,n,r]=e.split(":");return{namespace:t,reference:n,address:r}}function Ne(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function je(e,...t){if(!function xo(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function ot(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");Ne(e.outputLen),Ne(e.blockLen)}function me(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function sn(e,t){je(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const Ce=BigInt(2**32-1),cn=BigInt(32);function Oo(e,t=!1){return t?{h:Number(e&Ce),l:Number(e>>cn&Ce)}:{h:0|Number(e>>cn&Ce),l:0|Number(e&Ce)}}const be="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;function st(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function J(e,t){return e<<32-t|e>>>t}const an=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0];function To(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}function un(e){for(let t=0;t<e.length;t++)e[t]=To(e[t])}function we(e){return"string"==typeof e&&(e=function $o(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}(e)),je(e),e}class it{clone(){return this._cloneInto()}}function fn(e){const t=r=>e().update(we(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function Se(e=32){if(be&&"function"==typeof be.getRandomValues)return be.getRandomValues(new Uint8Array(e));if(be&&"function"==typeof be.randomBytes)return be.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")}const ln=[],dn=[],hn=[],Ro=BigInt(0),Ue=BigInt(1),Po=BigInt(2),Lo=BigInt(7),Bo=BigInt(256),jo=BigInt(113);for(let e=0,t=Ue,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],ln.push(2*(5*r+n)),dn.push((e+1)*(e+2)/2%64);let o=Ro;for(let s=0;s<7;s++)t=(t<<Ue^(t>>Lo)*jo)%Bo,t&Po&&(o^=Ue<<(Ue<<BigInt(s))-Ue);hn.push(o)}const[Co,ko]=function Io(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let o=0;o<e.length;o++){const{h:s,l:i}=Oo(e[o],t);[n[o],r[o]]=[s,i]}return[n,r]}(hn,!0),pn=(e,t,n)=>n>32?((e,t,n)=>t<<n-32|e>>>64-n)(e,t,n):((e,t,n)=>e<<n|t>>>32-n)(e,t,n),gn=(e,t,n)=>n>32?((e,t,n)=>e<<n-32|t>>>64-n)(e,t,n):((e,t,n)=>t<<n|e>>>32-n)(e,t,n);class Bt extends it{constructor(t,n,r,o=!1,s=24){if(super(),this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=o,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Ne(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=function _o(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}(this.state)}keccak(){an||un(this.state32),function Do(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let i=0;i<10;i++)n[i]=e[i]^e[i+10]^e[i+20]^e[i+30]^e[i+40];for(let i=0;i<10;i+=2){const c=(i+8)%10,u=(i+2)%10,a=n[u],l=n[u+1],f=pn(a,l,1)^n[c],d=gn(a,l,1)^n[c+1];for(let g=0;g<50;g+=10)e[i+g]^=f,e[i+g+1]^=d}let o=e[2],s=e[3];for(let i=0;i<24;i++){const c=dn[i],u=pn(o,s,c),a=gn(o,s,c),l=ln[i];o=e[l],s=e[l+1],e[l]=u,e[l+1]=a}for(let i=0;i<50;i+=10){for(let c=0;c<10;c++)n[c]=e[i+c];for(let c=0;c<10;c++)e[i+c]^=~n[(c+2)%10]&n[(c+4)%10]}e[0]^=Co[r],e[1]^=ko[r]}n.fill(0)}(this.state32,this.rounds),an||un(this.state32),this.posOut=0,this.pos=0}update(t){me(this);const{blockLen:n,state:r}=this,o=(t=we(t)).length;for(let s=0;s<o;){const i=Math.min(n-this.pos,o-s);for(let c=0;c<i;c++)r[this.pos++]^=t[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:o}=this;t[r]^=n,!!(128&n)&&r===o-1&&this.keccak(),t[o-1]^=128,this.keccak()}writeInto(t){me(this,!1),je(t),this.finish();const n=this.state,{blockLen:r}=this;for(let o=0,s=t.length;o<s;){this.posOut>=r&&this.keccak();const i=Math.min(r-this.posOut,s-o);t.set(n.subarray(this.posOut,this.posOut+i),o),this.posOut+=i,o+=i}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return Ne(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(sn(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:o,rounds:s,enableXOF:i}=this;return t||(t=new Bt(n,r,o,i,s)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=s,t.suffix=r,t.outputLen=o,t.enableXOF=i,t.destroyed=this.destroyed,t}}((e,t,n)=>{fn(()=>new Bt(t,e,n))})(1,136,32);Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;function ht(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function Ln(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function F(e,...t){if(!Ln(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function Bn(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function jn(e){if("boolean"!=typeof e)throw new Error(`boolean expected, not ${e}`)}const se=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4));if(!(68===new Uint8Array(new Uint32Array([287454020]).buffer)[0]))throw new Error("Non little-endian hardware is not supported");function pt(e){if("string"==typeof e)e=function as(e){if("string"!=typeof e)throw new Error("string expected");return new Uint8Array((new TextEncoder).encode(e))}(e);else{if(!Ln(e))throw new Error("Uint8Array expected, got "+typeof e);e=gt(e)}return e}function Cn(e,t,n=!0){if(void 0===t)return new Uint8Array(e);if(t.length!==e)throw new Error("invalid output length, expected "+e+", got: "+t.length);if(n&&!function ds(e){return e.byteOffset%4==0}(t))throw new Error("invalid output, must be aligned");return t}function kn(e,t,n,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,r);const o=BigInt(32),s=BigInt(4294967295),i=Number(n>>o&s),c=Number(n&s),u=r?4:0,a=r?0:4;e.setUint32(t+u,i,r),e.setUint32(t+a,c,r)}function gt(e){return Uint8Array.from(e)}function Ee(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}const Dn=e=>Uint8Array.from(e.split("").map(t=>t.charCodeAt(0))),hs=Dn("expand 16-byte k"),ps=Dn("expand 32-byte k"),gs=se(hs),ys=se(ps);function x(e,t){return e<<t|e>>>32-t}function yt(e){return e.byteOffset%4==0}const Mn=2**32-1,Vn=new Uint32Array;const M=(e,t)=>255&e[t++]|(255&e[t++])<<8;class Es{constructor(t){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,F(t=pt(t),32);const n=M(t,0),r=M(t,2),o=M(t,4),s=M(t,6),i=M(t,8),c=M(t,10),u=M(t,12),a=M(t,14);this.r[0]=8191&n,this.r[1]=8191&(n>>>13|r<<3),this.r[2]=7939&(r>>>10|o<<6),this.r[3]=8191&(o>>>7|s<<9),this.r[4]=255&(s>>>4|i<<12),this.r[5]=i>>>1&8190,this.r[6]=8191&(i>>>14|c<<2),this.r[7]=8065&(c>>>11|u<<5),this.r[8]=8191&(u>>>8|a<<8),this.r[9]=a>>>5&127;for(let l=0;l<8;l++)this.pad[l]=M(t,16+2*l)}process(t,n,r=!1){const o=r?0:2048,{h:s,r:i}=this,c=i[0],u=i[1],a=i[2],l=i[3],f=i[4],d=i[5],g=i[6],y=i[7],h=i[8],m=i[9],B=M(t,n+0),b=M(t,n+2),_=M(t,n+4),I=M(t,n+6),k=M(t,n+8),E=M(t,n+10),L=M(t,n+12),j=M(t,n+14);let v=s[0]+(8191&B),O=s[1]+(8191&(B>>>13|b<<3)),w=s[2]+(8191&(b>>>10|_<<6)),R=s[3]+(8191&(_>>>7|I<<9)),A=s[4]+(8191&(I>>>4|k<<12)),T=s[5]+(k>>>1&8191),N=s[6]+(8191&(k>>>14|E<<2)),S=s[7]+(8191&(E>>>11|L<<5)),U=s[8]+(8191&(L>>>8|j<<8)),$=s[9]+(j>>>5|o),p=0,C=p+v*c+O*(5*m)+w*(5*h)+R*(5*y)+A*(5*g);p=C>>>13,C&=8191,C+=T*(5*d)+N*(5*f)+S*(5*l)+U*(5*a)+$*(5*u),p+=C>>>13,C&=8191;let D=p+v*u+O*c+w*(5*m)+R*(5*h)+A*(5*y);p=D>>>13,D&=8191,D+=T*(5*g)+N*(5*d)+S*(5*f)+U*(5*l)+$*(5*a),p+=D>>>13,D&=8191;let P=p+v*a+O*u+w*c+R*(5*m)+A*(5*h);p=P>>>13,P&=8191,P+=T*(5*y)+N*(5*g)+S*(5*d)+U*(5*f)+$*(5*l),p+=P>>>13,P&=8191;let G=p+v*l+O*a+w*u+R*c+A*(5*m);p=G>>>13,G&=8191,G+=T*(5*h)+N*(5*y)+S*(5*g)+U*(5*d)+$*(5*f),p+=G>>>13,G&=8191;let X=p+v*f+O*l+w*a+R*u+A*c;p=X>>>13,X&=8191,X+=T*(5*m)+N*(5*h)+S*(5*y)+U*(5*g)+$*(5*d),p+=X>>>13,X&=8191;let Z=p+v*d+O*f+w*l+R*a+A*u;p=Z>>>13,Z&=8191,Z+=T*c+N*(5*m)+S*(5*h)+U*(5*y)+$*(5*g),p+=Z>>>13,Z&=8191;let he=p+v*g+O*d+w*f+R*l+A*a;p=he>>>13,he&=8191,he+=T*u+N*c+S*(5*m)+U*(5*h)+$*(5*y),p+=he>>>13,he&=8191;let pe=p+v*y+O*g+w*d+R*f+A*l;p=pe>>>13,pe&=8191,pe+=T*a+N*u+S*c+U*(5*m)+$*(5*h),p+=pe>>>13,pe&=8191;let ge=p+v*h+O*y+w*g+R*d+A*f;p=ge>>>13,ge&=8191,ge+=T*l+N*a+S*u+U*c+$*(5*m),p+=ge>>>13,ge&=8191;let ye=p+v*m+O*h+w*y+R*g+A*d;p=ye>>>13,ye&=8191,ye+=T*f+N*l+S*a+U*u+$*c,p+=ye>>>13,ye&=8191,p=(p<<2)+p|0,p=p+C|0,C=8191&p,p>>>=13,D+=p,s[0]=C,s[1]=D,s[2]=P,s[3]=G,s[4]=X,s[5]=Z,s[6]=he,s[7]=pe,s[8]=ge,s[9]=ye}finalize(){const{h:t,pad:n}=this,r=new Uint16Array(10);let o=t[1]>>>13;t[1]&=8191;for(let c=2;c<10;c++)t[c]+=o,o=t[c]>>>13,t[c]&=8191;t[0]+=5*o,o=t[0]>>>13,t[0]&=8191,t[1]+=o,o=t[1]>>>13,t[1]&=8191,t[2]+=o,r[0]=t[0]+5,o=r[0]>>>13,r[0]&=8191;for(let c=1;c<10;c++)r[c]=t[c]+o,o=r[c]>>>13,r[c]&=8191;r[9]-=8192;let s=(1^o)-1;for(let c=0;c<10;c++)r[c]&=s;s=~s;for(let c=0;c<10;c++)t[c]=t[c]&s|r[c];t[0]=65535&(t[0]|t[1]<<13),t[1]=65535&(t[1]>>>3|t[2]<<10),t[2]=65535&(t[2]>>>6|t[3]<<7),t[3]=65535&(t[3]>>>9|t[4]<<4),t[4]=65535&(t[4]>>>12|t[5]<<1|t[6]<<14),t[5]=65535&(t[6]>>>2|t[7]<<11),t[6]=65535&(t[7]>>>5|t[8]<<8),t[7]=65535&(t[8]>>>8|t[9]<<5);let i=t[0]+n[0];t[0]=65535&i;for(let c=1;c<8;c++)i=(t[c]+n[c]|0)+(i>>>16)|0,t[c]=65535&i;Ee(r)}update(t){Bn(this);const{buffer:n,blockLen:r}=this,o=(t=pt(t)).length;for(let s=0;s<o;){const i=Math.min(r-this.pos,o-s);if(i!==r)n.set(t.subarray(s,s+i),this.pos),this.pos+=i,s+=i,this.pos===r&&(this.process(n,0,!1),this.pos=0);else for(;r<=o-s;s+=r)this.process(t,s)}return this}destroy(){Ee(this.h,this.r,this.buffer,this.pad)}digestInto(t){Bn(this),function ss(e,t){F(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}(t,this),this.finished=!0;const{buffer:n,h:r}=this;let{pos:o}=this;if(o){for(n[o++]=1;o<16;o++)n[o]=0;this.process(n,0,!0)}this.finalize();let s=0;for(let i=0;i<8;i++)t[s++]=r[i]>>>0,t[s++]=r[i]>>>8;return t}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}}const xs=function vs(e){const t=(r,o)=>e(o).update(pt(r)).digest(),n=e(new Uint8Array(32));return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=r=>e(r),t}(e=>new Es(e));const Is=function ws(e,t){const{allowShortKeys:n,extendNonceFn:r,counterLength:o,counterRight:s,rounds:i}=function us(e,t){if(null==t||"object"!=typeof t)throw new Error("options must be defined");return Object.assign(e,t)}({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t);if("function"!=typeof e)throw new Error("core must be a function");return ht(o),ht(i),jn(s),jn(n),(c,u,a,l,f=0)=>{F(c),F(u),F(a);const d=a.length;if(void 0===l&&(l=new Uint8Array(d)),F(l),ht(f),f<0||f>=Mn)throw new Error("arx: counter overflow");if(l.length<d)throw new Error(`arx: output (${l.length}) is shorter than data (${d})`);const g=[];let h,m,y=c.length;if(32===y)g.push(h=gt(c)),m=ys;else{if(16!==y||!n)throw new Error(`arx: invalid 32-byte key, got length=${y}`);h=new Uint8Array(32),h.set(c),h.set(c,16),m=gs,g.push(h)}yt(u)||g.push(u=gt(u));const B=se(h);if(r){if(24!==u.length)throw new Error("arx: extended nonce must be 24 bytes");r(m,B,se(u.subarray(0,16)),B),u=u.subarray(16)}const b=16-o;if(b!==u.length)throw new Error(`arx: nonce must be ${b} or 16 bytes`);if(12!==b){const I=new Uint8Array(12);I.set(u,s?0:12-u.length),u=I,g.push(u)}const _=se(u);return function bs(e,t,n,r,o,s,i,c){const u=o.length,a=new Uint8Array(64),l=se(a),f=yt(o)&&yt(s),d=f?se(o):Vn,g=f?se(s):Vn;for(let y=0;y<u;i++){if(e(t,n,r,l,i,c),i>=Mn)throw new Error("arx: counter overflow");const h=Math.min(64,u-y);if(f&&64===h){const m=y/4;if(y%4!=0)throw new Error("arx: invalid block position");for(let b,B=0;B<16;B++)b=m+B,g[b]=d[b]^l[B];y+=64;continue}for(let B,m=0;m<h;m++)B=y+m,s[B]=o[B]^a[m];y+=h}}(e,m,B,_,a,l,f,i),Ee(...g),l}}(function Os(e,t,n,r,o,s=20){let i=e[0],c=e[1],u=e[2],a=e[3],l=t[0],f=t[1],d=t[2],g=t[3],y=t[4],h=t[5],m=t[6],B=t[7],b=o,_=n[0],I=n[1],k=n[2],E=i,L=c,j=u,v=a,O=l,w=f,R=d,A=g,T=y,N=h,S=m,U=B,$=b,p=_,C=I,D=k;for(let G=0;G<s;G+=2)E=E+O|0,$=x($^E,16),T=T+$|0,O=x(O^T,12),E=E+O|0,$=x($^E,8),T=T+$|0,O=x(O^T,7),L=L+w|0,p=x(p^L,16),N=N+p|0,w=x(w^N,12),L=L+w|0,p=x(p^L,8),N=N+p|0,w=x(w^N,7),j=j+R|0,C=x(C^j,16),S=S+C|0,R=x(R^S,12),j=j+R|0,C=x(C^j,8),S=S+C|0,R=x(R^S,7),v=v+A|0,D=x(D^v,16),U=U+D|0,A=x(A^U,12),v=v+A|0,D=x(D^v,8),U=U+D|0,A=x(A^U,7),E=E+w|0,D=x(D^E,16),S=S+D|0,w=x(w^S,12),E=E+w|0,D=x(D^E,8),S=S+D|0,w=x(w^S,7),L=L+R|0,$=x($^L,16),U=U+$|0,R=x(R^U,12),L=L+R|0,$=x($^L,8),U=U+$|0,R=x(R^U,7),j=j+A|0,p=x(p^j,16),T=T+p|0,A=x(A^T,12),j=j+A|0,p=x(p^j,8),T=T+p|0,A=x(A^T,7),v=v+O|0,C=x(C^v,16),N=N+C|0,O=x(O^N,12),v=v+O|0,C=x(C^v,8),N=N+C|0,O=x(O^N,7);let P=0;r[P++]=i+E|0,r[P++]=c+L|0,r[P++]=u+j|0,r[P++]=a+v|0,r[P++]=l+O|0,r[P++]=f+w|0,r[P++]=d+R|0,r[P++]=g+A|0,r[P++]=y+T|0,r[P++]=h+N|0,r[P++]=m+S|0,r[P++]=B+U|0,r[P++]=b+$|0,r[P++]=_+p|0,r[P++]=I+C|0,r[P++]=k+D|0},{counterRight:!1,counterLength:4,allowShortKeys:!1}),As=new Uint8Array(16),Hn=(e,t)=>{e.update(t);const n=t.length%16;n&&e.update(As.subarray(n))},Ns=new Uint8Array(32);function Kn(e,t,n,r,o){const s=e(t,n,Ns),i=xs.create(s);o&&Hn(i,o),Hn(i,r);const c=new Uint8Array(16),u=(e=>new DataView(e.buffer,e.byteOffset,e.byteLength))(c);kn(u,0,BigInt(o?o.length:0),!0),kn(u,8,BigInt(r.length),!0),i.update(c);const a=i.digest();return Ee(s,c),a}((e,t)=>{function n(r,...o){if(F(r),void 0!==e.nonceLength){const l=o[0];if(!l)throw new Error("nonce / iv required");e.varSizeNonce?F(l):F(l,e.nonceLength)}const s=e.tagLength;s&&void 0!==o[1]&&F(o[1]);const i=t(r,...o),c=(l,f)=>{if(void 0!==f){if(2!==l)throw new Error("cipher output not supported");F(f)}};let u=!1;return{encrypt(l,f){if(u)throw new Error("cannot encrypt() twice with same key + nonce");return u=!0,F(l),c(i.encrypt.length,f),i.encrypt(l,f)},decrypt(l,f){if(F(l),s&&l.length<s)throw new Error("invalid ciphertext length: smaller than tagLength="+s);return c(i.decrypt.length,f),i.decrypt(l,f)}}}Object.assign(n,e)})({blockSize:64,nonceLength:12,tagLength:16},(e=>(t,n,r)=>({encrypt(s,i){const c=s.length;(i=Cn(c+16,i,!1)).set(s);const u=i.subarray(0,-16);e(t,n,u,u,1);const a=Kn(e,t,n,u,r);return i.set(a,c),Ee(a),i},decrypt(s,i){i=Cn(s.length-16,i,!1);const c=s.subarray(0,-16),u=s.subarray(-16),a=Kn(e,t,n,c,r);if(!function fs(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return 0===n}(u,a))throw new Error("invalid tag");return i.set(s.subarray(0,-16)),e(t,n,i,i,1),Ee(a),i}}))(Is));class qn extends it{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,ot(t);const r=we(n);if(this.iHash=t.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const o=this.blockLen,s=new Uint8Array(o);s.set(r.length>o?t.create().update(r).digest():r);for(let i=0;i<s.length;i++)s[i]^=54;this.iHash.update(s),this.oHash=t.create();for(let i=0;i<s.length;i++)s[i]^=106;this.oHash.update(s),s.fill(0)}update(t){return me(this),this.iHash.update(t),this}digestInto(t){me(this),je(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:o,destroyed:s,blockLen:i,outputLen:c}=this;return t.finished=o,t.destroyed=s,t.blockLen=i,t.outputLen=c,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const mt=(e,t,n)=>new qn(e,t).update(n).digest();mt.create=(e,t)=>new qn(e,t);new Uint8Array([0]),new Uint8Array;function Rs(e,t,n){return e&t^~e&n}function Ps(e,t,n){return e&t^e&n^t&n}class Ls extends it{constructor(t,n,r,o){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=st(this.buffer)}update(t){me(this);const{view:n,buffer:r,blockLen:o}=this,s=(t=we(t)).length;for(let i=0;i<s;){const c=Math.min(o-this.pos,s-i);if(c===o){const u=st(t);for(;o<=s-i;i+=o)this.process(u,i);continue}r.set(t.subarray(i,i+c),this.pos),this.pos+=c,i+=c,this.pos===o&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){me(this),sn(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:o,isLE:s}=this;let{pos:i}=this;n[i++]=128,this.buffer.subarray(i).fill(0),this.padOffset>o-i&&(this.process(r,0),i=0);for(let f=i;f<o;f++)n[f]=0;(function $s(e,t,n,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,r);const o=BigInt(32),s=BigInt(4294967295),i=Number(n>>o&s),c=Number(n&s),u=r?4:0,a=r?0:4;e.setUint32(t+u,i,r),e.setUint32(t+a,c,r)})(r,o-8,BigInt(8*this.length),s),this.process(r,0);const c=st(t),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const a=u/4,l=this.get();if(a>l.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<a;f++)c.setUint32(4*f,l[f],s)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:o,finished:s,destroyed:i,pos:c}=this;return t.length=o,t.pos=c,t.finished=s,t.destroyed=i,o%n&&t.buffer.set(r),t}}const Bs=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ie=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ce=new Uint32Array(64);class js extends Ls{constructor(){super(64,32,8,!1),this.A=0|ie[0],this.B=0|ie[1],this.C=0|ie[2],this.D=0|ie[3],this.E=0|ie[4],this.F=0|ie[5],this.G=0|ie[6],this.H=0|ie[7]}get(){const{A:t,B:n,C:r,D:o,E:s,F:i,G:c,H:u}=this;return[t,n,r,o,s,i,c,u]}set(t,n,r,o,s,i,c,u){this.A=0|t,this.B=0|n,this.C=0|r,this.D=0|o,this.E=0|s,this.F=0|i,this.G=0|c,this.H=0|u}process(t,n){for(let f=0;f<16;f++,n+=4)ce[f]=t.getUint32(n,!1);for(let f=16;f<64;f++){const d=ce[f-15],g=ce[f-2],y=J(d,7)^J(d,18)^d>>>3,h=J(g,17)^J(g,19)^g>>>10;ce[f]=h+ce[f-7]+y+ce[f-16]|0}let{A:r,B:o,C:s,D:i,E:c,F:u,G:a,H:l}=this;for(let f=0;f<64;f++){const g=l+(J(c,6)^J(c,11)^J(c,25))+Rs(c,u,a)+Bs[f]+ce[f]|0,h=(J(r,2)^J(r,13)^J(r,22))+Ps(r,o,s)|0;l=a,a=u,u=c,c=i+g|0,i=s,s=o,o=r,r=g+h|0}r=r+this.A|0,o=o+this.B|0,s=s+this.C|0,i=i+this.D|0,c=c+this.E|0,u=u+this.F|0,a=a+this.G|0,l=l+this.H|0,this.set(r,o,s,i,c,u,a,l)}roundClean(){ce.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}fn(()=>new js);const Wn=BigInt(0);function wt(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function zn(e){if(!wt(e))throw new Error("Uint8Array expected")}const Cs=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));const ee__0=48,ee__9=57,ee_A=65,ee_F=70,ee_a=97,ee_f=102;function Jn(e){return e>=ee__0&&e<=ee__9?e-ee__0:e>=ee_A&&e<=ee_F?e-(ee_A-10):e>=ee_a&&e<=ee_f?e-(ee_a-10):void 0}function Yn(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let o=0,s=0;o<n;o++,s+=2){const i=Jn(e.charCodeAt(s)),c=Jn(e.charCodeAt(s+1));if(void 0===i||void 0===c){const u=e[s]+e[s+1];throw new Error('hex string expected, got non-hex character "'+u+'" at index '+s)}r[o]=16*i+c}return r}function Xn(e){return zn(e),function Ds(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return""===e?Wn:BigInt("0x"+e)}(function ks(e){zn(e);let t="";for(let n=0;n<e.length;n++)t+=Cs[e[n]];return t}(Uint8Array.from(e).reverse()))}function Vs(e,t){return function Ms(e,t){return Yn(e.toString(16).padStart(2*t,"0"))}(e,t).reverse()}function Zn(e,t,n){let r;if("string"==typeof t)try{r=Yn(t)}catch(s){throw new Error(e+" must be hex string or Uint8Array, cause: "+s)}else{if(!wt(t))throw new Error(e+" must be hex string or Uint8Array");r=Uint8Array.from(t)}const o=r.length;if("number"==typeof n&&o!==n)throw new Error(e+" of length "+n+" expected, got "+o);return r}const Et=e=>"bigint"==typeof e&&Wn<=e;function Qn(e,t,n,r){if(!function Hs(e,t,n){return Et(e)&&Et(t)&&Et(n)&&t<=e&&e<n}(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}const Ks={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||wt(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};const ve=BigInt(0),Ke=BigInt(1);function er(e,t){const n=e%t;return n>=ve?n:t+n}function z(e,t,n){let r=e;for(;t-- >ve;)r*=r,r%=n;return r}BigInt(0),BigInt(1),BigInt(0),BigInt(1),BigInt(2),BigInt(8);const xe=BigInt(0),vt=BigInt(1);function Gs(e){return function Fs(e,t,n={}){const r=(o,s,i)=>{const c=Ks[s];if("function"!=typeof c)throw new Error("invalid validator function");const u=e[o];if(!(i&&void 0===u||c(u,e)))throw new Error("param "+String(o)+" is invalid. Expected "+s+", got "+u)};for(const[o,s]of Object.entries(t))r(o,s,!1);for(const[o,s]of Object.entries(n))r(o,s,!0);return e}(e,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...e})}const xt=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949");BigInt(0);const zs=BigInt(1),tr=BigInt(2),Js=BigInt(3),Ys=BigInt(5);BigInt(8);(function Ws(e){const t=Gs(e),{P:n}=t,r=b=>er(b,n),o=t.montgomeryBits,s=Math.ceil(o/8),i=t.nByteLength,c=t.adjustScalarBytes||(b=>b),u=t.powPminus2||(b=>function qs(e,t,n){if(t<ve)throw new Error("invalid exponent, negatives unsupported");if(n<=ve)throw new Error("invalid modulus");if(n===Ke)return ve;let r=Ke;for(;t>ve;)t&Ke&&(r=r*e%n),e=e*e%n,t>>=Ke;return r}(b,n-BigInt(2),n));function a(b,_,I){const k=r(b*(_-I));return[_=r(_-k),I=r(I+k)]}const l=(t.a-BigInt(2))/BigInt(4);function d(b){return Vs(r(b),s)}function h(b,_){const I=function g(b){const _=Zn("u coordinate",b,s);return 32===i&&(_[31]&=127),Xn(_)}(_),k=function y(b){const _=Zn("scalar",b),I=_.length;if(I!==s&&I!==i)throw new Error("invalid scalar, expected "+s+" or "+i+" bytes, got "+I);return Xn(c(_))}(b),E=function f(b,_){Qn("u",b,xe,n),Qn("scalar",_,xe,n);const I=_,k=b;let w,E=vt,L=xe,j=b,v=vt,O=xe;for(let A=BigInt(o-1);A>=xe;A--){const T=I>>A&vt;O^=T,w=a(O,E,j),E=w[0],j=w[1],w=a(O,L,v),L=w[0],v=w[1],O=T;const N=E+L,S=r(N*N),U=E-L,$=r(U*U),p=S-$,C=j+v,P=r((j-v)*N),G=r(C*U),X=P+G,Z=P-G;j=r(X*X),v=r(k*r(Z*Z)),E=r(S*$),L=r(p*(S+r(l*p)))}w=a(O,E,j),E=w[0],j=w[1],w=a(O,L,v),L=w[0],v=w[1];const R=u(L);return r(E*R)}(I,k);if(E===xe)throw new Error("invalid private or public key received");return d(E)}const m=d(t.Gu);function B(b){return h(b,m)}return{scalarMult:h,scalarMultBase:B,getSharedSecret:(b,_)=>h(b,_),getPublicKey:b=>B(b),utils:{randomPrivateKey:()=>t.randomBytes(t.nByteLength)},GuBytes:m}})({P:xt,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:e=>{const t=xt,{pow_p_5_8:n,b2:r}=function Xs(e){const t=BigInt(10),n=BigInt(20),r=BigInt(40),o=BigInt(80),s=xt,c=e*e%s*e%s,u=z(c,tr,s)*c%s,a=z(u,zs,s)*e%s,l=z(a,Ys,s)*a%s,f=z(l,t,s)*l%s,d=z(f,n,s)*f%s,g=z(d,r,s)*d%s,y=z(g,o,s)*g%s,h=z(y,o,s)*g%s,m=z(h,t,s)*l%s;return{pow_p_5_8:z(m,tr,s)*e%s,b2:c}}(e);return er(z(n,Js,t)*r,t)},adjustScalarBytes:function Zs(e){return e[0]&=248,e[31]&=127,e[31]|=64,e},randomBytes:Se});Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;var vanilla=__webpack_require__("./node_modules/valtio/esm/vanilla.mjs"),utils=__webpack_require__("./node_modules/valtio/esm/vanilla/utils.mjs");const ConstantsUtil={WC_NAME_SUFFIX:".reown.id",WC_NAME_SUFFIX_LEGACY:".wcn.id",BLOCKCHAIN_API_RPC_URL:"https://rpc.walletconnect.org",PULSE_API_URL:"https://pulse.walletconnect.org",W3M_API_URL:"https://api.web3modal.org",CONNECTOR_ID:{WALLET_CONNECT:"walletConnect",INJECTED:"injected",WALLET_STANDARD:"announced",COINBASE:"coinbaseWallet",COINBASE_SDK:"coinbaseWalletSDK",SAFE:"safe",LEDGER:"ledger",OKX:"okx",EIP6963:"eip6963",AUTH:"ID_AUTH"},CONNECTOR_NAMES:{AUTH:"Auth"},AUTH_CONNECTOR_SUPPORTED_CHAINS:["eip155","solana"],LIMITS:{PENDING_TRANSACTIONS:99},CHAIN:{EVM:"eip155",SOLANA:"solana",POLKADOT:"polkadot",BITCOIN:"bip122"},CHAIN_NAME_MAP:{eip155:"EVM Networks",solana:"Solana",polkadot:"Polkadot",bip122:"Bitcoin"},ADAPTER_TYPES:{BITCOIN:"bitcoin",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5"},USDT_CONTRACT_ADDRESSES:["0xdac17f958d2ee523a2206206994597c13d831ec7","0xc2132d05d31c914a87c6611c10748aeb04b58e8f","0x9702230a8ea53601f5cd2dc00fdbc13d4df4a8c7","0x919C1c267BC06a7039e03fcc2eF738525769109c","0x48065fbBE25f71C9282ddf5e1cD6D6A887483D5e","0x55d398326f99059fF775485246999027B3197955","0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9"],HTTP_STATUS_CODES:{SERVICE_UNAVAILABLE:503,FORBIDDEN:403},UNSUPPORTED_NETWORK_NAME:"Unknown Network"};function getW3mThemeVariables(themeVariables,themeType){return"light"===themeType?{"--w3m-accent":themeVariables?.["--w3m-accent"]||"hsla(231, 100%, 70%, 1)","--w3m-background":"#fff"}:{"--w3m-accent":themeVariables?.["--w3m-accent"]||"hsla(230, 100%, 67%, 1)","--w3m-background":"#121313"}}const NetworkUtil={caipNetworkIdToNumber:caipnetworkId=>caipnetworkId?Number(caipnetworkId.split(":")[1]):void 0,parseEvmChainId(chainId){return"string"==typeof chainId?this.caipNetworkIdToNumber(chainId):chainId},getNetworksByNamespace:(networks,namespace)=>networks?.filter(network=>network.chainNamespace===namespace)||[],getFirstNetworkByNamespace(networks,namespace){return this.getNetworksByNamespace(networks,namespace)[0]}};function checkNamespaceConnectorId(namespace,connectorId){return ConnectorController.getConnectorId(namespace)===connectorId}var ConstantsUtil_process=__webpack_require__("./node_modules/process/browser.js");const SECURE_SITE=(void 0!==ConstantsUtil_process&&void 0!==ConstantsUtil_process.env?ConstantsUtil_process.env.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",ConstantsUtil_ConstantsUtil={FOUR_MINUTES_MS:24e4,TEN_SEC_MS:1e4,FIVE_SEC_MS:5e3,THREE_SEC_MS:3e3,ONE_SEC_MS:1e3,SECURE_SITE,SECURE_SITE_DASHBOARD:`${SECURE_SITE}/dashboard`,SECURE_SITE_FAVICON:`${SECURE_SITE}/images/favicon.png`,RESTRICTED_TIMEZONES:["ASIA/SHANGHAI","ASIA/URUMQI","ASIA/CHONGQING","ASIA/HARBIN","ASIA/KASHGAR","ASIA/MACAU","ASIA/HONG_KONG","ASIA/MACAO","ASIA/BEIJING","ASIA/HARBIN"],WC_COINBASE_PAY_SDK_CHAINS:["ethereum","arbitrum","polygon","berachain","avalanche-c-chain","optimism","celo","base"],WC_COINBASE_PAY_SDK_FALLBACK_CHAIN:"ethereum",WC_COINBASE_PAY_SDK_CHAIN_NAME_MAP:{Ethereum:"ethereum","Arbitrum One":"arbitrum",Polygon:"polygon",Berachain:"berachain",Avalanche:"avalanche-c-chain","OP Mainnet":"optimism",Celo:"celo",Base:"base"},WC_COINBASE_ONRAMP_APP_ID:"bf18c88d-495a-463b-b249-0b9d3656cf5e",SWAP_SUGGESTED_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP"],SWAP_POPULAR_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP","METAL","DAI","CHAMP","WOLF","SALE","BAL","BUSD","MUST","BTCpx","ROUTE","HEX","WELT","amDAI","VSQ","VISION","AURUM","pSP","SNX","VC","LINK","CHP","amUSDT","SPHERE","FOX","GIDDY","GFC","OMEN","OX_OLD","DE","WNT"],BALANCE_SUPPORTED_CHAINS:["eip155","solana"],SWAP_SUPPORTED_NETWORKS:["eip155:1","eip155:42161","eip155:10","eip155:324","eip155:8453","eip155:56","eip155:137","eip155:100","eip155:43114","eip155:250","eip155:8217","eip155:1313161554"],NAMES_SUPPORTED_CHAIN_NAMESPACES:["eip155"],ONRAMP_SUPPORTED_CHAIN_NAMESPACES:["eip155","solana"],ACTIVITY_ENABLED_CHAIN_NAMESPACES:["eip155","solana"],NATIVE_TOKEN_ADDRESS:{eip155:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",solana:"So11111111111111111111111111111111111111111",polkadot:"0x",bip122:"0x"},CONVERT_SLIPPAGE_TOLERANCE:1,CONNECT_LABELS:{MOBILE:"Open and continue in a new browser tab"},DEFAULT_FEATURES:{swaps:!0,onramp:!0,receive:!0,send:!0,email:!0,emailShowWallets:!0,socials:["google","x","discord","farcaster","github","apple","facebook"],connectorTypeOrder:["walletConnect","recent","injected","featured","custom","external","recommended"],history:!0,analytics:!0,allWallets:!0,legalCheckbox:!1,smartSessions:!1,collapseWallets:!1,walletFeaturesOrder:["onramp","swaps","receive","send"],connectMethodsOrder:void 0},DEFAULT_ACCOUNT_TYPES:{bip122:"payment",eip155:"smartAccount",polkadot:"eoa",solana:"eoa"},ADAPTER_TYPES:{UNIVERSAL:"universal",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5",BITCOIN:"bitcoin"}},SafeLocalStorageKeys_ACTIVE_CAIP_NETWORK_ID="@appkit/active_caip_network_id",SafeLocalStorageKeys_CONNECTED_SOCIAL="@appkit/connected_social",SafeLocalStorageKeys_CONNECTED_SOCIAL_USERNAME="@appkit-wallet/SOCIAL_USERNAME",SafeLocalStorageKeys_RECENT_WALLETS="@appkit/recent_wallets",SafeLocalStorageKeys_DEEPLINK_CHOICE="WALLETCONNECT_DEEPLINK_CHOICE",SafeLocalStorageKeys_ACTIVE_NAMESPACE="@appkit/active_namespace",SafeLocalStorageKeys_CONNECTED_NAMESPACES="@appkit/connected_namespaces",SafeLocalStorageKeys_CONNECTION_STATUS="@appkit/connection_status",SafeLocalStorageKeys_TELEGRAM_SOCIAL_PROVIDER="@appkit/social_provider",SafeLocalStorageKeys_NATIVE_BALANCE_CACHE="@appkit/native_balance_cache",SafeLocalStorageKeys_PORTFOLIO_CACHE="@appkit/portfolio_cache",SafeLocalStorageKeys_ENS_CACHE="@appkit/ens_cache",SafeLocalStorageKeys_IDENTITY_CACHE="@appkit/identity_cache";function getSafeConnectorIdKey(namespace){if(!namespace)throw new Error("Namespace is required for CONNECTED_CONNECTOR_ID");return`@appkit/${namespace}:connected_connector_id`}const SafeLocalStorage={setItem(key,value){isSafe()&&void 0!==value&&localStorage.setItem(key,value)},getItem(key){if(isSafe())return localStorage.getItem(key)||void 0},removeItem(key){isSafe()&&localStorage.removeItem(key)},clear(){isSafe()&&localStorage.clear()}};function isSafe(){return"undefined"!=typeof window&&"undefined"!=typeof localStorage}var StorageUtil_console=__webpack_require__("./node_modules/console-browserify/index.js");const StorageUtil={cacheExpiry:{portfolio:3e4,nativeBalance:3e4,ens:3e5,identity:3e5},isCacheExpired:(timestamp,cacheExpiry)=>Date.now()-timestamp>cacheExpiry,getActiveNetworkProps(){const namespace=StorageUtil.getActiveNamespace(),caipNetworkId=StorageUtil.getActiveCaipNetworkId(),stringChainId=caipNetworkId?caipNetworkId.split(":")[1]:void 0;return{namespace,caipNetworkId,chainId:stringChainId?isNaN(Number(stringChainId))?stringChainId:Number(stringChainId):void 0}},setWalletConnectDeepLink({name,href}){try{SafeLocalStorage.setItem(SafeLocalStorageKeys_DEEPLINK_CHOICE,JSON.stringify({href,name}))}catch{StorageUtil_console.info("Unable to set WalletConnect deep link")}},getWalletConnectDeepLink(){try{const deepLink=SafeLocalStorage.getItem(SafeLocalStorageKeys_DEEPLINK_CHOICE);if(deepLink)return JSON.parse(deepLink)}catch{StorageUtil_console.info("Unable to get WalletConnect deep link")}},deleteWalletConnectDeepLink(){try{SafeLocalStorage.removeItem(SafeLocalStorageKeys_DEEPLINK_CHOICE)}catch{StorageUtil_console.info("Unable to delete WalletConnect deep link")}},setActiveNamespace(namespace){try{SafeLocalStorage.setItem(SafeLocalStorageKeys_ACTIVE_NAMESPACE,namespace)}catch{StorageUtil_console.info("Unable to set active namespace")}},setActiveCaipNetworkId(caipNetworkId){try{SafeLocalStorage.setItem(SafeLocalStorageKeys_ACTIVE_CAIP_NETWORK_ID,caipNetworkId),StorageUtil.setActiveNamespace(caipNetworkId.split(":")[0])}catch{StorageUtil_console.info("Unable to set active caip network id")}},getActiveCaipNetworkId(){try{return SafeLocalStorage.getItem(SafeLocalStorageKeys_ACTIVE_CAIP_NETWORK_ID)}catch{return void StorageUtil_console.info("Unable to get active caip network id")}},deleteActiveCaipNetworkId(){try{SafeLocalStorage.removeItem(SafeLocalStorageKeys_ACTIVE_CAIP_NETWORK_ID)}catch{StorageUtil_console.info("Unable to delete active caip network id")}},deleteConnectedConnectorId(namespace){try{const key=getSafeConnectorIdKey(namespace);SafeLocalStorage.removeItem(key)}catch{StorageUtil_console.info("Unable to delete connected connector id")}},setAppKitRecent(wallet){try{const recentWallets=StorageUtil.getRecentWallets();recentWallets.find(w=>w.id===wallet.id)||(recentWallets.unshift(wallet),recentWallets.length>2&&recentWallets.pop(),SafeLocalStorage.setItem(SafeLocalStorageKeys_RECENT_WALLETS,JSON.stringify(recentWallets)))}catch{StorageUtil_console.info("Unable to set AppKit recent")}},getRecentWallets(){try{const recent=SafeLocalStorage.getItem(SafeLocalStorageKeys_RECENT_WALLETS);return recent?JSON.parse(recent):[]}catch{StorageUtil_console.info("Unable to get AppKit recent")}return[]},setConnectedConnectorId(namespace,connectorId){try{const key=getSafeConnectorIdKey(namespace);SafeLocalStorage.setItem(key,connectorId)}catch{StorageUtil_console.info("Unable to set Connected Connector Id")}},getActiveNamespace(){try{return SafeLocalStorage.getItem(SafeLocalStorageKeys_ACTIVE_NAMESPACE)}catch{StorageUtil_console.info("Unable to get active namespace")}},getConnectedConnectorId(namespace){if(namespace)try{const key=getSafeConnectorIdKey(namespace);return SafeLocalStorage.getItem(key)}catch(e){StorageUtil_console.info("Unable to get connected connector id in namespace ",namespace)}},setConnectedSocialProvider(socialProvider){try{SafeLocalStorage.setItem(SafeLocalStorageKeys_CONNECTED_SOCIAL,socialProvider)}catch{StorageUtil_console.info("Unable to set connected social provider")}},getConnectedSocialProvider(){try{return SafeLocalStorage.getItem(SafeLocalStorageKeys_CONNECTED_SOCIAL)}catch{StorageUtil_console.info("Unable to get connected social provider")}},deleteConnectedSocialProvider(){try{SafeLocalStorage.removeItem(SafeLocalStorageKeys_CONNECTED_SOCIAL)}catch{StorageUtil_console.info("Unable to delete connected social provider")}},getConnectedSocialUsername(){try{return SafeLocalStorage.getItem(SafeLocalStorageKeys_CONNECTED_SOCIAL_USERNAME)}catch{StorageUtil_console.info("Unable to get connected social username")}},getStoredActiveCaipNetworkId(){const storedCaipNetworkId=SafeLocalStorage.getItem(SafeLocalStorageKeys_ACTIVE_CAIP_NETWORK_ID),networkId=storedCaipNetworkId?.split(":")?.[1];return networkId},setConnectionStatus(status){try{SafeLocalStorage.setItem(SafeLocalStorageKeys_CONNECTION_STATUS,status)}catch{StorageUtil_console.info("Unable to set connection status")}},getConnectionStatus(){try{return SafeLocalStorage.getItem(SafeLocalStorageKeys_CONNECTION_STATUS)}catch{return}},getConnectedNamespaces(){try{const namespaces=SafeLocalStorage.getItem(SafeLocalStorageKeys_CONNECTED_NAMESPACES);return namespaces?.length?namespaces.split(","):[]}catch{return[]}},setConnectedNamespaces(namespaces){try{const uniqueNamespaces=Array.from(new Set(namespaces));SafeLocalStorage.setItem(SafeLocalStorageKeys_CONNECTED_NAMESPACES,uniqueNamespaces.join(","))}catch{StorageUtil_console.info("Unable to set namespaces in storage")}},addConnectedNamespace(namespace){try{const namespaces=StorageUtil.getConnectedNamespaces();namespaces.includes(namespace)||(namespaces.push(namespace),StorageUtil.setConnectedNamespaces(namespaces))}catch{StorageUtil_console.info("Unable to add connected namespace")}},removeConnectedNamespace(namespace){try{const namespaces=StorageUtil.getConnectedNamespaces(),index=namespaces.indexOf(namespace);index>-1&&(namespaces.splice(index,1),StorageUtil.setConnectedNamespaces(namespaces))}catch{StorageUtil_console.info("Unable to remove connected namespace")}},getTelegramSocialProvider(){try{return SafeLocalStorage.getItem(SafeLocalStorageKeys_TELEGRAM_SOCIAL_PROVIDER)}catch{return StorageUtil_console.info("Unable to get telegram social provider"),null}},setTelegramSocialProvider(socialProvider){try{SafeLocalStorage.setItem(SafeLocalStorageKeys_TELEGRAM_SOCIAL_PROVIDER,socialProvider)}catch{StorageUtil_console.info("Unable to set telegram social provider")}},removeTelegramSocialProvider(){try{SafeLocalStorage.removeItem(SafeLocalStorageKeys_TELEGRAM_SOCIAL_PROVIDER)}catch{StorageUtil_console.info("Unable to remove telegram social provider")}},getBalanceCache(){let cache={};try{const result=SafeLocalStorage.getItem(SafeLocalStorageKeys_PORTFOLIO_CACHE);cache=result?JSON.parse(result):{}}catch{StorageUtil_console.info("Unable to get balance cache")}return cache},removeAddressFromBalanceCache(caipAddress){try{const cache=StorageUtil.getBalanceCache();SafeLocalStorage.setItem(SafeLocalStorageKeys_PORTFOLIO_CACHE,JSON.stringify({...cache,[caipAddress]:void 0}))}catch{StorageUtil_console.info("Unable to remove address from balance cache",caipAddress)}},getBalanceCacheForCaipAddress(caipAddress){try{const balanceCache=StorageUtil.getBalanceCache()[caipAddress];if(balanceCache&&!this.isCacheExpired(balanceCache.timestamp,this.cacheExpiry.portfolio))return balanceCache.balance;StorageUtil.removeAddressFromBalanceCache(caipAddress)}catch{StorageUtil_console.info("Unable to get balance cache for address",caipAddress)}},updateBalanceCache(params){try{const cache=StorageUtil.getBalanceCache();cache[params.caipAddress]=params,SafeLocalStorage.setItem(SafeLocalStorageKeys_PORTFOLIO_CACHE,JSON.stringify(cache))}catch{StorageUtil_console.info("Unable to update balance cache",params)}},getNativeBalanceCache(){let cache={};try{const result=SafeLocalStorage.getItem(SafeLocalStorageKeys_NATIVE_BALANCE_CACHE);cache=result?JSON.parse(result):{}}catch{StorageUtil_console.info("Unable to get balance cache")}return cache},removeAddressFromNativeBalanceCache(caipAddress){try{const cache=StorageUtil.getBalanceCache();SafeLocalStorage.setItem(SafeLocalStorageKeys_NATIVE_BALANCE_CACHE,JSON.stringify({...cache,[caipAddress]:void 0}))}catch{StorageUtil_console.info("Unable to remove address from balance cache",caipAddress)}},getNativeBalanceCacheForCaipAddress(caipAddress){try{const nativeBalanceCache=StorageUtil.getNativeBalanceCache()[caipAddress];if(nativeBalanceCache&&!this.isCacheExpired(nativeBalanceCache.timestamp,this.cacheExpiry.nativeBalance))return nativeBalanceCache;StorageUtil_console.info("Discarding cache for address",caipAddress),StorageUtil.removeAddressFromBalanceCache(caipAddress)}catch{StorageUtil_console.info("Unable to get balance cache for address",caipAddress)}},updateNativeBalanceCache(params){try{const cache=StorageUtil.getNativeBalanceCache();cache[params.caipAddress]=params,SafeLocalStorage.setItem(SafeLocalStorageKeys_NATIVE_BALANCE_CACHE,JSON.stringify(cache))}catch{StorageUtil_console.info("Unable to update balance cache",params)}},getEnsCache(){let cache={};try{const result=SafeLocalStorage.getItem(SafeLocalStorageKeys_ENS_CACHE);cache=result?JSON.parse(result):{}}catch{StorageUtil_console.info("Unable to get ens name cache")}return cache},getEnsFromCacheForAddress(address){try{const ensCache=StorageUtil.getEnsCache()[address];if(ensCache&&!this.isCacheExpired(ensCache.timestamp,this.cacheExpiry.ens))return ensCache.ens;StorageUtil.removeEnsFromCache(address)}catch{StorageUtil_console.info("Unable to get ens name from cache",address)}},updateEnsCache(params){try{const cache=StorageUtil.getEnsCache();cache[params.address]=params,SafeLocalStorage.setItem(SafeLocalStorageKeys_ENS_CACHE,JSON.stringify(cache))}catch{StorageUtil_console.info("Unable to update ens name cache",params)}},removeEnsFromCache(address){try{const cache=StorageUtil.getEnsCache();SafeLocalStorage.setItem(SafeLocalStorageKeys_ENS_CACHE,JSON.stringify({...cache,[address]:void 0}))}catch{StorageUtil_console.info("Unable to remove ens name from cache",address)}},getIdentityCache(){let cache={};try{const result=SafeLocalStorage.getItem(SafeLocalStorageKeys_IDENTITY_CACHE);cache=result?JSON.parse(result):{}}catch{StorageUtil_console.info("Unable to get identity cache")}return cache},getIdentityFromCacheForAddress(address){try{const identityCache=StorageUtil.getIdentityCache()[address];if(identityCache&&!this.isCacheExpired(identityCache.timestamp,this.cacheExpiry.identity))return identityCache.identity;StorageUtil.removeIdentityFromCache(address)}catch{StorageUtil_console.info("Unable to get identity from cache",address)}},updateIdentityCache(params){try{const cache=StorageUtil.getIdentityCache();cache[params.address]={identity:params.identity,timestamp:params.timestamp},SafeLocalStorage.setItem(SafeLocalStorageKeys_IDENTITY_CACHE,JSON.stringify(cache))}catch{StorageUtil_console.info("Unable to update identity cache",params)}},removeIdentityFromCache(address){try{const cache=StorageUtil.getIdentityCache();SafeLocalStorage.setItem(SafeLocalStorageKeys_IDENTITY_CACHE,JSON.stringify({...cache,[address]:void 0}))}catch{StorageUtil_console.info("Unable to remove identity from cache",address)}},clearAddressCache(){try{SafeLocalStorage.removeItem(SafeLocalStorageKeys_PORTFOLIO_CACHE),SafeLocalStorage.removeItem(SafeLocalStorageKeys_NATIVE_BALANCE_CACHE),SafeLocalStorage.removeItem(SafeLocalStorageKeys_ENS_CACHE),SafeLocalStorage.removeItem(SafeLocalStorageKeys_IDENTITY_CACHE)}catch{StorageUtil_console.info("Unable to clear address cache")}}},CoreHelperUtil={isMobile(){return!!this.isClient()&&Boolean(window?.matchMedia("(pointer:coarse)")?.matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent))},checkCaipNetwork:(network,networkName="")=>network?.caipNetworkId.toLocaleLowerCase().includes(networkName.toLowerCase()),isAndroid(){if(!this.isMobile())return!1;const ua=window?.navigator.userAgent.toLowerCase();return CoreHelperUtil.isMobile()&&ua.includes("android")},isIos(){if(!this.isMobile())return!1;const ua=window?.navigator.userAgent.toLowerCase();return ua.includes("iphone")||ua.includes("ipad")},isSafari(){if(!this.isClient())return!1;const ua=window?.navigator.userAgent.toLowerCase();return ua.includes("safari")},isClient:()=>"undefined"!=typeof window,isPairingExpired:expiry=>!expiry||expiry-Date.now()<=ConstantsUtil_ConstantsUtil.TEN_SEC_MS,isAllowedRetry:(lastRetry,differenceMs=ConstantsUtil_ConstantsUtil.ONE_SEC_MS)=>Date.now()-lastRetry>=differenceMs,copyToClopboard(text){navigator.clipboard.writeText(text)},isIframe(){try{return window?.self!==window?.top}catch(e){return!1}},getPairingExpiry:()=>Date.now()+ConstantsUtil_ConstantsUtil.FOUR_MINUTES_MS,getNetworkId:caipAddress=>caipAddress?.split(":")[1],getPlainAddress:caipAddress=>caipAddress?.split(":")[2],wait:async milliseconds=>new Promise(resolve=>{setTimeout(resolve,milliseconds)}),debounce(func,timeout=500){let timer;return(...args)=>{timer&&clearTimeout(timer),timer=setTimeout(function next(){func(...args)},timeout)}},isHttpUrl:url=>url.startsWith("http://")||url.startsWith("https://"),formatNativeUrl(appUrl,wcUri){if(CoreHelperUtil.isHttpUrl(appUrl))return this.formatUniversalUrl(appUrl,wcUri);let safeAppUrl=appUrl;safeAppUrl.includes("://")||(safeAppUrl=appUrl.replaceAll("/","").replaceAll(":",""),safeAppUrl=`${safeAppUrl}://`),safeAppUrl.endsWith("/")||(safeAppUrl=`${safeAppUrl}/`),this.isTelegram()&&this.isAndroid()&&(wcUri=encodeURIComponent(wcUri));return{redirect:`${safeAppUrl}wc?uri=${encodeURIComponent(wcUri)}`,href:safeAppUrl}},formatUniversalUrl(appUrl,wcUri){if(!CoreHelperUtil.isHttpUrl(appUrl))return this.formatNativeUrl(appUrl,wcUri);let safeAppUrl=appUrl;safeAppUrl.endsWith("/")||(safeAppUrl=`${safeAppUrl}/`);return{redirect:`${safeAppUrl}wc?uri=${encodeURIComponent(wcUri)}`,href:safeAppUrl}},getOpenTargetForPlatform(target){return"popupWindow"===target?target:this.isTelegram()?StorageUtil.getTelegramSocialProvider()?"_top":"_blank":target},openHref(href,target,features){window?.open(href,this.getOpenTargetForPlatform(target),features||"noreferrer noopener")},returnOpenHref(href,target,features){return window?.open(href,this.getOpenTargetForPlatform(target),features||"noreferrer noopener")},isTelegram:()=>"undefined"!=typeof window&&(Boolean(window.TelegramWebviewProxy)||Boolean(window.Telegram)||Boolean(window.TelegramWebviewProxyProto)),async preloadImage(src){const imagePromise=new Promise((resolve,reject)=>{const image=new Image;image.onload=resolve,image.onerror=reject,image.crossOrigin="anonymous",image.src=src});return Promise.race([imagePromise,CoreHelperUtil.wait(2e3)])},formatBalance(balance,symbol){let formattedBalance="0.000";if("string"==typeof balance){const number=Number(balance);if(number){const formattedValue=Math.floor(1e3*number)/1e3;formattedValue&&(formattedBalance=formattedValue.toString())}}return`${formattedBalance}${symbol?` ${symbol}`:""}`},formatBalance2(balance,symbol){let formattedBalance;if("0"===balance)formattedBalance="0";else if("string"==typeof balance){const number=Number(balance);number&&(formattedBalance=number.toString().match(/^-?\d+(?:\.\d{0,3})?/u)?.[0])}return{value:formattedBalance??"0",rest:"0"===formattedBalance?"000":"",symbol}},getApiUrl:()=>ConstantsUtil.W3M_API_URL,getBlockchainApiUrl:()=>ConstantsUtil.BLOCKCHAIN_API_RPC_URL,getAnalyticsUrl:()=>ConstantsUtil.PULSE_API_URL,getUUID:()=>crypto?.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,c=>{const r=16*Math.random()|0;return("x"===c?r:3&r|8).toString(16)}),parseError:error=>"string"==typeof error?error:"string"==typeof error?.issues?.[0]?.message?error.issues[0].message:error instanceof Error?error.message:"Unknown error",sortRequestedNetworks(approvedIds,requestedNetworks=[]){const approvedIndexMap={};return requestedNetworks&&approvedIds&&(approvedIds.forEach((id,index)=>{approvedIndexMap[id]=index}),requestedNetworks.sort((a,b)=>{const indexA=approvedIndexMap[a.id],indexB=approvedIndexMap[b.id];return void 0!==indexA&&void 0!==indexB?indexA-indexB:void 0!==indexA?-1:void 0!==indexB?1:0})),requestedNetworks},calculateBalance(array){let sum=0;for(const item of array)sum+=item.value??0;return sum},formatTokenBalance(number){const roundedNumber=number.toFixed(2),[dollars,pennies]=roundedNumber.split(".");return{dollars,pennies}},isAddress(address,chain="eip155"){switch(chain){case"eip155":return!!/^(?:0x)?[0-9a-f]{40}$/iu.test(address)&&!(!/^(?:0x)?[0-9a-f]{40}$/iu.test(address)&&!/^(?:0x)?[0-9A-F]{40}$/iu.test(address));case"solana":return/[1-9A-HJ-NP-Za-km-z]{32,44}$/iu.test(address);default:return!1}},uniqueBy(arr,key){const set=new Set;return arr.filter(item=>{const keyValue=item[key];return!set.has(keyValue)&&(set.add(keyValue),!0)})},generateSdkVersion(adapters,platform,version){const adapterNames=0===adapters.length?ConstantsUtil_ConstantsUtil.ADAPTER_TYPES.UNIVERSAL:adapters.map(adapter=>adapter.adapterType).join(",");return`${platform}-${adapterNames}-${version}`},createAccount:(namespace,address,type,publicKey,path)=>({namespace,address,type,publicKey,path}),isCaipAddress(address){if("string"!=typeof address)return!1;const sections=address.split(":"),namespace=sections[0];return 3===sections.filter(Boolean).length&&namespace in ConstantsUtil.CHAIN_NAME_MAP},isMac(){const ua=window?.navigator.userAgent.toLowerCase();return ua.includes("macintosh")&&!ua.includes("safari")},formatTelegramSocialLoginUrl(url){const valueToInject=`--${encodeURIComponent(window?.location.href)}`;if("auth.magic.link"===new URL(url).host){const providerParam="provider_authorization_url=",providerUrl=url.substring(url.indexOf(providerParam)+providerParam.length),resultUrl=this.injectIntoUrl(decodeURIComponent(providerUrl),"state=",valueToInject);return url.replace(providerUrl,encodeURIComponent(resultUrl))}return this.injectIntoUrl(url,"state=",valueToInject)},injectIntoUrl(url,key,appendString){const keyIndex=url.indexOf(key);if(-1===keyIndex)throw new Error(`${key} parameter not found in the URL: ${url}`);const keyEndIndex=url.indexOf("&",keyIndex),keyLength=key.length,keyParamEnd=-1!==keyEndIndex?keyEndIndex:url.length;return url.substring(0,keyIndex+keyLength)+(url.substring(keyIndex+keyLength,keyParamEnd)+appendString)+url.substring(keyEndIndex)}};async function fetchData(...args){const response=await fetch(...args);if(!response.ok){throw new Error(`HTTP status code: ${response.status}`,{cause:response})}return response}class FetchUtil{constructor({baseUrl,clientId}){this.baseUrl=baseUrl,this.clientId=clientId}async get({headers,signal,cache,...args}){const url=this.createUrl(args);return(await fetchData(url,{method:"GET",headers,signal,cache})).json()}async getBlob({headers,signal,...args}){const url=this.createUrl(args);return(await fetchData(url,{method:"GET",headers,signal})).blob()}async post({body,headers,signal,...args}){const url=this.createUrl(args);return(await fetchData(url,{method:"POST",headers,body:body?JSON.stringify(body):void 0,signal})).json()}async put({body,headers,signal,...args}){const url=this.createUrl(args);return(await fetchData(url,{method:"PUT",headers,body:body?JSON.stringify(body):void 0,signal})).json()}async delete({body,headers,signal,...args}){const url=this.createUrl(args);return(await fetchData(url,{method:"DELETE",headers,body:body?JSON.stringify(body):void 0,signal})).json()}createUrl({path,params}){const url=new URL(path,this.baseUrl);return params&&Object.entries(params).forEach(([key,value])=>{value&&url.searchParams.append(key,value)}),this.clientId&&url.searchParams.append("clientId",this.clientId),url}}const OptionsUtil={getFeatureValue(key,features){const optionValue=features?.[key];return void 0===optionValue?ConstantsUtil_ConstantsUtil.DEFAULT_FEATURES[key]:optionValue},filterSocialsByPlatform(socials){if(!socials||!socials.length)return socials;if(CoreHelperUtil.isTelegram()){if(CoreHelperUtil.isIos())return socials.filter(s=>"google"!==s);if(CoreHelperUtil.isMac())return socials.filter(s=>"x"!==s);if(CoreHelperUtil.isAndroid())return socials.filter(s=>!["facebook","x"].includes(s))}return socials}},state=(0,vanilla.BX)({features:ConstantsUtil_ConstantsUtil.DEFAULT_FEATURES,projectId:"",sdkType:"appkit",sdkVersion:"html-wagmi-undefined",defaultAccountTypes:ConstantsUtil_ConstantsUtil.DEFAULT_ACCOUNT_TYPES,enableNetworkSwitch:!0}),OptionsController={state,subscribeKey:(key,callback)=>(0,utils.u$)(state,key,callback),setOptions(options){Object.assign(state,options)},setFeatures(features){if(!features)return;state.features||(state.features=ConstantsUtil_ConstantsUtil.DEFAULT_FEATURES);const newFeatures={...state.features,...features};state.features=newFeatures,state.features.socials&&(state.features.socials=OptionsUtil.filterSocialsByPlatform(state.features.socials))},setProjectId(projectId){state.projectId=projectId},setCustomRpcUrls(customRpcUrls){state.customRpcUrls=customRpcUrls},setAllWallets(allWallets){state.allWallets=allWallets},setIncludeWalletIds(includeWalletIds){state.includeWalletIds=includeWalletIds},setExcludeWalletIds(excludeWalletIds){state.excludeWalletIds=excludeWalletIds},setFeaturedWalletIds(featuredWalletIds){state.featuredWalletIds=featuredWalletIds},setTokens(tokens){state.tokens=tokens},setTermsConditionsUrl(termsConditionsUrl){state.termsConditionsUrl=termsConditionsUrl},setPrivacyPolicyUrl(privacyPolicyUrl){state.privacyPolicyUrl=privacyPolicyUrl},setCustomWallets(customWallets){state.customWallets=customWallets},setIsSiweEnabled(isSiweEnabled){state.isSiweEnabled=isSiweEnabled},setIsUniversalProvider(isUniversalProvider){state.isUniversalProvider=isUniversalProvider},setSdkVersion(sdkVersion){state.sdkVersion=sdkVersion},setMetadata(metadata){state.metadata=metadata},setDisableAppend(disableAppend){state.disableAppend=disableAppend},setEIP6963Enabled(enableEIP6963){state.enableEIP6963=enableEIP6963},setDebug(debug){state.debug=debug},setEnableWalletConnect(enableWalletConnect){state.enableWalletConnect=enableWalletConnect},setEnableWalletGuide(enableWalletGuide){state.enableWalletGuide=enableWalletGuide},setEnableAuthLogger(enableAuthLogger){state.enableAuthLogger=enableAuthLogger},setEnableWallets(enableWallets){state.enableWallets=enableWallets},setHasMultipleAddresses(hasMultipleAddresses){state.hasMultipleAddresses=hasMultipleAddresses},setSIWX(siwx){state.siwx=siwx},setConnectMethodsOrder(connectMethodsOrder){state.features={...state.features,connectMethodsOrder}},setWalletFeaturesOrder(walletFeaturesOrder){state.features={...state.features,walletFeaturesOrder}},setSocialsOrder(socialsOrder){state.features={...state.features,socials:socialsOrder}},setCollapseWallets(collapseWallets){state.features={...state.features,collapseWallets}},setEnableEmbedded(enableEmbedded){state.enableEmbedded=enableEmbedded},setAllowUnsupportedChain(allowUnsupportedChain){state.allowUnsupportedChain=allowUnsupportedChain},setManualWCControl(manualWCControl){state.manualWCControl=manualWCControl},setEnableNetworkSwitch(enableNetworkSwitch){state.enableNetworkSwitch=enableNetworkSwitch},setDefaultAccountTypes(defaultAccountType={}){Object.entries(defaultAccountType).forEach(([namespace,accountType])=>{accountType&&(state.defaultAccountTypes[namespace]=accountType)})},setUniversalProviderConfigOverride(universalProviderConfigOverride){state.universalProviderConfigOverride=universalProviderConfigOverride},getUniversalProviderConfigOverride:()=>state.universalProviderConfigOverride,getSnapshot:()=>(0,vanilla.P9)(state)},DEFAULT_STATE=Object.freeze({message:"",variant:"success",svg:void 0,open:!1,autoClose:!0}),SnackController_state=(0,vanilla.BX)({...DEFAULT_STATE}),SnackController={state:SnackController_state,subscribeKey:(key,callback)=>(0,utils.u$)(SnackController_state,key,callback),showLoading(message,options={}){this._showMessage({message,variant:"loading",...options})},showSuccess(message){this._showMessage({message,variant:"success"})},showSvg(message,svg){this._showMessage({message,svg})},showError(message){const errorMessage=CoreHelperUtil.parseError(message);this._showMessage({message:errorMessage,variant:"error"})},hide(){SnackController_state.message=DEFAULT_STATE.message,SnackController_state.variant=DEFAULT_STATE.variant,SnackController_state.svg=DEFAULT_STATE.svg,SnackController_state.open=DEFAULT_STATE.open,SnackController_state.autoClose=DEFAULT_STATE.autoClose},_showMessage({message,svg,variant="success",autoClose=DEFAULT_STATE.autoClose}){SnackController_state.open?(SnackController_state.open=!1,setTimeout(()=>{SnackController_state.message=message,SnackController_state.variant=variant,SnackController_state.svg=svg,SnackController_state.open=!0,SnackController_state.autoClose=autoClose},150)):(SnackController_state.message=message,SnackController_state.variant=variant,SnackController_state.svg=svg,SnackController_state.open=!0,SnackController_state.autoClose=autoClose)}},DEFAULT_OPTIONS={purchaseCurrencies:[{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"Ether",symbol:"ETH",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]}],paymentCurrencies:[{id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},{id:"EUR",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]}]},baseUrl=CoreHelperUtil.getBlockchainApiUrl(),BlockchainApiController_state=(0,vanilla.BX)({clientId:null,api:new FetchUtil({baseUrl,clientId:null}),supportedChains:{http:[],ws:[]}}),BlockchainApiController={state:BlockchainApiController_state,async get(request){const{st,sv}=BlockchainApiController.getSdkProperties(),projectId=OptionsController.state.projectId,params={...request.params||{},st,sv,projectId};return BlockchainApiController_state.api.get({...request,params})},getSdkProperties(){const{sdkType,sdkVersion}=OptionsController.state;return{st:sdkType||"unknown",sv:sdkVersion||"unknown"}},async isNetworkSupported(networkId){if(!networkId)return!1;try{BlockchainApiController_state.supportedChains.http.length||await BlockchainApiController.getSupportedNetworks()}catch(e){return!1}return BlockchainApiController_state.supportedChains.http.includes(networkId)},async getSupportedNetworks(){const supportedChains=await BlockchainApiController.get({path:"v1/supported-chains"});return BlockchainApiController_state.supportedChains=supportedChains,supportedChains},async fetchIdentity({address,caipNetworkId}){if(!await BlockchainApiController.isNetworkSupported(caipNetworkId))return{avatar:"",name:""};const identityCache=StorageUtil.getIdentityFromCacheForAddress(address);if(identityCache)return identityCache;const result=await BlockchainApiController.get({path:`/v1/identity/${address}`,params:{sender:ChainController.state.activeCaipAddress?CoreHelperUtil.getPlainAddress(ChainController.state.activeCaipAddress):void 0}});return StorageUtil.updateIdentityCache({address,identity:result,timestamp:Date.now()}),result},fetchTransactions:async({account,cursor,onramp,signal,cache,chainId})=>await BlockchainApiController.isNetworkSupported(ChainController.state.activeCaipNetwork?.caipNetworkId)?BlockchainApiController.get({path:`/v1/account/${account}/history`,params:{cursor,onramp,chainId},signal,cache}):{data:[],next:void 0},fetchSwapQuote:async({amount,userAddress,from,to,gasPrice})=>await BlockchainApiController.isNetworkSupported(ChainController.state.activeCaipNetwork?.caipNetworkId)?BlockchainApiController.get({path:"/v1/convert/quotes",headers:{"Content-Type":"application/json"},params:{amount,userAddress,from,to,gasPrice}}):{quotes:[]},fetchSwapTokens:async({chainId})=>await BlockchainApiController.isNetworkSupported(ChainController.state.activeCaipNetwork?.caipNetworkId)?BlockchainApiController.get({path:"/v1/convert/tokens",params:{chainId}}):{tokens:[]},fetchTokenPrice:async({addresses})=>await BlockchainApiController.isNetworkSupported(ChainController.state.activeCaipNetwork?.caipNetworkId)?BlockchainApiController_state.api.post({path:"/v1/fungible/price",body:{currency:"usd",addresses,projectId:OptionsController.state.projectId},headers:{"Content-Type":"application/json"}}):{fungibles:[]},fetchSwapAllowance:async({tokenAddress,userAddress})=>await BlockchainApiController.isNetworkSupported(ChainController.state.activeCaipNetwork?.caipNetworkId)?BlockchainApiController.get({path:"/v1/convert/allowance",params:{tokenAddress,userAddress},headers:{"Content-Type":"application/json"}}):{allowance:"0"},async fetchGasPrice({chainId}){const{st,sv}=BlockchainApiController.getSdkProperties();if(!await BlockchainApiController.isNetworkSupported(ChainController.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Gas Price");return BlockchainApiController.get({path:"/v1/convert/gas-price",headers:{"Content-Type":"application/json"},params:{chainId,st,sv}})},async generateSwapCalldata({amount,from,to,userAddress,disableEstimate}){if(!await BlockchainApiController.isNetworkSupported(ChainController.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Swaps");return BlockchainApiController_state.api.post({path:"/v1/convert/build-transaction",headers:{"Content-Type":"application/json"},body:{amount,eip155:{slippage:ConstantsUtil_ConstantsUtil.CONVERT_SLIPPAGE_TOLERANCE},projectId:OptionsController.state.projectId,from,to,userAddress,disableEstimate}})},async generateApproveCalldata({from,to,userAddress}){const{st,sv}=BlockchainApiController.getSdkProperties();if(!await BlockchainApiController.isNetworkSupported(ChainController.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Swaps");return BlockchainApiController.get({path:"/v1/convert/build-approve",headers:{"Content-Type":"application/json"},params:{userAddress,from,to,st,sv}})},async getBalance(address,chainId,forceUpdate){const{st,sv}=BlockchainApiController.getSdkProperties();if(!await BlockchainApiController.isNetworkSupported(ChainController.state.activeCaipNetwork?.caipNetworkId))return SnackController.showError("Token Balance Unavailable"),{balances:[]};const caipAddress=`${chainId}:${address}`,cachedBalance=StorageUtil.getBalanceCacheForCaipAddress(caipAddress);if(cachedBalance)return cachedBalance;const balance=await BlockchainApiController.get({path:`/v1/account/${address}/balance`,params:{currency:"usd",chainId,forceUpdate,st,sv}});return StorageUtil.updateBalanceCache({caipAddress,balance,timestamp:Date.now()}),balance},lookupEnsName:async name=>await BlockchainApiController.isNetworkSupported(ChainController.state.activeCaipNetwork?.caipNetworkId)?BlockchainApiController.get({path:`/v1/profile/account/${name}`,params:{apiVersion:"2"}}):{addresses:{},attributes:[]},reverseLookupEnsName:async({address})=>await BlockchainApiController.isNetworkSupported(ChainController.state.activeCaipNetwork?.caipNetworkId)?BlockchainApiController.get({path:`/v1/profile/reverse/${address}`,params:{sender:AccountController.state.address,apiVersion:"2"}}):[],getEnsNameSuggestions:async name=>await BlockchainApiController.isNetworkSupported(ChainController.state.activeCaipNetwork?.caipNetworkId)?BlockchainApiController.get({path:`/v1/profile/suggestions/${name}`,params:{zone:"reown.id"}}):{suggestions:[]},registerEnsName:async({coinType,address,message,signature})=>await BlockchainApiController.isNetworkSupported(ChainController.state.activeCaipNetwork?.caipNetworkId)?BlockchainApiController_state.api.post({path:"/v1/profile/account",body:{coin_type:coinType,address,message,signature},headers:{"Content-Type":"application/json"}}):{success:!1},async generateOnRampURL({destinationWallets,partnerUserId,defaultNetwork,purchaseAmount,paymentAmount}){if(!await BlockchainApiController.isNetworkSupported(ChainController.state.activeCaipNetwork?.caipNetworkId))return"";return(await BlockchainApiController_state.api.post({path:"/v1/generators/onrampurl",params:{projectId:OptionsController.state.projectId},body:{destinationWallets,defaultNetwork,partnerUserId,defaultExperience:"buy",presetCryptoAmount:purchaseAmount,presetFiatAmount:paymentAmount}})).url},async getOnrampOptions(){if(!await BlockchainApiController.isNetworkSupported(ChainController.state.activeCaipNetwork?.caipNetworkId))return{paymentCurrencies:[],purchaseCurrencies:[]};try{return await BlockchainApiController.get({path:"/v1/onramp/options"})}catch(e){return DEFAULT_OPTIONS}},async getOnrampQuote({purchaseCurrency,paymentCurrency,amount,network}){try{if(!await BlockchainApiController.isNetworkSupported(ChainController.state.activeCaipNetwork?.caipNetworkId))return null;return await BlockchainApiController_state.api.post({path:"/v1/onramp/quote",params:{projectId:OptionsController.state.projectId},body:{purchaseCurrency,paymentCurrency,amount,network}})}catch(e){return{coinbaseFee:{amount,currency:paymentCurrency.id},networkFee:{amount,currency:paymentCurrency.id},paymentSubtotal:{amount,currency:paymentCurrency.id},paymentTotal:{amount,currency:paymentCurrency.id},purchaseAmount:{amount,currency:paymentCurrency.id},quoteId:"mocked-quote-id"}}},getSmartSessions:async caipAddress=>await BlockchainApiController.isNetworkSupported(ChainController.state.activeCaipNetwork?.caipNetworkId)?BlockchainApiController.get({path:`/v1/sessions/${caipAddress}`}):[],revokeSmartSession:async(address,pci,signature)=>await BlockchainApiController.isNetworkSupported(ChainController.state.activeCaipNetwork?.caipNetworkId)?BlockchainApiController_state.api.post({path:`/v1/sessions/${address}/revoke`,params:{projectId:OptionsController.state.projectId},body:{pci,signature}}):{success:!1},setClientId(clientId){BlockchainApiController_state.clientId=clientId,BlockchainApiController_state.api=new FetchUtil({baseUrl,clientId})}},AccountController_state=(0,vanilla.BX)({currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,allAccounts:[]}),AccountController={state:AccountController_state,replaceState(newState){newState&&Object.assign(AccountController_state,(0,vanilla.KR)(newState))},subscribe:callback=>ChainController.subscribeChainProp("accountState",accountState=>{if(accountState)return callback(accountState)}),subscribeKey(property,callback,chain){let prev;return ChainController.subscribeChainProp("accountState",accountState=>{if(accountState){const nextValue=accountState[property];prev!==nextValue&&(prev=nextValue,callback(nextValue))}},chain)},setStatus(status,chain){ChainController.setAccountProp("status",status,chain)},getCaipAddress:chain=>ChainController.getAccountProp("caipAddress",chain),setCaipAddress(caipAddress,chain){const newAddress=caipAddress?CoreHelperUtil.getPlainAddress(caipAddress):void 0;chain===ChainController.state.activeChain&&(ChainController.state.activeCaipAddress=caipAddress),ChainController.setAccountProp("caipAddress",caipAddress,chain),ChainController.setAccountProp("address",newAddress,chain)},setBalance(balance,balanceSymbol,chain){ChainController.setAccountProp("balance",balance,chain),ChainController.setAccountProp("balanceSymbol",balanceSymbol,chain)},setProfileName(profileName,chain){ChainController.setAccountProp("profileName",profileName,chain)},setProfileImage(profileImage,chain){ChainController.setAccountProp("profileImage",profileImage,chain)},setUser(user,chain){ChainController.setAccountProp("user",user,chain)},setAddressExplorerUrl(explorerUrl,chain){ChainController.setAccountProp("addressExplorerUrl",explorerUrl,chain)},setSmartAccountDeployed(isDeployed,chain){ChainController.setAccountProp("smartAccountDeployed",isDeployed,chain)},setCurrentTab(currentTab){ChainController.setAccountProp("currentTab",currentTab,ChainController.state.activeChain)},setTokenBalance(tokenBalance,chain){tokenBalance&&ChainController.setAccountProp("tokenBalance",tokenBalance,chain)},setShouldUpdateToAddress(address,chain){ChainController.setAccountProp("shouldUpdateToAddress",address,chain)},setAllAccounts(accounts,namespace){ChainController.setAccountProp("allAccounts",accounts,namespace)},addAddressLabel(address,label,chain){const map=ChainController.getAccountProp("addressLabels",chain)||new Map;map.set(address,label),ChainController.setAccountProp("addressLabels",map,chain)},removeAddressLabel(address,chain){const map=ChainController.getAccountProp("addressLabels",chain)||new Map;map.delete(address),ChainController.setAccountProp("addressLabels",map,chain)},setConnectedWalletInfo(connectedWalletInfo,chain){ChainController.setAccountProp("connectedWalletInfo",connectedWalletInfo,chain,!1)},setPreferredAccountType(preferredAccountType,chain){ChainController.setAccountProp("preferredAccountType",preferredAccountType,chain)},setSocialProvider(socialProvider,chain){socialProvider&&ChainController.setAccountProp("socialProvider",socialProvider,chain)},setSocialWindow(socialWindow,chain){ChainController.setAccountProp("socialWindow",socialWindow?(0,vanilla.KR)(socialWindow):void 0,chain)},setFarcasterUrl(farcasterUrl,chain){ChainController.setAccountProp("farcasterUrl",farcasterUrl,chain)},async fetchTokenBalance(onError){AccountController_state.balanceLoading=!0;const chainId=ChainController.state.activeCaipNetwork?.caipNetworkId,chain=ChainController.state.activeCaipNetwork?.chainNamespace,caipAddress=ChainController.state.activeCaipAddress,address=caipAddress?CoreHelperUtil.getPlainAddress(caipAddress):void 0;if(AccountController_state.lastRetry&&!CoreHelperUtil.isAllowedRetry(AccountController_state.lastRetry,30*ConstantsUtil_ConstantsUtil.ONE_SEC_MS))return AccountController_state.balanceLoading=!1,[];try{if(address&&chainId&&chain){const filteredBalances=(await BlockchainApiController.getBalance(address,chainId)).balances.filter(balance=>"0"!==balance.quantity.decimals);return this.setTokenBalance(filteredBalances,chain),AccountController_state.lastRetry=void 0,AccountController_state.balanceLoading=!1,filteredBalances}}catch(error){AccountController_state.lastRetry=Date.now(),onError?.(error),SnackController.showError("Token Balance Unavailable")}finally{AccountController_state.balanceLoading=!1}return[]},resetAccount(chain){ChainController.resetAccount(chain)}};var W3mFrameConstants=__webpack_require__("./node_modules/@reown/appkit-wallet/dist/esm/src/W3mFrameConstants.js"),AlertController_console=__webpack_require__("./node_modules/console-browserify/index.js");const AlertController_state=(0,vanilla.BX)({message:"",variant:"info",open:!1}),AlertController={state:AlertController_state,subscribeKey:(key,callback)=>(0,utils.u$)(AlertController_state,key,callback),open(message,variant){const{debug}=OptionsController.state,{shortMessage,longMessage}=message;debug&&(AlertController_state.message=shortMessage,AlertController_state.variant=variant,AlertController_state.open=!0),longMessage&&AlertController_console.error("function"==typeof longMessage?longMessage():longMessage)},close(){AlertController_state.open=!1,AlertController_state.message="",AlertController_state.variant="info"}},EventsController_baseUrl=CoreHelperUtil.getAnalyticsUrl(),api=new FetchUtil({baseUrl:EventsController_baseUrl,clientId:null}),excluded=["MODAL_CREATED"],EventsController_state=(0,vanilla.BX)({timestamp:Date.now(),reportedErrors:{},data:{type:"track",event:"MODAL_CREATED"}}),EventsController={state:EventsController_state,subscribe:callback=>(0,vanilla.B1)(EventsController_state,()=>callback(EventsController_state)),getSdkProperties(){const{projectId,sdkType,sdkVersion}=OptionsController.state;return{projectId,st:sdkType,sv:sdkVersion||"html-wagmi-4.2.2"}},async _sendAnalyticsEvent(payload){try{const address=AccountController.state.address;if(excluded.includes(payload.data.event)||"undefined"==typeof window)return;await api.post({path:"/e",params:EventsController.getSdkProperties(),body:{eventId:CoreHelperUtil.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:payload.timestamp,props:{...payload.data,address}}}),EventsController_state.reportedErrors.FORBIDDEN=!1}catch(err){err instanceof Error&&err.cause instanceof Response&&err.cause.status===ConstantsUtil.HTTP_STATUS_CODES.FORBIDDEN&&!EventsController_state.reportedErrors.FORBIDDEN&&(AlertController.open({shortMessage:"Invalid App Configuration",longMessage:`Origin ${isSafe()?window.origin:"uknown"} not found on Allowlist - update configuration on cloud.reown.com`},"error"),EventsController_state.reportedErrors.FORBIDDEN=!0)}},sendEvent(data){EventsController_state.timestamp=Date.now(),EventsController_state.data=data,OptionsController.state.features?.analytics&&EventsController._sendAnalyticsEvent(EventsController_state)}},AssetController_state=(0,vanilla.BX)({walletImages:{},networkImages:{},chainImages:{},connectorImages:{},tokenImages:{},currencyImages:{}}),AssetController={state:AssetController_state,subscribeNetworkImages:callback=>(0,vanilla.B1)(AssetController_state.networkImages,()=>callback(AssetController_state.networkImages)),subscribeKey:(key,callback)=>(0,utils.u$)(AssetController_state,key,callback),subscribe:callback=>(0,vanilla.B1)(AssetController_state,()=>callback(AssetController_state)),setWalletImage(key,value){AssetController_state.walletImages[key]=value},setNetworkImage(key,value){AssetController_state.networkImages[key]=value},setChainImage(key,value){AssetController_state.chainImages[key]=value},setConnectorImage(key,value){AssetController_state.connectorImages={...AssetController_state.connectorImages,[key]:value}},setTokenImage(key,value){AssetController_state.tokenImages[key]=value},setCurrencyImage(key,value){AssetController_state.currencyImages[key]=value}},namespaceImageIds={eip155:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",solana:"a1b58899-f671-4276-6a5e-56ca5bd59700",polkadot:"",bip122:"0b4838db-0161-4ffe-022d-532bf03dba00"},AssetUtil_state=(0,vanilla.BX)({networkImagePromises:{}}),AssetUtil={async fetchWalletImage(imageId){if(imageId)return await ApiController._fetchWalletImage(imageId),this.getWalletImageById(imageId)},async fetchNetworkImage(imageId){if(!imageId)return;const existingImage=this.getNetworkImageById(imageId);return existingImage||(AssetUtil_state.networkImagePromises[imageId]||(AssetUtil_state.networkImagePromises[imageId]=ApiController._fetchNetworkImage(imageId)),await AssetUtil_state.networkImagePromises[imageId],this.getNetworkImageById(imageId))},getWalletImageById(imageId){if(imageId)return AssetController.state.walletImages[imageId]},getWalletImage:wallet=>wallet?.image_url?wallet?.image_url:wallet?.image_id?AssetController.state.walletImages[wallet.image_id]:void 0,getNetworkImage:network=>network?.assets?.imageUrl?network?.assets?.imageUrl:network?.assets?.imageId?AssetController.state.networkImages[network.assets.imageId]:void 0,getNetworkImageById(imageId){if(imageId)return AssetController.state.networkImages[imageId]},getConnectorImage:connector=>connector?.imageUrl?connector.imageUrl:connector?.imageId?AssetController.state.connectorImages[connector.imageId]:void 0,getChainImage:chain=>AssetController.state.networkImages[namespaceImageIds[chain]]},ApiController_baseUrl=CoreHelperUtil.getApiUrl(),ApiController_api=new FetchUtil({baseUrl:ApiController_baseUrl,clientId:null}),ApiController_state=(0,vanilla.BX)({promises:{},page:1,count:0,featured:[],allFeatured:[],recommended:[],allRecommended:[],wallets:[],search:[],isAnalyticsEnabled:!1,excludedWallets:[],isFetchingRecommendedWallets:!1}),ApiController={state:ApiController_state,subscribeKey:(key,callback)=>(0,utils.u$)(ApiController_state,key,callback),_getSdkProperties(){const{projectId,sdkType,sdkVersion}=OptionsController.state;return{projectId,st:sdkType||"appkit",sv:sdkVersion||"html-wagmi-4.2.2"}},_filterOutExtensions:wallets=>OptionsController.state.isUniversalProvider?wallets.filter(w=>Boolean(w.mobile_link||w.desktop_link||w.webapp_link)):wallets,async _fetchWalletImage(imageId){const imageUrl=`${ApiController_api.baseUrl}/getWalletImage/${imageId}`,blob=await ApiController_api.getBlob({path:imageUrl,params:ApiController._getSdkProperties()});AssetController.setWalletImage(imageId,URL.createObjectURL(blob))},async _fetchNetworkImage(imageId){const imageUrl=`${ApiController_api.baseUrl}/public/getAssetImage/${imageId}`,blob=await ApiController_api.getBlob({path:imageUrl,params:ApiController._getSdkProperties()});AssetController.setNetworkImage(imageId,URL.createObjectURL(blob))},async _fetchConnectorImage(imageId){const imageUrl=`${ApiController_api.baseUrl}/public/getAssetImage/${imageId}`,blob=await ApiController_api.getBlob({path:imageUrl,params:ApiController._getSdkProperties()});AssetController.setConnectorImage(imageId,URL.createObjectURL(blob))},async _fetchCurrencyImage(countryCode){const imageUrl=`${ApiController_api.baseUrl}/public/getCurrencyImage/${countryCode}`,blob=await ApiController_api.getBlob({path:imageUrl,params:ApiController._getSdkProperties()});AssetController.setCurrencyImage(countryCode,URL.createObjectURL(blob))},async _fetchTokenImage(symbol){const imageUrl=`${ApiController_api.baseUrl}/public/getTokenImage/${symbol}`,blob=await ApiController_api.getBlob({path:imageUrl,params:ApiController._getSdkProperties()});AssetController.setTokenImage(symbol,URL.createObjectURL(blob))},async fetchNetworkImages(){const requestedCaipNetworks=ChainController.getAllRequestedCaipNetworks(),ids=requestedCaipNetworks?.map(({assets})=>assets?.imageId).filter(Boolean).filter(imageId=>!AssetUtil.getNetworkImageById(imageId));ids&&await Promise.allSettled(ids.map(id=>ApiController._fetchNetworkImage(id)))},async fetchConnectorImages(){const{connectors}=ConnectorController.state,ids=connectors.map(({imageId})=>imageId).filter(Boolean);await Promise.allSettled(ids.map(id=>ApiController._fetchConnectorImage(id)))},async fetchCurrencyImages(currencies=[]){await Promise.allSettled(currencies.map(currency=>ApiController._fetchCurrencyImage(currency)))},async fetchTokenImages(tokens=[]){await Promise.allSettled(tokens.map(token=>ApiController._fetchTokenImage(token)))},async fetchFeaturedWallets(){const{featuredWalletIds}=OptionsController.state;if(featuredWalletIds?.length){const{data}=await ApiController_api.get({path:"/getWallets",params:{...ApiController._getSdkProperties(),page:"1",entries:featuredWalletIds?.length?String(featuredWalletIds.length):"4",include:featuredWalletIds?.join(",")}});data.sort((a,b)=>featuredWalletIds.indexOf(a.id)-featuredWalletIds.indexOf(b.id));const images=data.map(d=>d.image_id).filter(Boolean);await Promise.allSettled(images.map(id=>ApiController._fetchWalletImage(id))),ApiController_state.featured=data,ApiController_state.allFeatured=data}},async fetchRecommendedWallets(){try{ApiController_state.isFetchingRecommendedWallets=!0;const{includeWalletIds,excludeWalletIds,featuredWalletIds}=OptionsController.state,exclude=[...excludeWalletIds??[],...featuredWalletIds??[]].filter(Boolean),caipNetworkIds=ChainController.getRequestedCaipNetworkIds().join(","),{data,count}=await ApiController_api.get({path:"/getWallets",params:{...ApiController._getSdkProperties(),page:"1",chains:caipNetworkIds,entries:"4",include:includeWalletIds?.join(","),exclude:exclude?.join(",")}}),recent=StorageUtil.getRecentWallets(),recommendedImages=data.map(d=>d.image_id).filter(Boolean),recentImages=recent.map(r=>r.image_id).filter(Boolean);await Promise.allSettled([...recommendedImages,...recentImages].map(id=>ApiController._fetchWalletImage(id))),ApiController_state.recommended=data,ApiController_state.allRecommended=data,ApiController_state.count=count??0}catch{}finally{ApiController_state.isFetchingRecommendedWallets=!1}},async fetchWallets({page}){const{includeWalletIds,excludeWalletIds,featuredWalletIds}=OptionsController.state,caipNetworkIds=ChainController.getRequestedCaipNetworkIds().join(","),exclude=[...ApiController_state.recommended.map(({id})=>id),...excludeWalletIds??[],...featuredWalletIds??[]].filter(Boolean),{data,count}=await ApiController_api.get({path:"/getWallets",params:{...ApiController._getSdkProperties(),page:String(page),entries:"40",chains:caipNetworkIds,include:includeWalletIds?.join(","),exclude:exclude.join(",")}}),images=data.slice(0,20).map(w=>w.image_id).filter(Boolean);await Promise.allSettled(images.map(id=>ApiController._fetchWalletImage(id))),ApiController_state.wallets=CoreHelperUtil.uniqueBy([...ApiController_state.wallets,...ApiController._filterOutExtensions(data)],"id"),ApiController_state.count=count>ApiController_state.count?count:ApiController_state.count,ApiController_state.page=page},async initializeExcludedWallets({ids}){const caipNetworkIds=ChainController.getRequestedCaipNetworkIds().join(","),{data}=await ApiController_api.get({path:"/getWallets",params:{...ApiController._getSdkProperties(),page:"1",entries:String(ids.length),chains:caipNetworkIds,include:ids?.join(",")}});data&&data.forEach(wallet=>{wallet?.rdns&&ApiController_state.excludedWallets.push({rdns:wallet.rdns,name:wallet.name})})},async searchWallet({search,badge}){const{includeWalletIds,excludeWalletIds}=OptionsController.state;ApiController_state.search=[];const caipNetworkIds=ChainController.getRequestedCaipNetworkIds().join(","),{data}=await ApiController_api.get({path:"/getWallets",params:{...ApiController._getSdkProperties(),page:"1",entries:"100",search:search?.trim(),badge_type:badge,chains:caipNetworkIds,include:includeWalletIds?.join(","),exclude:excludeWalletIds?.join(",")}});EventsController.sendEvent({type:"track",event:"SEARCH_WALLET",properties:{badge:badge??"",search:search??""}});const images=data.map(w=>w.image_id).filter(Boolean);await Promise.allSettled([...images.map(id=>ApiController._fetchWalletImage(id)),CoreHelperUtil.wait(300)]),ApiController_state.search=ApiController._filterOutExtensions(data)},initPromise(key,fetchFn){const existingPromise=ApiController_state.promises[key];return existingPromise||(ApiController_state.promises[key]=fetchFn())},prefetch({fetchConnectorImages=!0,fetchFeaturedWallets=!0,fetchRecommendedWallets=!0,fetchNetworkImages=!0}={}){const promises=[fetchConnectorImages&&ApiController.initPromise("connectorImages",ApiController.fetchConnectorImages),fetchFeaturedWallets&&ApiController.initPromise("featuredWallets",ApiController.fetchFeaturedWallets),fetchRecommendedWallets&&ApiController.initPromise("recommendedWallets",ApiController.fetchRecommendedWallets),fetchNetworkImages&&ApiController.initPromise("networkImages",ApiController.fetchNetworkImages)].filter(Boolean);return Promise.allSettled(promises)},prefetchAnalyticsConfig(){OptionsController.state.features?.analytics&&ApiController.fetchAnalyticsConfig()},async fetchAnalyticsConfig(){try{const{isAnalyticsEnabled}=await ApiController_api.get({path:"/getAnalyticsConfig",params:ApiController._getSdkProperties()});OptionsController.setFeatures({analytics:isAnalyticsEnabled})}catch(error){OptionsController.setFeatures({analytics:!1})}},setFilterByNamespace(namespace){if(!namespace)return ApiController_state.featured=ApiController_state.allFeatured,void(ApiController_state.recommended=ApiController_state.allRecommended);const caipNetworkIds=ChainController.getRequestedCaipNetworkIds().join(",");ApiController_state.featured=ApiController_state.allFeatured.filter(wallet=>wallet.chains?.some(chain=>caipNetworkIds.includes(chain))),ApiController_state.recommended=ApiController_state.allRecommended.filter(wallet=>wallet.chains?.some(chain=>caipNetworkIds.includes(chain)))}},PublicStateController_state=(0,vanilla.BX)({loading:!1,open:!1,selectedNetworkId:void 0,activeChain:void 0,initialized:!1}),PublicStateController={state:PublicStateController_state,subscribe:callback=>(0,vanilla.B1)(PublicStateController_state,()=>callback(PublicStateController_state)),set(newState){Object.assign(PublicStateController_state,{...PublicStateController_state,...newState})}},RouterController_state=(0,vanilla.BX)({view:"Connect",history:["Connect"],transactionStack:[]}),RouterController={state:RouterController_state,subscribeKey:(key,callback)=>(0,utils.u$)(RouterController_state,key,callback),pushTransactionStack(action){RouterController_state.transactionStack.push(action)},popTransactionStack(cancel){const action=RouterController_state.transactionStack.pop();if(action)if(cancel)this.goBack(),action?.onCancel?.();else{if(action.goBack)this.goBack();else if(action.replace){const connectingSiweIndex=RouterController_state.history.indexOf("ConnectingSiwe");connectingSiweIndex>0?this.goBackToIndex(connectingSiweIndex-1):(ModalController.close(),RouterController_state.history=[])}else action.view&&this.reset(action.view);action?.onSuccess?.()}},push(view,data){view!==RouterController_state.view&&(RouterController_state.view=view,RouterController_state.history.push(view),RouterController_state.data=data)},reset(view,data){RouterController_state.view=view,RouterController_state.history=[view],RouterController_state.data=data},replace(view,data){RouterController_state.history.at(-1)===view||(RouterController_state.view=view,RouterController_state.history[RouterController_state.history.length-1]=view,RouterController_state.data=data)},goBack(){const shouldReload=!ChainController.state.activeCaipAddress&&"ConnectingFarcaster"===this.state.view;if(RouterController_state.history.length>1&&!RouterController_state.history.includes("UnsupportedChain")){RouterController_state.history.pop();const[last]=RouterController_state.history.slice(-1);last&&(RouterController_state.view=last)}else ModalController.close();RouterController_state.data?.wallet&&(RouterController_state.data.wallet=void 0),setTimeout(()=>{if(shouldReload){AccountController.setFarcasterUrl(void 0,ChainController.state.activeChain);const authConnector=ConnectorController.getAuthConnector();authConnector?.provider?.reload();const optionsState=(0,vanilla.P9)(OptionsController.state);authConnector?.provider?.syncDappData?.({metadata:optionsState.metadata,sdkVersion:optionsState.sdkVersion,projectId:optionsState.projectId,sdkType:optionsState.sdkType})}},100)},goBackToIndex(historyIndex){if(RouterController_state.history.length>1){RouterController_state.history=RouterController_state.history.slice(0,historyIndex+1);const[last]=RouterController_state.history.slice(-1);last&&(RouterController_state.view=last)}}},ModalController_state=(0,vanilla.BX)({loading:!1,loadingNamespaceMap:new Map,open:!1,shake:!1,namespace:void 0}),ModalController={state:ModalController_state,subscribe:callback=>(0,vanilla.B1)(ModalController_state,()=>callback(ModalController_state)),subscribeKey:(key,callback)=>(0,utils.u$)(ModalController_state,key,callback),async open(options){const isConnected="connected"===AccountController.state.status;ConnectionController.state.wcBasic?ApiController.prefetch({fetchNetworkImages:!1,fetchConnectorImages:!1}):await ApiController.prefetch({fetchConnectorImages:!isConnected,fetchFeaturedWallets:!isConnected,fetchRecommendedWallets:!isConnected}),options?.namespace?(await ChainController.switchActiveNamespace(options.namespace),ModalController.setLoading(!0,options.namespace)):ModalController.setLoading(!0),ConnectorController.setFilterByNamespace(options?.namespace);const caipAddress=ChainController.getAccountData(options?.namespace)?.caipAddress;ChainController.state.noAdapters&&!caipAddress?CoreHelperUtil.isMobile()?RouterController.reset("AllWallets"):RouterController.reset("ConnectingWalletConnectBasic"):options?.view?RouterController.reset(options.view):caipAddress?RouterController.reset("Account"):RouterController.reset("Connect"),ModalController_state.open=!0,PublicStateController.set({open:!0}),EventsController.sendEvent({type:"track",event:"MODAL_OPEN",properties:{connected:Boolean(caipAddress)}})},close(){const isEmbeddedEnabled=OptionsController.state.enableEmbedded,isConnected=Boolean(ChainController.state.activeCaipAddress);ModalController_state.open&&EventsController.sendEvent({type:"track",event:"MODAL_CLOSE",properties:{connected:isConnected}}),ModalController_state.open=!1,ModalController.clearLoading(),isEmbeddedEnabled?isConnected?RouterController.replace("Account"):RouterController.push("Connect"):PublicStateController.set({open:!1}),ConnectionController.resetUri()},setLoading(loading,namespace){namespace&&ModalController_state.loadingNamespaceMap.set(namespace,loading),ModalController_state.loading=loading,PublicStateController.set({loading})},clearLoading(){ModalController_state.loadingNamespaceMap.clear(),ModalController_state.loading=!1},shake(){ModalController_state.shake||(ModalController_state.shake=!0,setTimeout(()=>{ModalController_state.shake=!1},500))}};var SIWXUtil_console=__webpack_require__("./node_modules/console-browserify/index.js");const SIWXUtil={getSIWX:()=>OptionsController.state.siwx,async initializeIfEnabled(){const siwx=OptionsController.state.siwx,caipAddress=ChainController.getActiveCaipAddress();if(!siwx||!caipAddress)return;const[namespace,chainId,address]=caipAddress.split(":");if(ChainController.checkIfSupportedNetwork(namespace))try{if((await siwx.getSessions(`${namespace}:${chainId}`,address)).length)return;await ModalController.open({view:"SIWXSignMessage"})}catch(error){SIWXUtil_console.error("SIWXUtil:initializeIfEnabled",error),EventsController.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:this.getSIWXEventProperties()}),await(ConnectionController._getClient()?.disconnect().catch(SIWXUtil_console.error)),RouterController.reset("Connect"),SnackController.showError("A problem occurred while trying initialize authentication")}},async requestSignMessage(){const siwx=OptionsController.state.siwx,address=CoreHelperUtil.getPlainAddress(ChainController.getActiveCaipAddress()),network=ChainController.getActiveCaipNetwork(),client=ConnectionController._getClient();if(!siwx)throw new Error("SIWX is not enabled");if(!address)throw new Error("No ActiveCaipAddress found");if(!network)throw new Error("No ActiveCaipNetwork or client found");if(!client)throw new Error("No ConnectionController client found");try{const siwxMessage=await siwx.createMessage({chainId:network.caipNetworkId,accountAddress:address}),message=siwxMessage.toString();ConnectorController.getConnectorId(network.chainNamespace)===ConstantsUtil.CONNECTOR_ID.AUTH&&RouterController.pushTransactionStack({view:null,goBack:!1,replace:!0});const signature=await client.signMessage(message);await siwx.addSession({data:siwxMessage,message,signature}),ModalController.close(),EventsController.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:this.getSIWXEventProperties()})}catch(error){const properties=this.getSIWXEventProperties();ModalController.state.open&&"ApproveTransaction"!==RouterController.state.view||await ModalController.open({view:"SIWXSignMessage"}),properties.isSmartAccount?SnackController.showError("This application might not support Smart Accounts"):SnackController.showError("Signature declined"),EventsController.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties}),SIWXUtil_console.error("SWIXUtil:requestSignMessage",error)}},async cancelSignMessage(){try{const siwx=this.getSIWX(),isRequired=siwx?.getRequired?.();isRequired?await ConnectionController.disconnect():ModalController.close(),RouterController.reset("Connect"),EventsController.sendEvent({event:"CLICK_CANCEL_SIWX",type:"track",properties:this.getSIWXEventProperties()})}catch(error){SIWXUtil_console.error("SIWXUtil:cancelSignMessage",error)}},async getSessions(){const siwx=OptionsController.state.siwx,address=CoreHelperUtil.getPlainAddress(ChainController.getActiveCaipAddress()),network=ChainController.getActiveCaipNetwork();return siwx&&address&&network?siwx.getSessions(network.caipNetworkId,address):[]},async isSIWXCloseDisabled(){const siwx=this.getSIWX();if(siwx){const isApproveSignScreen="ApproveTransaction"===RouterController.state.view,isSiwxSignMessage="SIWXSignMessage"===RouterController.state.view;if(isApproveSignScreen||isSiwxSignMessage)return siwx.getRequired?.()&&0===(await this.getSessions()).length}return!1},async universalProviderAuthenticate({universalProvider,chains,methods}){const siwx=SIWXUtil.getSIWX(),namespaces=new Set(chains.map(chain=>chain.split(":")[0]));if(!siwx||1!==namespaces.size||!namespaces.has("eip155"))return!1;const siwxMessage=await siwx.createMessage({chainId:ChainController.getActiveCaipNetwork()?.caipNetworkId||"",accountAddress:""}),result=await universalProvider.authenticate({nonce:siwxMessage.nonce,domain:siwxMessage.domain,uri:siwxMessage.uri,exp:siwxMessage.expirationTime,iat:siwxMessage.issuedAt,nbf:siwxMessage.notBefore,requestId:siwxMessage.requestId,version:siwxMessage.version,resources:siwxMessage.resources,statement:siwxMessage.statement,chainId:siwxMessage.chainId,methods,chains:[siwxMessage.chainId,...chains.filter(chain=>chain!==siwxMessage.chainId)]});if(SnackController.showLoading("Authenticating...",{autoClose:!1}),AccountController.setConnectedWalletInfo({...result.session.peer.metadata,name:result.session.peer.metadata.name,icon:result.session.peer.metadata.icons?.[0],type:"WALLET_CONNECT"},Array.from(namespaces)[0]),result?.auths?.length){const sessions=result.auths.map(cacao=>{const message=universalProvider.client.formatAuthMessage({request:cacao.p,iss:cacao.p.iss});return{data:{...cacao.p,accountAddress:cacao.p.iss.split(":").slice(-1).join(""),chainId:cacao.p.iss.split(":").slice(2,4).join(":"),uri:cacao.p.aud,version:cacao.p.version||siwxMessage.version,expirationTime:cacao.p.exp,issuedAt:cacao.p.iat,notBefore:cacao.p.nbf},message,signature:cacao.s.s,cacao}});try{await siwx.setSessions(sessions),EventsController.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:SIWXUtil.getSIWXEventProperties()})}catch(error){throw SIWXUtil_console.error("SIWX:universalProviderAuth - failed to set sessions",error),EventsController.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:SIWXUtil.getSIWXEventProperties()}),await universalProvider.disconnect().catch(SIWXUtil_console.error),error}finally{SnackController.hide()}}return!0},getSIWXEventProperties:()=>({network:ChainController.state.activeCaipNetwork?.caipNetworkId||"",isSmartAccount:AccountController.state.preferredAccountType===W3mFrameConstants.Vl.ACCOUNT_TYPES.SMART_ACCOUNT}),async clearSessions(){const siwx=this.getSIWX();siwx&&await siwx.setSessions([])}},TransactionsController_state=(0,vanilla.BX)({transactions:[],coinbaseTransactions:{},transactionsByYear:{},lastNetworkInView:void 0,loading:!1,empty:!1,next:void 0}),TransactionsController={state:TransactionsController_state,subscribe:callback=>(0,vanilla.B1)(TransactionsController_state,()=>callback(TransactionsController_state)),setLastNetworkInView(lastNetworkInView){TransactionsController_state.lastNetworkInView=lastNetworkInView},async fetchTransactions(accountAddress,onramp){if(!accountAddress)throw new Error("Transactions can't be fetched without an accountAddress");TransactionsController_state.loading=!0;try{const response=await BlockchainApiController.fetchTransactions({account:accountAddress,cursor:TransactionsController_state.next,onramp,cache:"coinbase"===onramp?"no-cache":void 0,chainId:ChainController.state.activeCaipNetwork?.caipNetworkId}),nonSpamTransactions=this.filterSpamTransactions(response.data),sameChainTransactions=this.filterByConnectedChain(nonSpamTransactions),filteredTransactions=[...TransactionsController_state.transactions,...sameChainTransactions];TransactionsController_state.loading=!1,"coinbase"===onramp?TransactionsController_state.coinbaseTransactions=this.groupTransactionsByYearAndMonth(TransactionsController_state.coinbaseTransactions,response.data):(TransactionsController_state.transactions=filteredTransactions,TransactionsController_state.transactionsByYear=this.groupTransactionsByYearAndMonth(TransactionsController_state.transactionsByYear,sameChainTransactions)),TransactionsController_state.empty=0===filteredTransactions.length,TransactionsController_state.next=response.next?response.next:void 0}catch(error){EventsController.sendEvent({type:"track",event:"ERROR_FETCH_TRANSACTIONS",properties:{address:accountAddress,projectId:OptionsController.state.projectId,cursor:TransactionsController_state.next,isSmartAccount:AccountController.state.preferredAccountType===W3mFrameConstants.Vl.ACCOUNT_TYPES.SMART_ACCOUNT}}),SnackController.showError("Failed to fetch transactions"),TransactionsController_state.loading=!1,TransactionsController_state.empty=!0,TransactionsController_state.next=void 0}},groupTransactionsByYearAndMonth(transactionsMap={},transactions=[]){const grouped=transactionsMap;return transactions.forEach(transaction=>{const year=new Date(transaction.metadata.minedAt).getFullYear(),month=new Date(transaction.metadata.minedAt).getMonth(),yearTransactions=grouped[year]??{},newMonthTransactions=(yearTransactions[month]??[]).filter(tx=>tx.id!==transaction.id);grouped[year]={...yearTransactions,[month]:[...newMonthTransactions,transaction].sort((a,b)=>new Date(b.metadata.minedAt).getTime()-new Date(a.metadata.minedAt).getTime())}}),grouped},filterSpamTransactions:transactions=>transactions.filter(transaction=>!transaction.transfers.every(transfer=>!0===transfer.nft_info?.flags.is_spam)),filterByConnectedChain(transactions){const chainId=ChainController.state.activeCaipNetwork?.caipNetworkId;return transactions.filter(transaction=>transaction.metadata.chain===chainId)},clearCursor(){TransactionsController_state.next=void 0},resetTransactions(){TransactionsController_state.transactions=[],TransactionsController_state.transactionsByYear={},TransactionsController_state.lastNetworkInView=void 0,TransactionsController_state.loading=!1,TransactionsController_state.empty=!1,TransactionsController_state.next=void 0}},ConnectionController_state=(0,vanilla.BX)({wcError:!1,buffering:!1,status:"disconnected"});let wcConnectionPromise;const ConnectionController={state:ConnectionController_state,subscribeKey:(key,callback)=>(0,utils.u$)(ConnectionController_state,key,callback),_getClient:()=>ConnectionController_state._client,setClient(client){ConnectionController_state._client=(0,vanilla.KR)(client)},async connectWalletConnect(){if(CoreHelperUtil.isTelegram()||CoreHelperUtil.isSafari()&&CoreHelperUtil.isIos()){if(wcConnectionPromise)return await wcConnectionPromise,void(wcConnectionPromise=void 0);if(!CoreHelperUtil.isPairingExpired(ConnectionController_state?.wcPairingExpiry)){const link=ConnectionController_state.wcUri;return void(ConnectionController_state.wcUri=link)}wcConnectionPromise=this._getClient()?.connectWalletConnect?.().catch(()=>{}),this.state.status="connecting",await wcConnectionPromise,wcConnectionPromise=void 0,ConnectionController_state.wcPairingExpiry=void 0,this.state.status="connected"}else await(this._getClient()?.connectWalletConnect?.())},async connectExternal(options,chain,setChain=!0){await(this._getClient()?.connectExternal?.(options)),setChain&&ChainController.setActiveNamespace(chain)},async reconnectExternal(options){await(this._getClient()?.reconnectExternal?.(options));const namespace=options.chain||ChainController.state.activeChain;namespace&&ConnectorController.setConnectorId(options.id,namespace)},async setPreferredAccountType(accountType){ModalController.setLoading(!0,ChainController.state.activeChain);const authConnector=ConnectorController.getAuthConnector();authConnector&&(await(authConnector?.provider.setPreferredAccount(accountType)),await this.reconnectExternal(authConnector),ModalController.setLoading(!1,ChainController.state.activeChain),EventsController.sendEvent({type:"track",event:"SET_PREFERRED_ACCOUNT_TYPE",properties:{accountType,network:ChainController.state.activeCaipNetwork?.caipNetworkId||""}}))},async signMessage(message){return this._getClient()?.signMessage(message)},parseUnits(value,decimals){return this._getClient()?.parseUnits(value,decimals)},formatUnits(value,decimals){return this._getClient()?.formatUnits(value,decimals)},async sendTransaction(args){return this._getClient()?.sendTransaction(args)},async getCapabilities(params){return this._getClient()?.getCapabilities(params)},async grantPermissions(params){return this._getClient()?.grantPermissions(params)},async walletGetAssets(params){return this._getClient()?.walletGetAssets(params)??{}},async estimateGas(args){return this._getClient()?.estimateGas(args)},async writeContract(args){return this._getClient()?.writeContract(args)},async getEnsAddress(value){return this._getClient()?.getEnsAddress(value)},async getEnsAvatar(value){return this._getClient()?.getEnsAvatar(value)},checkInstalled(ids){return this._getClient()?.checkInstalled?.(ids)||!1},resetWcConnection(){ConnectionController_state.wcUri=void 0,ConnectionController_state.wcPairingExpiry=void 0,ConnectionController_state.wcLinking=void 0,ConnectionController_state.recentWallet=void 0,ConnectionController_state.status="disconnected",TransactionsController.resetTransactions(),StorageUtil.deleteWalletConnectDeepLink()},resetUri(){ConnectionController_state.wcUri=void 0,ConnectionController_state.wcPairingExpiry=void 0},finalizeWcConnection(){const{wcLinking,recentWallet}=ConnectionController.state;wcLinking&&StorageUtil.setWalletConnectDeepLink(wcLinking),recentWallet&&StorageUtil.setAppKitRecent(recentWallet),EventsController.sendEvent({type:"track",event:"CONNECT_SUCCESS",properties:{method:wcLinking?"mobile":"qrcode",name:RouterController.state.data?.wallet?.name||"Unknown"}})},setWcBasic(wcBasic){ConnectionController_state.wcBasic=wcBasic},setUri(uri){ConnectionController_state.wcUri=uri,ConnectionController_state.wcPairingExpiry=CoreHelperUtil.getPairingExpiry()},setWcLinking(wcLinking){ConnectionController_state.wcLinking=wcLinking},setWcError(wcError){ConnectionController_state.wcError=wcError,ConnectionController_state.buffering=!1},setRecentWallet(wallet){ConnectionController_state.recentWallet=wallet},setBuffering(buffering){ConnectionController_state.buffering=buffering},setStatus(status){ConnectionController_state.status=status},async disconnect(namespace){try{ModalController.setLoading(!0,namespace),await SIWXUtil.clearSessions(),await ChainController.disconnect(namespace),ModalController.setLoading(!1,namespace),ConnectorController.setFilterByNamespace(void 0)}catch(error){throw new Error("Failed to disconnect")}}};var NAME="[big.js] ",INVALID=NAME+"Invalid ",INVALID_DP=INVALID+"decimal places",INVALID_RM=INVALID+"rounding mode",DIV_BY_ZERO=NAME+"Division by zero",P={},NUMERIC=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function round(x,sd,rm,more){var xc=x.c;if(undefined===rm&&(rm=x.constructor.RM),0!==rm&&1!==rm&&2!==rm&&3!==rm)throw Error(INVALID_RM);if(sd<1)more=3===rm&&(more||!!xc[0])||0===sd&&(1===rm&&xc[0]>=5||2===rm&&(xc[0]>5||5===xc[0]&&(more||undefined!==xc[1]))),xc.length=1,more?(x.e=x.e-sd+1,xc[0]=1):xc[0]=x.e=0;else if(sd<xc.length){if(more=1===rm&&xc[sd]>=5||2===rm&&(xc[sd]>5||5===xc[sd]&&(more||undefined!==xc[sd+1]||1&xc[sd-1]))||3===rm&&(more||!!xc[0]),xc.length=sd,more)for(;++xc[--sd]>9;)if(xc[sd]=0,0===sd){++x.e,xc.unshift(1);break}for(sd=xc.length;!xc[--sd];)xc.pop()}return x}function stringify(x,doExponential,isNonzero){var e=x.e,s=x.c.join(""),n=s.length;if(doExponential)s=s.charAt(0)+(n>1?"."+s.slice(1):"")+(e<0?"e":"e+")+e;else if(e<0){for(;++e;)s="0"+s;s="0."+s}else if(e>0)if(++e>n)for(e-=n;e--;)s+="0";else e<n&&(s=s.slice(0,e)+"."+s.slice(e));else n>1&&(s=s.charAt(0)+"."+s.slice(1));return x.s<0&&isNonzero?"-"+s:s}P.abs=function(){var x=new this.constructor(this);return x.s=1,x},P.cmp=function(y){var isneg,x=this,xc=x.c,yc=(y=new x.constructor(y)).c,i=x.s,j=y.s,k=x.e,l=y.e;if(!xc[0]||!yc[0])return xc[0]?i:yc[0]?-j:0;if(i!=j)return i;if(isneg=i<0,k!=l)return k>l^isneg?1:-1;for(j=(k=xc.length)<(l=yc.length)?k:l,i=-1;++i<j;)if(xc[i]!=yc[i])return xc[i]>yc[i]^isneg?1:-1;return k==l?0:k>l^isneg?1:-1},P.div=function(y){var x=this,Big=x.constructor,a=x.c,b=(y=new Big(y)).c,k=x.s==y.s?1:-1,dp=Big.DP;if(dp!==~~dp||dp<0||dp>1e6)throw Error(INVALID_DP);if(!b[0])throw Error(DIV_BY_ZERO);if(!a[0])return y.s=k,y.c=[y.e=0],y;var bl,bt,n,cmp,ri,bz=b.slice(),ai=bl=b.length,al=a.length,r=a.slice(0,bl),rl=r.length,q=y,qc=q.c=[],qi=0,p=dp+(q.e=x.e-y.e)+1;for(q.s=k,k=p<0?0:p,bz.unshift(0);rl++<bl;)r.push(0);do{for(n=0;n<10;n++){if(bl!=(rl=r.length))cmp=bl>rl?1:-1;else for(ri=-1,cmp=0;++ri<bl;)if(b[ri]!=r[ri]){cmp=b[ri]>r[ri]?1:-1;break}if(!(cmp<0))break;for(bt=rl==bl?b:bz;rl;){if(r[--rl]<bt[rl]){for(ri=rl;ri&&!r[--ri];)r[ri]=9;--r[ri],r[rl]+=10}r[rl]-=bt[rl]}for(;!r[0];)r.shift()}qc[qi++]=cmp?n:++n,r[0]&&cmp?r[rl]=a[ai]||0:r=[a[ai]]}while((ai++<al||undefined!==r[0])&&k--);return qc[0]||1==qi||(qc.shift(),q.e--,p--),qi>p&&round(q,p,Big.RM,undefined!==r[0]),q},P.eq=function(y){return 0===this.cmp(y)},P.gt=function(y){return this.cmp(y)>0},P.gte=function(y){return this.cmp(y)>-1},P.lt=function(y){return this.cmp(y)<0},P.lte=function(y){return this.cmp(y)<1},P.minus=P.sub=function(y){var i,j,t,xlty,x=this,Big=x.constructor,a=x.s,b=(y=new Big(y)).s;if(a!=b)return y.s=-b,x.plus(y);var xc=x.c.slice(),xe=x.e,yc=y.c,ye=y.e;if(!xc[0]||!yc[0])return yc[0]?y.s=-b:xc[0]?y=new Big(x):y.s=1,y;if(a=xe-ye){for((xlty=a<0)?(a=-a,t=xc):(ye=xe,t=yc),t.reverse(),b=a;b--;)t.push(0);t.reverse()}else for(j=((xlty=xc.length<yc.length)?xc:yc).length,a=b=0;b<j;b++)if(xc[b]!=yc[b]){xlty=xc[b]<yc[b];break}if(xlty&&(t=xc,xc=yc,yc=t,y.s=-y.s),(b=(j=yc.length)-(i=xc.length))>0)for(;b--;)xc[i++]=0;for(b=i;j>a;){if(xc[--j]<yc[j]){for(i=j;i&&!xc[--i];)xc[i]=9;--xc[i],xc[j]+=10}xc[j]-=yc[j]}for(;0===xc[--b];)xc.pop();for(;0===xc[0];)xc.shift(),--ye;return xc[0]||(y.s=1,xc=[ye=0]),y.c=xc,y.e=ye,y},P.mod=function(y){var ygtx,x=this,Big=x.constructor,a=x.s,b=(y=new Big(y)).s;if(!y.c[0])throw Error(DIV_BY_ZERO);return x.s=y.s=1,ygtx=1==y.cmp(x),x.s=a,y.s=b,ygtx?new Big(x):(a=Big.DP,b=Big.RM,Big.DP=Big.RM=0,x=x.div(y),Big.DP=a,Big.RM=b,this.minus(x.times(y)))},P.neg=function(){var x=new this.constructor(this);return x.s=-x.s,x},P.plus=P.add=function(y){var e,k,t,x=this,Big=x.constructor;if(y=new Big(y),x.s!=y.s)return y.s=-y.s,x.minus(y);var xe=x.e,xc=x.c,ye=y.e,yc=y.c;if(!xc[0]||!yc[0])return yc[0]||(xc[0]?y=new Big(x):y.s=x.s),y;if(xc=xc.slice(),e=xe-ye){for(e>0?(ye=xe,t=yc):(e=-e,t=xc),t.reverse();e--;)t.push(0);t.reverse()}for(xc.length-yc.length<0&&(t=yc,yc=xc,xc=t),e=yc.length,k=0;e;xc[e]%=10)k=(xc[--e]=xc[e]+yc[e]+k)/10|0;for(k&&(xc.unshift(k),++ye),e=xc.length;0===xc[--e];)xc.pop();return y.c=xc,y.e=ye,y},P.pow=function(n){var x=this,one=new x.constructor("1"),y=one,isneg=n<0;if(n!==~~n||n<-1e6||n>1e6)throw Error(INVALID+"exponent");for(isneg&&(n=-n);1&n&&(y=y.times(x)),n>>=1;)x=x.times(x);return isneg?one.div(y):y},P.prec=function(sd,rm){if(sd!==~~sd||sd<1||sd>1e6)throw Error(INVALID+"precision");return round(new this.constructor(this),sd,rm)},P.round=function(dp,rm){if(undefined===dp)dp=0;else if(dp!==~~dp||dp<-1e6||dp>1e6)throw Error(INVALID_DP);return round(new this.constructor(this),dp+this.e+1,rm)},P.sqrt=function(){var r,c,t,x=this,Big=x.constructor,s=x.s,e=x.e,half=new Big("0.5");if(!x.c[0])return new Big(x);if(s<0)throw Error(NAME+"No square root");0===(s=Math.sqrt(+stringify(x,!0,!0)))||s===1/0?((c=x.c.join("")).length+e&1||(c+="0"),e=((e+1)/2|0)-(e<0||1&e),r=new Big(((s=Math.sqrt(c))==1/0?"5e":(s=s.toExponential()).slice(0,s.indexOf("e")+1))+e)):r=new Big(s+""),e=r.e+(Big.DP+=4);do{t=r,r=half.times(t.plus(x.div(t)))}while(t.c.slice(0,e).join("")!==r.c.slice(0,e).join(""));return round(r,(Big.DP-=4)+r.e+1,Big.RM)},P.times=P.mul=function(y){var c,x=this,Big=x.constructor,xc=x.c,yc=(y=new Big(y)).c,a=xc.length,b=yc.length,i=x.e,j=y.e;if(y.s=x.s==y.s?1:-1,!xc[0]||!yc[0])return y.c=[y.e=0],y;for(y.e=i+j,a<b&&(c=xc,xc=yc,yc=c,j=a,a=b,b=j),c=new Array(j=a+b);j--;)c[j]=0;for(i=b;i--;){for(b=0,j=a+i;j>i;)b=c[j]+yc[i]*xc[j-i-1]+b,c[j--]=b%10,b=b/10|0;c[j]=b}for(b?++y.e:c.shift(),i=c.length;!c[--i];)c.pop();return y.c=c,y},P.toExponential=function(dp,rm){var x=this,n=x.c[0];if(undefined!==dp){if(dp!==~~dp||dp<0||dp>1e6)throw Error(INVALID_DP);for(x=round(new x.constructor(x),++dp,rm);x.c.length<dp;)x.c.push(0)}return stringify(x,!0,!!n)},P.toFixed=function(dp,rm){var x=this,n=x.c[0];if(undefined!==dp){if(dp!==~~dp||dp<0||dp>1e6)throw Error(INVALID_DP);for(dp=dp+(x=round(new x.constructor(x),dp+x.e+1,rm)).e+1;x.c.length<dp;)x.c.push(0)}return stringify(x,!1,!!n)},P[Symbol.for("nodejs.util.inspect.custom")]=P.toJSON=P.toString=function(){var x=this,Big=x.constructor;return stringify(x,x.e<=Big.NE||x.e>=Big.PE,!!x.c[0])},P.toNumber=function(){var n=+stringify(this,!0,!0);if(!0===this.constructor.strict&&!this.eq(n.toString()))throw Error(NAME+"Imprecise conversion");return n},P.toPrecision=function(sd,rm){var x=this,Big=x.constructor,n=x.c[0];if(undefined!==sd){if(sd!==~~sd||sd<1||sd>1e6)throw Error(INVALID+"precision");for(x=round(new Big(x),sd,rm);x.c.length<sd;)x.c.push(0)}return stringify(x,sd<=x.e||x.e<=Big.NE||x.e>=Big.PE,!!n)},P.valueOf=function(){var x=this,Big=x.constructor;if(!0===Big.strict)throw Error(NAME+"valueOf disallowed");return stringify(x,x.e<=Big.NE||x.e>=Big.PE,!0)};var Big=function _Big_(){function Big(n){var x=this;if(!(x instanceof Big))return undefined===n?_Big_():new Big(n);if(n instanceof Big)x.s=n.s,x.e=n.e,x.c=n.c.slice();else{if("string"!=typeof n){if(!0===Big.strict&&"bigint"!=typeof n)throw TypeError(INVALID+"value");n=0===n&&1/n<0?"-0":String(n)}!function parse(x,n){var e,i,nl;if(!NUMERIC.test(n))throw Error(INVALID+"number");x.s="-"==n.charAt(0)?(n=n.slice(1),-1):1,(e=n.indexOf("."))>-1&&(n=n.replace(".",""));(i=n.search(/e/i))>0?(e<0&&(e=i),e+=+n.slice(i+1),n=n.substring(0,i)):e<0&&(e=n.length);for(nl=n.length,i=0;i<nl&&"0"==n.charAt(i);)++i;if(i==nl)x.c=[x.e=0];else{for(;nl>0&&"0"==n.charAt(--nl););for(x.e=e-i-1,x.c=[],e=0;i<=nl;)x.c[e++]=+n.charAt(i++)}return x}(x,n)}x.constructor=Big}return Big.prototype=P,Big.DP=20,Big.RM=1,Big.NE=-7,Big.PE=21,Big.strict=false,Big.roundDown=0,Big.roundHalfUp=1,Big.roundHalfEven=2,Big.roundUp=3,Big}();const big=Big,NumberUtil={bigNumber:value=>new big(value||0),multiply(a,b){if(void 0===a||void 0===b)return new big(0);const aBigNumber=new big(a),bBigNumber=new big(b);return aBigNumber.times(bBigNumber)},formatNumberToLocalString:(value,decimals=2)=>void 0===value?"0.00":"number"==typeof value?value.toLocaleString("en-US",{maximumFractionDigits:decimals,minimumFractionDigits:decimals}):parseFloat(value).toLocaleString("en-US",{maximumFractionDigits:decimals,minimumFractionDigits:decimals}),parseLocalStringToNumber:value=>void 0===value?0:parseFloat(value.replace(/,/gu,""))},erc20ABI=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],usdtABI=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],ContractUtil_getERC20Abi=tokenAddress=>ConstantsUtil.USDT_CONTRACT_ADDRESSES.includes(tokenAddress)?usdtABI:erc20ABI;var formatUnits=__webpack_require__("./node_modules/viem/_esm/utils/unit/formatUnits.js");const ERC7811Utils={createBalance(asset,chainId){const metadata={name:asset.metadata.name||"",symbol:asset.metadata.symbol||"",decimals:asset.metadata.decimals||0,value:asset.metadata.value||0,price:asset.metadata.price||0,iconUrl:asset.metadata.iconUrl||""};return{name:metadata.name,symbol:metadata.symbol,chainId,address:"native"===asset.address?void 0:this.convertAddressToCAIP10Address(asset.address,chainId),value:metadata.value,price:metadata.price,quantity:{decimals:metadata.decimals.toString(),numeric:this.convertHexToBalance({hex:asset.balance,decimals:metadata.decimals})},iconUrl:metadata.iconUrl}},convertHexToBalance:({hex,decimals})=>(0,formatUnits.J)(BigInt(hex),decimals),convertAddressToCAIP10Address:(address,chainId)=>`${chainId}:${address}`,createCAIP2ChainId:(chainId,namespace)=>`${namespace}:${parseInt(chainId,16)}`,getChainIdHexFromCAIP2ChainId(caip2ChainId){const parts=caip2ChainId.split(":");if(parts.length<2||!parts[1])return"0x0";const chainPart=parts[1],parsed=parseInt(chainPart,10);return isNaN(parsed)?"0x0":`0x${parsed.toString(16)}`},isWalletGetAssetsResponse(response){return"object"==typeof response&&null!==response&&Object.values(response).every(value=>Array.isArray(value)&&value.every(asset=>this.isValidAsset(asset)))},isValidAsset:asset=>"object"==typeof asset&&null!==asset&&"string"==typeof asset.address&&"string"==typeof asset.balance&&("ERC20"===asset.type||"NATIVE"===asset.type)&&"object"==typeof asset.metadata&&null!==asset.metadata&&"string"==typeof asset.metadata.name&&"string"==typeof asset.metadata.symbol&&"number"==typeof asset.metadata.decimals&&"number"==typeof asset.metadata.price&&"string"==typeof asset.metadata.iconUrl},SendApiUtil={async getMyTokensWithBalance(forceUpdate){const address=AccountController.state.address,caipNetwork=ChainController.state.activeCaipNetwork;if(!address||!caipNetwork)return[];if("eip155"===caipNetwork.chainNamespace){const eip155Balances=await this.getEIP155Balances(address,caipNetwork);if(eip155Balances)return this.filterLowQualityTokens(eip155Balances)}const response=await BlockchainApiController.getBalance(address,caipNetwork.caipNetworkId,forceUpdate);return this.filterLowQualityTokens(response.balances)},async getEIP155Balances(address,caipNetwork){try{const chainIdHex=ERC7811Utils.getChainIdHexFromCAIP2ChainId(caipNetwork.caipNetworkId),walletCapabilities=await ConnectionController.getCapabilities(address);if(!walletCapabilities?.[chainIdHex]?.assetDiscovery?.supported)return null;const walletGetAssetsResponse=await ConnectionController.walletGetAssets({account:address,chainFilter:[chainIdHex]});if(!ERC7811Utils.isWalletGetAssetsResponse(walletGetAssetsResponse))return null;return(walletGetAssetsResponse[chainIdHex]||[]).map(asset=>ERC7811Utils.createBalance(asset,caipNetwork.caipNetworkId))}catch(error){return null}},filterLowQualityTokens:balances=>balances.filter(balance=>"0"!==balance.quantity.decimals),mapBalancesToSwapTokens:balances=>balances?.map(token=>({...token,address:token?.address?token.address:ChainController.getActiveNetworkTokenAddress(),decimals:parseInt(token.quantity.decimals,10),logoUri:token.iconUrl,eip2612:!1}))||[]};var SendController_console=__webpack_require__("./node_modules/console-browserify/index.js");const SendController_state=(0,vanilla.BX)({tokenBalances:[],loading:!1}),SendController={state:SendController_state,subscribe:callback=>(0,vanilla.B1)(SendController_state,()=>callback(SendController_state)),subscribeKey:(key,callback)=>(0,utils.u$)(SendController_state,key,callback),setToken(token){token&&(SendController_state.token=(0,vanilla.KR)(token))},setTokenAmount(sendTokenAmount){SendController_state.sendTokenAmount=sendTokenAmount},setReceiverAddress(receiverAddress){SendController_state.receiverAddress=receiverAddress},setReceiverProfileImageUrl(receiverProfileImageUrl){SendController_state.receiverProfileImageUrl=receiverProfileImageUrl},setReceiverProfileName(receiverProfileName){SendController_state.receiverProfileName=receiverProfileName},setGasPrice(gasPrice){SendController_state.gasPrice=gasPrice},setGasPriceInUsd(gasPriceInUSD){SendController_state.gasPriceInUSD=gasPriceInUSD},setNetworkBalanceInUsd(networkBalanceInUSD){SendController_state.networkBalanceInUSD=networkBalanceInUSD},setLoading(loading){SendController_state.loading=loading},sendToken(){switch(ChainController.state.activeCaipNetwork?.chainNamespace){case"eip155":return void this.sendEvmToken();case"solana":return void this.sendSolanaToken();default:throw new Error("Unsupported chain")}},sendEvmToken(){this.state.token?.address&&this.state.sendTokenAmount&&this.state.receiverAddress?(EventsController.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:AccountController.state.preferredAccountType===W3mFrameConstants.Vl.ACCOUNT_TYPES.SMART_ACCOUNT,token:this.state.token.address,amount:this.state.sendTokenAmount,network:ChainController.state.activeCaipNetwork?.caipNetworkId||""}}),this.sendERC20Token({receiverAddress:this.state.receiverAddress,tokenAddress:this.state.token.address,sendTokenAmount:this.state.sendTokenAmount,decimals:this.state.token.quantity.decimals})):this.state.receiverAddress&&this.state.sendTokenAmount&&this.state.gasPrice&&this.state.token?.quantity.decimals&&(EventsController.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:AccountController.state.preferredAccountType===W3mFrameConstants.Vl.ACCOUNT_TYPES.SMART_ACCOUNT,token:this.state.token?.symbol,amount:this.state.sendTokenAmount,network:ChainController.state.activeCaipNetwork?.caipNetworkId||""}}),this.sendNativeToken({receiverAddress:this.state.receiverAddress,sendTokenAmount:this.state.sendTokenAmount,gasPrice:this.state.gasPrice,decimals:this.state.token.quantity.decimals}))},async fetchTokenBalance(onError){SendController_state.loading=!0;const chainId=ChainController.state.activeCaipNetwork?.caipNetworkId,chain=ChainController.state.activeCaipNetwork?.chainNamespace,caipAddress=ChainController.state.activeCaipAddress,address=caipAddress?CoreHelperUtil.getPlainAddress(caipAddress):void 0;if(SendController_state.lastRetry&&!CoreHelperUtil.isAllowedRetry(SendController_state.lastRetry,30*ConstantsUtil_ConstantsUtil.ONE_SEC_MS))return SendController_state.loading=!1,[];try{if(address&&chainId&&chain){const balances=await SendApiUtil.getMyTokensWithBalance();return SendController_state.tokenBalances=balances,SendController_state.lastRetry=void 0,balances}}catch(error){SendController_state.lastRetry=Date.now(),onError?.(error),SnackController.showError("Token Balance Unavailable")}finally{SendController_state.loading=!1}return[]},fetchNetworkBalance(){if(0===SendController_state.tokenBalances.length)return;const networkTokenBalances=SendApiUtil.mapBalancesToSwapTokens(SendController_state.tokenBalances);if(!networkTokenBalances)return;const networkToken=networkTokenBalances.find(token=>token.address===ChainController.getActiveNetworkTokenAddress());networkToken&&(SendController_state.networkBalanceInUSD=networkToken?NumberUtil.multiply(networkToken.quantity.numeric,networkToken.price).toString():"0")},isInsufficientNetworkTokenForGas(networkBalanceInUSD,gasPriceInUSD){const gasPrice=gasPriceInUSD||"0";return!!NumberUtil.bigNumber(networkBalanceInUSD).eq(0)||NumberUtil.bigNumber(NumberUtil.bigNumber(gasPrice)).gt(networkBalanceInUSD)},hasInsufficientGasFunds(){let isInsufficientNetworkTokenForGas=!0;return AccountController.state.preferredAccountType===W3mFrameConstants.Vl.ACCOUNT_TYPES.SMART_ACCOUNT?isInsufficientNetworkTokenForGas=!1:SendController_state.networkBalanceInUSD&&(isInsufficientNetworkTokenForGas=this.isInsufficientNetworkTokenForGas(SendController_state.networkBalanceInUSD,SendController_state.gasPriceInUSD)),isInsufficientNetworkTokenForGas},async sendNativeToken(params){RouterController.pushTransactionStack({view:"Account",goBack:!1});const to=params.receiverAddress,address=AccountController.state.address,value=ConnectionController.parseUnits(params.sendTokenAmount.toString(),Number(params.decimals));try{await ConnectionController.sendTransaction({chainNamespace:"eip155",to,address,data:"0x",value:value??BigInt(0),gasPrice:params.gasPrice}),SnackController.showSuccess("Transaction started"),EventsController.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:AccountController.state.preferredAccountType===W3mFrameConstants.Vl.ACCOUNT_TYPES.SMART_ACCOUNT,token:this.state.token?.symbol||"",amount:params.sendTokenAmount,network:ChainController.state.activeCaipNetwork?.caipNetworkId||""}}),this.resetSend()}catch(error){SendController_console.error("SendController:sendERC20Token - failed to send native token",error);const errorMessage=error instanceof Error?error.message:"Unknown error";EventsController.sendEvent({type:"track",event:"SEND_ERROR",properties:{message:errorMessage,isSmartAccount:AccountController.state.preferredAccountType===W3mFrameConstants.Vl.ACCOUNT_TYPES.SMART_ACCOUNT,token:this.state.token?.symbol||"",amount:params.sendTokenAmount,network:ChainController.state.activeCaipNetwork?.caipNetworkId||""}}),SnackController.showError("Something went wrong")}},async sendERC20Token(params){RouterController.pushTransactionStack({view:"Account",goBack:!1});const amount=ConnectionController.parseUnits(params.sendTokenAmount.toString(),Number(params.decimals));try{if(AccountController.state.address&&params.sendTokenAmount&&params.receiverAddress&&params.tokenAddress){const tokenAddress=CoreHelperUtil.getPlainAddress(params.tokenAddress);await ConnectionController.writeContract({fromAddress:AccountController.state.address,tokenAddress,args:[params.receiverAddress,amount??BigInt(0)],method:"transfer",abi:ContractUtil_getERC20Abi(tokenAddress),chainNamespace:"eip155"}),SnackController.showSuccess("Transaction started"),this.resetSend()}}catch(error){SendController_console.error("SendController:sendERC20Token - failed to send erc20 token",error);const errorMessage=error instanceof Error?error.message:"Unknown error";EventsController.sendEvent({type:"track",event:"SEND_ERROR",properties:{message:errorMessage,isSmartAccount:AccountController.state.preferredAccountType===W3mFrameConstants.Vl.ACCOUNT_TYPES.SMART_ACCOUNT,token:this.state.token?.symbol||"",amount:params.sendTokenAmount,network:ChainController.state.activeCaipNetwork?.caipNetworkId||""}}),SnackController.showError("Something went wrong")}},sendSolanaToken(){this.state.sendTokenAmount&&this.state.receiverAddress?(RouterController.pushTransactionStack({view:"Account",goBack:!1}),ConnectionController.sendTransaction({chainNamespace:"solana",to:this.state.receiverAddress,value:this.state.sendTokenAmount}).then(()=>{this.resetSend(),AccountController.fetchTokenBalance()}).catch(error=>{SnackController.showError("Failed to send transaction. Please try again."),SendController_console.error("SendController:sendToken - failed to send solana transaction",error)})):SnackController.showError("Please enter a valid amount and receiver address")},resetSend(){SendController_state.token=void 0,SendController_state.sendTokenAmount=void 0,SendController_state.receiverAddress=void 0,SendController_state.receiverProfileImageUrl=void 0,SendController_state.receiverProfileName=void 0,SendController_state.loading=!1,SendController_state.tokenBalances=[]}};var ChainController_console=__webpack_require__("./node_modules/console-browserify/index.js");const accountState={currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,allAccounts:[],user:void 0},networkState={caipNetwork:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]},ChainController_state=(0,vanilla.BX)({chains:(0,utils.zC)(),activeCaipAddress:void 0,activeChain:void 0,activeCaipNetwork:void 0,noAdapters:!1,universalAdapter:{networkControllerClient:void 0,connectionControllerClient:void 0},isSwitchingNamespace:!1}),ChainController={state:ChainController_state,subscribe:callback=>(0,vanilla.B1)(ChainController_state,()=>{callback(ChainController_state)}),subscribeKey:(key,callback)=>(0,utils.u$)(ChainController_state,key,callback),subscribeChainProp(property,callback,chain){let prev;return(0,vanilla.B1)(ChainController_state.chains,()=>{const activeChain=chain||ChainController_state.activeChain;if(activeChain){const nextValue=ChainController_state.chains.get(activeChain)?.[property];prev!==nextValue&&(prev=nextValue,callback(nextValue))}})},initialize(adapters,caipNetworks,clients){const{chainId:activeChainId,namespace:activeNamespace}=StorageUtil.getActiveNetworkProps(),activeCaipNetwork=caipNetworks?.find(network=>network.id.toString()===activeChainId?.toString()),defaultAdapter=adapters.find(adapter=>adapter?.namespace===activeNamespace),adapterToActivate=defaultAdapter||adapters?.[0],namespaces=new Set([...caipNetworks?.map(network=>network.chainNamespace)??[]]);0!==adapters?.length&&adapterToActivate||(ChainController_state.noAdapters=!0),ChainController_state.noAdapters||(ChainController_state.activeChain=adapterToActivate?.namespace,ChainController_state.activeCaipNetwork=activeCaipNetwork,this.setChainNetworkData(adapterToActivate?.namespace,{caipNetwork:activeCaipNetwork}),ChainController_state.activeChain&&PublicStateController.set({activeChain:adapterToActivate?.namespace})),namespaces.forEach(namespace=>{const namespaceNetworks=caipNetworks?.filter(network=>network.chainNamespace===namespace);ChainController.state.chains.set(namespace,{namespace,networkState:(0,vanilla.BX)({...networkState,caipNetwork:namespaceNetworks?.[0]}),accountState:(0,vanilla.BX)(accountState),caipNetworks:namespaceNetworks??[],...clients}),this.setRequestedCaipNetworks(namespaceNetworks??[],namespace)})},removeAdapter(namespace){if(ChainController_state.activeChain===namespace){const nextAdapter=Array.from(ChainController_state.chains.entries()).find(([chainNamespace])=>chainNamespace!==namespace);if(nextAdapter){const caipNetwork=nextAdapter[1]?.caipNetworks?.[0];caipNetwork&&this.setActiveCaipNetwork(caipNetwork)}}ChainController_state.chains.delete(namespace)},addAdapter(adapter,{networkControllerClient,connectionControllerClient},caipNetworks){ChainController_state.chains.set(adapter.namespace,{namespace:adapter.namespace,networkState:{...networkState,caipNetwork:caipNetworks[0]},accountState,caipNetworks,connectionControllerClient,networkControllerClient}),this.setRequestedCaipNetworks(caipNetworks?.filter(caipNetwork=>caipNetwork.chainNamespace===adapter.namespace)??[],adapter.namespace)},addNetwork(network){const chainAdapter=ChainController_state.chains.get(network.chainNamespace);if(chainAdapter){const newNetworks=[...chainAdapter.caipNetworks||[]];chainAdapter.caipNetworks?.find(caipNetwork=>caipNetwork.id===network.id)||newNetworks.push(network),ChainController_state.chains.set(network.chainNamespace,{...chainAdapter,caipNetworks:newNetworks}),this.setRequestedCaipNetworks(newNetworks,network.chainNamespace)}},removeNetwork(namespace,networkId){const chainAdapter=ChainController_state.chains.get(namespace);if(chainAdapter){const isActiveNetwork=ChainController_state.activeCaipNetwork?.id===networkId,newCaipNetworksOfAdapter=[...chainAdapter.caipNetworks?.filter(network=>network.id!==networkId)||[]];isActiveNetwork&&chainAdapter?.caipNetworks?.[0]&&this.setActiveCaipNetwork(chainAdapter.caipNetworks[0]),ChainController_state.chains.set(namespace,{...chainAdapter,caipNetworks:newCaipNetworksOfAdapter}),this.setRequestedCaipNetworks(newCaipNetworksOfAdapter||[],namespace)}},setAdapterNetworkState(chain,props){const chainAdapter=ChainController_state.chains.get(chain);chainAdapter&&(chainAdapter.networkState={...chainAdapter.networkState||networkState,...props},ChainController_state.chains.set(chain,chainAdapter))},setChainAccountData(chain,accountProps,_unknown=!0){if(!chain)throw new Error("Chain is required to update chain account data");const chainAdapter=ChainController_state.chains.get(chain);if(chainAdapter){const newAccountState={...chainAdapter.accountState||accountState,...accountProps};ChainController_state.chains.set(chain,{...chainAdapter,accountState:newAccountState}),1!==ChainController_state.chains.size&&ChainController_state.activeChain!==chain||(accountProps.caipAddress&&(ChainController_state.activeCaipAddress=accountProps.caipAddress),AccountController.replaceState(newAccountState))}},setChainNetworkData(chain,networkProps){if(!chain)return;const chainAdapter=ChainController_state.chains.get(chain);if(chainAdapter){const newNetworkState={...chainAdapter.networkState||networkState,...networkProps};ChainController_state.chains.set(chain,{...chainAdapter,networkState:newNetworkState})}},setAccountProp(prop,value,chain,replaceState=!0){this.setChainAccountData(chain,{[prop]:value},replaceState),"status"===prop&&"disconnected"===value&&chain&&ConnectorController.removeConnectorId(chain)},setActiveNamespace(chain){ChainController_state.activeChain=chain;const newAdapter=chain?ChainController_state.chains.get(chain):void 0,caipNetwork=newAdapter?.networkState?.caipNetwork;caipNetwork?.id&&chain&&(ChainController_state.activeCaipAddress=newAdapter?.accountState?.caipAddress,ChainController_state.activeCaipNetwork=caipNetwork,this.setChainNetworkData(chain,{caipNetwork}),StorageUtil.setActiveCaipNetworkId(caipNetwork?.caipNetworkId),PublicStateController.set({activeChain:chain,selectedNetworkId:caipNetwork?.caipNetworkId}))},setActiveCaipNetwork(caipNetwork){if(!caipNetwork)return;ChainController_state.activeChain!==caipNetwork.chainNamespace&&this.setIsSwitchingNamespace(!0);const newAdapter=ChainController_state.chains.get(caipNetwork.chainNamespace);ChainController_state.activeChain=caipNetwork.chainNamespace,ChainController_state.activeCaipNetwork=caipNetwork,this.setChainNetworkData(caipNetwork.chainNamespace,{caipNetwork}),ChainController_state.activeCaipAddress=newAdapter?.accountState?.address?`${caipNetwork.chainNamespace}:${caipNetwork.id}:${newAdapter?.accountState?.address}`:void 0,this.setAccountProp("caipAddress",ChainController_state.activeCaipAddress,caipNetwork.chainNamespace),newAdapter&&AccountController.replaceState(newAdapter.accountState),SendController.resetSend(),PublicStateController.set({activeChain:ChainController_state.activeChain,selectedNetworkId:ChainController_state.activeCaipNetwork?.caipNetworkId}),StorageUtil.setActiveCaipNetworkId(caipNetwork.caipNetworkId);this.checkIfSupportedNetwork(caipNetwork.chainNamespace)||!OptionsController.state.enableNetworkSwitch||OptionsController.state.allowUnsupportedChain||ConnectionController.state.wcBasic||this.showUnsupportedChainUI()},addCaipNetwork(caipNetwork){if(!caipNetwork)return;const chain=ChainController_state.chains.get(caipNetwork.chainNamespace);chain&&chain?.caipNetworks?.push(caipNetwork)},async switchActiveNamespace(namespace){if(!namespace)return;const isDifferentChain=namespace!==ChainController.state.activeChain,caipNetworkOfNamespace=ChainController.getNetworkData(namespace)?.caipNetwork,firstNetworkWithChain=ChainController.getCaipNetworkByNamespace(namespace,caipNetworkOfNamespace?.id);isDifferentChain&&firstNetworkWithChain&&await ChainController.switchActiveNetwork(firstNetworkWithChain)},async switchActiveNetwork(network){const activeAdapter=ChainController.state.chains.get(ChainController.state.activeChain);!activeAdapter?.caipNetworks?.some(caipNetwork=>caipNetwork.id===ChainController_state.activeCaipNetwork?.id)&&RouterController.goBack();const networkControllerClient=this.getNetworkControllerClient(network.chainNamespace);networkControllerClient&&(await networkControllerClient.switchCaipNetwork(network),EventsController.sendEvent({type:"track",event:"SWITCH_NETWORK",properties:{network:network.caipNetworkId}}))},getNetworkControllerClient(chainNamespace){const chain=chainNamespace||ChainController_state.activeChain,chainAdapter=ChainController_state.chains.get(chain);if(!chainAdapter)throw new Error("Chain adapter not found");if(!chainAdapter.networkControllerClient)throw new Error("NetworkController client not set");return chainAdapter.networkControllerClient},getConnectionControllerClient(_chain){const chain=_chain||ChainController_state.activeChain;if(!chain)throw new Error("Chain is required to get connection controller client");const chainAdapter=ChainController_state.chains.get(chain);if(!chainAdapter?.connectionControllerClient)throw new Error("ConnectionController client not set");return chainAdapter.connectionControllerClient},getAccountProp(key,_chain){let chain=ChainController_state.activeChain;if(_chain&&(chain=_chain),!chain)return;const chainAccountState=ChainController_state.chains.get(chain)?.accountState;return chainAccountState?chainAccountState[key]:void 0},getNetworkProp(key,namespace){const chainNetworkState=ChainController_state.chains.get(namespace)?.networkState;if(chainNetworkState)return chainNetworkState[key]},getRequestedCaipNetworks(chainToFilter){const adapter=ChainController_state.chains.get(chainToFilter),{approvedCaipNetworkIds=[],requestedCaipNetworks=[]}=adapter?.networkState||{};return CoreHelperUtil.sortRequestedNetworks(approvedCaipNetworkIds,requestedCaipNetworks)},getAllRequestedCaipNetworks(){const requestedCaipNetworks=[];return ChainController_state.chains.forEach(chainAdapter=>{const caipNetworks=this.getRequestedCaipNetworks(chainAdapter.namespace);requestedCaipNetworks.push(...caipNetworks)}),requestedCaipNetworks},setRequestedCaipNetworks(requestedCaipNetworks,chain){this.setAdapterNetworkState(chain,{requestedCaipNetworks})},getAllApprovedCaipNetworkIds(){const approvedCaipNetworkIds=[];return ChainController_state.chains.forEach(chainAdapter=>{const approvedIds=this.getApprovedCaipNetworkIds(chainAdapter.namespace);approvedCaipNetworkIds.push(...approvedIds)}),approvedCaipNetworkIds},getActiveCaipNetwork:()=>ChainController_state.activeCaipNetwork,getActiveCaipAddress:()=>ChainController_state.activeCaipAddress,getApprovedCaipNetworkIds(namespace){const adapter=ChainController_state.chains.get(namespace);return adapter?.networkState?.approvedCaipNetworkIds||[]},async setApprovedCaipNetworksData(namespace){const networkControllerClient=this.getNetworkControllerClient(),data=await(networkControllerClient?.getApprovedCaipNetworksData());this.setAdapterNetworkState(namespace,{approvedCaipNetworkIds:data?.approvedCaipNetworkIds,supportsAllNetworks:data?.supportsAllNetworks})},checkIfSupportedNetwork(namespace,caipNetwork){const activeCaipNetwork=caipNetwork||ChainController_state.activeCaipNetwork,requestedCaipNetworks=this.getRequestedCaipNetworks(namespace);return!requestedCaipNetworks.length||requestedCaipNetworks?.some(network=>network.id===activeCaipNetwork?.id)},checkIfSupportedChainId(chainId){if(!ChainController_state.activeChain)return!0;const requestedCaipNetworks=this.getRequestedCaipNetworks(ChainController_state.activeChain);return requestedCaipNetworks?.some(network=>network.id===chainId)},setSmartAccountEnabledNetworks(smartAccountEnabledNetworks,chain){this.setAdapterNetworkState(chain,{smartAccountEnabledNetworks})},checkIfSmartAccountEnabled(){const networkId=NetworkUtil.caipNetworkIdToNumber(ChainController_state.activeCaipNetwork?.caipNetworkId),activeChain=ChainController_state.activeChain;if(!activeChain||!networkId)return!1;const smartAccountEnabledNetworks=this.getNetworkProp("smartAccountEnabledNetworks",activeChain);return Boolean(smartAccountEnabledNetworks?.includes(Number(networkId)))},getActiveNetworkTokenAddress(){const namespace=ChainController_state.activeCaipNetwork?.chainNamespace||"eip155";return`${namespace}:${ChainController_state.activeCaipNetwork?.id||1}:${ConstantsUtil_ConstantsUtil.NATIVE_TOKEN_ADDRESS[namespace]}`},showUnsupportedChainUI(){ModalController.open({view:"UnsupportedChain"})},checkIfNamesSupported(){const activeCaipNetwork=ChainController_state.activeCaipNetwork;return Boolean(activeCaipNetwork?.chainNamespace&&ConstantsUtil_ConstantsUtil.NAMES_SUPPORTED_CHAIN_NAMESPACES.includes(activeCaipNetwork.chainNamespace))},resetNetwork(namespace){this.setAdapterNetworkState(namespace,{approvedCaipNetworkIds:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]})},resetAccount(chain){const chainToWrite=chain;if(!chainToWrite)throw new Error("Chain is required to set account prop");ChainController_state.activeCaipAddress=void 0,this.setChainAccountData(chainToWrite,{smartAccountDeployed:!1,currentTab:0,caipAddress:void 0,address:void 0,balance:void 0,balanceSymbol:void 0,profileName:void 0,profileImage:void 0,addressExplorerUrl:void 0,tokenBalance:[],connectedWalletInfo:void 0,preferredAccountType:void 0,socialProvider:void 0,socialWindow:void 0,farcasterUrl:void 0,allAccounts:[],user:void 0,status:"disconnected"}),ConnectorController.removeConnectorId(chainToWrite)},async disconnect(namespace){const chainsToDisconnect=function getChainsToDisconnect(namespace){const namespaces=Array.from(ChainController.state.chains.keys());let chains=[];return namespace?(chains.push([namespace,ChainController.state.chains.get(namespace)]),checkNamespaceConnectorId(namespace,ConstantsUtil.CONNECTOR_ID.WALLET_CONNECT)?namespaces.forEach(ns=>{ns!==namespace&&checkNamespaceConnectorId(ns,ConstantsUtil.CONNECTOR_ID.WALLET_CONNECT)&&chains.push([ns,ChainController.state.chains.get(ns)])}):checkNamespaceConnectorId(namespace,ConstantsUtil.CONNECTOR_ID.AUTH)&&namespaces.forEach(ns=>{ns!==namespace&&checkNamespaceConnectorId(ns,ConstantsUtil.CONNECTOR_ID.AUTH)&&chains.push([ns,ChainController.state.chains.get(ns)])})):chains=Array.from(ChainController.state.chains.entries()),chains}(namespace);try{SendController.resetSend();const disconnectResults=await Promise.allSettled(chainsToDisconnect.map(async([ns,adapter])=>{try{const{caipAddress}=this.getAccountData(ns)||{};caipAddress&&adapter.connectionControllerClient?.disconnect&&await adapter.connectionControllerClient.disconnect(ns),this.resetAccount(ns),this.resetNetwork(ns)}catch(error){throw new Error(`Failed to disconnect chain ${ns}: ${error.message}`)}}));ConnectionController.resetWcConnection();const failures=disconnectResults.filter(result=>"rejected"===result.status);if(failures.length>0)throw new Error(failures.map(f=>f.reason.message).join(", "));StorageUtil.deleteConnectedSocialProvider(),namespace?ConnectorController.removeConnectorId(namespace):ConnectorController.resetConnectorIds(),EventsController.sendEvent({type:"track",event:"DISCONNECT_SUCCESS",properties:{namespace:namespace||"all"}})}catch(error){ChainController_console.error(error.message||"Failed to disconnect chains"),EventsController.sendEvent({type:"track",event:"DISCONNECT_ERROR",properties:{message:error.message||"Failed to disconnect chains"}})}},setIsSwitchingNamespace(isSwitchingNamespace){ChainController_state.isSwitchingNamespace=isSwitchingNamespace},getFirstCaipNetworkSupportsAuthConnector(){const availableChains=[];let firstCaipNetwork;if(ChainController_state.chains.forEach(chain=>{ConstantsUtil.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(ns=>ns===chain.namespace)&&chain.namespace&&availableChains.push(chain.namespace)}),availableChains.length>0){const firstAvailableChain=availableChains[0];return firstCaipNetwork=firstAvailableChain?ChainController_state.chains.get(firstAvailableChain)?.caipNetworks?.[0]:void 0,firstCaipNetwork}},getAccountData:chainNamespace=>chainNamespace?ChainController.state.chains.get(chainNamespace)?.accountState:AccountController.state,getNetworkData(chainNamespace){const namespace=chainNamespace||ChainController_state.activeChain;if(namespace)return ChainController.state.chains.get(namespace)?.networkState},getCaipNetworkByNamespace(chainNamespace,chainId){if(!chainNamespace)return;const chain=ChainController.state.chains.get(chainNamespace),byChainId=chain?.caipNetworks?.find(network=>network.id===chainId);return byChainId||(chain?.networkState?.caipNetwork||chain?.caipNetworks?.[0])},getRequestedCaipNetworkIds(){const namespace=ConnectorController.state.filterByNamespace;return(namespace?[ChainController_state.chains.get(namespace)]:Array.from(ChainController_state.chains.values())).flatMap(chain=>chain?.caipNetworks||[]).map(caipNetwork=>caipNetwork.caipNetworkId)}},MobileWalletUtil={handleSolanaDeeplinkRedirect(name){if(ChainController.state.activeChain===ConstantsUtil.CHAIN.SOLANA){const href=window.location.href,encodedHref=encodeURIComponent(href);if("Phantom"===name&&!("phantom"in window)){const protocol=href.startsWith("https")?"https":"http",host=href.split("/")[2],encodedRef=encodeURIComponent(`${protocol}://${host}`);window.location.href=`https://phantom.app/ul/browse/${encodedHref}?ref=${encodedRef}`}"Coinbase Wallet"!==name||"coinbaseSolana"in window||(window.location.href=`https://go.cb-w.com/dapp?cb_url=${encodedHref}`)}}};var ThemeController_console=__webpack_require__("./node_modules/console-browserify/index.js");const ThemeController_state=(0,vanilla.BX)({themeMode:"dark",themeVariables:{},w3mThemeVariables:void 0}),ThemeController={state:ThemeController_state,subscribe:callback=>(0,vanilla.B1)(ThemeController_state,()=>callback(ThemeController_state)),setThemeMode(themeMode){ThemeController_state.themeMode=themeMode;try{const authConnector=ConnectorController.getAuthConnector();if(authConnector){const themeVariables=ThemeController.getSnapshot().themeVariables;authConnector.provider.syncTheme({themeMode,themeVariables,w3mThemeVariables:getW3mThemeVariables(themeVariables,themeMode)})}}catch{ThemeController_console.info("Unable to sync theme to auth connector")}},setThemeVariables(themeVariables){ThemeController_state.themeVariables={...ThemeController_state.themeVariables,...themeVariables};try{const authConnector=ConnectorController.getAuthConnector();if(authConnector){const themeVariablesSnapshot=ThemeController.getSnapshot().themeVariables;authConnector.provider.syncTheme({themeVariables:themeVariablesSnapshot,w3mThemeVariables:getW3mThemeVariables(ThemeController_state.themeVariables,ThemeController_state.themeMode)})}}catch{ThemeController_console.info("Unable to sync theme to auth connector")}},getSnapshot:()=>(0,vanilla.P9)(ThemeController_state)},defaultActiveConnectors={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0},ConnectorController_state=(0,vanilla.BX)({allConnectors:[],connectors:[],activeConnector:void 0,filterByNamespace:void 0,activeConnectorIds:{...defaultActiveConnectors}}),ConnectorController={state:ConnectorController_state,subscribe:callback=>(0,vanilla.B1)(ConnectorController_state,()=>{callback(ConnectorController_state)}),subscribeKey:(key,callback)=>(0,utils.u$)(ConnectorController_state,key,callback),initialize(namespaces){namespaces.forEach(namespace=>{const connectorId=StorageUtil.getConnectedConnectorId(namespace);connectorId&&this.setConnectorId(connectorId,namespace)})},setActiveConnector(connector){connector&&(ConnectorController_state.activeConnector=(0,vanilla.KR)(connector))},setConnectors(connectors){connectors.filter(newConnector=>!ConnectorController_state.allConnectors.some(existingConnector=>existingConnector.id===newConnector.id&&this.getConnectorName(existingConnector.name)===this.getConnectorName(newConnector.name)&&existingConnector.chain===newConnector.chain)).forEach(connector=>{"MULTI_CHAIN"!==connector.type&&ConnectorController_state.allConnectors.push((0,vanilla.KR)(connector))}),ConnectorController_state.connectors=this.mergeMultiChainConnectors(ConnectorController_state.allConnectors)},removeAdapter(namespace){ConnectorController_state.allConnectors=ConnectorController_state.allConnectors.filter(connector=>connector.chain!==namespace),ConnectorController_state.connectors=this.mergeMultiChainConnectors(ConnectorController_state.allConnectors)},mergeMultiChainConnectors(connectors){const connectorsByNameMap=this.generateConnectorMapByName(connectors),mergedConnectors=[];return connectorsByNameMap.forEach(keyConnectors=>{const firstItem=keyConnectors[0],isAuthConnector=firstItem?.id===ConstantsUtil.CONNECTOR_ID.AUTH;keyConnectors.length>1&&firstItem?mergedConnectors.push({name:firstItem.name,imageUrl:firstItem.imageUrl,imageId:firstItem.imageId,connectors:[...keyConnectors],type:isAuthConnector?"AUTH":"MULTI_CHAIN",chain:"eip155",id:firstItem?.id||""}):firstItem&&mergedConnectors.push(firstItem)}),mergedConnectors},generateConnectorMapByName(connectors){const connectorsByNameMap=new Map;return connectors.forEach(connector=>{const{name}=connector,connectorName=this.getConnectorName(name);if(!connectorName)return;const connectorsByName=connectorsByNameMap.get(connectorName)||[];connectorsByName.find(c=>c.chain===connector.chain)||connectorsByName.push(connector),connectorsByNameMap.set(connectorName,connectorsByName)}),connectorsByNameMap},getConnectorName(name){if(!name)return name;return{"Trust Wallet":"Trust"}[name]||name},getUniqueConnectorsByName(connectors){const uniqueConnectors=[];return connectors.forEach(c=>{uniqueConnectors.find(uc=>uc.chain===c.chain)||uniqueConnectors.push(c)}),uniqueConnectors},addConnector(connector){if(connector.id===ConstantsUtil.CONNECTOR_ID.AUTH){const authConnector=connector,optionsState=(0,vanilla.P9)(OptionsController.state),themeMode=ThemeController.getSnapshot().themeMode,themeVariables=ThemeController.getSnapshot().themeVariables;authConnector?.provider?.syncDappData?.({metadata:optionsState.metadata,sdkVersion:optionsState.sdkVersion,projectId:optionsState.projectId,sdkType:optionsState.sdkType}),authConnector?.provider?.syncTheme({themeMode,themeVariables,w3mThemeVariables:getW3mThemeVariables(themeVariables,themeMode)}),this.setConnectors([connector])}else this.setConnectors([connector])},getAuthConnector(chainNamespace){const activeNamespace=chainNamespace||ChainController.state.activeChain,authConnector=ConnectorController_state.connectors.find(c=>c.id===ConstantsUtil.CONNECTOR_ID.AUTH);if(authConnector){if(authConnector?.connectors?.length){return authConnector.connectors.find(c=>c.chain===activeNamespace)}return authConnector}},getAnnouncedConnectorRdns:()=>ConnectorController_state.connectors.filter(c=>"ANNOUNCED"===c.type).map(c=>c.info?.rdns),getConnectorById:id=>ConnectorController_state.allConnectors.find(c=>c.id===id),getConnector:(id,rdns)=>ConnectorController_state.allConnectors.filter(c=>c.chain===ChainController.state.activeChain).find(c=>c.explorerId===id||c.info?.rdns===rdns),syncIfAuthConnector(connector){if("ID_AUTH"!==connector.id)return;const authConnector=connector,optionsState=(0,vanilla.P9)(OptionsController.state),themeMode=ThemeController.getSnapshot().themeMode,themeVariables=ThemeController.getSnapshot().themeVariables;authConnector?.provider?.syncDappData?.({metadata:optionsState.metadata,sdkVersion:optionsState.sdkVersion,sdkType:optionsState.sdkType,projectId:optionsState.projectId}),authConnector.provider.syncTheme({themeMode,themeVariables,w3mThemeVariables:getW3mThemeVariables(themeVariables,themeMode)})},getConnectorsByNamespace(namespace){const namespaceConnectors=ConnectorController_state.allConnectors.filter(connector=>connector.chain===namespace);return this.mergeMultiChainConnectors(namespaceConnectors)},selectWalletConnector(wallet){const connector=ConnectorController.getConnector(wallet.id,wallet.rdns);ChainController.state.activeChain===ConstantsUtil.CHAIN.SOLANA&&MobileWalletUtil.handleSolanaDeeplinkRedirect(connector?.name||wallet.name||""),connector?RouterController.push("ConnectingExternal",{connector}):RouterController.push("ConnectingWalletConnect",{wallet})},getConnectors(namespace){return namespace?this.getConnectorsByNamespace(namespace):this.mergeMultiChainConnectors(ConnectorController_state.allConnectors)},setFilterByNamespace(namespace){ConnectorController_state.filterByNamespace=namespace,ConnectorController_state.connectors=this.getConnectors(namespace),ApiController.setFilterByNamespace(namespace)},setConnectorId(connectorId,namespace){connectorId&&(ConnectorController_state.activeConnectorIds={...ConnectorController_state.activeConnectorIds,[namespace]:connectorId},StorageUtil.setConnectedConnectorId(namespace,connectorId))},removeConnectorId(namespace){ConnectorController_state.activeConnectorIds={...ConnectorController_state.activeConnectorIds,[namespace]:void 0},StorageUtil.deleteConnectedConnectorId(namespace)},getConnectorId(namespace){if(namespace)return ConnectorController_state.activeConnectorIds[namespace]},isConnected:namespace=>namespace?Boolean(ConnectorController_state.activeConnectorIds[namespace]):Object.values(ConnectorController_state.activeConnectorIds).some(id=>Boolean(id)),resetConnectorIds(){ConnectorController_state.activeConnectorIds={...defaultActiveConnectors}}},ParseUtil={validateCaipAddress(address){if(3!==address.split(":")?.length)throw new Error("Invalid CAIP Address");return address},parseCaipAddress(caipAddress){const parts=caipAddress.split(":");if(3!==parts.length)throw new Error(`Invalid CAIP-10 address: ${caipAddress}`);const[chainNamespace,chainId,address]=parts;if(!chainNamespace||!chainId||!address)throw new Error(`Invalid CAIP-10 address: ${caipAddress}`);return{chainNamespace,chainId,address}},parseCaipNetworkId(caipNetworkId){const parts=caipNetworkId.split(":");if(2!==parts.length)throw new Error(`Invalid CAIP-2 network id: ${caipNetworkId}`);const[chainNamespace,chainId]=parts;if(!chainNamespace||!chainId)throw new Error(`Invalid CAIP-2 network id: ${caipNetworkId}`);return{chainNamespace,chainId}}},EnsUtil={convertEVMChainIdToCoinType(chainId){if(chainId>=2147483648)throw new Error("Invalid chainId");return(2147483648|chainId)>>>0}},EnsController_state=(0,vanilla.BX)({suggestions:[],loading:!1}),EnsController={state:EnsController_state,subscribe:callback=>(0,vanilla.B1)(EnsController_state,()=>callback(EnsController_state)),subscribeKey:(key,callback)=>(0,utils.u$)(EnsController_state,key,callback),async resolveName(name){try{return await BlockchainApiController.lookupEnsName(name)}catch(e){const error=e;throw new Error(error?.reasons?.[0]?.description||"Error resolving name")}},async isNameRegistered(name){try{return await BlockchainApiController.lookupEnsName(name),!0}catch{return!1}},async getSuggestions(value){try{EnsController_state.loading=!0,EnsController_state.suggestions=[];const response=await BlockchainApiController.getEnsNameSuggestions(value);return EnsController_state.suggestions=response.suggestions.map(suggestion=>({...suggestion,name:suggestion.name}))||[],EnsController_state.suggestions}catch(e){const errorMessage=this.parseEnsApiError(e,"Error fetching name suggestions");throw new Error(errorMessage)}finally{EnsController_state.loading=!1}},async getNamesForAddress(address){try{if(!ChainController.state.activeCaipNetwork)return[];const cachedEns=StorageUtil.getEnsFromCacheForAddress(address);if(cachedEns)return cachedEns;const response=await BlockchainApiController.reverseLookupEnsName({address});return StorageUtil.updateEnsCache({address,ens:response,timestamp:Date.now()}),response}catch(e){const errorMessage=this.parseEnsApiError(e,"Error fetching names for address");throw new Error(errorMessage)}},async registerName(name){const network=ChainController.state.activeCaipNetwork;if(!network)throw new Error("Network not found");const address=AccountController.state.address,emailConnector=ConnectorController.getAuthConnector();if(!address||!emailConnector)throw new Error("Address or auth connector not found");EnsController_state.loading=!0;try{const message=JSON.stringify({name,attributes:{},timestamp:Math.floor(Date.now()/1e3)});RouterController.pushTransactionStack({view:"RegisterAccountNameSuccess",goBack:!1,replace:!0,onCancel(){EnsController_state.loading=!1}});const signature=await ConnectionController.signMessage(message),networkId=network.id;if(!networkId)throw new Error("Network not found");const coinType=EnsUtil.convertEVMChainIdToCoinType(Number(networkId));await BlockchainApiController.registerEnsName({coinType,address,signature,message}),AccountController.setProfileName(name,network.chainNamespace),RouterController.replace("RegisterAccountNameSuccess")}catch(e){const errorMessage=this.parseEnsApiError(e,`Error registering name ${name}`);throw RouterController.replace("RegisterAccountName"),new Error(errorMessage)}finally{EnsController_state.loading=!1}},validateName:name=>/^[a-zA-Z0-9-]{4,}$/u.test(name),parseEnsApiError(error,defaultError){const ensError=error;return ensError?.reasons?.[0]?.description||defaultError}};__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/dist/esm/src/utils/ConnectorUtil.js"),__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/dist/esm/src/utils/ConstantsUtil.js");var WalletUtil=__webpack_require__("./node_modules/@reown/appkit-scaffold-ui/dist/esm/src/utils/WalletUtil.js");__webpack_require__("./node_modules/@lit/reactive-element/reactive-element.js"),__webpack_require__("./node_modules/lit-html/lit-html.js");var lit_element=__webpack_require__("./node_modules/lit-element/lit-element.js");let themeTag,darkModeTag,lightModeTag;function setColorTheme(themeMode){darkModeTag&&lightModeTag&&("light"===themeMode?(darkModeTag.removeAttribute("media"),lightModeTag.media="enabled"):(lightModeTag.removeAttribute("media"),darkModeTag.media="enabled"))}function createRootStyles(themeVariables){return{core:lit_element.AH`
      @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
      @keyframes w3m-shake {
        0% {
          transform: scale(1) rotate(0deg);
        }
        20% {
          transform: scale(1) rotate(-1deg);
        }
        40% {
          transform: scale(1) rotate(1.5deg);
        }
        60% {
          transform: scale(1) rotate(-1.5deg);
        }
        80% {
          transform: scale(1) rotate(1deg);
        }
        100% {
          transform: scale(1) rotate(0deg);
        }
      }
      @keyframes w3m-iframe-fade-out {
        0% {
          opacity: 1;
        }
        100% {
          opacity: 0;
        }
      }
      @keyframes w3m-iframe-zoom-in {
        0% {
          transform: translateY(50px);
          opacity: 0;
        }
        100% {
          transform: translateY(0px);
          opacity: 1;
        }
      }
      @keyframes w3m-iframe-zoom-in-mobile {
        0% {
          transform: scale(0.95);
          opacity: 0;
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }
      :root {
        --w3m-modal-width: 360px;
        --w3m-color-mix-strength: ${(0,lit_element.iz)(themeVariables?.["--w3m-color-mix-strength"]?`${themeVariables["--w3m-color-mix-strength"]}%`:"0%")};
        --w3m-font-family: ${(0,lit_element.iz)(themeVariables?.["--w3m-font-family"]||"Inter, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif;")};
        --w3m-font-size-master: ${(0,lit_element.iz)(themeVariables?.["--w3m-font-size-master"]||"10px")};
        --w3m-border-radius-master: ${(0,lit_element.iz)(themeVariables?.["--w3m-border-radius-master"]||"4px")};
        --w3m-z-index: ${(0,lit_element.iz)(themeVariables?.["--w3m-z-index"]||999)};

        --wui-font-family: var(--w3m-font-family);

        --wui-font-size-mini: calc(var(--w3m-font-size-master) * 0.8);
        --wui-font-size-micro: var(--w3m-font-size-master);
        --wui-font-size-tiny: calc(var(--w3m-font-size-master) * 1.2);
        --wui-font-size-small: calc(var(--w3m-font-size-master) * 1.4);
        --wui-font-size-paragraph: calc(var(--w3m-font-size-master) * 1.6);
        --wui-font-size-medium: calc(var(--w3m-font-size-master) * 1.8);
        --wui-font-size-large: calc(var(--w3m-font-size-master) * 2);
        --wui-font-size-title-6: calc(var(--w3m-font-size-master) * 2.2);
        --wui-font-size-medium-title: calc(var(--w3m-font-size-master) * 2.4);
        --wui-font-size-2xl: calc(var(--w3m-font-size-master) * 4);

        --wui-border-radius-5xs: var(--w3m-border-radius-master);
        --wui-border-radius-4xs: calc(var(--w3m-border-radius-master) * 1.5);
        --wui-border-radius-3xs: calc(var(--w3m-border-radius-master) * 2);
        --wui-border-radius-xxs: calc(var(--w3m-border-radius-master) * 3);
        --wui-border-radius-xs: calc(var(--w3m-border-radius-master) * 4);
        --wui-border-radius-s: calc(var(--w3m-border-radius-master) * 5);
        --wui-border-radius-m: calc(var(--w3m-border-radius-master) * 7);
        --wui-border-radius-l: calc(var(--w3m-border-radius-master) * 9);
        --wui-border-radius-3xl: calc(var(--w3m-border-radius-master) * 20);

        --wui-font-weight-light: 400;
        --wui-font-weight-regular: 500;
        --wui-font-weight-medium: 600;
        --wui-font-weight-bold: 700;

        --wui-letter-spacing-2xl: -1.6px;
        --wui-letter-spacing-medium-title: -0.96px;
        --wui-letter-spacing-title-6: -0.88px;
        --wui-letter-spacing-large: -0.8px;
        --wui-letter-spacing-medium: -0.72px;
        --wui-letter-spacing-paragraph: -0.64px;
        --wui-letter-spacing-small: -0.56px;
        --wui-letter-spacing-tiny: -0.48px;
        --wui-letter-spacing-micro: -0.2px;
        --wui-letter-spacing-mini: -0.16px;

        --wui-spacing-0: 0px;
        --wui-spacing-4xs: 2px;
        --wui-spacing-3xs: 4px;
        --wui-spacing-xxs: 6px;
        --wui-spacing-2xs: 7px;
        --wui-spacing-xs: 8px;
        --wui-spacing-1xs: 10px;
        --wui-spacing-s: 12px;
        --wui-spacing-m: 14px;
        --wui-spacing-l: 16px;
        --wui-spacing-2l: 18px;
        --wui-spacing-xl: 20px;
        --wui-spacing-xxl: 24px;
        --wui-spacing-2xl: 32px;
        --wui-spacing-3xl: 40px;
        --wui-spacing-4xl: 90px;
        --wui-spacing-5xl: 95px;

        --wui-icon-box-size-xxs: 14px;
        --wui-icon-box-size-xs: 20px;
        --wui-icon-box-size-sm: 24px;
        --wui-icon-box-size-md: 32px;
        --wui-icon-box-size-mdl: 36px;
        --wui-icon-box-size-lg: 40px;
        --wui-icon-box-size-2lg: 48px;
        --wui-icon-box-size-xl: 64px;

        --wui-icon-size-inherit: inherit;
        --wui-icon-size-xxs: 10px;
        --wui-icon-size-xs: 12px;
        --wui-icon-size-sm: 14px;
        --wui-icon-size-md: 16px;
        --wui-icon-size-mdl: 18px;
        --wui-icon-size-lg: 20px;
        --wui-icon-size-xl: 24px;
        --wui-icon-size-xxl: 28px;

        --wui-wallet-image-size-inherit: inherit;
        --wui-wallet-image-size-sm: 40px;
        --wui-wallet-image-size-md: 56px;
        --wui-wallet-image-size-lg: 80px;

        --wui-visual-size-size-inherit: inherit;
        --wui-visual-size-sm: 40px;
        --wui-visual-size-md: 55px;
        --wui-visual-size-lg: 80px;

        --wui-box-size-md: 100px;
        --wui-box-size-lg: 120px;

        --wui-ease-out-power-2: cubic-bezier(0, 0, 0.22, 1);
        --wui-ease-out-power-1: cubic-bezier(0, 0, 0.55, 1);

        --wui-ease-in-power-3: cubic-bezier(0.66, 0, 1, 1);
        --wui-ease-in-power-2: cubic-bezier(0.45, 0, 1, 1);
        --wui-ease-in-power-1: cubic-bezier(0.3, 0, 1, 1);

        --wui-ease-inout-power-1: cubic-bezier(0.45, 0, 0.55, 1);

        --wui-duration-lg: 200ms;
        --wui-duration-md: 125ms;
        --wui-duration-sm: 75ms;

        --wui-path-network-sm: path(
          'M15.4 2.1a5.21 5.21 0 0 1 5.2 0l11.61 6.7a5.21 5.21 0 0 1 2.61 4.52v13.4c0 1.87-1 3.59-2.6 4.52l-11.61 6.7c-1.62.93-3.6.93-5.22 0l-11.6-6.7a5.21 5.21 0 0 1-2.61-4.51v-13.4c0-1.87 1-3.6 2.6-4.52L15.4 2.1Z'
        );

        --wui-path-network-md: path(
          'M43.4605 10.7248L28.0485 1.61089C25.5438 0.129705 22.4562 0.129705 19.9515 1.61088L4.53951 10.7248C2.03626 12.2051 0.5 14.9365 0.5 17.886V36.1139C0.5 39.0635 2.03626 41.7949 4.53951 43.2752L19.9515 52.3891C22.4562 53.8703 25.5438 53.8703 28.0485 52.3891L43.4605 43.2752C45.9637 41.7949 47.5 39.0635 47.5 36.114V17.8861C47.5 14.9365 45.9637 12.2051 43.4605 10.7248Z'
        );

        --wui-path-network-lg: path(
          'M78.3244 18.926L50.1808 2.45078C45.7376 -0.150261 40.2624 -0.150262 35.8192 2.45078L7.6756 18.926C3.23322 21.5266 0.5 26.3301 0.5 31.5248V64.4752C0.5 69.6699 3.23322 74.4734 7.6756 77.074L35.8192 93.5492C40.2624 96.1503 45.7376 96.1503 50.1808 93.5492L78.3244 77.074C82.7668 74.4734 85.5 69.6699 85.5 64.4752V31.5248C85.5 26.3301 82.7668 21.5266 78.3244 18.926Z'
        );

        --wui-width-network-sm: 36px;
        --wui-width-network-md: 48px;
        --wui-width-network-lg: 86px;

        --wui-height-network-sm: 40px;
        --wui-height-network-md: 54px;
        --wui-height-network-lg: 96px;

        --wui-icon-size-network-xs: 12px;
        --wui-icon-size-network-sm: 16px;
        --wui-icon-size-network-md: 24px;
        --wui-icon-size-network-lg: 42px;

        --wui-color-inherit: inherit;

        --wui-color-inverse-100: #fff;
        --wui-color-inverse-000: #000;

        --wui-cover: rgba(20, 20, 20, 0.8);

        --wui-color-modal-bg: var(--wui-color-modal-bg-base);

        --wui-color-accent-100: var(--wui-color-accent-base-100);
        --wui-color-accent-090: var(--wui-color-accent-base-090);
        --wui-color-accent-080: var(--wui-color-accent-base-080);

        --wui-color-success-100: var(--wui-color-success-base-100);
        --wui-color-success-125: var(--wui-color-success-base-125);

        --wui-color-warning-100: var(--wui-color-warning-base-100);

        --wui-color-error-100: var(--wui-color-error-base-100);
        --wui-color-error-125: var(--wui-color-error-base-125);

        --wui-color-blue-100: var(--wui-color-blue-base-100);
        --wui-color-blue-90: var(--wui-color-blue-base-90);

        --wui-icon-box-bg-error-100: var(--wui-icon-box-bg-error-base-100);
        --wui-icon-box-bg-blue-100: var(--wui-icon-box-bg-blue-base-100);
        --wui-icon-box-bg-success-100: var(--wui-icon-box-bg-success-base-100);
        --wui-icon-box-bg-inverse-100: var(--wui-icon-box-bg-inverse-base-100);

        --wui-all-wallets-bg-100: var(--wui-all-wallets-bg-100);

        --wui-avatar-border: var(--wui-avatar-border-base);

        --wui-thumbnail-border: var(--wui-thumbnail-border-base);

        --wui-wallet-button-bg: var(--wui-wallet-button-bg-base);

        --wui-box-shadow-blue: var(--wui-color-accent-glass-020);
      }

      @supports (background: color-mix(in srgb, white 50%, black)) {
        :root {
          --wui-color-modal-bg: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-modal-bg-base)
          );

          --wui-box-shadow-blue: color-mix(in srgb, var(--wui-color-accent-100) 20%, transparent);

          --wui-color-accent-100: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 100%,
            transparent
          );
          --wui-color-accent-090: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 90%,
            transparent
          );
          --wui-color-accent-080: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 80%,
            transparent
          );
          --wui-color-accent-glass-090: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 90%,
            transparent
          );
          --wui-color-accent-glass-080: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 80%,
            transparent
          );
          --wui-color-accent-glass-020: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 20%,
            transparent
          );
          --wui-color-accent-glass-015: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 15%,
            transparent
          );
          --wui-color-accent-glass-010: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 10%,
            transparent
          );
          --wui-color-accent-glass-005: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 5%,
            transparent
          );
          --wui-color-accent-002: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 2%,
            transparent
          );

          --wui-color-fg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-100)
          );
          --wui-color-fg-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-125)
          );
          --wui-color-fg-150: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-150)
          );
          --wui-color-fg-175: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-175)
          );
          --wui-color-fg-200: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-200)
          );
          --wui-color-fg-225: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-225)
          );
          --wui-color-fg-250: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-250)
          );
          --wui-color-fg-275: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-275)
          );
          --wui-color-fg-300: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-300)
          );
          --wui-color-fg-325: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-325)
          );
          --wui-color-fg-350: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-350)
          );

          --wui-color-bg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-100)
          );
          --wui-color-bg-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-125)
          );
          --wui-color-bg-150: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-150)
          );
          --wui-color-bg-175: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-175)
          );
          --wui-color-bg-200: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-200)
          );
          --wui-color-bg-225: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-225)
          );
          --wui-color-bg-250: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-250)
          );
          --wui-color-bg-275: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-275)
          );
          --wui-color-bg-300: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-300)
          );
          --wui-color-bg-325: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-325)
          );
          --wui-color-bg-350: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-350)
          );

          --wui-color-success-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-success-base-100)
          );
          --wui-color-success-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-success-base-125)
          );

          --wui-color-warning-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-warning-base-100)
          );

          --wui-color-error-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-error-base-100)
          );
          --wui-color-blue-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-blue-base-100)
          );
          --wui-color-blue-90: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-blue-base-90)
          );
          --wui-color-error-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-error-base-125)
          );

          --wui-icon-box-bg-error-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-error-base-100)
          );
          --wui-icon-box-bg-accent-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-blue-base-100)
          );
          --wui-icon-box-bg-success-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-success-base-100)
          );
          --wui-icon-box-bg-inverse-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-inverse-base-100)
          );

          --wui-all-wallets-bg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-all-wallets-bg-100)
          );

          --wui-avatar-border: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-avatar-border-base)
          );

          --wui-thumbnail-border: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-thumbnail-border-base)
          );

          --wui-wallet-button-bg: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-wallet-button-bg-base)
          );
        }
      }
    `,light:lit_element.AH`
      :root {
        --w3m-color-mix: ${(0,lit_element.iz)(themeVariables?.["--w3m-color-mix"]||"#fff")};
        --w3m-accent: ${(0,lit_element.iz)(getW3mThemeVariables(themeVariables,"dark")["--w3m-accent"])};
        --w3m-default: #fff;

        --wui-color-modal-bg-base: ${(0,lit_element.iz)(getW3mThemeVariables(themeVariables,"dark")["--w3m-background"])};
        --wui-color-accent-base-100: var(--w3m-accent);

        --wui-color-blueberry-100: hsla(230, 100%, 67%, 1);
        --wui-color-blueberry-090: hsla(231, 76%, 61%, 1);
        --wui-color-blueberry-080: hsla(230, 59%, 55%, 1);
        --wui-color-blueberry-050: hsla(231, 100%, 70%, 0.1);

        --wui-color-fg-100: #e4e7e7;
        --wui-color-fg-125: #d0d5d5;
        --wui-color-fg-150: #a8b1b1;
        --wui-color-fg-175: #a8b0b0;
        --wui-color-fg-200: #949e9e;
        --wui-color-fg-225: #868f8f;
        --wui-color-fg-250: #788080;
        --wui-color-fg-275: #788181;
        --wui-color-fg-300: #6e7777;
        --wui-color-fg-325: #9a9a9a;
        --wui-color-fg-350: #363636;

        --wui-color-bg-100: #141414;
        --wui-color-bg-125: #191a1a;
        --wui-color-bg-150: #1e1f1f;
        --wui-color-bg-175: #222525;
        --wui-color-bg-200: #272a2a;
        --wui-color-bg-225: #2c3030;
        --wui-color-bg-250: #313535;
        --wui-color-bg-275: #363b3b;
        --wui-color-bg-300: #3b4040;
        --wui-color-bg-325: #252525;
        --wui-color-bg-350: #ffffff;

        --wui-color-success-base-100: #26d962;
        --wui-color-success-base-125: #30a46b;

        --wui-color-warning-base-100: #f3a13f;

        --wui-color-error-base-100: #f25a67;
        --wui-color-error-base-125: #df4a34;

        --wui-color-blue-base-100: rgba(102, 125, 255, 1);
        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);

        --wui-color-success-glass-001: rgba(38, 217, 98, 0.01);
        --wui-color-success-glass-002: rgba(38, 217, 98, 0.02);
        --wui-color-success-glass-005: rgba(38, 217, 98, 0.05);
        --wui-color-success-glass-010: rgba(38, 217, 98, 0.1);
        --wui-color-success-glass-015: rgba(38, 217, 98, 0.15);
        --wui-color-success-glass-020: rgba(38, 217, 98, 0.2);
        --wui-color-success-glass-025: rgba(38, 217, 98, 0.25);
        --wui-color-success-glass-030: rgba(38, 217, 98, 0.3);
        --wui-color-success-glass-060: rgba(38, 217, 98, 0.6);
        --wui-color-success-glass-080: rgba(38, 217, 98, 0.8);

        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);

        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);

        --wui-color-error-glass-001: rgba(242, 90, 103, 0.01);
        --wui-color-error-glass-002: rgba(242, 90, 103, 0.02);
        --wui-color-error-glass-005: rgba(242, 90, 103, 0.05);
        --wui-color-error-glass-010: rgba(242, 90, 103, 0.1);
        --wui-color-error-glass-015: rgba(242, 90, 103, 0.15);
        --wui-color-error-glass-020: rgba(242, 90, 103, 0.2);
        --wui-color-error-glass-025: rgba(242, 90, 103, 0.25);
        --wui-color-error-glass-030: rgba(242, 90, 103, 0.3);
        --wui-color-error-glass-060: rgba(242, 90, 103, 0.6);
        --wui-color-error-glass-080: rgba(242, 90, 103, 0.8);

        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);

        --wui-color-gray-glass-001: rgba(255, 255, 255, 0.01);
        --wui-color-gray-glass-002: rgba(255, 255, 255, 0.02);
        --wui-color-gray-glass-005: rgba(255, 255, 255, 0.05);
        --wui-color-gray-glass-010: rgba(255, 255, 255, 0.1);
        --wui-color-gray-glass-015: rgba(255, 255, 255, 0.15);
        --wui-color-gray-glass-020: rgba(255, 255, 255, 0.2);
        --wui-color-gray-glass-025: rgba(255, 255, 255, 0.25);
        --wui-color-gray-glass-030: rgba(255, 255, 255, 0.3);
        --wui-color-gray-glass-060: rgba(255, 255, 255, 0.6);
        --wui-color-gray-glass-080: rgba(255, 255, 255, 0.8);
        --wui-color-gray-glass-090: rgba(255, 255, 255, 0.9);

        --wui-color-dark-glass-100: rgba(42, 42, 42, 1);

        --wui-icon-box-bg-error-base-100: #3c2426;
        --wui-icon-box-bg-blue-base-100: #20303f;
        --wui-icon-box-bg-success-base-100: #1f3a28;
        --wui-icon-box-bg-inverse-base-100: #243240;

        --wui-all-wallets-bg-100: #222b35;

        --wui-avatar-border-base: #252525;

        --wui-thumbnail-border-base: #252525;

        --wui-wallet-button-bg-base: var(--wui-color-bg-125);

        --w3m-card-embedded-shadow-color: rgb(17 17 18 / 25%);
      }
    `,dark:lit_element.AH`
      :root {
        --w3m-color-mix: ${(0,lit_element.iz)(themeVariables?.["--w3m-color-mix"]||"#000")};
        --w3m-accent: ${(0,lit_element.iz)(getW3mThemeVariables(themeVariables,"light")["--w3m-accent"])};
        --w3m-default: #000;

        --wui-color-modal-bg-base: ${(0,lit_element.iz)(getW3mThemeVariables(themeVariables,"light")["--w3m-background"])};
        --wui-color-accent-base-100: var(--w3m-accent);

        --wui-color-blueberry-100: hsla(231, 100%, 70%, 1);
        --wui-color-blueberry-090: hsla(231, 97%, 72%, 1);
        --wui-color-blueberry-080: hsla(231, 92%, 74%, 1);

        --wui-color-fg-100: #141414;
        --wui-color-fg-125: #2d3131;
        --wui-color-fg-150: #474d4d;
        --wui-color-fg-175: #636d6d;
        --wui-color-fg-200: #798686;
        --wui-color-fg-225: #828f8f;
        --wui-color-fg-250: #8b9797;
        --wui-color-fg-275: #95a0a0;
        --wui-color-fg-300: #9ea9a9;
        --wui-color-fg-325: #9a9a9a;
        --wui-color-fg-350: #d0d0d0;

        --wui-color-bg-100: #ffffff;
        --wui-color-bg-125: #f5fafa;
        --wui-color-bg-150: #f3f8f8;
        --wui-color-bg-175: #eef4f4;
        --wui-color-bg-200: #eaf1f1;
        --wui-color-bg-225: #e5eded;
        --wui-color-bg-250: #e1e9e9;
        --wui-color-bg-275: #dce7e7;
        --wui-color-bg-300: #d8e3e3;
        --wui-color-bg-325: #f3f3f3;
        --wui-color-bg-350: #202020;

        --wui-color-success-base-100: #26b562;
        --wui-color-success-base-125: #30a46b;

        --wui-color-warning-base-100: #f3a13f;

        --wui-color-error-base-100: #f05142;
        --wui-color-error-base-125: #df4a34;

        --wui-color-blue-base-100: rgba(102, 125, 255, 1);
        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);

        --wui-color-success-glass-001: rgba(38, 181, 98, 0.01);
        --wui-color-success-glass-002: rgba(38, 181, 98, 0.02);
        --wui-color-success-glass-005: rgba(38, 181, 98, 0.05);
        --wui-color-success-glass-010: rgba(38, 181, 98, 0.1);
        --wui-color-success-glass-015: rgba(38, 181, 98, 0.15);
        --wui-color-success-glass-020: rgba(38, 181, 98, 0.2);
        --wui-color-success-glass-025: rgba(38, 181, 98, 0.25);
        --wui-color-success-glass-030: rgba(38, 181, 98, 0.3);
        --wui-color-success-glass-060: rgba(38, 181, 98, 0.6);
        --wui-color-success-glass-080: rgba(38, 181, 98, 0.8);

        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);

        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);

        --wui-color-error-glass-001: rgba(240, 81, 66, 0.01);
        --wui-color-error-glass-002: rgba(240, 81, 66, 0.02);
        --wui-color-error-glass-005: rgba(240, 81, 66, 0.05);
        --wui-color-error-glass-010: rgba(240, 81, 66, 0.1);
        --wui-color-error-glass-015: rgba(240, 81, 66, 0.15);
        --wui-color-error-glass-020: rgba(240, 81, 66, 0.2);
        --wui-color-error-glass-025: rgba(240, 81, 66, 0.25);
        --wui-color-error-glass-030: rgba(240, 81, 66, 0.3);
        --wui-color-error-glass-060: rgba(240, 81, 66, 0.6);
        --wui-color-error-glass-080: rgba(240, 81, 66, 0.8);

        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);

        --wui-icon-box-bg-error-base-100: #f4dfdd;
        --wui-icon-box-bg-blue-base-100: #d9ecfb;
        --wui-icon-box-bg-success-base-100: #daf0e4;
        --wui-icon-box-bg-inverse-base-100: #dcecfc;

        --wui-all-wallets-bg-100: #e8f1fa;

        --wui-avatar-border-base: #f3f4f4;

        --wui-thumbnail-border-base: #eaefef;

        --wui-wallet-button-bg-base: var(--wui-color-bg-125);

        --wui-color-gray-glass-001: rgba(0, 0, 0, 0.01);
        --wui-color-gray-glass-002: rgba(0, 0, 0, 0.02);
        --wui-color-gray-glass-005: rgba(0, 0, 0, 0.05);
        --wui-color-gray-glass-010: rgba(0, 0, 0, 0.1);
        --wui-color-gray-glass-015: rgba(0, 0, 0, 0.15);
        --wui-color-gray-glass-020: rgba(0, 0, 0, 0.2);
        --wui-color-gray-glass-025: rgba(0, 0, 0, 0.25);
        --wui-color-gray-glass-030: rgba(0, 0, 0, 0.3);
        --wui-color-gray-glass-060: rgba(0, 0, 0, 0.6);
        --wui-color-gray-glass-080: rgba(0, 0, 0, 0.8);
        --wui-color-gray-glass-090: rgba(0, 0, 0, 0.9);

        --wui-color-dark-glass-100: rgba(233, 233, 233, 1);

        --w3m-card-embedded-shadow-color: rgb(224 225 233 / 25%);
      }
    `}}lit_element.AH`
  *,
  *::after,
  *::before,
  :host {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-style: normal;
    text-rendering: optimizeSpeed;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-tap-highlight-color: transparent;
    font-family: var(--wui-font-family);
    backface-visibility: hidden;
  }
`,lit_element.AH`
  button,
  a {
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    transition:
      color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      background-color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1),
      box-shadow var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: background-color, color, border, box-shadow, border-radius;
    outline: none;
    border: none;
    column-gap: var(--wui-spacing-3xs);
    background-color: transparent;
    text-decoration: none;
  }

  wui-flex {
    transition: border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: border-radius;
  }

  button:disabled > wui-wallet-image,
  button:disabled > wui-all-wallets-image,
  button:disabled > wui-network-image,
  button:disabled > wui-image,
  button:disabled > wui-transaction-visual,
  button:disabled > wui-logo {
    filter: grayscale(1);
  }

  @media (hover: hover) and (pointer: fine) {
    button:hover:enabled {
      background-color: var(--wui-color-gray-glass-005);
    }

    button:active:enabled {
      background-color: var(--wui-color-gray-glass-010);
    }
  }

  button:disabled > wui-icon-box {
    opacity: 0.5;
  }

  input {
    border: none;
    outline: none;
    appearance: none;
  }
`,lit_element.AH`
  .wui-color-inherit {
    color: var(--wui-color-inherit);
  }

  .wui-color-accent-100 {
    color: var(--wui-color-accent-100);
  }

  .wui-color-error-100 {
    color: var(--wui-color-error-100);
  }

  .wui-color-blue-100 {
    color: var(--wui-color-blue-100);
  }

  .wui-color-blue-90 {
    color: var(--wui-color-blue-90);
  }

  .wui-color-error-125 {
    color: var(--wui-color-error-125);
  }

  .wui-color-success-100 {
    color: var(--wui-color-success-100);
  }

  .wui-color-success-125 {
    color: var(--wui-color-success-125);
  }

  .wui-color-inverse-100 {
    color: var(--wui-color-inverse-100);
  }

  .wui-color-inverse-000 {
    color: var(--wui-color-inverse-000);
  }

  .wui-color-fg-100 {
    color: var(--wui-color-fg-100);
  }

  .wui-color-fg-200 {
    color: var(--wui-color-fg-200);
  }

  .wui-color-fg-300 {
    color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    color: var(--wui-color-fg-350);
  }

  .wui-bg-color-inherit {
    background-color: var(--wui-color-inherit);
  }

  .wui-bg-color-blue-100 {
    background-color: var(--wui-color-accent-100);
  }

  .wui-bg-color-error-100 {
    background-color: var(--wui-color-error-100);
  }

  .wui-bg-color-error-125 {
    background-color: var(--wui-color-error-125);
  }

  .wui-bg-color-success-100 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-success-125 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-inverse-100 {
    background-color: var(--wui-color-inverse-100);
  }

  .wui-bg-color-inverse-000 {
    background-color: var(--wui-color-inverse-000);
  }

  .wui-bg-color-fg-100 {
    background-color: var(--wui-color-fg-100);
  }

  .wui-bg-color-fg-200 {
    background-color: var(--wui-color-fg-200);
  }

  .wui-bg-color-fg-300 {
    background-color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    background-color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    background-color: var(--wui-color-fg-350);
  }
`;var dayjs_min=__webpack_require__("./node_modules/dayjs/dayjs.min.js"),dayjs_min_default=__webpack_require__.n(dayjs_min),locale_en=__webpack_require__("./node_modules/dayjs/locale/en.js"),en_default=__webpack_require__.n(locale_en),relativeTime=__webpack_require__("./node_modules/dayjs/plugin/relativeTime.js"),relativeTime_default=__webpack_require__.n(relativeTime),updateLocale=__webpack_require__("./node_modules/dayjs/plugin/updateLocale.js"),updateLocale_default=__webpack_require__.n(updateLocale);dayjs_min_default().extend(relativeTime_default()),dayjs_min_default().extend(updateLocale_default());const localeObject={...en_default(),name:"en-web3-modal",relativeTime:{future:"in %s",past:"%s ago",s:"%d sec",m:"1 min",mm:"%d min",h:"1 hr",hh:"%d hrs",d:"1 d",dd:"%d d",M:"1 mo",MM:"%d mo",y:"1 yr",yy:"%d yr"}};dayjs_min_default().locale("en-web3-modal",localeObject);const ErrorUtil={UniversalProviderErrors:{UNAUTHORIZED_DOMAIN_NOT_ALLOWED:{message:"Unauthorized: origin not allowed",alertErrorKey:"INVALID_APP_CONFIGURATION"},JWT_VALIDATION_ERROR:{message:"JWT validation error: JWT Token is not yet valid",alertErrorKey:"JWT_TOKEN_NOT_VALID"},INVALID_KEY:{message:"Unauthorized: invalid key",alertErrorKey:"INVALID_PROJECT_ID"}},ALERT_ERRORS:{SWITCH_NETWORK_NOT_FOUND:{shortMessage:"Network Not Found",longMessage:"Network not found - please make sure it is included in 'networks' array in createAppKit function"},INVALID_APP_CONFIGURATION:{shortMessage:"Invalid App Configuration",longMessage:()=>`Origin ${function ErrorUtil_isSafe(){return"undefined"!=typeof window}()?window.origin:"unknown"} not found on Allowlist - update configuration on cloud.reown.com`},SOCIALS_TIMEOUT:{shortMessage:"Invalid App Configuration",longMessage:()=>"There was an issue loading the embedded wallet. Please verify that your domain is allowed at cloud.reown.com"},JWT_TOKEN_NOT_VALID:{shortMessage:"Session Expired",longMessage:"Invalid session found on UniversalProvider - please check your time settings and connect again"},INVALID_PROJECT_ID:{shortMessage:"Invalid App Configuration",longMessage:"Invalid Project ID - update configuration"},PROJECT_ID_NOT_CONFIGURED:{shortMessage:"Project ID Not Configured",longMessage:"Project ID Not Configured - update configuration on cloud.reown.com"}}};var http=__webpack_require__("./node_modules/viem/_esm/clients/transports/http.js"),fallback=__webpack_require__("./node_modules/viem/_esm/clients/transports/fallback.js");const src_ConstantsUtil_ConstantsUtil_METMASK_CONNECTOR_NAME="MetaMask",src_ConstantsUtil_ConstantsUtil_TRUST_CONNECTOR_NAME="Trust Wallet",src_ConstantsUtil_ConstantsUtil_SOLFLARE_CONNECTOR_NAME="Solflare",src_ConstantsUtil_ConstantsUtil_PHANTOM_CONNECTOR_NAME="Phantom",src_ConstantsUtil_ConstantsUtil_COIN98_CONNECTOR_NAME="Coin98",src_ConstantsUtil_ConstantsUtil_MAGIC_EDEN_CONNECTOR_NAME="Magic Eden",src_ConstantsUtil_ConstantsUtil_BACKPACK_CONNECTOR_NAME="Backpack",src_ConstantsUtil_ConstantsUtil_BITGET_CONNECTOR_NAME="Bitget Wallet",src_ConstantsUtil_ConstantsUtil_FRONTIER_CONNECTOR_NAME="Frontier",src_ConstantsUtil_ConstantsUtil_XVERSE_CONNECTOR_NAME="Xverse Wallet",src_ConstantsUtil_ConstantsUtil_LEATHER_CONNECTOR_NAME="Leather",src_ConstantsUtil_ConstantsUtil_EIP155="eip155",src_ConstantsUtil_ConstantsUtil_CONNECTOR_TYPE_WALLET_CONNECT="WALLET_CONNECT",src_ConstantsUtil_ConstantsUtil_CONNECTOR_TYPE_INJECTED="INJECTED",src_ConstantsUtil_ConstantsUtil_CONNECTOR_TYPE_ANNOUNCED="ANNOUNCED",PresetsUtil={ConnectorExplorerIds:{[ConstantsUtil.CONNECTOR_ID.COINBASE]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[ConstantsUtil.CONNECTOR_ID.COINBASE_SDK]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[ConstantsUtil.CONNECTOR_ID.SAFE]:"225affb176778569276e484e1b92637ad061b01e13a048b35a9d280c3b58970f",[ConstantsUtil.CONNECTOR_ID.LEDGER]:"19177a98252e07ddfc9af2083ba8e07ef627cb6103467ffebb3f8f4205fd7927",[ConstantsUtil.CONNECTOR_ID.OKX]:"971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709",[src_ConstantsUtil_ConstantsUtil_METMASK_CONNECTOR_NAME]:"c57ca95b47569778a828d19178114f4db188b89b763c899ba0be274e97267d96",[src_ConstantsUtil_ConstantsUtil_TRUST_CONNECTOR_NAME]:"4622a2b2d6af1c9844944291e5e7351a6aa24cd7b23099efac1b2fd875da31a0",[src_ConstantsUtil_ConstantsUtil_SOLFLARE_CONNECTOR_NAME]:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",[src_ConstantsUtil_ConstantsUtil_PHANTOM_CONNECTOR_NAME]:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",[src_ConstantsUtil_ConstantsUtil_COIN98_CONNECTOR_NAME]:"2a3c89040ac3b723a1972a33a125b1db11e258a6975d3a61252cd64e6ea5ea01",[src_ConstantsUtil_ConstantsUtil_MAGIC_EDEN_CONNECTOR_NAME]:"8b830a2b724a9c3fbab63af6f55ed29c9dfa8a55e732dc88c80a196a2ba136c6",[src_ConstantsUtil_ConstantsUtil_BACKPACK_CONNECTOR_NAME]:"2bd8c14e035c2d48f184aaa168559e86b0e3433228d3c4075900a221785019b0",[src_ConstantsUtil_ConstantsUtil_BITGET_CONNECTOR_NAME]:"38f5d18bd8522c244bdd70cb4a68e0e718865155811c043f052fb9f1c51de662",[src_ConstantsUtil_ConstantsUtil_FRONTIER_CONNECTOR_NAME]:"85db431492aa2e8672e93f4ea7acf10c88b97b867b0d373107af63dc4880f041",[src_ConstantsUtil_ConstantsUtil_XVERSE_CONNECTOR_NAME]:"2a87d74ae02e10bdd1f51f7ce6c4e1cc53cd5f2c0b6b5ad0d7b3007d2b13de7b",[src_ConstantsUtil_ConstantsUtil_LEATHER_CONNECTOR_NAME]:"483afe1df1df63daf313109971ff3ef8356ddf1cc4e45877d205eee0b7893a13"},NetworkImageIds:{1:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",42161:"3bff954d-5cb0-47a0-9a23-d20192e74600",43114:"30c46e53-e989-45fb-4549-be3bd4eb3b00",56:"93564157-2e8e-4ce7-81df-b264dbee9b00",250:"06b26297-fe0c-4733-5d6b-ffa5498aac00",10:"ab9c186a-c52f-464b-2906-ca59d760a400",137:"41d04d42-da3b-4453-8506-668cc0727900",5e3:"e86fae9b-b770-4eea-e520-150e12c81100",295:"6a97d510-cac8-4e58-c7ce-e8681b044c00",11155111:"e909ea0a-f92a-4512-c8fc-748044ea6800",84532:"a18a7ecd-e307-4360-4746-283182228e00",1301:"4eeea7ef-0014-4649-5d1d-07271a80f600",130:"2257980a-3463-48c6-cbac-a42d2a956e00",10143:"0a728e83-bacb-46db-7844-948f05434900",100:"02b53f6a-e3d4-479e-1cb4-21178987d100",9001:"f926ff41-260d-4028-635e-91913fc28e00",324:"b310f07f-4ef7-49f3-7073-2a0a39685800",314:"5a73b3dd-af74-424e-cae0-0de859ee9400",4689:"34e68754-e536-40da-c153-6ef2e7188a00",1088:"3897a66d-40b9-4833-162f-a2c90531c900",1284:"161038da-44ae-4ec7-1208-0ea569454b00",1285:"f1d73bb6-5450-4e18-38f7-fb6484264a00",7777777:"845c60df-d429-4991-e687-91ae45791600",42220:"ab781bbc-ccc6-418d-d32d-789b15da1f00",8453:"7289c336-3981-4081-c5f4-efc26ac64a00",1313161554:"3ff73439-a619-4894-9262-4470c773a100",2020:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",2021:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",80094:"e329c2c9-59b0-4a02-83e4-212ff3779900","5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":"a1b58899-f671-4276-6a5e-56ca5bd59700","4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z":"a1b58899-f671-4276-6a5e-56ca5bd59700",EtWTRABZaYq6iMfeYKouRu166VU2xqa1:"a1b58899-f671-4276-6a5e-56ca5bd59700","000000000019d6689c085ae165831e93":"0b4838db-0161-4ffe-022d-532bf03dba00","000000000933ea01ad0ee984209779ba":"39354064-d79b-420b-065d-f980c4b78200"},ConnectorImageIds:{[ConstantsUtil.CONNECTOR_ID.COINBASE]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[ConstantsUtil.CONNECTOR_ID.COINBASE_SDK]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[ConstantsUtil.CONNECTOR_ID.SAFE]:"461db637-8616-43ce-035a-d89b8a1d5800",[ConstantsUtil.CONNECTOR_ID.LEDGER]:"54a1aa77-d202-4f8d-0fb2-5d2bb6db0300",[ConstantsUtil.CONNECTOR_ID.WALLET_CONNECT]:"ef1a1fcf-7fe8-4d69-bd6d-fda1345b4400",[ConstantsUtil.CONNECTOR_ID.INJECTED]:"07ba87ed-43aa-4adf-4540-9e6a2b9cae00"},ConnectorNamesMap:{[ConstantsUtil.CONNECTOR_ID.INJECTED]:"Browser Wallet",[ConstantsUtil.CONNECTOR_ID.WALLET_CONNECT]:"WalletConnect",[ConstantsUtil.CONNECTOR_ID.COINBASE]:"Coinbase",[ConstantsUtil.CONNECTOR_ID.COINBASE_SDK]:"Coinbase",[ConstantsUtil.CONNECTOR_ID.LEDGER]:"Ledger",[ConstantsUtil.CONNECTOR_ID.SAFE]:"Safe"},ConnectorTypesMap:{[ConstantsUtil.CONNECTOR_ID.INJECTED]:"INJECTED",[ConstantsUtil.CONNECTOR_ID.WALLET_CONNECT]:"WALLET_CONNECT",[ConstantsUtil.CONNECTOR_ID.EIP6963]:"ANNOUNCED",[ConstantsUtil.CONNECTOR_ID.AUTH]:"AUTH"},WalletConnectRpcChainIds:[1,5,11155111,10,420,42161,421613,137,80001,42220,1313161554,1313161555,56,97,43114,43113,100,8453,84531,7777777,999,324,280]};const WC_HTTP_RPC_SUPPORTED_CHAINS=["near:mainnet","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","eip155:1101","eip155:56","eip155:42161","eip155:7777777","eip155:59144","eip155:324","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1","eip155:5000","solana:4sgjmw1sunhzsxgspuhpqldx6wiyjntz","eip155:80084","eip155:5003","eip155:100","eip155:8453","eip155:42220","eip155:1313161555","eip155:17000","eip155:1","eip155:300","eip155:1313161554","eip155:1329","eip155:84532","eip155:421614","eip155:11155111","eip155:8217","eip155:43114","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","eip155:999999999","eip155:11155420","eip155:80002","eip155:97","eip155:43113","eip155:137","eip155:10","eip155:1301","bip122:000000000019d6689c085ae165831e93","bip122:000000000933ea01ad0ee984209779ba"],CaipNetworksUtil={extendRpcUrlWithProjectId(rpcUrl,projectId){let isReownUrl=!1;try{isReownUrl="rpc.walletconnect.org"===new URL(rpcUrl).host}catch(e){isReownUrl=!1}if(isReownUrl){const url=new URL(rpcUrl);return url.searchParams.has("projectId")||url.searchParams.set("projectId",projectId),url.toString()}return rpcUrl},isCaipNetwork:network=>"chainNamespace"in network&&"caipNetworkId"in network,getChainNamespace(network){return this.isCaipNetwork(network)?network.chainNamespace:ConstantsUtil.CHAIN.EVM},getCaipNetworkId(network){return this.isCaipNetwork(network)?network.caipNetworkId:`${ConstantsUtil.CHAIN.EVM}:${network.id}`},getDefaultRpcUrl(caipNetwork,caipNetworkId,projectId){const defaultRpcUrl=caipNetwork.rpcUrls?.default?.http?.[0];return WC_HTTP_RPC_SUPPORTED_CHAINS.includes(caipNetworkId)?function getBlockchainApiRpcUrl(caipNetworkId,projectId){const url=new URL("https://rpc.walletconnect.org/v1/");return url.searchParams.set("chainId",caipNetworkId),url.searchParams.set("projectId",projectId),url.toString()}(caipNetworkId,projectId):defaultRpcUrl||""},extendCaipNetwork(caipNetwork,{customNetworkImageUrls,projectId,customRpcUrls}){const chainNamespace=this.getChainNamespace(caipNetwork),caipNetworkId=this.getCaipNetworkId(caipNetwork),networkDefaultRpcUrl=caipNetwork.rpcUrls.default.http?.[0],reownRpcUrl=this.getDefaultRpcUrl(caipNetwork,caipNetworkId,projectId),chainDefaultRpcUrl=caipNetwork?.rpcUrls?.chainDefault?.http?.[0]||networkDefaultRpcUrl,customRpcUrlsOfNetwork=customRpcUrls?.[caipNetworkId]?.map(i=>i.url)||[],rpcUrls=[...customRpcUrlsOfNetwork,reownRpcUrl],rpcUrlsWithoutReown=[...customRpcUrlsOfNetwork];return chainDefaultRpcUrl&&!rpcUrlsWithoutReown.includes(chainDefaultRpcUrl)&&rpcUrlsWithoutReown.push(chainDefaultRpcUrl),{...caipNetwork,chainNamespace,caipNetworkId,assets:{imageId:PresetsUtil.NetworkImageIds[caipNetwork.id],imageUrl:customNetworkImageUrls?.[caipNetwork.id]},rpcUrls:{...caipNetwork.rpcUrls,default:{http:rpcUrls},chainDefault:{http:rpcUrlsWithoutReown}}}},extendCaipNetworks:(caipNetworks,{customNetworkImageUrls,projectId,customRpcUrls})=>caipNetworks.map(caipNetwork=>CaipNetworksUtil.extendCaipNetwork(caipNetwork,{customNetworkImageUrls,customRpcUrls,projectId})),getViemTransport(caipNetwork,projectId,customRpcUrls){const transports=[];if(customRpcUrls?.forEach(rpcUrl=>{transports.push((0,http.L)(rpcUrl.url,rpcUrl.config))}),WC_HTTP_RPC_SUPPORTED_CHAINS.includes(caipNetwork.caipNetworkId)){const reownRpcUrl=this.getDefaultRpcUrl(caipNetwork,caipNetwork.caipNetworkId,projectId);transports.push((0,http.L)(reownRpcUrl,{fetchOptions:{headers:{"Content-Type":"text/plain"}}}))}return(0,fallback.Np)(transports)},extendWagmiTransports(caipNetwork,projectId,transport){if(WC_HTTP_RPC_SUPPORTED_CHAINS.includes(caipNetwork.caipNetworkId)){const reownRpcUrl=this.getDefaultRpcUrl(caipNetwork,caipNetwork.caipNetworkId,projectId);return(0,fallback.Np)([transport,(0,http.L)(reownRpcUrl)])}return transport},getUnsupportedNetwork:caipNetworkId=>({id:caipNetworkId.split(":")[1],caipNetworkId,name:ConstantsUtil.UNSUPPORTED_NETWORK_NAME,chainNamespace:caipNetworkId.split(":")[0],nativeCurrency:{name:"",decimals:0,symbol:""},rpcUrls:{default:{http:[]}}}),getCaipNetworkFromStorage(defaultCaipNetwork){const caipNetworkIdFromStorage=StorageUtil.getActiveCaipNetworkId(),caipNetworks=ChainController.getAllRequestedCaipNetworks(),availableNamespaces=Array.from(ChainController.state.chains?.keys()||[]),namespace=caipNetworkIdFromStorage?.split(":")[0],isNamespaceAvailable=!!namespace&&availableNamespaces.includes(namespace),caipNetwork=caipNetworks?.find(cn=>cn.caipNetworkId===caipNetworkIdFromStorage);return isNamespaceAvailable&&!caipNetwork&&caipNetworkIdFromStorage?this.getUnsupportedNetwork(caipNetworkIdFromStorage):caipNetwork||(defaultCaipNetwork||caipNetworks?.[0])}},HelpersUtil={getCaipTokens(tokens){if(!tokens)return;const caipTokens={};return Object.entries(tokens).forEach(([id,token])=>{caipTokens[`${src_ConstantsUtil_ConstantsUtil_EIP155}:${id}`]=token}),caipTokens},isLowerCaseMatch:(str1,str2)=>str1?.toLowerCase()===str2?.toLowerCase()};var logger_dist_index_es=__webpack_require__("./node_modules/@walletconnect/logger/dist/index.es.js");const LoggerUtil={createLogger(onError,level="error"){const loggerOptions=(0,logger_dist_index_es.iP)({level}),{logger}=(0,logger_dist_index_es.D5)({opts:loggerOptions});return logger.error=(...args)=>{for(const arg of args)if(arg instanceof Error)return void onError(arg,...args);onError(void 0,...args)},logger}},CLEAN_PROVIDERS_STATE={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0},ProviderUtil_state=(0,vanilla.BX)({providers:{...CLEAN_PROVIDERS_STATE},providerIds:{...CLEAN_PROVIDERS_STATE}}),ProviderUtil={state:ProviderUtil_state,subscribeKey:(key,callback)=>(0,utils.u$)(ProviderUtil_state,key,callback),subscribe:callback=>(0,vanilla.B1)(ProviderUtil_state,()=>{callback(ProviderUtil_state)}),subscribeProviders:callback=>(0,vanilla.B1)(ProviderUtil_state.providers,()=>callback(ProviderUtil_state.providers)),setProvider(chainNamespace,provider){provider&&(ProviderUtil_state.providers[chainNamespace]=(0,vanilla.KR)(provider))},getProvider:chainNamespace=>ProviderUtil_state.providers[chainNamespace],setProviderId(chainNamespace,providerId){providerId&&(ProviderUtil_state.providerIds[chainNamespace]=providerId)},getProviderId(chainNamespace){if(chainNamespace)return ProviderUtil_state.providerIds[chainNamespace]},reset(){ProviderUtil_state.providers={...CLEAN_PROVIDERS_STATE},ProviderUtil_state.providerIds={...CLEAN_PROVIDERS_STATE}},resetChain(chainNamespace){ProviderUtil_state.providers[chainNamespace]=void 0,ProviderUtil_state.providerIds[chainNamespace]=void 0}};var esm=__webpack_require__("./node_modules/bs58/src/esm/index.js"),toHex=__webpack_require__("./node_modules/viem/_esm/utils/encoding/toHex.js");const WcConstantsUtil_ERROR_CODE_UNRECOGNIZED_CHAIN_ID=4902,WcConstantsUtil_ERROR_CODE_DEFAULT=5e3,WcConstantsUtil_ERROR_INVALID_CHAIN_ID=32603;function defineChain(chain){return{formatters:void 0,fees:void 0,serializers:void 0,...chain}}const solana=defineChain({id:"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",name:"Solana",network:"solana-mainnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!1,chainNamespace:"solana",caipNetworkId:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",deprecatedCaipNetworkId:"solana:4sGjMW1sUnHzSxGspuhpqLDx6wiyjNtZ"}),solanaDevnet=defineChain({id:"EtWTRABZaYq6iMfeYKouRu166VU2xqa1",name:"Solana Devnet",network:"solana-devnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",deprecatedCaipNetworkId:"solana:8E9rvCKLFQia2Y35HXjjpWzj8weVo44K"}),solanaTestnet=defineChain({id:"4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z",name:"Solana Testnet",network:"solana-testnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z"}),DEFAULT_METHODS=(defineChain({id:"000000000019d6689c085ae165831e93",caipNetworkId:"bip122:000000000019d6689c085ae165831e93",chainNamespace:"bip122",name:"Bitcoin",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}}),defineChain({id:"000000000933ea01ad0ee984209779ba",caipNetworkId:"bip122:000000000933ea01ad0ee984209779ba",chainNamespace:"bip122",name:"Bitcoin Testnet",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},testnet:!0}),{solana:["solana_signMessage","solana_signTransaction","solana_requestAccounts","solana_getAccounts","solana_signAllTransactions","solana_signAndSendTransaction"],eip155:["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_showCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"],bip122:["sendTransfer","signMessage","signPsbt","getAccountAddresses"]}),WcHelpersUtil={getMethodsByChainNamespace:chainNamespace=>DEFAULT_METHODS[chainNamespace]||[],createDefaultNamespace(chainNamespace){return{methods:this.getMethodsByChainNamespace(chainNamespace),events:["accountsChanged","chainChanged"],chains:[],rpcMap:{}}},applyNamespaceOverrides(baseNamespaces,overrides){if(!overrides)return{...baseNamespaces};const result={...baseNamespaces},namespacesToOverride=new Set;if(overrides.methods&&Object.keys(overrides.methods).forEach(ns=>namespacesToOverride.add(ns)),overrides.chains&&Object.keys(overrides.chains).forEach(ns=>namespacesToOverride.add(ns)),overrides.events&&Object.keys(overrides.events).forEach(ns=>namespacesToOverride.add(ns)),overrides.rpcMap&&Object.keys(overrides.rpcMap).forEach(chainId=>{const[ns]=chainId.split(":");ns&&namespacesToOverride.add(ns)}),namespacesToOverride.forEach(ns=>{result[ns]||(result[ns]=this.createDefaultNamespace(ns))}),overrides.methods&&Object.entries(overrides.methods).forEach(([ns,methods])=>{result[ns]&&(result[ns].methods=methods)}),overrides.chains&&Object.entries(overrides.chains).forEach(([ns,chains])=>{result[ns]&&(result[ns].chains=chains)}),overrides.events&&Object.entries(overrides.events).forEach(([ns,events])=>{result[ns]&&(result[ns].events=events)}),overrides.rpcMap){const processedNamespaces=new Set;Object.entries(overrides.rpcMap).forEach(([chainId,rpcUrl])=>{const[ns,id]=chainId.split(":");ns&&id&&result[ns]&&(result[ns].rpcMap||(result[ns].rpcMap={}),processedNamespaces.has(ns)||(result[ns].rpcMap={},processedNamespaces.add(ns)),result[ns].rpcMap[id]=rpcUrl)})}return result},createNamespaces(caipNetworks,configOverride){const defaultNamespaces=caipNetworks.reduce((acc,chain)=>{const{id,chainNamespace,rpcUrls}=chain,rpcUrl=rpcUrls.default.http[0];acc[chainNamespace]||(acc[chainNamespace]=this.createDefaultNamespace(chainNamespace));const caipNetworkId=`${chainNamespace}:${id}`,namespace=acc[chainNamespace];switch(namespace.chains.push(caipNetworkId),caipNetworkId){case solana.caipNetworkId:namespace.chains.push(solana.deprecatedCaipNetworkId);break;case solanaDevnet.caipNetworkId:namespace.chains.push(solanaDevnet.deprecatedCaipNetworkId)}return namespace?.rpcMap&&rpcUrl&&(namespace.rpcMap[id]=rpcUrl),acc},{});return this.applyNamespaceOverrides(defaultNamespaces,configOverride)},resolveReownName:async name=>{const wcNameAddress=await EnsController.resolveName(name),networkNameAddresses=Object.values(wcNameAddress?.addresses)||[];return networkNameAddresses[0]?.address||!1},getChainsFromNamespaces:(namespaces={})=>Object.values(namespaces).flatMap(namespace=>{const chains=namespace.chains||[],accountsChains=namespace.accounts.map(account=>{const[chainNamespace,chainId]=account.split(":");return`${chainNamespace}:${chainId}`});return Array.from(new Set([...chains,...accountsChains]))}),isSessionEventData:data=>"object"==typeof data&&null!==data&&"id"in data&&"topic"in data&&"params"in data&&"object"==typeof data.params&&null!==data.params&&"chainId"in data.params&&"event"in data.params&&"object"==typeof data.params.event&&null!==data.params.event};class WalletConnectConnector{constructor({provider,caipNetworks,namespace}){this.id=ConstantsUtil.CONNECTOR_ID.WALLET_CONNECT,this.name=PresetsUtil.ConnectorNamesMap[ConstantsUtil.CONNECTOR_ID.WALLET_CONNECT],this.type="WALLET_CONNECT",this.imageId=PresetsUtil.ConnectorImageIds[ConstantsUtil.CONNECTOR_ID.WALLET_CONNECT],this.caipNetworks=caipNetworks,this.provider=provider,this.chain=namespace}get chains(){return this.caipNetworks}async connectWalletConnect(){if(!await this.authenticate()){const universalProviderConfigOverride=OptionsController.state.universalProviderConfigOverride,namespaces=WcHelpersUtil.createNamespaces(this.caipNetworks,universalProviderConfigOverride);await this.provider.connect({optionalNamespaces:namespaces})}return{clientId:await this.provider.client.core.crypto.getClientId(),session:this.provider.session}}async disconnect(){await this.provider.disconnect()}async authenticate(){const chains=this.chains.map(network=>network.caipNetworkId);return SIWXUtil.universalProviderAuthenticate({universalProvider:this.provider,chains,methods:OPTIONAL_METHODS})}}const OPTIONAL_METHODS=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"];class AdapterBlueprint{constructor(params){this.availableConnectors=[],this.eventListeners=new Map,params&&this.construct(params)}construct(params){this.caipNetworks=params.networks,this.projectId=params.projectId,this.namespace=params.namespace,this.adapterType=params.adapterType}get connectors(){return this.availableConnectors}get networks(){return this.caipNetworks||[]}setAuthProvider(authProvider){this.addConnector({id:ConstantsUtil.CONNECTOR_ID.AUTH,type:"AUTH",name:ConstantsUtil.CONNECTOR_NAMES.AUTH,provider:authProvider,imageId:PresetsUtil.ConnectorImageIds[ConstantsUtil.CONNECTOR_ID.AUTH],chain:this.namespace,chains:[]})}addConnector(...connectors){const connectorsAdded=new Set;this.availableConnectors=[...connectors,...this.availableConnectors].filter(connector=>!connectorsAdded.has(connector.id)&&(connectorsAdded.add(connector.id),!0)),this.emit("connectors",this.availableConnectors)}setStatus(status,chainNamespace){AccountController.setStatus(status,chainNamespace)}on(eventName,callback){this.eventListeners.has(eventName)||this.eventListeners.set(eventName,new Set),this.eventListeners.get(eventName)?.add(callback)}off(eventName,callback){const listeners=this.eventListeners.get(eventName);listeners&&listeners.delete(callback)}removeAllEventListeners(){this.eventListeners.forEach(listeners=>{listeners.clear()})}emit(eventName,data){const listeners=this.eventListeners.get(eventName);listeners&&listeners.forEach(callback=>callback(data))}async connectWalletConnect(_chainId){const connector=this.getWalletConnectConnector();return{clientId:(await connector.connectWalletConnect()).clientId}}async switchNetwork(params){const{caipNetwork,providerType}=params;if(!params.provider)return;const provider="provider"in params.provider?params.provider.provider:params.provider;if("WALLET_CONNECT"!==providerType){if(provider&&"AUTH"===providerType){const authProvider=provider;await authProvider.switchNetwork(caipNetwork.caipNetworkId);const user=await authProvider.getUser({chainId:caipNetwork.caipNetworkId,preferredAccountType:OptionsController.state.defaultAccountTypes[caipNetwork.chainNamespace]});this.emit("switchNetwork",user)}}else provider.setDefaultChain(caipNetwork.caipNetworkId)}getWalletConnectConnector(){const connector=this.connectors.find(c=>c instanceof WalletConnectConnector);if(!connector)throw new Error("WalletConnectConnector not found");return connector}}var client_console=__webpack_require__("./node_modules/console-browserify/index.js");class UniversalAdapter extends AdapterBlueprint{setUniversalProvider(universalProvider){this.addConnector(new WalletConnectConnector({provider:universalProvider,caipNetworks:this.caipNetworks||[],namespace:this.namespace}))}async connect(params){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:Number(params.chainId),provider:this.provider,address:""})}async disconnect(){try{const connector=this.getWalletConnectConnector();await connector.disconnect()}catch(error){client_console.warn("UniversalAdapter:disconnect - error",error)}}async getAccounts({namespace}){const provider=this.provider,addresses=provider?.session?.namespaces?.[namespace]?.accounts?.map(account=>{const[,,address]=account.split(":");return address}).filter((address,index,self)=>self.indexOf(address)===index)||[];return Promise.resolve({accounts:addresses.map(address=>CoreHelperUtil.createAccount(namespace,address,"bip122"===namespace?"payment":"eoa"))})}async syncConnectors(){return Promise.resolve()}async getBalance(params){if(!(params.caipNetwork&&ConstantsUtil_ConstantsUtil.BALANCE_SUPPORTED_CHAINS.includes(params.caipNetwork?.chainNamespace))||params.caipNetwork?.testnet)return{balance:"0.00",symbol:params.caipNetwork?.nativeCurrency.symbol||""};if(AccountController.state.balanceLoading&&params.chainId===ChainController.state.activeCaipNetwork?.id)return{balance:AccountController.state.balance||"0.00",symbol:AccountController.state.balanceSymbol||""};const balance=(await AccountController.fetchTokenBalance()).find(b=>b.chainId===`${params.caipNetwork?.chainNamespace}:${params.chainId}`&&b.symbol===params.caipNetwork?.nativeCurrency.symbol);return{balance:balance?.quantity.numeric||"0.00",symbol:balance?.symbol||params.caipNetwork?.nativeCurrency.symbol||""}}async signMessage(params){const{provider,message,address}=params;if(!provider)throw new Error("UniversalAdapter:signMessage - provider is undefined");let signature="";if(ChainController.state.activeCaipNetwork?.chainNamespace===ConstantsUtil.CHAIN.SOLANA){signature=(await provider.request({method:"solana_signMessage",params:{message:esm.A.encode((new TextEncoder).encode(message)),pubkey:address}},ChainController.state.activeCaipNetwork?.caipNetworkId)).signature}else signature=await provider.request({method:"personal_sign",params:[message,address]},ChainController.state.activeCaipNetwork?.caipNetworkId);return{signature}}async estimateGas(){return Promise.resolve({gas:BigInt(0)})}async getProfile(){return Promise.resolve({profileImage:"",profileName:""})}async sendTransaction(){return Promise.resolve({hash:""})}walletGetAssets(_params){return Promise.resolve({})}async writeContract(){return Promise.resolve({hash:""})}async getEnsAddress(){return Promise.resolve({address:!1})}parseUnits(){return 0n}formatUnits(){return"0"}async getCapabilities(){return Promise.resolve({})}async grantPermissions(){return Promise.resolve({})}async revokePermissions(){return Promise.resolve("0x")}async syncConnection(){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:1,provider:this.provider,address:""})}async switchNetwork(params){const{caipNetwork}=params,connector=this.getWalletConnectConnector();if(caipNetwork.chainNamespace===ConstantsUtil.CHAIN.EVM)try{await(connector.provider?.request({method:"wallet_switchEthereumChain",params:[{chainId:(0,toHex.nj)(caipNetwork.id)}]}))}catch(switchError){if(switchError.code===WcConstantsUtil_ERROR_CODE_UNRECOGNIZED_CHAIN_ID||switchError.code===WcConstantsUtil_ERROR_INVALID_CHAIN_ID||switchError.code===WcConstantsUtil_ERROR_CODE_DEFAULT||switchError?.data?.originalError?.code===WcConstantsUtil_ERROR_CODE_UNRECOGNIZED_CHAIN_ID)try{await(connector.provider?.request({method:"wallet_addEthereumChain",params:[{chainId:(0,toHex.nj)(caipNetwork.id),rpcUrls:[caipNetwork?.rpcUrls.chainDefault?.http],chainName:caipNetwork.name,nativeCurrency:caipNetwork.nativeCurrency,blockExplorerUrls:[caipNetwork.blockExplorers?.default.url]}]}))}catch(error){throw new Error("Chain is not supported")}}connector.provider.setDefaultChain(caipNetwork.caipNetworkId)}getWalletConnectProvider(){const connector=this.connectors.find(c=>"WALLET_CONNECT"===c.type),provider=connector?.provider;return provider}}var appkit_base_client_console=__webpack_require__("./node_modules/console-browserify/index.js");class AppKitBaseClient{constructor(options){this.hasSwitchedToPreferredAccountTypeOnConnect=!1,this.chainNamespaces=[],this.reportedAlertErrors={},this.getCaipNetwork=chainNamespace=>{if(chainNamespace){const namespaceCaipNetwork=ChainController.getNetworkData(chainNamespace)?.caipNetwork;return namespaceCaipNetwork||ChainController.getRequestedCaipNetworks(chainNamespace).filter(c=>c.chainNamespace===chainNamespace)?.[0]}return ChainController.state.activeCaipNetwork||this.defaultCaipNetwork},this.getCaipNetworkId=()=>{const network=this.getCaipNetwork();if(network)return network.id},this.getCaipNetworks=namespace=>ChainController.getRequestedCaipNetworks(namespace),this.getActiveChainNamespace=()=>ChainController.state.activeChain,this.setRequestedCaipNetworks=(requestedCaipNetworks,chain)=>{ChainController.setRequestedCaipNetworks(requestedCaipNetworks,chain)},this.getApprovedCaipNetworkIds=()=>ChainController.getAllApprovedCaipNetworkIds(),this.getCaipAddress=chainNamespace=>ChainController.state.activeChain!==chainNamespace&&chainNamespace?ChainController.getAccountProp("caipAddress",chainNamespace):ChainController.state.activeCaipAddress,this.setClientId=clientId=>{BlockchainApiController.setClientId(clientId)},this.getProvider=namespace=>ProviderUtil.getProvider(namespace),this.getProviderType=namespace=>ProviderUtil.getProviderId(namespace),this.getPreferredAccountType=()=>AccountController.state.preferredAccountType,this.setCaipAddress=(caipAddress,chain)=>{AccountController.setCaipAddress(caipAddress,chain)},this.setBalance=(balance,balanceSymbol,chain)=>{AccountController.setBalance(balance,balanceSymbol,chain)},this.setProfileName=(profileName,chain)=>{AccountController.setProfileName(profileName,chain)},this.setProfileImage=(profileImage,chain)=>{AccountController.setProfileImage(profileImage,chain)},this.setUser=(user,chain)=>{AccountController.setUser(user,chain),OptionsController.state.enableEmbedded&&ModalController.close()},this.resetAccount=chain=>{AccountController.resetAccount(chain)},this.setCaipNetwork=caipNetwork=>{ChainController.setActiveCaipNetwork(caipNetwork)},this.setCaipNetworkOfNamespace=(caipNetwork,chainNamespace)=>{ChainController.setChainNetworkData(chainNamespace,{caipNetwork})},this.setAllAccounts=(addresses,chain)=>{AccountController.setAllAccounts(addresses,chain),OptionsController.setHasMultipleAddresses(addresses?.length>1)},this.setStatus=(status,chain)=>{AccountController.setStatus(status,chain),ConnectorController.isConnected()?StorageUtil.setConnectionStatus("connected"):StorageUtil.setConnectionStatus("disconnected")},this.getAddressByChainNamespace=chainNamespace=>ChainController.getAccountProp("address",chainNamespace),this.setConnectors=connectors=>{const allConnectors=[...ConnectorController.getConnectors(),...connectors];ConnectorController.setConnectors(allConnectors)},this.fetchIdentity=request=>BlockchainApiController.fetchIdentity(request),this.getReownName=address=>EnsController.getNamesForAddress(address),this.getConnectors=()=>ConnectorController.getConnectors(),this.getConnectorImage=connector=>AssetUtil.getConnectorImage(connector),this.setConnectedWalletInfo=(connectedWalletInfo,chain)=>{const type=ProviderUtil.getProviderId(chain),walletInfo=connectedWalletInfo?{...connectedWalletInfo,type}:void 0;AccountController.setConnectedWalletInfo(walletInfo,chain)},this.getIsConnectedState=()=>Boolean(ChainController.state.activeCaipAddress),this.addAddressLabel=(address,label,chain)=>{AccountController.addAddressLabel(address,label,chain)},this.removeAddressLabel=(address,chain)=>{AccountController.removeAddressLabel(address,chain)},this.getAddress=chainNamespace=>ChainController.state.activeChain!==chainNamespace&&chainNamespace?ChainController.getAccountProp("address",chainNamespace):AccountController.state.address,this.setApprovedCaipNetworksData=namespace=>ChainController.setApprovedCaipNetworksData(namespace),this.resetNetwork=namespace=>{ChainController.resetNetwork(namespace)},this.addConnector=connector=>{ConnectorController.addConnector(connector)},this.resetWcConnection=()=>{ConnectionController.resetWcConnection()},this.setAddressExplorerUrl=(addressExplorerUrl,chain)=>{AccountController.setAddressExplorerUrl(addressExplorerUrl,chain)},this.setSmartAccountDeployed=(isDeployed,chain)=>{AccountController.setSmartAccountDeployed(isDeployed,chain)},this.setSmartAccountEnabledNetworks=(smartAccountEnabledNetworks,chain)=>{ChainController.setSmartAccountEnabledNetworks(smartAccountEnabledNetworks,chain)},this.setPreferredAccountType=(preferredAccountType,chain)=>{AccountController.setPreferredAccountType(preferredAccountType,chain)},this.setEIP6963Enabled=enabled=>{OptionsController.setEIP6963Enabled(enabled)},this.handleUnsafeRPCRequest=()=>{if(this.isOpen()){if(this.isTransactionStackEmpty())return;this.redirect("ApproveTransaction")}else this.open({view:"ApproveTransaction"})},this.options=options,this.version=options.sdkVersion,this.caipNetworks=this.extendCaipNetworks(options),this.chainNamespaces=[...new Set(this.caipNetworks?.map(caipNetwork=>caipNetwork.chainNamespace))],this.defaultCaipNetwork=this.extendDefaultCaipNetwork(options),this.chainAdapters=this.createAdapters(options.adapters),this.initialize(options),this.sendInitializeEvent(options)}async initialize(options){this.initControllers(options),await this.initChainAdapters(),await this.injectModalUi(),await this.syncExistingConnection(),PublicStateController.set({initialized:!0})}sendInitializeEvent(options){const{...optionsCopy}=options;delete optionsCopy.adapters,EventsController.sendEvent({type:"track",event:"INITIALIZE",properties:{...optionsCopy,networks:options.networks.map(n=>n.id),siweConfig:{options:options.siweConfig?.options||{}}}})}initControllers(options){this.initializeOptionsController(options),this.initializeChainController(options),this.initializeThemeController(options),this.initializeConnectionController(options),this.initializeConnectorController()}initializeThemeController(options){options.themeMode&&ThemeController.setThemeMode(options.themeMode),options.themeVariables&&ThemeController.setThemeVariables(options.themeVariables)}initializeChainController(options){if(!this.connectionControllerClient||!this.networkControllerClient)throw new Error("ConnectionControllerClient and NetworkControllerClient must be set");ChainController.initialize(options.adapters??[],this.caipNetworks,{connectionControllerClient:this.connectionControllerClient,networkControllerClient:this.networkControllerClient});const network=this.getDefaultNetwork();network&&ChainController.setActiveCaipNetwork(network)}initializeConnectionController(options){ConnectionController.setWcBasic(options.basic??!1)}initializeConnectorController(){ConnectorController.initialize(this.chainNamespaces)}initializeOptionsController(options){OptionsController.setDebug(!1!==options.debug),OptionsController.setEnableWalletConnect(!1!==options.enableWalletConnect),OptionsController.setEnableWalletGuide(!1!==options.enableWalletGuide),OptionsController.setEnableWallets(!1!==options.enableWallets),OptionsController.setEIP6963Enabled(!1!==options.enableEIP6963),OptionsController.setEnableNetworkSwitch(!1!==options.enableNetworkSwitch),OptionsController.setEnableAuthLogger(!1!==options.enableAuthLogger),OptionsController.setCustomRpcUrls(options.customRpcUrls),OptionsController.setSdkVersion(options.sdkVersion),OptionsController.setProjectId(options.projectId),OptionsController.setEnableEmbedded(options.enableEmbedded),OptionsController.setAllWallets(options.allWallets),OptionsController.setIncludeWalletIds(options.includeWalletIds),OptionsController.setExcludeWalletIds(options.excludeWalletIds),OptionsController.setFeaturedWalletIds(options.featuredWalletIds),OptionsController.setTokens(options.tokens),OptionsController.setTermsConditionsUrl(options.termsConditionsUrl),OptionsController.setPrivacyPolicyUrl(options.privacyPolicyUrl),OptionsController.setCustomWallets(options.customWallets),OptionsController.setFeatures(options.features),OptionsController.setAllowUnsupportedChain(options.allowUnsupportedChain),OptionsController.setDefaultAccountTypes(options.defaultAccountTypes),OptionsController.setUniversalProviderConfigOverride(options.universalProviderConfigOverride);const defaultMetaData=this.getDefaultMetaData();if(!options.metadata&&defaultMetaData&&(options.metadata=defaultMetaData),OptionsController.setMetadata(options.metadata),OptionsController.setDisableAppend(options.disableAppend),OptionsController.setEnableEmbedded(options.enableEmbedded),OptionsController.setSIWX(options.siwx),!options.projectId)return void AlertController.open(ErrorUtil.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");const evmAdapter=options.adapters?.find(adapter=>adapter.namespace===ConstantsUtil.CHAIN.EVM);if(evmAdapter&&options.siweConfig){if(options.siwx)throw new Error("Cannot set both `siweConfig` and `siwx` options");OptionsController.setSIWX(options.siweConfig.mapToSIWX())}}getDefaultMetaData(){return"undefined"!=typeof window&&"undefined"!=typeof document?{name:document.getElementsByTagName("title")?.[0]?.textContent||"",description:document.querySelector('meta[property="og:description"]')?.content||"",url:window.location.origin,icons:[document.querySelector('link[rel~="icon"]')?.href||""]}:null}setUnsupportedNetwork(chainId){const namespace=this.getActiveChainNamespace();if(namespace){const unsupportedNetwork=CaipNetworksUtil.getUnsupportedNetwork(`${namespace}:${chainId}`);ChainController.setActiveCaipNetwork(unsupportedNetwork)}}getDefaultNetwork(){return CaipNetworksUtil.getCaipNetworkFromStorage(this.defaultCaipNetwork)}extendCaipNetwork(network,options){return CaipNetworksUtil.extendCaipNetwork(network,{customNetworkImageUrls:options.chainImages,projectId:options.projectId})}extendCaipNetworks(options){return CaipNetworksUtil.extendCaipNetworks(options.networks,{customNetworkImageUrls:options.chainImages,customRpcUrls:options.customRpcUrls,projectId:options.projectId})}extendDefaultCaipNetwork(options){const defaultNetwork=options.networks.find(n=>n.id===options.defaultNetwork?.id);return defaultNetwork?CaipNetworksUtil.extendCaipNetwork(defaultNetwork,{customNetworkImageUrls:options.chainImages,customRpcUrls:options.customRpcUrls,projectId:options.projectId}):void 0}createClients(){this.connectionControllerClient={connectWalletConnect:async()=>{const activeChain=ChainController.state.activeChain,adapter=this.getAdapter(activeChain),chainId=this.getCaipNetwork(activeChain)?.id;if(!adapter)throw new Error("Adapter not found");const result=await adapter.connectWalletConnect(chainId);this.close(),this.setClientId(result?.clientId||null),StorageUtil.setConnectedNamespaces([...ChainController.state.chains.keys()]),this.chainNamespaces.forEach(namespace=>{ConnectorController.setConnectorId(src_ConstantsUtil_ConstantsUtil_CONNECTOR_TYPE_WALLET_CONNECT,namespace)}),await this.syncWalletConnectAccount()},connectExternal:async({id,info,type,provider,chain,caipNetwork})=>{const activeChain=ChainController.state.activeChain,chainToUse=chain||activeChain,adapter=this.getAdapter(chainToUse);if(chain&&chain!==activeChain&&!caipNetwork){const toConnectNetwork=this.caipNetworks?.find(network=>network.chainNamespace===chain);toConnectNetwork&&this.setCaipNetwork(toConnectNetwork)}if(!adapter)throw new Error("Adapter not found");const fallbackCaipNetwork=this.getCaipNetwork(chainToUse),res=await adapter.connect({id,info,type,provider,chainId:caipNetwork?.id||fallbackCaipNetwork?.id,rpcUrl:caipNetwork?.rpcUrls?.default?.http?.[0]||fallbackCaipNetwork?.rpcUrls?.default?.http?.[0]});if(!res)return;StorageUtil.addConnectedNamespace(chainToUse),this.syncProvider({...res,chainNamespace:chainToUse}),await this.syncAccount({...res,chainNamespace:chainToUse});const{accounts}=await adapter.getAccounts({namespace:chainToUse,id});this.setAllAccounts(accounts,chainToUse)},reconnectExternal:async({id,info,type,provider})=>{const namespace=ChainController.state.activeChain,adapter=this.getAdapter(namespace);adapter?.reconnect&&(await(adapter?.reconnect({id,info,type,provider,chainId:this.getCaipNetwork()?.id})),StorageUtil.addConnectedNamespace(namespace))},disconnect:async chainNamespace=>{const namespace=chainNamespace||ChainController.state.activeChain,adapter=this.getAdapter(namespace),provider=ProviderUtil.getProvider(namespace),providerType=ProviderUtil.getProviderId(namespace);await(adapter?.disconnect({provider,providerType})),StorageUtil.removeConnectedNamespace(namespace),ProviderUtil.resetChain(namespace),this.setUser(void 0,namespace),this.setStatus("disconnected",namespace),this.hasSwitchedToPreferredAccountTypeOnConnect=!1},checkInstalled:ids=>ids?ids.some(id=>Boolean(window.ethereum?.[String(id)])):Boolean(window.ethereum),signMessage:async message=>{const adapter=this.getAdapter(ChainController.state.activeChain),result=await(adapter?.signMessage({message,address:AccountController.state.address,provider:ProviderUtil.getProvider(ChainController.state.activeChain)}));return result?.signature||""},sendTransaction:async args=>{if(args.chainNamespace===ConstantsUtil.CHAIN.EVM){const adapter=this.getAdapter(ChainController.state.activeChain),provider=ProviderUtil.getProvider(ChainController.state.activeChain),result=await(adapter?.sendTransaction({...args,caipNetwork:this.getCaipNetwork(),provider}));return result?.hash||""}return""},estimateGas:async args=>{if(args.chainNamespace===ConstantsUtil.CHAIN.EVM){const adapter=this.getAdapter(ChainController.state.activeChain),provider=ProviderUtil.getProvider(ChainController.state.activeChain),caipNetwork=this.getCaipNetwork();if(!caipNetwork)throw new Error("CaipNetwork is undefined");const result=await(adapter?.estimateGas({...args,provider,caipNetwork}));return result?.gas||0n}return 0n},getEnsAvatar:async()=>{const adapter=this.getAdapter(ChainController.state.activeChain),result=await(adapter?.getProfile({address:AccountController.state.address,chainId:Number(this.getCaipNetwork()?.id)}));return result?.profileImage||!1},getEnsAddress:async name=>{const adapter=this.getAdapter(ChainController.state.activeChain),caipNetwork=this.getCaipNetwork();if(!caipNetwork)return!1;const result=await(adapter?.getEnsAddress({name,caipNetwork}));return result?.address||!1},writeContract:async args=>{const adapter=this.getAdapter(ChainController.state.activeChain),caipNetwork=this.getCaipNetwork(),caipAddress=this.getCaipAddress(),provider=ProviderUtil.getProvider(ChainController.state.activeChain);if(!caipNetwork||!caipAddress)throw new Error("CaipNetwork or CaipAddress is undefined");const result=await(adapter?.writeContract({...args,caipNetwork,provider,caipAddress}));return result?.hash},parseUnits:(value,decimals)=>{const adapter=this.getAdapter(ChainController.state.activeChain);return adapter?.parseUnits({value,decimals})??0n},formatUnits:(value,decimals)=>{const adapter=this.getAdapter(ChainController.state.activeChain);return adapter?.formatUnits({value,decimals})??"0"},getCapabilities:async params=>{const adapter=this.getAdapter(ChainController.state.activeChain);return await(adapter?.getCapabilities(params))},grantPermissions:async params=>{const adapter=this.getAdapter(ChainController.state.activeChain);return await(adapter?.grantPermissions(params))},revokePermissions:async params=>{const adapter=this.getAdapter(ChainController.state.activeChain);return adapter?.revokePermissions?await adapter.revokePermissions(params):"0x"},walletGetAssets:async params=>{const adapter=this.getAdapter(ChainController.state.activeChain);return await(adapter?.walletGetAssets(params))??{}}},this.networkControllerClient={switchCaipNetwork:async caipNetwork=>await this.switchCaipNetwork(caipNetwork),getApprovedCaipNetworksData:async()=>this.getApprovedCaipNetworksData()},ConnectionController.setClient(this.connectionControllerClient)}getApprovedCaipNetworksData(){if(ProviderUtil.getProviderId(ChainController.state.activeChain)===src_ConstantsUtil_ConstantsUtil_CONNECTOR_TYPE_WALLET_CONNECT){const namespaces=this.universalProvider?.session?.namespaces;return{supportsAllNetworks:"MetaMask Wallet"===this.universalProvider?.session?.peer?.metadata.name,approvedCaipNetworkIds:this.getChainsFromNamespaces(namespaces)}}return{supportsAllNetworks:!0,approvedCaipNetworkIds:[]}}async switchCaipNetwork(caipNetwork){if(!caipNetwork)return;const networkNamespace=caipNetwork.chainNamespace;if(this.getAddressByChainNamespace(caipNetwork.chainNamespace)){const provider=ProviderUtil.getProvider(networkNamespace),providerType=ProviderUtil.getProviderId(networkNamespace);if(caipNetwork.chainNamespace===ChainController.state.activeChain){const adapter=this.getAdapter(networkNamespace);await(adapter?.switchNetwork({caipNetwork,provider,providerType}))}else if(this.setCaipNetwork(caipNetwork),providerType===src_ConstantsUtil_ConstantsUtil_CONNECTOR_TYPE_WALLET_CONNECT)this.syncWalletConnectAccount();else{const address=this.getAddressByChainNamespace(networkNamespace);address&&this.syncAccount({address,chainId:caipNetwork.id,chainNamespace:networkNamespace})}}else this.setCaipNetwork(caipNetwork)}getChainsFromNamespaces(namespaces={}){return Object.values(namespaces).flatMap(namespace=>{const chains=namespace.chains||[],accountsChains=namespace.accounts.map(account=>{const{chainId,chainNamespace}=ParseUtil.parseCaipAddress(account);return`${chainNamespace}:${chainId}`});return Array.from(new Set([...chains,...accountsChains]))})}createAdapters(blueprints){return this.createClients(),this.chainNamespaces.reduce((adapters,namespace)=>{const blueprint=blueprints?.find(b=>b.namespace===namespace);return blueprint?(adapters[namespace]=blueprint,adapters[namespace].namespace=namespace,adapters[namespace].construct({namespace,projectId:this.options?.projectId,networks:this.caipNetworks})):adapters[namespace]=new UniversalAdapter({namespace,networks:this.caipNetworks}),adapters},{})}async initChainAdapter(namespace){this.onConnectors(namespace),this.listenAdapter(namespace),this.chainAdapters?.[namespace].syncConnectors(this.options,this),await this.createUniversalProviderForAdapter(namespace)}async initChainAdapters(){await Promise.all(this.chainNamespaces.map(async namespace=>{await this.initChainAdapter(namespace)}))}onConnectors(chainNamespace){const adapter=this.getAdapter(chainNamespace);adapter?.on("connectors",this.setConnectors.bind(this))}listenAdapter(chainNamespace){const adapter=this.getAdapter(chainNamespace);if(!adapter)return;const connectionStatus=StorageUtil.getConnectionStatus();"connected"===connectionStatus?this.setStatus("connecting",chainNamespace):"disconnected"===connectionStatus?(StorageUtil.clearAddressCache(),this.setStatus(connectionStatus,chainNamespace)):this.setStatus(connectionStatus,chainNamespace),adapter.on("switchNetwork",({address,chainId})=>{const caipNetwork=this.caipNetworks?.find(n=>n.id===chainId||n.caipNetworkId===chainId),isSameNamespace=ChainController.state.activeChain===chainNamespace,accountAddress=ChainController.getAccountProp("address",chainNamespace);if(caipNetwork){const account=isSameNamespace&&address?address:accountAddress;account&&this.syncAccount({address:account,chainId,chainNamespace})}else this.setUnsupportedNetwork(chainId)}),adapter.on("disconnect",this.disconnect.bind(this,chainNamespace)),adapter.on("pendingTransactions",()=>{const address=AccountController.state.address,activeCaipNetwork=ChainController.state.activeCaipNetwork;address&&activeCaipNetwork?.id&&this.updateNativeBalance(address,activeCaipNetwork.id,activeCaipNetwork.chainNamespace)}),adapter.on("accountChanged",({address,chainId})=>{const isActiveChain=ChainController.state.activeChain===chainNamespace;isActiveChain&&chainId?this.syncAccount({address,chainId,chainNamespace}):isActiveChain&&ChainController.state.activeCaipNetwork?.id?this.syncAccount({address,chainId:ChainController.state.activeCaipNetwork?.id,chainNamespace}):this.syncAccountInfo(address,chainId,chainNamespace)})}async createUniversalProviderForAdapter(chainNamespace){await this.getUniversalProvider(),this.universalProvider&&this.chainAdapters?.[chainNamespace]?.setUniversalProvider?.(this.universalProvider)}async syncExistingConnection(){await Promise.allSettled(this.chainNamespaces.map(namespace=>this.syncNamespaceConnection(namespace)))}async syncNamespaceConnection(namespace){try{const connectorId=ConnectorController.getConnectorId(namespace);switch(this.setStatus("connecting",namespace),connectorId){case ConstantsUtil.CONNECTOR_ID.WALLET_CONNECT:await this.syncWalletConnectAccount();break;case ConstantsUtil.CONNECTOR_ID.AUTH:break;default:await this.syncAdapterConnection(namespace)}}catch(err){appkit_base_client_console.warn("AppKit couldn't sync existing connection",err),this.setStatus("disconnected",namespace)}}async syncAdapterConnection(namespace){const adapter=this.getAdapter(namespace),connectorId=ConnectorController.getConnectorId(namespace),caipNetwork=this.getCaipNetwork(namespace),connector=ConnectorController.getConnectors(namespace).find(c=>c.id===connectorId);try{if(!adapter||!connector)throw new Error(`Adapter or connector not found for namespace ${namespace}`);if(!caipNetwork?.id)throw new Error("CaipNetwork not found");const connection=await(adapter?.syncConnection({namespace,id:connector.id,chainId:caipNetwork.id,rpcUrl:caipNetwork?.rpcUrls?.default?.http?.[0]}));if(connection){const accounts=await(adapter?.getAccounts({namespace,id:connector.id}));accounts&&accounts.accounts.length>0?this.setAllAccounts(accounts.accounts,namespace):this.setAllAccounts([CoreHelperUtil.createAccount(namespace,connection.address,"eoa")],namespace),this.syncProvider({...connection,chainNamespace:namespace}),await this.syncAccount({...connection,chainNamespace:namespace}),this.setStatus("connected",namespace)}else this.setStatus("disconnected",namespace)}catch(e){this.setStatus("disconnected",namespace)}}async syncWalletConnectAccount(){const syncTasks=this.chainNamespaces.map(async chainNamespace=>{const adapter=this.getAdapter(chainNamespace),namespaceAccounts=this.universalProvider?.session?.namespaces?.[chainNamespace]?.accounts||[],activeChainId=ChainController.state.activeCaipNetwork?.id,sessionAddress=namespaceAccounts.find(account=>{const{chainId}=ParseUtil.parseCaipAddress(account);return chainId===activeChainId?.toString()})||namespaceAccounts[0];if(sessionAddress){const caipAddress=ParseUtil.validateCaipAddress(sessionAddress),{chainId,address}=ParseUtil.parseCaipAddress(caipAddress);if(ProviderUtil.setProviderId(chainNamespace,src_ConstantsUtil_ConstantsUtil_CONNECTOR_TYPE_WALLET_CONNECT),this.caipNetworks&&ChainController.state.activeCaipNetwork&&adapter?.namespace!==ConstantsUtil.CHAIN.EVM){const provider=adapter?.getWalletConnectProvider({caipNetworks:this.caipNetworks,provider:this.universalProvider,activeCaipNetwork:ChainController.state.activeCaipNetwork});ProviderUtil.setProvider(chainNamespace,provider)}else ProviderUtil.setProvider(chainNamespace,this.universalProvider);ConnectorController.setConnectorId(ConstantsUtil.CONNECTOR_ID.WALLET_CONNECT,chainNamespace),StorageUtil.addConnectedNamespace(chainNamespace),this.syncWalletConnectAccounts(chainNamespace),await this.syncAccount({address,chainId,chainNamespace})}else this.setStatus("disconnected",chainNamespace);await ChainController.setApprovedCaipNetworksData(chainNamespace)});await Promise.all(syncTasks)}syncWalletConnectAccounts(chainNamespace){const addresses=this.universalProvider?.session?.namespaces?.[chainNamespace]?.accounts?.map(account=>{const{address}=ParseUtil.parseCaipAddress(account);return address}).filter((address,index,self)=>self.indexOf(address)===index);addresses&&this.setAllAccounts(addresses.map(address=>CoreHelperUtil.createAccount(chainNamespace,address,"bip122"===chainNamespace?"payment":"eoa")),chainNamespace)}syncProvider({type,provider,id,chainNamespace}){ProviderUtil.setProviderId(chainNamespace,type),ProviderUtil.setProvider(chainNamespace,provider),ConnectorController.setConnectorId(id,chainNamespace)}async syncAccount(params){const isActiveNamespace=params.chainNamespace===ChainController.state.activeChain,networkOfChain=ChainController.getCaipNetworkByNamespace(params.chainNamespace,params.chainId),{address,chainId,chainNamespace}=params,{chainId:activeChainId}=StorageUtil.getActiveNetworkProps(),chainIdToUse=chainId||activeChainId,isUnsupportedNetwork=ChainController.state.activeCaipNetwork?.name===ConstantsUtil.UNSUPPORTED_NETWORK_NAME,shouldSupportAllNetworks=ChainController.getNetworkProp("supportsAllNetworks",chainNamespace);if(this.setStatus("connected",chainNamespace),(!isUnsupportedNetwork||shouldSupportAllNetworks)&&chainIdToUse){let caipNetwork=this.caipNetworks?.find(n=>n.id.toString()===chainIdToUse.toString()),fallbackCaipNetwork=this.caipNetworks?.find(n=>n.chainNamespace===chainNamespace);if(!shouldSupportAllNetworks&&!caipNetwork&&!fallbackCaipNetwork){const caipNetworkIds=this.getApprovedCaipNetworkIds()||[],caipNetworkId=caipNetworkIds.find(id=>ParseUtil.parseCaipNetworkId(id)?.chainId===chainIdToUse.toString()),fallBackCaipNetworkId=caipNetworkIds.find(id=>ParseUtil.parseCaipNetworkId(id)?.chainNamespace===chainNamespace);caipNetwork=this.caipNetworks?.find(n=>n.caipNetworkId===caipNetworkId),fallbackCaipNetwork=this.caipNetworks?.find(n=>n.caipNetworkId===fallBackCaipNetworkId||"deprecatedCaipNetworkId"in n&&n.deprecatedCaipNetworkId===fallBackCaipNetworkId)}const network=caipNetwork||fallbackCaipNetwork;network?.chainNamespace===ChainController.state.activeChain?OptionsController.state.enableNetworkSwitch&&!OptionsController.state.allowUnsupportedChain&&ChainController.state.activeCaipNetwork?.name===ConstantsUtil.UNSUPPORTED_NETWORK_NAME?ChainController.showUnsupportedChainUI():this.setCaipNetwork(network):isActiveNamespace||networkOfChain&&this.setCaipNetworkOfNamespace(networkOfChain,chainNamespace),this.syncConnectedWalletInfo(chainNamespace),HelpersUtil.isLowerCaseMatch(address,AccountController.state.address)||this.syncAccountInfo(address,network?.id,chainNamespace),isActiveNamespace?await this.syncBalance({address,chainId:network?.id,chainNamespace}):await this.syncBalance({address,chainId:networkOfChain?.id,chainNamespace})}}async syncAccountInfo(address,chainId,chainNamespace){const caipAddress=this.getCaipAddress(chainNamespace),newChainId=chainId||caipAddress?.split(":")[1];if(!newChainId)return;const newCaipAddress=`${chainNamespace}:${newChainId}:${address}`;this.setCaipAddress(newCaipAddress,chainNamespace),await this.syncIdentity({address,chainId:newChainId,chainNamespace})}async syncReownName(address,chainNamespace){try{const registeredWcNames=await this.getReownName(address);if(registeredWcNames[0]){const wcName=registeredWcNames[0];this.setProfileName(wcName.name,chainNamespace)}else this.setProfileName(null,chainNamespace)}catch{this.setProfileName(null,chainNamespace)}}syncConnectedWalletInfo(chainNamespace){const connectorId=ConnectorController.getConnectorId(chainNamespace),providerType=ProviderUtil.getProviderId(chainNamespace);if(providerType===src_ConstantsUtil_ConstantsUtil_CONNECTOR_TYPE_ANNOUNCED||providerType===src_ConstantsUtil_ConstantsUtil_CONNECTOR_TYPE_INJECTED){if(connectorId){const connector=this.getConnectors().find(c=>c.id===connectorId);if(connector){const{info,name,imageUrl}=connector,icon=imageUrl||this.getConnectorImage(connector);this.setConnectedWalletInfo({name,icon,...info},chainNamespace)}}}else if(providerType===src_ConstantsUtil_ConstantsUtil_CONNECTOR_TYPE_WALLET_CONNECT){const provider=ProviderUtil.getProvider(chainNamespace);provider?.session&&this.setConnectedWalletInfo({...provider.session.peer.metadata,name:provider.session.peer.metadata.name,icon:provider.session.peer.metadata.icons?.[0]},chainNamespace)}else if(connectorId)if(connectorId===ConstantsUtil.CONNECTOR_ID.COINBASE){const connector=this.getConnectors().find(c=>c.id===ConstantsUtil.CONNECTOR_ID.COINBASE);this.setConnectedWalletInfo({name:"Coinbase Wallet",icon:this.getConnectorImage(connector)},chainNamespace)}else this.setConnectedWalletInfo({name:connectorId},chainNamespace)}async syncBalance(params){NetworkUtil.getNetworksByNamespace(this.caipNetworks,params.chainNamespace).find(n=>n.id.toString()===params.chainId?.toString())&&params.chainId&&await this.updateNativeBalance(params.address,params.chainId,params.chainNamespace)}async updateNativeBalance(address,chainId,namespace){const adapter=this.getAdapter(namespace);if(adapter){const balance=await adapter.getBalance({address,chainId,caipNetwork:this.getCaipNetwork(namespace),tokens:this.options.tokens});this.setBalance(balance.balance,balance.symbol,namespace)}}async initializeUniversalAdapter(){const logger=LoggerUtil.createLogger((error,...args)=>{error&&this.handleAlertError(error),appkit_base_client_console.error(...args)}),universalProviderOptions={projectId:this.options?.projectId,metadata:{name:this.options?.metadata?this.options?.metadata.name:"",description:this.options?.metadata?this.options?.metadata.description:"",url:this.options?.metadata?this.options?.metadata.url:"",icons:this.options?.metadata?this.options?.metadata.icons:[""]},logger};OptionsController.setManualWCControl(Boolean(this.options?.manualWCControl)),this.universalProvider=this.options.universalProvider??await index_es.A.init(universalProviderOptions),this.listenWalletConnect()}listenWalletConnect(){this.universalProvider&&(this.universalProvider.on("display_uri",uri=>{ConnectionController.setUri(uri)}),this.universalProvider.on("connect",ConnectionController.finalizeWcConnection),this.universalProvider.on("disconnect",()=>{this.chainNamespaces.forEach(namespace=>{this.resetAccount(namespace)}),ConnectionController.resetWcConnection()}),this.universalProvider.on("chainChanged",chainId=>{const caipNetwork=this.caipNetworks?.find(c=>c.id==chainId),currentCaipNetwork=this.getCaipNetwork();caipNetwork?currentCaipNetwork?.id!==caipNetwork?.id&&this.setCaipNetwork(caipNetwork):this.setUnsupportedNetwork(chainId)}),this.universalProvider.on("session_event",callbackData=>{if(WcHelpersUtil.isSessionEventData(callbackData)){const{name,data}=callbackData.params.event;"accountsChanged"===name&&Array.isArray(data)&&CoreHelperUtil.isCaipAddress(data[0])&&this.syncAccount(ParseUtil.parseCaipAddress(data[0]))}}))}createUniversalProvider(){return!this.universalProviderInitPromise&&CoreHelperUtil.isClient()&&this.options?.projectId&&(this.universalProviderInitPromise=this.initializeUniversalAdapter()),this.universalProviderInitPromise}async getUniversalProvider(){if(!this.universalProvider)try{await this.createUniversalProvider()}catch(err){EventsController.sendEvent({type:"error",event:"INTERNAL_SDK_ERROR",properties:{errorType:"UniversalProviderInitError",errorMessage:err instanceof Error?err.message:"Unknown",uncaught:!1}}),appkit_base_client_console.error("AppKit:getUniversalProvider - Cannot create provider",err)}return this.universalProvider}handleAlertError(error){const matchedUniversalProviderError=Object.entries(ErrorUtil.UniversalProviderErrors).find(([,{message}])=>error.message.includes(message)),[errorKey,errorValue]=matchedUniversalProviderError??[],{message,alertErrorKey}=errorValue??{};if(errorKey&&message&&!this.reportedAlertErrors[errorKey]){const alertError=ErrorUtil.ALERT_ERRORS[alertErrorKey];alertError&&(AlertController.open(alertError,"error"),this.reportedAlertErrors[errorKey]=!0)}}getAdapter(namespace){if(namespace)return this.chainAdapters?.[namespace]}createAdapter(blueprint){if(!blueprint)return;const namespace=blueprint.namespace;if(!namespace)return;this.createClients();const adapterBlueprint=blueprint;adapterBlueprint.namespace=namespace,adapterBlueprint.construct({namespace,projectId:this.options?.projectId,networks:this.caipNetworks}),this.chainNamespaces.includes(namespace)||this.chainNamespaces.push(namespace),this.chainAdapters&&(this.chainAdapters[namespace]=adapterBlueprint)}async open(options){await this.injectModalUi(),options?.uri&&ConnectionController.setUri(options.uri),await ModalController.open(options)}async close(){await this.injectModalUi(),ModalController.close()}setLoading(loading,namespace){ModalController.setLoading(loading,namespace)}async disconnect(chainNamespace){await ConnectionController.disconnect(chainNamespace)}getError(){return""}getChainId(){return ChainController.state.activeCaipNetwork?.id}async switchNetwork(appKitNetwork){const network=this.caipNetworks?.find(n=>n.id===appKitNetwork.id);network?await ChainController.switchActiveNetwork(network):AlertController.open(ErrorUtil.ALERT_ERRORS.SWITCH_NETWORK_NOT_FOUND,"error")}getWalletProvider(){return ChainController.state.activeChain?ProviderUtil.state.providers[ChainController.state.activeChain]:null}getWalletProviderType(){return ProviderUtil.getProviderId(ChainController.state.activeChain)}subscribeProviders(callback){return ProviderUtil.subscribeProviders(callback)}getThemeMode(){return ThemeController.state.themeMode}getThemeVariables(){return ThemeController.state.themeVariables}setThemeMode(themeMode){ThemeController.setThemeMode(themeMode),setColorTheme(ThemeController.state.themeMode)}setTermsConditionsUrl(termsConditionsUrl){OptionsController.setTermsConditionsUrl(termsConditionsUrl)}setPrivacyPolicyUrl(privacyPolicyUrl){OptionsController.setPrivacyPolicyUrl(privacyPolicyUrl)}setThemeVariables(themeVariables){ThemeController.setThemeVariables(themeVariables),function setThemeVariables(themeVariables){themeTag&&darkModeTag&&lightModeTag&&(themeTag.textContent=createRootStyles(themeVariables).core.cssText,darkModeTag.textContent=createRootStyles(themeVariables).dark.cssText,lightModeTag.textContent=createRootStyles(themeVariables).light.cssText)}(ThemeController.state.themeVariables)}subscribeTheme(callback){return ThemeController.subscribe(callback)}getWalletInfo(){return AccountController.state.connectedWalletInfo}getAccount(namespace){const authConnector=ConnectorController.getAuthConnector(namespace),accountState=ChainController.getAccountData(namespace);if(accountState)return{allAccounts:accountState.allAccounts,caipAddress:accountState.caipAddress,address:CoreHelperUtil.getPlainAddress(accountState.caipAddress),isConnected:Boolean(accountState.caipAddress),status:accountState.status,embeddedWalletInfo:authConnector?{user:accountState.user,authProvider:accountState.socialProvider||"email",accountType:accountState.preferredAccountType,isSmartAccountDeployed:Boolean(accountState.smartAccountDeployed)}:void 0}}subscribeAccount(callback,namespace){const updateVal=()=>{const account=this.getAccount(namespace);account&&callback(account)};namespace?ChainController.subscribeChainProp("accountState",updateVal,namespace):ChainController.subscribe(updateVal),ConnectorController.subscribe(updateVal)}subscribeNetwork(callback){return ChainController.subscribe(({activeCaipNetwork})=>{callback({caipNetwork:activeCaipNetwork,chainId:activeCaipNetwork?.id,caipNetworkId:activeCaipNetwork?.caipNetworkId})})}subscribeWalletInfo(callback){return AccountController.subscribeKey("connectedWalletInfo",callback)}subscribeShouldUpdateToAddress(callback){AccountController.subscribeKey("shouldUpdateToAddress",callback)}subscribeCaipNetworkChange(callback){ChainController.subscribeKey("activeCaipNetwork",callback)}getState(){return PublicStateController.state}subscribeState(callback){return PublicStateController.subscribe(callback)}showErrorMessage(message){SnackController.showError(message)}showSuccessMessage(message){SnackController.showSuccess(message)}getEvent(){return{...EventsController.state}}subscribeEvents(callback){return EventsController.subscribe(callback)}replace(route){RouterController.replace(route)}redirect(route){RouterController.push(route)}popTransactionStack(cancel){RouterController.popTransactionStack(cancel)}isOpen(){return ModalController.state.open}isTransactionStackEmpty(){return 0===RouterController.state.transactionStack.length}isTransactionShouldReplaceView(){return RouterController.state.transactionStack[RouterController.state.transactionStack.length-1]?.replace}static getInstance(){return this.instance}updateFeatures(newFeatures){OptionsController.setFeatures(newFeatures)}updateOptions(newOptions){const updatedOptions={...OptionsController.state||{},...newOptions};OptionsController.setOptions(updatedOptions)}setConnectMethodsOrder(connectMethodsOrder){OptionsController.setConnectMethodsOrder(connectMethodsOrder)}setWalletFeaturesOrder(walletFeaturesOrder){OptionsController.setWalletFeaturesOrder(walletFeaturesOrder)}setCollapseWallets(collapseWallets){OptionsController.setCollapseWallets(collapseWallets)}setSocialsOrder(socialsOrder){OptionsController.setSocialsOrder(socialsOrder)}getConnectMethodsOrder(){return WalletUtil.A.getConnectOrderMethod(OptionsController.state.features,ConnectorController.getConnectors())}removeAdapter(namespace){const isConnected=this.getIsConnectedState(),adapter=this.getAdapter(namespace);if(!adapter||!this.chainAdapters||isConnected)return;const newCaipNetworks=this.caipNetworks?.filter(network=>network.chainNamespace!==namespace);ChainController.removeAdapter(namespace),ConnectorController.removeAdapter(namespace),this.chainNamespaces=this.chainNamespaces.filter(n=>n!==namespace),this.caipNetworks=newCaipNetworks,adapter.removeAllEventListeners(),Reflect.deleteProperty(this.chainAdapters,namespace)}addAdapter(adapter,networks){const namespace=adapter.namespace;if(!this.connectionControllerClient||!this.networkControllerClient)return;if(!this.chainAdapters||!namespace)return;const extendedAdapterNetworks=this.extendCaipNetworks({...this.options,networks});this.caipNetworks=[...this.caipNetworks||[],...extendedAdapterNetworks],this.createAdapter(adapter),this.initChainAdapter(namespace),ChainController.addAdapter(adapter,{connectionControllerClient:this.connectionControllerClient,networkControllerClient:this.networkControllerClient},extendedAdapterNetworks)}addNetwork(namespace,network){if(this.chainAdapters&&!this.chainAdapters[namespace])throw new Error(`Adapter for namespace ${namespace} doesn't exist`);const extendedNetwork=this.extendCaipNetwork(network,this.options);ChainController.addNetwork(extendedNetwork),this.caipNetworks&&!this.caipNetworks?.find(n=>n.id===extendedNetwork.id)&&this.caipNetworks.push(extendedNetwork)}removeNetwork(namespace,networkId){if(this.chainAdapters&&!this.chainAdapters[namespace])throw new Error(`Adapter for namespace ${namespace} doesn't exist`);const networkToRemove=this.caipNetworks?.find(n=>n.id===networkId);if(!networkToRemove)throw new Error(`Network with ID ${networkId} not found`);if(!this.caipNetworks)return;const remainingNetworks=this.caipNetworks.filter(n=>n.chainNamespace===namespace&&n.id!==networkId);if(!remainingNetworks?.length)throw new Error("Cannot remove last network for a namespace");ChainController.removeNetwork(namespace,networkId),this.caipNetworks=[...remainingNetworks]}}let isInitialized=!1;class AppKit extends AppKitBaseClient{async open(options){ConnectorController.isConnected()||await super.open(options)}async close(){await super.close(),this.options.manualWCControl&&ConnectionController.finalizeWcConnection()}async syncIdentity(_request){return Promise.resolve()}async syncBalance(_params){return Promise.resolve()}async injectModalUi(){if(!isInitialized&&CoreHelperUtil.isClient()){await Promise.all([__webpack_require__.e(3900),__webpack_require__.e(598),__webpack_require__.e(9590)]).then(__webpack_require__.bind(__webpack_require__,"./node_modules/@reown/appkit-scaffold-ui/dist/esm/exports/basic.js")),await Promise.all([__webpack_require__.e(3900),__webpack_require__.e(4935)]).then(__webpack_require__.bind(__webpack_require__,"./node_modules/@reown/appkit-scaffold-ui/dist/esm/exports/w3m-modal.js"));if(!document.querySelector("w3m-modal")){const modal=document.createElement("w3m-modal");OptionsController.state.disableAppend||OptionsController.state.enableEmbedded||document.body.insertAdjacentElement("beforeend",modal)}isInitialized=!0}}}class ClientNotInitializedError extends Error{constructor(){super(),Object.setPrototypeOf(this,ClientNotInitializedError.prototype)}}class WalletConnectFeatureNotSupportedError extends Error{constructor(method){super(`WalletConnect Adapter - Method ${method} is not supported by the wallet`),this.name="WalletConnectFeatureNotSupportedError"}}var utils_console=__webpack_require__("./node_modules/console-browserify/index.js");const chainWarns={mainnet:`You are using a deprecated chain ID for Solana Mainnet, please use ${SolanaChainIDs_Mainnet} instead.`,devnet:`You are using a deprecated chain ID for Solana Devnet, please use ${SolanaChainIDs_Devnet} instead.`,wallet:"The connected wallet is using a deprecated chain ID for Solana. Please, contact them to upgrade. You can learn more at https://github.com/ChainAgnostic/namespaces/blob/main/solana/caip10.md#chain-ids"};function getDefaultChainFromSession(session,selectedChain){const chains=session.namespaces.solana?.accounts.map(account=>`solana:${account.split(":")[1]}`);if(selectedChain===SolanaChainIDs_Mainnet)return chains?.find(chain=>chain===SolanaChainIDs_Mainnet)?SolanaChainIDs_Mainnet:(utils_console.warn(chainWarns.wallet),SolanaChainIDs_Deprecated_Mainnet);if(selectedChain===SolanaChainIDs_Devnet)return chains?.find(chain=>chain===SolanaChainIDs_Devnet)?SolanaChainIDs_Devnet:(utils_console.warn(chainWarns.wallet),SolanaChainIDs_Deprecated_Devnet);throw Error("WalletConnect Solana Adapter: Unable to get a default chain from the session.")}function getConnectParams(chainId){const chains=function getChainsFromChainId(chainId){let chains=[chainId];return chainId===SolanaChainIDs_Mainnet||chainId===SolanaChainIDs_Deprecated_Mainnet?(chains=[SolanaChainIDs_Mainnet,SolanaChainIDs_Deprecated_Mainnet],chainId===SolanaChainIDs_Deprecated_Mainnet&&utils_console.warn(chainWarns.mainnet)):chainId!==SolanaChainIDs_Deprecated_Devnet&&chainId!==SolanaChainIDs_Devnet||(chains=[SolanaChainIDs_Devnet,SolanaChainIDs_Deprecated_Devnet],SolanaChainIDs_Deprecated_Devnet&&utils_console.warn(chainWarns.devnet)),chains}(chainId);return{optionalNamespaces:{solana:{chains,methods:[WalletConnectRPCMethods.signTransaction,WalletConnectRPCMethods.signMessage],events:[]}}}}class QRCodeModalError extends Error{constructor(){super("QR Code Modal was closed by user"),Object.setPrototypeOf(this,QRCodeModalError.prototype),this.name="QRCodeModalError"}}var core_Buffer=__webpack_require__("./node_modules/buffer/index.js").Buffer;class WalletConnectWallet{_UniversalProvider;_session;_modal;_projectId;_network;_ConnectQueueResolver;constructor(config){if(this.initClient(config.options),this._network=config.network,!config.options.projectId)throw Error("WalletConnect Adapter: Project ID is undefined");this._projectId=config.options.projectId}async connect(){if(this._UniversalProvider||await new Promise(res=>{this._ConnectQueueResolver=res}),!this._UniversalProvider)throw new Error("WalletConnect Adapter - Universal Provider was undefined while calling 'connect()'");if(this._UniversalProvider.session){this._session=this._UniversalProvider.session;const defaultNetwork=getDefaultChainFromSession(this._session,this._network);return this._network=defaultNetwork,this._UniversalProvider.setDefaultChain(defaultNetwork),{publicKey:this.publicKey}}await this.initModal();const params=getConnectParams(this._network);this._modal?.open();const controller=new AbortController,signal=controller.signal;this._modal?.subscribeState(state=>{state.open||controller.abort(new QRCodeModalError)});try{const session=await Promise.race([this._UniversalProvider?.connect(params),new Promise((_,reject)=>{signal.addEventListener("abort",()=>{reject(signal.reason)})})]);if(this._modal?.close(),this._session=session,!session)throw new errors.Y6;const defaultNetwork=getDefaultChainFromSession(session,this._network);return this._network=defaultNetwork,this._UniversalProvider?.setDefaultChain(defaultNetwork),{publicKey:this.publicKey}}catch(error){throw this._modal?.close(),error}}async disconnect(){if(!this._UniversalProvider?.session)throw new ClientNotInitializedError;if(await this.initModal(),!this._modal)throw Error("WalletConnect Adapter -Modal is undefined: unable to disconnect");await this.client.disconnect(),this._session=void 0}get client(){if(this._UniversalProvider)return this._UniversalProvider;throw new ClientNotInitializedError}get session(){if(!this._session)throw new ClientNotInitializedError;return this._session}get publicKey(){if(this._UniversalProvider?.session&&this._session){const{address}=Xe(this._session?.namespaces.solana?.accounts[0]??"");return new index_browser_esm.PublicKey(address)}throw new ClientNotInitializedError}async signTransaction(transaction){this.checkIfWalletSupportsMethod(WalletConnectRPCMethods.signTransaction);const isVersioned=(0,esm_transaction.Y)(transaction),legacyTransaction=isVersioned?{}:transaction,{signature,transaction:signedSerializedTransaction}=await this.client.client.request({chainId:this._network,topic:this.session.topic,request:{method:WalletConnectRPCMethods.signTransaction,params:{...legacyTransaction,transaction:this.serialize(transaction)}}});return signedSerializedTransaction?this.deserialize(signedSerializedTransaction,isVersioned):(transaction.addSignature(this.publicKey,core_Buffer.from(esm.A.decode(signature))),transaction)}async signMessage(message){this.checkIfWalletSupportsMethod(WalletConnectRPCMethods.signMessage);const{signature}=await this.client.client.request({chainId:this._network,topic:this.session.topic,request:{method:WalletConnectRPCMethods.signMessage,params:{pubkey:this.publicKey.toString(),message:esm.A.encode(message)}}});return esm.A.decode(signature)}async signAndSendTransaction(transaction){this.checkIfWalletSupportsMethod(WalletConnectRPCMethods.signAndSendTransaction);const{signature}=await this.client.client.request({chainId:this._network,topic:this.session.topic,request:{method:WalletConnectRPCMethods.signAndSendTransaction,params:{transaction:this.serialize(transaction)}}});return signature}async signAllTransactions(transactions){try{this.checkIfWalletSupportsMethod(WalletConnectRPCMethods.signAllTransactions);const serializedTransactions=transactions.map(transaction=>this.serialize(transaction)),{transactions:serializedSignedTransactions}=await this.client.client.request({chainId:this._network,topic:this.session.topic,request:{method:WalletConnectRPCMethods.signAllTransactions,params:{transactions:serializedTransactions}}});return transactions.map((transaction,index)=>(0,esm_transaction.Y)(transaction)?this.deserialize(serializedSignedTransactions[index]??"",!0):this.deserialize(serializedSignedTransactions[index]??""))}catch(error){if(error instanceof WalletConnectFeatureNotSupportedError){const promises=transactions.map(transaction=>this.signTransaction(transaction));return await Promise.all(promises)}throw error}}async initClient(options){const provider=await index_es.l.init(options);this._UniversalProvider=provider,this._ConnectQueueResolver&&this._ConnectQueueResolver(!0)}async initModal(){if(!this._modal){if(!this._UniversalProvider)throw new Error("WalletConnect Adapter - cannot init modal when Universal Provider is undefined");this._modal=function createAppKit(options){return new AppKit({...options,basic:!0,sdkVersion:"html-core-1.7.2"})}({projectId:this._projectId,universalProvider:this._UniversalProvider,networks:[solana,solanaDevnet,solanaTestnet],manualWCControl:!0})}}serialize(transaction){return core_Buffer.from(transaction.serialize({verifySignatures:!1})).toString("base64")}deserialize(serializedTransaction,versioned=!1){return versioned?index_browser_esm.VersionedTransaction.deserialize(core_Buffer.from(serializedTransaction,"base64")):index_browser_esm.Transaction.from(core_Buffer.from(serializedTransaction,"base64"))}checkIfWalletSupportsMethod(method){if(!this.session.namespaces.solana?.methods.includes(method))throw new WalletConnectFeatureNotSupportedError(method)}}var adapter_console=__webpack_require__("./node_modules/console-browserify/index.js");class WalletConnectWalletAdapter extends signer.Kl{name="WalletConnect";url="https://walletconnect.org";icon="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjE4NSIgdmlld0JveD0iMCAwIDMwMCAxODUiIHdpZHRoPSIzMDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0ibTYxLjQzODU0MjkgMzYuMjU2MjYxMmM0OC45MTEyMjQxLTQ3Ljg4ODE2NjMgMTI4LjIxMTk4NzEtNDcuODg4MTY2MyAxNzcuMTIzMjA5MSAwbDUuODg2NTQ1IDUuNzYzNDE3NGMyLjQ0NTU2MSAyLjM5NDQwODEgMi40NDU1NjEgNi4yNzY1MTEyIDAgOC42NzA5MjA0bC0yMC4xMzY2OTUgMTkuNzE1NTAzYy0xLjIyMjc4MSAxLjE5NzIwNTEtMy4yMDUzIDEuMTk3MjA1MS00LjQyODA4MSAwbC04LjEwMDU4NC03LjkzMTE0NzljLTM0LjEyMTY5Mi0zMy40MDc5ODE3LTg5LjQ0Mzg4Ni0zMy40MDc5ODE3LTEyMy41NjU1Nzg4IDBsLTguNjc1MDU2MiA4LjQ5MzYwNTFjLTEuMjIyNzgxNiAxLjE5NzIwNDEtMy4yMDUzMDEgMS4xOTcyMDQxLTQuNDI4MDgwNiAwbC0yMC4xMzY2OTQ5LTE5LjcxNTUwMzFjLTIuNDQ1NTYxMi0yLjM5NDQwOTItMi40NDU1NjEyLTYuMjc2NTEyMiAwLTguNjcwOTIwNHptMjE4Ljc2Nzc5NjEgNDAuNzczNzQ0OSAxNy45MjE2OTcgMTcuNTQ2ODk3YzIuNDQ1NTQ5IDIuMzk0Mzk2OSAyLjQ0NTU2MyA2LjI3NjQ3NjkuMDAwMDMxIDguNjcwODg5OWwtODAuODEwMTcxIDc5LjEyMTEzNGMtMi40NDU1NDQgMi4zOTQ0MjYtNi40MTA1ODIgMi4zOTQ0NTMtOC44NTYxNi4wMDAwNjItLjAwMDAxLS4wMDAwMS0uMDAwMDIyLS4wMDAwMjItLjAwMDAzMi0uMDAwMDMybC01Ny4zNTQxNDMtNTYuMTU0NTcyYy0uNjExMzktLjU5ODYwMi0xLjYwMjY1LS41OTg2MDItMi4yMTQwNCAwLS4wMDAwMDQuMDAwMDA0LS4wMDAwMDcuMDAwMDA4LS4wMDAwMTEuMDAwMDExbC01Ny4zNTI5MjEyIDU2LjE1NDUzMWMtMi40NDU1MzY4IDIuMzk0NDMyLTYuNDEwNTc1NSAyLjM5NDQ3Mi04Ljg1NjE2MTIuMDAwMDg3LS4wMDAwMTQzLS4wMDAwMTQtLjAwMDAyOTYtLjAwMDAyOC0uMDAwMDQ0OS0uMDAwMDQ0bC04MC44MTI0MTk0My03OS4xMjIxODVjLTIuNDQ1NTYwMjEtMi4zOTQ0MDgtMi40NDU1NjAyMS02LjI3NjUxMTUgMC04LjY3MDkxOTdsMTcuOTIxNzI5NjMtMTcuNTQ2ODY3M2MyLjQ0NTU2MDItMi4zOTQ0MDgyIDYuNDEwNTk4OS0yLjM5NDQwODIgOC44NTYxNjAyIDBsNTcuMzU0OTc3NSA1Ni4xNTUzNTdjLjYxMTM5MDguNTk4NjAyIDEuNjAyNjQ5LjU5ODYwMiAyLjIxNDAzOTggMCAuMDAwMDA5Mi0uMDAwMDA5LjAwMDAxNzQtLjAwMDAxNy4wMDAwMjY1LS4wMDAwMjRsNTcuMzUyMTAzMS01Ni4xNTUzMzNjMi40NDU1MDUtMi4zOTQ0NjMzIDYuNDEwNTQ0LTIuMzk0NTUzMSA4Ljg1NjE2MS0uMDAwMi4wMDAwMzQuMDAwMDMzNi4wMDAwNjguMDAwMDY3My4wMDAxMDEuMDAwMTAxbDU3LjM1NDkwMiA1Ni4xNTU0MzJjLjYxMTM5LjU5ODYwMSAxLjYwMjY1LjU5ODYwMSAyLjIxNDA0IDBsNTcuMzUzOTc1LTU2LjE1NDMyNDljMi40NDU1NjEtMi4zOTQ0MDkyIDYuNDEwNTk5LTIuMzk0NDA5MiA4Ljg1NjE2IDB6IiBmaWxsPSIjM2I5OWZjIi8+PC9zdmc+";supportedTransactionVersions=new Set(["legacy",0]);_publicKey;_connecting;_wallet;_config;_readyState;_onDisconnect;constructor(config){super(),this._publicKey=null,this._connecting=!1,this._config=config,this._wallet=null,this._readyState="undefined"==typeof window?adapter.Ok.Unsupported:adapter.Ok.Loadable,this._onDisconnect=this.disconnect.bind(this)}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get readyState(){return this._readyState}async connect(){try{if(this.connected||this.connecting)return;if(this._readyState!==adapter.Ok.Loadable)throw new errors.AE;this._connecting=!0,this._wallet=new WalletConnectWallet({network:this._config.network===types.B.Mainnet?WalletConnectChainID.Mainnet:WalletConnectChainID.Devnet,options:this._config.options});const{publicKey}=await this._wallet.connect();this._publicKey=publicKey,this.emit("connect",publicKey),this._wallet.client.on("session_delete",this._onDisconnect)}catch(error){if("QRCodeModalError"===error.constructor.name||error instanceof Error&&"QRCodeModalError"===error.name)throw new errors.KL;throw this._connecting=!1,error}finally{this._connecting=!1}}async disconnect(){const wallet=this._wallet;if(wallet){wallet.client.off("session_delete",this._onDisconnect),this._publicKey=null;try{wallet.client.session&&await wallet.disconnect()}catch(error){adapter_console.error("WalletConnectWalletAdapter: disconnect error",error),this.emit("error",new errors.Y8(error?.message,error))}}this.emit("disconnect")}async signTransaction(transaction){try{const wallet=this._wallet;if(!wallet)throw new errors.kW;try{return await wallet.signTransaction(transaction)}catch(error){throw new errors.z4(error?.message,error)}}catch(error){throw this.emit("error",error),error}}async signMessage(message){try{const wallet=this._wallet;if(!wallet)throw new errors.kW;try{return await wallet.signMessage(message)}catch(error){throw new errors.K3(error?.message,error)}}catch(error){throw this.emit("error",error),error}}async signAndSendTransaction(transaction){try{const wallet=this._wallet;if(!wallet)throw new errors.kW;try{return await wallet.signAndSendTransaction(transaction)}catch(error){throw new errors.z4(error?.message,error)}}catch(error){throw this.emit("error",error),error}}async signAllTransactions(transactions){try{const wallet=this._wallet;if(!wallet)throw new errors.kW;try{return await wallet.signAllTransactions(transactions)}catch(error){throw new errors.z4(error?.message,error)}}catch(error){throw this.emit("error",error),error}}}},"./node_modules/dijkstrajs/dijkstra.js":module=>{"use strict";var dijkstra={single_source_shortest_paths:function(graph,s,d){var predecessors={},costs={};costs[s]=0;var closest,u,v,cost_of_s_to_u,adjacent_nodes,cost_of_s_to_u_plus_cost_of_e,cost_of_s_to_v,open=dijkstra.PriorityQueue.make();for(open.push(s,0);!open.empty();)for(v in u=(closest=open.pop()).value,cost_of_s_to_u=closest.cost,adjacent_nodes=graph[u]||{})adjacent_nodes.hasOwnProperty(v)&&(cost_of_s_to_u_plus_cost_of_e=cost_of_s_to_u+adjacent_nodes[v],cost_of_s_to_v=costs[v],(void 0===costs[v]||cost_of_s_to_v>cost_of_s_to_u_plus_cost_of_e)&&(costs[v]=cost_of_s_to_u_plus_cost_of_e,open.push(v,cost_of_s_to_u_plus_cost_of_e),predecessors[v]=u));if(void 0!==d&&void 0===costs[d]){var msg=["Could not find a path from ",s," to ",d,"."].join("");throw new Error(msg)}return predecessors},extract_shortest_path_from_predecessor_list:function(predecessors,d){for(var nodes=[],u=d;u;)nodes.push(u),predecessors[u],u=predecessors[u];return nodes.reverse(),nodes},find_path:function(graph,s,d){var predecessors=dijkstra.single_source_shortest_paths(graph,s,d);return dijkstra.extract_shortest_path_from_predecessor_list(predecessors,d)},PriorityQueue:{make:function(opts){var key,T=dijkstra.PriorityQueue,t={};for(key in opts=opts||{},T)T.hasOwnProperty(key)&&(t[key]=T[key]);return t.queue=[],t.sorter=opts.sorter||T.default_sorter,t},default_sorter:function(a,b){return a.cost-b.cost},push:function(value,cost){var item={value,cost};this.queue.push(item),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};module.exports=dijkstra},"./node_modules/json-rpc-2.0/dist/client.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function step(op){if(f)throw new TypeError("Generator is already executing.");for(;g&&(g=0,op[0]&&(_=0)),_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=_.trys,(t=t.length>0&&t[t.length-1])||6!==op[0]&&2!==op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.JSONRPCClient=void 0;var models_1=__webpack_require__("./node_modules/json-rpc-2.0/dist/models.js"),internal_1=__webpack_require__("./node_modules/json-rpc-2.0/dist/internal.js"),JSONRPCClient=function(){function JSONRPCClient(_send,createID){this._send=_send,this.createID=createID,this.idToResolveMap=new Map,this.id=0}return JSONRPCClient.prototype._createID=function(){return this.createID?this.createID():++this.id},JSONRPCClient.prototype.timeout=function(delay,overrideCreateJSONRPCErrorResponse){var _this=this;void 0===overrideCreateJSONRPCErrorResponse&&(overrideCreateJSONRPCErrorResponse=function(id){return(0,models_1.createJSONRPCErrorResponse)(id,internal_1.DefaultErrorCode,"Request timeout")});var timeoutRequest=function(ids,request){var timeoutID=setTimeout(function(){ids.forEach(function(id){var resolve=_this.idToResolveMap.get(id);resolve&&(_this.idToResolveMap.delete(id),resolve(overrideCreateJSONRPCErrorResponse(id)))})},delay);return request().then(function(result){return clearTimeout(timeoutID),result},function(error){return clearTimeout(timeoutID),Promise.reject(error)})};return{request:function(method,params,clientParams){var id=_this._createID();return timeoutRequest([id],function(){return _this.requestWithID(method,params,clientParams,id)})},requestAdvanced:function(request,clientParams){return function(request,clientParams){var ids=(Array.isArray(request)?request:[request]).map(function(request){return request.id}).filter(isDefinedAndNonNull);return timeoutRequest(ids,function(){return _this.requestAdvanced(request,clientParams)})}(request,clientParams)}}},JSONRPCClient.prototype.request=function(method,params,clientParams){return this.requestWithID(method,params,clientParams,this._createID())},JSONRPCClient.prototype.requestWithID=function(method,params,clientParams,id){return __awaiter(this,void 0,void 0,function(){var request,response;return __generator(this,function(_a){switch(_a.label){case 0:return request=(0,models_1.createJSONRPCRequest)(id,method,params),[4,this.requestAdvanced(request,clientParams)];case 1:return void 0===(response=_a.sent()).result||response.error?void 0===response.result&&response.error?[2,Promise.reject(new models_1.JSONRPCErrorException(response.error.message,response.error.code,response.error.data))]:[2,Promise.reject(new Error("An unexpected error occurred"))]:[2,response.result]}})})},JSONRPCClient.prototype.requestAdvanced=function(requests,clientParams){var _this=this,areRequestsOriginallyArray=Array.isArray(requests);Array.isArray(requests)||(requests=[requests]);var requestsWithID=requests.filter(function(request){return isDefinedAndNonNull(request.id)}),promises=requestsWithID.map(function(request){return new Promise(function(resolve){return _this.idToResolveMap.set(request.id,resolve)})}),promise=Promise.all(promises).then(function(responses){return areRequestsOriginallyArray||!responses.length?responses:responses[0]});return this.send(areRequestsOriginallyArray?requests:requests[0],clientParams).then(function(){return promise},function(error){return requestsWithID.forEach(function(request){_this.receive((0,models_1.createJSONRPCErrorResponse)(request.id,internal_1.DefaultErrorCode,error&&error.message||"Failed to send a request"))}),promise})},JSONRPCClient.prototype.notify=function(method,params,clientParams){var request=(0,models_1.createJSONRPCNotification)(method,params);this.send(request,clientParams).then(void 0,function(){})},JSONRPCClient.prototype.send=function(payload,clientParams){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){return[2,this._send(payload,clientParams)]})})},JSONRPCClient.prototype.rejectAllPendingRequests=function(message){this.idToResolveMap.forEach(function(resolve,id){return resolve((0,models_1.createJSONRPCErrorResponse)(id,internal_1.DefaultErrorCode,message))}),this.idToResolveMap.clear()},JSONRPCClient.prototype.receive=function(responses){var _this=this;Array.isArray(responses)||(responses=[responses]),responses.forEach(function(response){var resolve=_this.idToResolveMap.get(response.id);resolve&&(_this.idToResolveMap.delete(response.id),resolve(response))})},JSONRPCClient}();exports.JSONRPCClient=JSONRPCClient;var isDefinedAndNonNull=function(value){return null!=value}},"./node_modules/json-rpc-2.0/dist/index.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k);var desc=Object.getOwnPropertyDescriptor(m,k);desc&&!("get"in desc?!m.__esModule:desc.writable||desc.configurable)||(desc={enumerable:!0,get:function(){return m[k]}}),Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__exportStar=this&&this.__exportStar||function(m,exports){for(var p in m)"default"===p||Object.prototype.hasOwnProperty.call(exports,p)||__createBinding(exports,m,p)};Object.defineProperty(exports,"__esModule",{value:!0}),__exportStar(__webpack_require__("./node_modules/json-rpc-2.0/dist/client.js"),exports),__exportStar(__webpack_require__("./node_modules/json-rpc-2.0/dist/interfaces.js"),exports),__exportStar(__webpack_require__("./node_modules/json-rpc-2.0/dist/models.js"),exports),__exportStar(__webpack_require__("./node_modules/json-rpc-2.0/dist/server.js"),exports),__exportStar(__webpack_require__("./node_modules/json-rpc-2.0/dist/server-and-client.js"),exports)},"./node_modules/json-rpc-2.0/dist/interfaces.js":(__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0})},"./node_modules/json-rpc-2.0/dist/internal.js":(__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DefaultErrorCode=void 0,exports.DefaultErrorCode=0},"./node_modules/json-rpc-2.0/dist/models.js":function(__unused_webpack_module,exports){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)},function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0}),exports.createJSONRPCNotification=exports.createJSONRPCRequest=exports.createJSONRPCSuccessResponse=exports.createJSONRPCErrorResponse=exports.JSONRPCErrorCode=exports.JSONRPCErrorException=exports.isJSONRPCResponses=exports.isJSONRPCResponse=exports.isJSONRPCRequests=exports.isJSONRPCRequest=exports.isJSONRPCID=exports.JSONRPC=void 0,exports.JSONRPC="2.0";exports.isJSONRPCID=function(id){return"string"==typeof id||"number"==typeof id||null===id};exports.isJSONRPCRequest=function(payload){return payload.jsonrpc===exports.JSONRPC&&void 0!==payload.method&&void 0===payload.result&&void 0===payload.error};exports.isJSONRPCRequests=function(payload){return Array.isArray(payload)&&payload.every(exports.isJSONRPCRequest)};exports.isJSONRPCResponse=function(payload){return payload.jsonrpc===exports.JSONRPC&&void 0!==payload.id&&(void 0!==payload.result||void 0!==payload.error)};exports.isJSONRPCResponses=function(payload){return Array.isArray(payload)&&payload.every(exports.isJSONRPCResponse)};var createJSONRPCError=function(code,message,data){var error={code,message};return null!=data&&(error.data=data),error},JSONRPCErrorException=function(_super){function JSONRPCErrorException(message,code,data){var _this=_super.call(this,message)||this;return Object.setPrototypeOf(_this,JSONRPCErrorException.prototype),_this.code=code,_this.data=data,_this}return __extends(JSONRPCErrorException,_super),JSONRPCErrorException.prototype.toObject=function(){return createJSONRPCError(this.code,this.message,this.data)},JSONRPCErrorException}(Error);exports.JSONRPCErrorException=JSONRPCErrorException,function(JSONRPCErrorCode){JSONRPCErrorCode[JSONRPCErrorCode.ParseError=-32700]="ParseError",JSONRPCErrorCode[JSONRPCErrorCode.InvalidRequest=-32600]="InvalidRequest",JSONRPCErrorCode[JSONRPCErrorCode.MethodNotFound=-32601]="MethodNotFound",JSONRPCErrorCode[JSONRPCErrorCode.InvalidParams=-32602]="InvalidParams",JSONRPCErrorCode[JSONRPCErrorCode.InternalError=-32603]="InternalError"}(exports.JSONRPCErrorCode||(exports.JSONRPCErrorCode={}));exports.createJSONRPCErrorResponse=function(id,code,message,data){return{jsonrpc:exports.JSONRPC,id,error:createJSONRPCError(code,message,data)}};exports.createJSONRPCSuccessResponse=function(id,result){return{jsonrpc:exports.JSONRPC,id,result:null!=result?result:null}};exports.createJSONRPCRequest=function(id,method,params){return{jsonrpc:exports.JSONRPC,id,method,params}};exports.createJSONRPCNotification=function(method,params){return{jsonrpc:exports.JSONRPC,method,params}}},"./node_modules/json-rpc-2.0/dist/server-and-client.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";var console=__webpack_require__("./node_modules/console-browserify/index.js"),__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function step(op){if(f)throw new TypeError("Generator is already executing.");for(;g&&(g=0,op[0]&&(_=0)),_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=_.trys,(t=t.length>0&&t[t.length-1])||6!==op[0]&&2!==op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.JSONRPCServerAndClient=void 0;var models_1=__webpack_require__("./node_modules/json-rpc-2.0/dist/models.js"),JSONRPCServerAndClient=function(){function JSONRPCServerAndClient(server,client,options){var _a;void 0===options&&(options={}),this.server=server,this.client=client,this.errorListener=null!==(_a=options.errorListener)&&void 0!==_a?_a:console.warn}return JSONRPCServerAndClient.prototype.applyServerMiddleware=function(){for(var _a,middlewares=[],_i=0;_i<arguments.length;_i++)middlewares[_i]=arguments[_i];(_a=this.server).applyMiddleware.apply(_a,middlewares)},JSONRPCServerAndClient.prototype.hasMethod=function(name){return this.server.hasMethod(name)},JSONRPCServerAndClient.prototype.addMethod=function(name,method){this.server.addMethod(name,method)},JSONRPCServerAndClient.prototype.addMethodAdvanced=function(name,method){this.server.addMethodAdvanced(name,method)},JSONRPCServerAndClient.prototype.removeMethod=function(name){this.server.removeMethod(name)},JSONRPCServerAndClient.prototype.timeout=function(delay){return this.client.timeout(delay)},JSONRPCServerAndClient.prototype.request=function(method,params,clientParams){return this.client.request(method,params,clientParams)},JSONRPCServerAndClient.prototype.requestAdvanced=function(jsonRPCRequest,clientParams){return this.client.requestAdvanced(jsonRPCRequest,clientParams)},JSONRPCServerAndClient.prototype.notify=function(method,params,clientParams){this.client.notify(method,params,clientParams)},JSONRPCServerAndClient.prototype.rejectAllPendingRequests=function(message){this.client.rejectAllPendingRequests(message)},JSONRPCServerAndClient.prototype.receiveAndSend=function(payload,serverParams,clientParams){return __awaiter(this,void 0,void 0,function(){var response,message;return __generator(this,function(_a){switch(_a.label){case 0:return(0,models_1.isJSONRPCResponse)(payload)||(0,models_1.isJSONRPCResponses)(payload)?(this.client.receive(payload),[3,4]):[3,1];case 1:return(0,models_1.isJSONRPCRequest)(payload)||(0,models_1.isJSONRPCRequests)(payload)?[4,this.server.receive(payload,serverParams)]:[3,3];case 2:return(response=_a.sent())?[2,this.client.send(response,clientParams)]:[3,4];case 3:return message="Received an invalid JSON-RPC message",this.errorListener(message,payload),[2,Promise.reject(new Error(message))];case 4:return[2]}})})},JSONRPCServerAndClient}();exports.JSONRPCServerAndClient=JSONRPCServerAndClient},"./node_modules/json-rpc-2.0/dist/server.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";var console=__webpack_require__("./node_modules/console-browserify/index.js"),__assign=this&&this.__assign||function(){return __assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},__assign.apply(this,arguments)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function step(op){if(f)throw new TypeError("Generator is already executing.");for(;g&&(g=0,op[0]&&(_=0)),_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=_.trys,(t=t.length>0&&t[t.length-1])||6!==op[0]&&2!==op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}},__spreadArray=this&&this.__spreadArray||function(to,from,pack){if(pack||2===arguments.length)for(var ar,i=0,l=from.length;i<l;i++)!ar&&i in from||(ar||(ar=Array.prototype.slice.call(from,0,i)),ar[i]=from[i]);return to.concat(ar||Array.prototype.slice.call(from))};Object.defineProperty(exports,"__esModule",{value:!0}),exports.JSONRPCServer=void 0;var models_1=__webpack_require__("./node_modules/json-rpc-2.0/dist/models.js"),internal_1=__webpack_require__("./node_modules/json-rpc-2.0/dist/internal.js"),createInvalidRequestResponse=function(request){return(0,models_1.createJSONRPCErrorResponse)((0,models_1.isJSONRPCID)(request.id)?request.id:null,models_1.JSONRPCErrorCode.InvalidRequest,"Invalid Request")},JSONRPCServer=function(){function JSONRPCServer(options){var _a;void 0===options&&(options={}),this.mapErrorToJSONRPCErrorResponse=defaultMapErrorToJSONRPCErrorResponse,this.nameToMethodDictionary={},this.middleware=null,this.errorListener=null!==(_a=options.errorListener)&&void 0!==_a?_a:console.warn}return JSONRPCServer.prototype.hasMethod=function(name){return!!this.nameToMethodDictionary[name]},JSONRPCServer.prototype.addMethod=function(name,method){this.addMethodAdvanced(name,this.toJSONRPCMethod(method))},JSONRPCServer.prototype.removeMethod=function(name){delete this.nameToMethodDictionary[name]},JSONRPCServer.prototype.toJSONRPCMethod=function(method){return function(request,serverParams){var response=method(request.params,serverParams);return Promise.resolve(response).then(function(result){return mapResultToJSONRPCResponse(request.id,result)})}},JSONRPCServer.prototype.addMethodAdvanced=function(name,method){var _a;this.nameToMethodDictionary=__assign(__assign({},this.nameToMethodDictionary),((_a={})[name]=method,_a))},JSONRPCServer.prototype.receiveJSON=function(json,serverParams){var request=this.tryParseRequestJSON(json);return request?this.receive(request,serverParams):Promise.resolve((0,models_1.createJSONRPCErrorResponse)(null,models_1.JSONRPCErrorCode.ParseError,"Parse error"))},JSONRPCServer.prototype.tryParseRequestJSON=function(json){try{return JSON.parse(json)}catch(_a){return null}},JSONRPCServer.prototype.receive=function(request,serverParams){return Array.isArray(request)?this.receiveMultiple(request,serverParams):this.receiveSingle(request,serverParams)},JSONRPCServer.prototype.receiveMultiple=function(requests,serverParams){return __awaiter(this,void 0,void 0,function(){var responses,_this=this;return __generator(this,function(_a){switch(_a.label){case 0:return[4,Promise.all(requests.map(function(request){return _this.receiveSingle(request,serverParams)}))];case 1:return 1===(responses=_a.sent().filter(isNonNull)).length?[2,responses[0]]:responses.length?[2,responses]:[2,null]}})})},JSONRPCServer.prototype.receiveSingle=function(request,serverParams){return __awaiter(this,void 0,void 0,function(){var method,response;return __generator(this,function(_a){switch(_a.label){case 0:return method=this.nameToMethodDictionary[request.method],(0,models_1.isJSONRPCRequest)(request)?[3,1]:[2,createInvalidRequestResponse(request)];case 1:return[4,this.callMethod(method,request,serverParams)];case 2:return response=_a.sent(),[2,mapResponse(request,response)]}})})},JSONRPCServer.prototype.applyMiddleware=function(){for(var middlewares=[],_i=0;_i<arguments.length;_i++)middlewares[_i]=arguments[_i];this.middleware?this.middleware=this.combineMiddlewares(__spreadArray([this.middleware],middlewares,!0)):this.middleware=this.combineMiddlewares(middlewares)},JSONRPCServer.prototype.combineMiddlewares=function(middlewares){return middlewares.length?middlewares.reduce(this.middlewareReducer):null},JSONRPCServer.prototype.middlewareReducer=function(prevMiddleware,nextMiddleware){return function(next,request,serverParams){return prevMiddleware(function(request,serverParams){return nextMiddleware(next,request,serverParams)},request,serverParams)}},JSONRPCServer.prototype.callMethod=function(method,request,serverParams){var _this=this,onError=function(error){return _this.errorListener('An unexpected error occurred while executing "'.concat(request.method,'" JSON-RPC method:'),error),Promise.resolve(_this.mapErrorToJSONRPCErrorResponseIfNecessary(request.id,error))};try{return(this.middleware||noopMiddleware)(function(request,serverParams){return method?method(request,serverParams):void 0!==request.id?Promise.resolve((id=request.id,(0,models_1.createJSONRPCErrorResponse)(id,models_1.JSONRPCErrorCode.MethodNotFound,"Method not found"))):Promise.resolve(null);var id},request,serverParams).then(void 0,onError)}catch(error){return onError(error)}},JSONRPCServer.prototype.mapErrorToJSONRPCErrorResponseIfNecessary=function(id,error){return void 0!==id?this.mapErrorToJSONRPCErrorResponse(id,error):null},JSONRPCServer}();exports.JSONRPCServer=JSONRPCServer;var isNonNull=function(value){return null!==value},noopMiddleware=function(next,request,serverParams){return next(request,serverParams)},mapResultToJSONRPCResponse=function(id,result){return void 0!==id?(0,models_1.createJSONRPCSuccessResponse)(id,result):null},defaultMapErrorToJSONRPCErrorResponse=function(id,error){var _a,data,message=null!==(_a=null==error?void 0:error.message)&&void 0!==_a?_a:"An unexpected error occurred",code=internal_1.DefaultErrorCode;return error instanceof models_1.JSONRPCErrorException&&(code=error.code,data=error.data),(0,models_1.createJSONRPCErrorResponse)(id,code,message,data)},mapResponse=function(request,response){return response||(void 0!==request.id?(0,models_1.createJSONRPCErrorResponse)(request.id,models_1.JSONRPCErrorCode.InternalError,"Internal error"):null)}},"./node_modules/lucide-react/dist/esm/icons/rotate-ccw.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>RotateCcw});const RotateCcw=(0,__webpack_require__("./node_modules/lucide-react/dist/esm/createLucideIcon.js").A)("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]])},"./node_modules/lucide-react/dist/esm/icons/triangle.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>Triangle});const Triangle=(0,__webpack_require__("./node_modules/lucide-react/dist/esm/createLucideIcon.js").A)("Triangle",[["path",{d:"M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"14u9p9"}]])},"./node_modules/next/head.js":(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__("./node_modules/next/dist/shared/lib/head.js")},"./node_modules/querystring-es3/decode.js":module=>{"use strict";function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}module.exports=function(qs,sep,eq,options){sep=sep||"&",eq=eq||"=";var obj={};if("string"!=typeof qs||0===qs.length)return obj;var regexp=/\+/g;qs=qs.split(sep);var maxKeys=1e3;options&&"number"==typeof options.maxKeys&&(maxKeys=options.maxKeys);var len=qs.length;maxKeys>0&&len>maxKeys&&(len=maxKeys);for(var i=0;i<len;++i){var kstr,vstr,k,v,x=qs[i].replace(regexp,"%20"),idx=x.indexOf(eq);idx>=0?(kstr=x.substr(0,idx),vstr=x.substr(idx+1)):(kstr=x,vstr=""),k=decodeURIComponent(kstr),v=decodeURIComponent(vstr),hasOwnProperty(obj,k)?isArray(obj[k])?obj[k].push(v):obj[k]=[obj[k],v]:obj[k]=v}return obj};var isArray=Array.isArray||function(xs){return"[object Array]"===Object.prototype.toString.call(xs)}},"./node_modules/querystring-es3/encode.js":module=>{"use strict";var stringifyPrimitive=function(v){switch(typeof v){case"string":return v;case"boolean":return v?"true":"false";case"number":return isFinite(v)?v:"";default:return""}};module.exports=function(obj,sep,eq,name){return sep=sep||"&",eq=eq||"=",null===obj&&(obj=void 0),"object"==typeof obj?map(objectKeys(obj),function(k){var ks=encodeURIComponent(stringifyPrimitive(k))+eq;return isArray(obj[k])?map(obj[k],function(v){return ks+encodeURIComponent(stringifyPrimitive(v))}).join(sep):ks+encodeURIComponent(stringifyPrimitive(obj[k]))}).join(sep):name?encodeURIComponent(stringifyPrimitive(name))+eq+encodeURIComponent(stringifyPrimitive(obj)):""};var isArray=Array.isArray||function(xs){return"[object Array]"===Object.prototype.toString.call(xs)};function map(xs,f){if(xs.map)return xs.map(f);for(var res=[],i=0;i<xs.length;i++)res.push(f(xs[i],i));return res}var objectKeys=Object.keys||function(obj){var res=[];for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&res.push(key);return res}},"./node_modules/querystring-es3/index.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";exports.parse=__webpack_require__("./node_modules/querystring-es3/decode.js"),__webpack_require__("./node_modules/querystring-es3/encode.js")},"./node_modules/react-error-boundary/dist/react-error-boundary.esm.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{tH:()=>ErrorBoundary});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js");const ErrorBoundaryContext=(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(null),initialState={didCatch:!1,error:null};class ErrorBoundary extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=initialState}static getDerivedStateFromError(error){return{didCatch:!0,error}}resetErrorBoundary(){const{error}=this.state;if(null!==error){for(var _this$props$onReset,_this$props,_len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];null===(_this$props$onReset=(_this$props=this.props).onReset)||void 0===_this$props$onReset||_this$props$onReset.call(_this$props,{args,reason:"imperative-api"}),this.setState(initialState)}}componentDidCatch(error,info){var _this$props$onError,_this$props2;null===(_this$props$onError=(_this$props2=this.props).onError)||void 0===_this$props$onError||_this$props$onError.call(_this$props2,error,info)}componentDidUpdate(prevProps,prevState){const{didCatch}=this.state,{resetKeys}=this.props;var _this$props$onReset2,_this$props3;didCatch&&null!==prevState.error&&function hasArrayChanged(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return a.length!==b.length||a.some((item,index)=>!Object.is(item,b[index]))}(prevProps.resetKeys,resetKeys)&&(null===(_this$props$onReset2=(_this$props3=this.props).onReset)||void 0===_this$props$onReset2||_this$props$onReset2.call(_this$props3,{next:resetKeys,prev:prevProps.resetKeys,reason:"keys"}),this.setState(initialState))}render(){const{children,fallbackRender,FallbackComponent,fallback}=this.props,{didCatch,error}=this.state;let childToRender=children;if(didCatch){const props={error,resetErrorBoundary:this.resetErrorBoundary};if("function"==typeof fallbackRender)childToRender=fallbackRender(props);else if(FallbackComponent)childToRender=(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(FallbackComponent,props);else{if(void 0===fallback)throw error;childToRender=fallback}}return(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(ErrorBoundaryContext.Provider,{value:{didCatch,error,resetErrorBoundary:this.resetErrorBoundary}},childToRender)}}},"./node_modules/socket.io-client/build/esm/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{io:()=>esm_lookup});var socket_io_parser_build_esm_namespaceObject={};__webpack_require__.r(socket_io_parser_build_esm_namespaceObject),__webpack_require__.d(socket_io_parser_build_esm_namespaceObject,{Decoder:()=>Decoder,Encoder:()=>Encoder,PacketType:()=>PacketType,protocol:()=>build_esm_protocol});const PACKET_TYPES=Object.create(null);PACKET_TYPES.open="0",PACKET_TYPES.close="1",PACKET_TYPES.ping="2",PACKET_TYPES.pong="3",PACKET_TYPES.message="4",PACKET_TYPES.upgrade="5",PACKET_TYPES.noop="6";const PACKET_TYPES_REVERSE=Object.create(null);Object.keys(PACKET_TYPES).forEach(key=>{PACKET_TYPES_REVERSE[PACKET_TYPES[key]]=key});const ERROR_PACKET={type:"error",data:"parser error"},withNativeBlob="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),withNativeArrayBuffer="function"==typeof ArrayBuffer,isView=obj=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(obj):obj&&obj.buffer instanceof ArrayBuffer,encodePacket=({type,data},supportsBinary,callback)=>withNativeBlob&&data instanceof Blob?supportsBinary?callback(data):encodeBlobAsBase64(data,callback):withNativeArrayBuffer&&(data instanceof ArrayBuffer||isView(data))?supportsBinary?callback(data):encodeBlobAsBase64(new Blob([data]),callback):callback(PACKET_TYPES[type]+(data||"")),encodeBlobAsBase64=(data,callback)=>{const fileReader=new FileReader;return fileReader.onload=function(){const content=fileReader.result.split(",")[1];callback("b"+(content||""))},fileReader.readAsDataURL(data)};function toArray(data){return data instanceof Uint8Array?data:data instanceof ArrayBuffer?new Uint8Array(data):new Uint8Array(data.buffer,data.byteOffset,data.byteLength)}let TEXT_ENCODER;const chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup="undefined"==typeof Uint8Array?[]:new Uint8Array(256);for(let i=0;i<64;i++)lookup[chars.charCodeAt(i)]=i;const decodePacket_browser_withNativeArrayBuffer="function"==typeof ArrayBuffer,decodePacket=(encodedPacket,binaryType)=>{if("string"!=typeof encodedPacket)return{type:"message",data:mapBinary(encodedPacket,binaryType)};const type=encodedPacket.charAt(0);if("b"===type)return{type:"message",data:decodeBase64Packet(encodedPacket.substring(1),binaryType)};return PACKET_TYPES_REVERSE[type]?encodedPacket.length>1?{type:PACKET_TYPES_REVERSE[type],data:encodedPacket.substring(1)}:{type:PACKET_TYPES_REVERSE[type]}:ERROR_PACKET},decodeBase64Packet=(data,binaryType)=>{if(decodePacket_browser_withNativeArrayBuffer){const decoded=(base64=>{let i,encoded1,encoded2,encoded3,encoded4,bufferLength=.75*base64.length,len=base64.length,p=0;"="===base64[base64.length-1]&&(bufferLength--,"="===base64[base64.length-2]&&bufferLength--);const arraybuffer=new ArrayBuffer(bufferLength),bytes=new Uint8Array(arraybuffer);for(i=0;i<len;i+=4)encoded1=lookup[base64.charCodeAt(i)],encoded2=lookup[base64.charCodeAt(i+1)],encoded3=lookup[base64.charCodeAt(i+2)],encoded4=lookup[base64.charCodeAt(i+3)],bytes[p++]=encoded1<<2|encoded2>>4,bytes[p++]=(15&encoded2)<<4|encoded3>>2,bytes[p++]=(3&encoded3)<<6|63&encoded4;return arraybuffer})(data);return mapBinary(decoded,binaryType)}return{base64:!0,data}},mapBinary=(data,binaryType)=>"blob"===binaryType?data instanceof Blob?data:new Blob([data]):data instanceof ArrayBuffer?data:data.buffer,SEPARATOR=String.fromCharCode(30);function createPacketEncoderStream(){return new TransformStream({transform(packet,controller){!function encodePacketToBinary(packet,callback){return withNativeBlob&&packet.data instanceof Blob?packet.data.arrayBuffer().then(toArray).then(callback):withNativeArrayBuffer&&(packet.data instanceof ArrayBuffer||isView(packet.data))?callback(toArray(packet.data)):void encodePacket(packet,!1,encoded=>{TEXT_ENCODER||(TEXT_ENCODER=new TextEncoder),callback(TEXT_ENCODER.encode(encoded))})}(packet,encodedPacket=>{const payloadLength=encodedPacket.length;let header;if(payloadLength<126)header=new Uint8Array(1),new DataView(header.buffer).setUint8(0,payloadLength);else if(payloadLength<65536){header=new Uint8Array(3);const view=new DataView(header.buffer);view.setUint8(0,126),view.setUint16(1,payloadLength)}else{header=new Uint8Array(9);const view=new DataView(header.buffer);view.setUint8(0,127),view.setBigUint64(1,BigInt(payloadLength))}packet.data&&"string"!=typeof packet.data&&(header[0]|=128),controller.enqueue(header),controller.enqueue(encodedPacket)})}})}let TEXT_DECODER;function totalLength(chunks){return chunks.reduce((acc,chunk)=>acc+chunk.length,0)}function concatChunks(chunks,size){if(chunks[0].length===size)return chunks.shift();const buffer=new Uint8Array(size);let j=0;for(let i=0;i<size;i++)buffer[i]=chunks[0][j++],j===chunks[0].length&&(chunks.shift(),j=0);return chunks.length&&j<chunks[0].length&&(chunks[0]=chunks[0].slice(j)),buffer}function Emitter(obj){if(obj)return function mixin(obj){for(var key in Emitter.prototype)obj[key]=Emitter.prototype[key];return obj}(obj)}Emitter.prototype.on=Emitter.prototype.addEventListener=function(event,fn){return this._callbacks=this._callbacks||{},(this._callbacks["$"+event]=this._callbacks["$"+event]||[]).push(fn),this},Emitter.prototype.once=function(event,fn){function on(){this.off(event,on),fn.apply(this,arguments)}return on.fn=fn,this.on(event,on),this},Emitter.prototype.off=Emitter.prototype.removeListener=Emitter.prototype.removeAllListeners=Emitter.prototype.removeEventListener=function(event,fn){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var cb,callbacks=this._callbacks["$"+event];if(!callbacks)return this;if(1==arguments.length)return delete this._callbacks["$"+event],this;for(var i=0;i<callbacks.length;i++)if((cb=callbacks[i])===fn||cb.fn===fn){callbacks.splice(i,1);break}return 0===callbacks.length&&delete this._callbacks["$"+event],this},Emitter.prototype.emit=function(event){this._callbacks=this._callbacks||{};for(var args=new Array(arguments.length-1),callbacks=this._callbacks["$"+event],i=1;i<arguments.length;i++)args[i-1]=arguments[i];if(callbacks){i=0;for(var len=(callbacks=callbacks.slice(0)).length;i<len;++i)callbacks[i].apply(this,args)}return this},Emitter.prototype.emitReserved=Emitter.prototype.emit,Emitter.prototype.listeners=function(event){return this._callbacks=this._callbacks||{},this._callbacks["$"+event]||[]},Emitter.prototype.hasListeners=function(event){return!!this.listeners(event).length};const nextTick="function"==typeof Promise&&"function"==typeof Promise.resolve?cb=>Promise.resolve().then(cb):(cb,setTimeoutFn)=>setTimeoutFn(cb,0),globalThisShim="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")();function pick(obj,...attr){return attr.reduce((acc,k)=>(obj.hasOwnProperty(k)&&(acc[k]=obj[k]),acc),{})}const NATIVE_SET_TIMEOUT=globalThisShim.setTimeout,NATIVE_CLEAR_TIMEOUT=globalThisShim.clearTimeout;function installTimerFunctions(obj,opts){opts.useNativeTimers?(obj.setTimeoutFn=NATIVE_SET_TIMEOUT.bind(globalThisShim),obj.clearTimeoutFn=NATIVE_CLEAR_TIMEOUT.bind(globalThisShim)):(obj.setTimeoutFn=globalThisShim.setTimeout.bind(globalThisShim),obj.clearTimeoutFn=globalThisShim.clearTimeout.bind(globalThisShim))}function byteLength(obj){return"string"==typeof obj?function utf8Length(str){let c=0,length=0;for(let i=0,l=str.length;i<l;i++)c=str.charCodeAt(i),c<128?length+=1:c<2048?length+=2:c<55296||c>=57344?length+=3:(i++,length+=4);return length}(obj):Math.ceil(1.33*(obj.byteLength||obj.size))}function randomString(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}class TransportError extends Error{constructor(reason,description,context){super(reason),this.description=description,this.context=context,this.type="TransportError"}}class Transport extends Emitter{constructor(opts){super(),this.writable=!1,installTimerFunctions(this,opts),this.opts=opts,this.query=opts.query,this.socket=opts.socket,this.supportsBinary=!opts.forceBase64}onError(reason,description,context){return super.emitReserved("error",new TransportError(reason,description,context)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(packets){"open"===this.readyState&&this.write(packets)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(data){const packet=decodePacket(data,this.socket.binaryType);this.onPacket(packet)}onPacket(packet){super.emitReserved("packet",packet)}onClose(details){this.readyState="closed",super.emitReserved("close",details)}pause(onPause){}createUri(schema,query={}){return schema+"://"+this._hostname()+this._port()+this.opts.path+this._query(query)}_hostname(){const hostname=this.opts.hostname;return-1===hostname.indexOf(":")?hostname:"["+hostname+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(query){const encodedQuery=function parseqs_encode(obj){let str="";for(let i in obj)obj.hasOwnProperty(i)&&(str.length&&(str+="&"),str+=encodeURIComponent(i)+"="+encodeURIComponent(obj[i]));return str}(query);return encodedQuery.length?"?"+encodedQuery:""}}class polling_Polling extends Transport{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(onPause){this.readyState="pausing";const pause=()=>{this.readyState="paused",onPause()};if(this._polling||!this.writable){let total=0;this._polling&&(total++,this.once("pollComplete",function(){--total||pause()})),this.writable||(total++,this.once("drain",function(){--total||pause()}))}else pause()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(data){((encodedPayload,binaryType)=>{const encodedPackets=encodedPayload.split(SEPARATOR),packets=[];for(let i=0;i<encodedPackets.length;i++){const decodedPacket=decodePacket(encodedPackets[i],binaryType);if(packets.push(decodedPacket),"error"===decodedPacket.type)break}return packets})(data,this.socket.binaryType).forEach(packet=>{if("opening"===this.readyState&&"open"===packet.type&&this.onOpen(),"close"===packet.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(packet)}),"closed"!==this.readyState&&(this._polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this._poll())}doClose(){const close=()=>{this.write([{type:"close"}])};"open"===this.readyState?close():this.once("open",close)}write(packets){this.writable=!1,((packets,callback)=>{const length=packets.length,encodedPackets=new Array(length);let count=0;packets.forEach((packet,i)=>{encodePacket(packet,!1,encodedPacket=>{encodedPackets[i]=encodedPacket,++count===length&&callback(encodedPackets.join(SEPARATOR))})})})(packets,data=>{this.doWrite(data,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const schema=this.opts.secure?"https":"http",query=this.query||{};return!1!==this.opts.timestampRequests&&(query[this.opts.timestampParam]=randomString()),this.supportsBinary||query.sid||(query.b64=1),this.createUri(schema,query)}}let value=!1;try{value="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(err){}const hasCORS=value;function empty(){}class BaseXHR extends polling_Polling{constructor(opts){if(super(opts),"undefined"!=typeof location){const isSSL="https:"===location.protocol;let port=location.port;port||(port=isSSL?"443":"80"),this.xd="undefined"!=typeof location&&opts.hostname!==location.hostname||port!==opts.port}}doWrite(data,fn){const req=this.request({method:"POST",data});req.on("success",fn),req.on("error",(xhrStatus,context)=>{this.onError("xhr post error",xhrStatus,context)})}doPoll(){const req=this.request();req.on("data",this.onData.bind(this)),req.on("error",(xhrStatus,context)=>{this.onError("xhr poll error",xhrStatus,context)}),this.pollXhr=req}}class Request extends Emitter{constructor(createRequest,uri,opts){super(),this.createRequest=createRequest,installTimerFunctions(this,opts),this._opts=opts,this._method=opts.method||"GET",this._uri=uri,this._data=void 0!==opts.data?opts.data:null,this._create()}_create(){var _a;const opts=pick(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");opts.xdomain=!!this._opts.xd;const xhr=this._xhr=this.createRequest(opts);try{xhr.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){xhr.setDisableHeaderCheck&&xhr.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&xhr.setRequestHeader(i,this._opts.extraHeaders[i])}}catch(e){}if("POST"===this._method)try{xhr.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}try{xhr.setRequestHeader("Accept","*/*")}catch(e){}null===(_a=this._opts.cookieJar)||void 0===_a||_a.addCookies(xhr),"withCredentials"in xhr&&(xhr.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(xhr.timeout=this._opts.requestTimeout),xhr.onreadystatechange=()=>{var _a;3===xhr.readyState&&(null===(_a=this._opts.cookieJar)||void 0===_a||_a.parseCookies(xhr.getResponseHeader("set-cookie"))),4===xhr.readyState&&(200===xhr.status||1223===xhr.status?this._onLoad():this.setTimeoutFn(()=>{this._onError("number"==typeof xhr.status?xhr.status:0)},0))},xhr.send(this._data)}catch(e){return void this.setTimeoutFn(()=>{this._onError(e)},0)}"undefined"!=typeof document&&(this._index=Request.requestsCount++,Request.requests[this._index]=this)}_onError(err){this.emitReserved("error",err,this._xhr),this._cleanup(!0)}_cleanup(fromError){if(void 0!==this._xhr&&null!==this._xhr){if(this._xhr.onreadystatechange=empty,fromError)try{this._xhr.abort()}catch(e){}"undefined"!=typeof document&&delete Request.requests[this._index],this._xhr=null}}_onLoad(){const data=this._xhr.responseText;null!==data&&(this.emitReserved("data",data),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}if(Request.requestsCount=0,Request.requests={},"undefined"!=typeof document)if("function"==typeof attachEvent)attachEvent("onunload",unloadHandler);else if("function"==typeof addEventListener){addEventListener("onpagehide"in globalThisShim?"pagehide":"unload",unloadHandler,!1)}function unloadHandler(){for(let i in Request.requests)Request.requests.hasOwnProperty(i)&&Request.requests[i].abort()}const hasXHR2=function(){const xhr=newRequest({xdomain:!1});return xhr&&null!==xhr.responseType}();function newRequest(opts){const xdomain=opts.xdomain;try{if("undefined"!=typeof XMLHttpRequest&&(!xdomain||hasCORS))return new XMLHttpRequest}catch(e){}if(!xdomain)try{return new(globalThisShim[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(e){}}const isReactNative="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class BaseWS extends Transport{get name(){return"websocket"}doOpen(){const uri=this.uri(),protocols=this.opts.protocols,opts=isReactNative?{}:pick(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(opts.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(uri,protocols,opts)}catch(err){return this.emitReserved("error",err)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=closeEvent=>this.onClose({description:"websocket connection closed",context:closeEvent}),this.ws.onmessage=ev=>this.onData(ev.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(packets){this.writable=!1;for(let i=0;i<packets.length;i++){const packet=packets[i],lastPacket=i===packets.length-1;encodePacket(packet,this.supportsBinary,data=>{try{this.doWrite(packet,data)}catch(e){}lastPacket&&nextTick(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){void 0!==this.ws&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const schema=this.opts.secure?"wss":"ws",query=this.query||{};return this.opts.timestampRequests&&(query[this.opts.timestampParam]=randomString()),this.supportsBinary||(query.b64=1),this.createUri(schema,query)}}const WebSocketCtor=globalThisShim.WebSocket||globalThisShim.MozWebSocket;const transports={websocket:class WS extends BaseWS{createSocket(uri,protocols,opts){return isReactNative?new WebSocketCtor(uri,protocols,opts):protocols?new WebSocketCtor(uri,protocols):new WebSocketCtor(uri)}doWrite(_packet,data){this.ws.send(data)}},webtransport:class WT extends Transport{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(err){return this.emitReserved("error",err)}this._transport.closed.then(()=>{this.onClose()}).catch(err=>{this.onError("webtransport error",err)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(stream=>{const decoderStream=function createPacketDecoderStream(maxPayload,binaryType){TEXT_DECODER||(TEXT_DECODER=new TextDecoder);const chunks=[];let state=0,expectedLength=-1,isBinary=!1;return new TransformStream({transform(chunk,controller){for(chunks.push(chunk);;){if(0===state){if(totalLength(chunks)<1)break;const header=concatChunks(chunks,1);isBinary=!(128&~header[0]),expectedLength=127&header[0],state=expectedLength<126?3:126===expectedLength?1:2}else if(1===state){if(totalLength(chunks)<2)break;const headerArray=concatChunks(chunks,2);expectedLength=new DataView(headerArray.buffer,headerArray.byteOffset,headerArray.length).getUint16(0),state=3}else if(2===state){if(totalLength(chunks)<8)break;const headerArray=concatChunks(chunks,8),view=new DataView(headerArray.buffer,headerArray.byteOffset,headerArray.length),n=view.getUint32(0);if(n>Math.pow(2,21)-1){controller.enqueue(ERROR_PACKET);break}expectedLength=n*Math.pow(2,32)+view.getUint32(4),state=3}else{if(totalLength(chunks)<expectedLength)break;const data=concatChunks(chunks,expectedLength);controller.enqueue(decodePacket(isBinary?data:TEXT_DECODER.decode(data),binaryType)),state=0}if(0===expectedLength||expectedLength>maxPayload){controller.enqueue(ERROR_PACKET);break}}}})}(Number.MAX_SAFE_INTEGER,this.socket.binaryType),reader=stream.readable.pipeThrough(decoderStream).getReader(),encoderStream=createPacketEncoderStream();encoderStream.readable.pipeTo(stream.writable),this._writer=encoderStream.writable.getWriter();const read=()=>{reader.read().then(({done,value})=>{done||(this.onPacket(value),read())}).catch(err=>{})};read();const packet={type:"open"};this.query.sid&&(packet.data=`{"sid":"${this.query.sid}"}`),this._writer.write(packet).then(()=>this.onOpen())})})}write(packets){this.writable=!1;for(let i=0;i<packets.length;i++){const packet=packets[i],lastPacket=i===packets.length-1;this._writer.write(packet).then(()=>{lastPacket&&nextTick(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var _a;null===(_a=this._transport)||void 0===_a||_a.close()}},polling:class XHR extends BaseXHR{constructor(opts){super(opts);const forceBase64=opts&&opts.forceBase64;this.supportsBinary=hasXHR2&&!forceBase64}request(opts={}){return Object.assign(opts,{xd:this.xd},this.opts),new Request(newRequest,this.uri(),opts)}}},re=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,parts=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function parse(str){if(str.length>8e3)throw"URI too long";const src=str,b=str.indexOf("["),e=str.indexOf("]");-1!=b&&-1!=e&&(str=str.substring(0,b)+str.substring(b,e).replace(/:/g,";")+str.substring(e,str.length));let m=re.exec(str||""),uri={},i=14;for(;i--;)uri[parts[i]]=m[i]||"";return-1!=b&&-1!=e&&(uri.source=src,uri.host=uri.host.substring(1,uri.host.length-1).replace(/;/g,":"),uri.authority=uri.authority.replace("[","").replace("]","").replace(/;/g,":"),uri.ipv6uri=!0),uri.pathNames=function pathNames(obj,path){const regx=/\/{2,9}/g,names=path.replace(regx,"/").split("/");"/"!=path.slice(0,1)&&0!==path.length||names.splice(0,1);"/"==path.slice(-1)&&names.splice(names.length-1,1);return names}(0,uri.path),uri.queryKey=function queryKey(uri,query){const data={};return query.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function($0,$1,$2){$1&&(data[$1]=$2)}),data}(0,uri.query),uri}const withEventListeners="function"==typeof addEventListener&&"function"==typeof removeEventListener,OFFLINE_EVENT_LISTENERS=[];withEventListeners&&addEventListener("offline",()=>{OFFLINE_EVENT_LISTENERS.forEach(listener=>listener())},!1);class SocketWithoutUpgrade extends Emitter{constructor(uri,opts){if(super(),this.binaryType="arraybuffer",this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,uri&&"object"==typeof uri&&(opts=uri,uri=null),uri){const parsedUri=parse(uri);opts.hostname=parsedUri.host,opts.secure="https"===parsedUri.protocol||"wss"===parsedUri.protocol,opts.port=parsedUri.port,parsedUri.query&&(opts.query=parsedUri.query)}else opts.host&&(opts.hostname=parse(opts.host).host);installTimerFunctions(this,opts),this.secure=null!=opts.secure?opts.secure:"undefined"!=typeof location&&"https:"===location.protocol,opts.hostname&&!opts.port&&(opts.port=this.secure?"443":"80"),this.hostname=opts.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=opts.port||("undefined"!=typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},opts.transports.forEach(t=>{const transportName=t.prototype.name;this.transports.push(transportName),this._transportsByName[transportName]=t}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},opts),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"==typeof this.opts.query&&(this.opts.query=function parseqs_decode(qs){let qry={},pairs=qs.split("&");for(let i=0,l=pairs.length;i<l;i++){let pair=pairs[i].split("=");qry[decodeURIComponent(pair[0])]=decodeURIComponent(pair[1])}return qry}(this.opts.query)),withEventListeners&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},OFFLINE_EVENT_LISTENERS.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(name){const query=Object.assign({},this.opts.query);query.EIO=4,query.transport=name,this.id&&(query.sid=this.id);const opts=Object.assign({},this.opts,{query,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[name]);return new this._transportsByName[name](opts)}_open(){if(0===this.transports.length)return void this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);const transportName=this.opts.rememberUpgrade&&SocketWithoutUpgrade.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket")?"websocket":this.transports[0];this.readyState="opening";const transport=this.createTransport(transportName);transport.open(),this.setTransport(transport)}setTransport(transport){this.transport&&this.transport.removeAllListeners(),this.transport=transport,transport.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",reason=>this._onClose("transport close",reason))}onOpen(){this.readyState="open",SocketWithoutUpgrade.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush()}_onPacket(packet){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",packet),this.emitReserved("heartbeat"),packet.type){case"open":this.onHandshake(JSON.parse(packet.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const err=new Error("server error");err.code=packet.data,this._onError(err);break;case"message":this.emitReserved("data",packet.data),this.emitReserved("message",packet.data)}}onHandshake(data){this.emitReserved("handshake",data),this.id=data.sid,this.transport.query.sid=data.sid,this._pingInterval=data.pingInterval,this._pingTimeout=data.pingTimeout,this._maxPayload=data.maxPayload,this.onOpen(),"closed"!==this.readyState&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const delay=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+delay,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},delay),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const packets=this._getWritablePackets();this.transport.send(packets),this._prevBufferLen=packets.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let payloadSize=1;for(let i=0;i<this.writeBuffer.length;i++){const data=this.writeBuffer[i].data;if(data&&(payloadSize+=byteLength(data)),i>0&&payloadSize>this._maxPayload)return this.writeBuffer.slice(0,i);payloadSize+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const hasExpired=Date.now()>this._pingTimeoutTime;return hasExpired&&(this._pingTimeoutTime=0,nextTick(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),hasExpired}write(msg,options,fn){return this._sendPacket("message",msg,options,fn),this}send(msg,options,fn){return this._sendPacket("message",msg,options,fn),this}_sendPacket(type,data,options,fn){if("function"==typeof data&&(fn=data,data=void 0),"function"==typeof options&&(fn=options,options=null),"closing"===this.readyState||"closed"===this.readyState)return;(options=options||{}).compress=!1!==options.compress;const packet={type,data,options};this.emitReserved("packetCreate",packet),this.writeBuffer.push(packet),fn&&this.once("flush",fn),this.flush()}close(){const close=()=>{this._onClose("forced close"),this.transport.close()},cleanupAndClose=()=>{this.off("upgrade",cleanupAndClose),this.off("upgradeError",cleanupAndClose),close()},waitForUpgrade=()=>{this.once("upgrade",cleanupAndClose),this.once("upgradeError",cleanupAndClose)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?waitForUpgrade():close()}):this.upgrading?waitForUpgrade():close()),this}_onError(err){if(SocketWithoutUpgrade.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&"opening"===this.readyState)return this.transports.shift(),this._open();this.emitReserved("error",err),this._onClose("transport error",err)}_onClose(reason,description){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),withEventListeners&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const i=OFFLINE_EVENT_LISTENERS.indexOf(this._offlineEventListener);-1!==i&&OFFLINE_EVENT_LISTENERS.splice(i,1)}this.readyState="closed",this.id=null,this.emitReserved("close",reason,description),this.writeBuffer=[],this._prevBufferLen=0}}}SocketWithoutUpgrade.protocol=4;class SocketWithUpgrade extends SocketWithoutUpgrade{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),"open"===this.readyState&&this.opts.upgrade)for(let i=0;i<this._upgrades.length;i++)this._probe(this._upgrades[i])}_probe(name){let transport=this.createTransport(name),failed=!1;SocketWithoutUpgrade.priorWebsocketSuccess=!1;const onTransportOpen=()=>{failed||(transport.send([{type:"ping",data:"probe"}]),transport.once("packet",msg=>{if(!failed)if("pong"===msg.type&&"probe"===msg.data){if(this.upgrading=!0,this.emitReserved("upgrading",transport),!transport)return;SocketWithoutUpgrade.priorWebsocketSuccess="websocket"===transport.name,this.transport.pause(()=>{failed||"closed"!==this.readyState&&(cleanup(),this.setTransport(transport),transport.send([{type:"upgrade"}]),this.emitReserved("upgrade",transport),transport=null,this.upgrading=!1,this.flush())})}else{const err=new Error("probe error");err.transport=transport.name,this.emitReserved("upgradeError",err)}}))};function freezeTransport(){failed||(failed=!0,cleanup(),transport.close(),transport=null)}const onerror=err=>{const error=new Error("probe error: "+err);error.transport=transport.name,freezeTransport(),this.emitReserved("upgradeError",error)};function onTransportClose(){onerror("transport closed")}function onclose(){onerror("socket closed")}function onupgrade(to){transport&&to.name!==transport.name&&freezeTransport()}const cleanup=()=>{transport.removeListener("open",onTransportOpen),transport.removeListener("error",onerror),transport.removeListener("close",onTransportClose),this.off("close",onclose),this.off("upgrading",onupgrade)};transport.once("open",onTransportOpen),transport.once("error",onerror),transport.once("close",onTransportClose),this.once("close",onclose),this.once("upgrading",onupgrade),-1!==this._upgrades.indexOf("webtransport")&&"webtransport"!==name?this.setTimeoutFn(()=>{failed||transport.open()},200):transport.open()}onHandshake(data){this._upgrades=this._filterUpgrades(data.upgrades),super.onHandshake(data)}_filterUpgrades(upgrades){const filteredUpgrades=[];for(let i=0;i<upgrades.length;i++)~this.transports.indexOf(upgrades[i])&&filteredUpgrades.push(upgrades[i]);return filteredUpgrades}}class Socket extends SocketWithUpgrade{constructor(uri,opts={}){const o="object"==typeof uri?uri:opts;(!o.transports||o.transports&&"string"==typeof o.transports[0])&&(o.transports=(o.transports||["polling","websocket","webtransport"]).map(transportName=>transports[transportName]).filter(t=>!!t)),super(uri,o)}}const is_binary_withNativeArrayBuffer="function"==typeof ArrayBuffer,is_binary_toString=Object.prototype.toString,is_binary_withNativeBlob="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===is_binary_toString.call(Blob),withNativeFile="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===is_binary_toString.call(File);function isBinary(obj){return is_binary_withNativeArrayBuffer&&(obj instanceof ArrayBuffer||(obj=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(obj):obj.buffer instanceof ArrayBuffer)(obj))||is_binary_withNativeBlob&&obj instanceof Blob||withNativeFile&&obj instanceof File}function hasBinary(obj,toJSON){if(!obj||"object"!=typeof obj)return!1;if(Array.isArray(obj)){for(let i=0,l=obj.length;i<l;i++)if(hasBinary(obj[i]))return!0;return!1}if(isBinary(obj))return!0;if(obj.toJSON&&"function"==typeof obj.toJSON&&1===arguments.length)return hasBinary(obj.toJSON(),!0);for(const key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)&&hasBinary(obj[key]))return!0;return!1}function deconstructPacket(packet){const buffers=[],packetData=packet.data,pack=packet;return pack.data=_deconstructPacket(packetData,buffers),pack.attachments=buffers.length,{packet:pack,buffers}}function _deconstructPacket(data,buffers){if(!data)return data;if(isBinary(data)){const placeholder={_placeholder:!0,num:buffers.length};return buffers.push(data),placeholder}if(Array.isArray(data)){const newData=new Array(data.length);for(let i=0;i<data.length;i++)newData[i]=_deconstructPacket(data[i],buffers);return newData}if("object"==typeof data&&!(data instanceof Date)){const newData={};for(const key in data)Object.prototype.hasOwnProperty.call(data,key)&&(newData[key]=_deconstructPacket(data[key],buffers));return newData}return data}function reconstructPacket(packet,buffers){return packet.data=_reconstructPacket(packet.data,buffers),delete packet.attachments,packet}function _reconstructPacket(data,buffers){if(!data)return data;if(data&&!0===data._placeholder){if("number"==typeof data.num&&data.num>=0&&data.num<buffers.length)return buffers[data.num];throw new Error("illegal attachments")}if(Array.isArray(data))for(let i=0;i<data.length;i++)data[i]=_reconstructPacket(data[i],buffers);else if("object"==typeof data)for(const key in data)Object.prototype.hasOwnProperty.call(data,key)&&(data[key]=_reconstructPacket(data[key],buffers));return data}const RESERVED_EVENTS=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],build_esm_protocol=5;var PacketType;!function(PacketType){PacketType[PacketType.CONNECT=0]="CONNECT",PacketType[PacketType.DISCONNECT=1]="DISCONNECT",PacketType[PacketType.EVENT=2]="EVENT",PacketType[PacketType.ACK=3]="ACK",PacketType[PacketType.CONNECT_ERROR=4]="CONNECT_ERROR",PacketType[PacketType.BINARY_EVENT=5]="BINARY_EVENT",PacketType[PacketType.BINARY_ACK=6]="BINARY_ACK"}(PacketType||(PacketType={}));class Encoder{constructor(replacer){this.replacer=replacer}encode(obj){return obj.type!==PacketType.EVENT&&obj.type!==PacketType.ACK||!hasBinary(obj)?[this.encodeAsString(obj)]:this.encodeAsBinary({type:obj.type===PacketType.EVENT?PacketType.BINARY_EVENT:PacketType.BINARY_ACK,nsp:obj.nsp,data:obj.data,id:obj.id})}encodeAsString(obj){let str=""+obj.type;return obj.type!==PacketType.BINARY_EVENT&&obj.type!==PacketType.BINARY_ACK||(str+=obj.attachments+"-"),obj.nsp&&"/"!==obj.nsp&&(str+=obj.nsp+","),null!=obj.id&&(str+=obj.id),null!=obj.data&&(str+=JSON.stringify(obj.data,this.replacer)),str}encodeAsBinary(obj){const deconstruction=deconstructPacket(obj),pack=this.encodeAsString(deconstruction.packet),buffers=deconstruction.buffers;return buffers.unshift(pack),buffers}}function isObject(value){return"[object Object]"===Object.prototype.toString.call(value)}class Decoder extends Emitter{constructor(reviver){super(),this.reviver=reviver}add(obj){let packet;if("string"==typeof obj){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");packet=this.decodeString(obj);const isBinaryEvent=packet.type===PacketType.BINARY_EVENT;isBinaryEvent||packet.type===PacketType.BINARY_ACK?(packet.type=isBinaryEvent?PacketType.EVENT:PacketType.ACK,this.reconstructor=new BinaryReconstructor(packet),0===packet.attachments&&super.emitReserved("decoded",packet)):super.emitReserved("decoded",packet)}else{if(!isBinary(obj)&&!obj.base64)throw new Error("Unknown type: "+obj);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");packet=this.reconstructor.takeBinaryData(obj),packet&&(this.reconstructor=null,super.emitReserved("decoded",packet))}}decodeString(str){let i=0;const p={type:Number(str.charAt(0))};if(void 0===PacketType[p.type])throw new Error("unknown packet type "+p.type);if(p.type===PacketType.BINARY_EVENT||p.type===PacketType.BINARY_ACK){const start=i+1;for(;"-"!==str.charAt(++i)&&i!=str.length;);const buf=str.substring(start,i);if(buf!=Number(buf)||"-"!==str.charAt(i))throw new Error("Illegal attachments");p.attachments=Number(buf)}if("/"===str.charAt(i+1)){const start=i+1;for(;++i;){if(","===str.charAt(i))break;if(i===str.length)break}p.nsp=str.substring(start,i)}else p.nsp="/";const next=str.charAt(i+1);if(""!==next&&Number(next)==next){const start=i+1;for(;++i;){const c=str.charAt(i);if(null==c||Number(c)!=c){--i;break}if(i===str.length)break}p.id=Number(str.substring(start,i+1))}if(str.charAt(++i)){const payload=this.tryParse(str.substr(i));if(!Decoder.isPayloadValid(p.type,payload))throw new Error("invalid payload");p.data=payload}return p}tryParse(str){try{return JSON.parse(str,this.reviver)}catch(e){return!1}}static isPayloadValid(type,payload){switch(type){case PacketType.CONNECT:return isObject(payload);case PacketType.DISCONNECT:return void 0===payload;case PacketType.CONNECT_ERROR:return"string"==typeof payload||isObject(payload);case PacketType.EVENT:case PacketType.BINARY_EVENT:return Array.isArray(payload)&&("number"==typeof payload[0]||"string"==typeof payload[0]&&-1===RESERVED_EVENTS.indexOf(payload[0]));case PacketType.ACK:case PacketType.BINARY_ACK:return Array.isArray(payload)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class BinaryReconstructor{constructor(packet){this.packet=packet,this.buffers=[],this.reconPack=packet}takeBinaryData(binData){if(this.buffers.push(binData),this.buffers.length===this.reconPack.attachments){const packet=reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),packet}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function on(obj,ev,fn){return obj.on(ev,fn),function subDestroy(){obj.off(ev,fn)}}const socket_RESERVED_EVENTS=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class socket_Socket extends Emitter{constructor(io,nsp,opts){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=io,this.nsp=nsp,opts&&opts.auth&&(this.auth=opts.auth),this._opts=Object.assign({},opts),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const io=this.io;this.subs=[on(io,"open",this.onopen.bind(this)),on(io,"packet",this.onpacket.bind(this)),on(io,"error",this.onerror.bind(this)),on(io,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...args){return args.unshift("message"),this.emit.apply(this,args),this}emit(ev,...args){var _a,_b,_c;if(socket_RESERVED_EVENTS.hasOwnProperty(ev))throw new Error('"'+ev.toString()+'" is a reserved event name');if(args.unshift(ev),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(args),this;const packet={type:PacketType.EVENT,data:args,options:{}};if(packet.options.compress=!1!==this.flags.compress,"function"==typeof args[args.length-1]){const id=this.ids++,ack=args.pop();this._registerAckCallback(id,ack),packet.id=id}const isTransportWritable=null===(_b=null===(_a=this.io.engine)||void 0===_a?void 0:_a.transport)||void 0===_b?void 0:_b.writable,isConnected=this.connected&&!(null===(_c=this.io.engine)||void 0===_c?void 0:_c._hasPingExpired());return this.flags.volatile&&!isTransportWritable||(isConnected?(this.notifyOutgoingListeners(packet),this.packet(packet)):this.sendBuffer.push(packet)),this.flags={},this}_registerAckCallback(id,ack){var _a;const timeout=null!==(_a=this.flags.timeout)&&void 0!==_a?_a:this._opts.ackTimeout;if(void 0===timeout)return void(this.acks[id]=ack);const timer=this.io.setTimeoutFn(()=>{delete this.acks[id];for(let i=0;i<this.sendBuffer.length;i++)this.sendBuffer[i].id===id&&this.sendBuffer.splice(i,1);ack.call(this,new Error("operation has timed out"))},timeout),fn=(...args)=>{this.io.clearTimeoutFn(timer),ack.apply(this,args)};fn.withError=!0,this.acks[id]=fn}emitWithAck(ev,...args){return new Promise((resolve,reject)=>{const fn=(arg1,arg2)=>arg1?reject(arg1):resolve(arg2);fn.withError=!0,args.push(fn),this.emit(ev,...args)})}_addToQueue(args){let ack;"function"==typeof args[args.length-1]&&(ack=args.pop());const packet={id:this._queueSeq++,tryCount:0,pending:!1,args,flags:Object.assign({fromQueue:!0},this.flags)};args.push((err,...responseArgs)=>{if(packet!==this._queue[0])return;return null!==err?packet.tryCount>this._opts.retries&&(this._queue.shift(),ack&&ack(err)):(this._queue.shift(),ack&&ack(null,...responseArgs)),packet.pending=!1,this._drainQueue()}),this._queue.push(packet),this._drainQueue()}_drainQueue(force=!1){if(!this.connected||0===this._queue.length)return;const packet=this._queue[0];packet.pending&&!force||(packet.pending=!0,packet.tryCount++,this.flags=packet.flags,this.emit.apply(this,packet.args))}packet(packet){packet.nsp=this.nsp,this.io._packet(packet)}onopen(){"function"==typeof this.auth?this.auth(data=>{this._sendConnectPacket(data)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(data){this.packet({type:PacketType.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},data):data})}onerror(err){this.connected||this.emitReserved("connect_error",err)}onclose(reason,description){this.connected=!1,delete this.id,this.emitReserved("disconnect",reason,description),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(id=>{if(!this.sendBuffer.some(packet=>String(packet.id)===id)){const ack=this.acks[id];delete this.acks[id],ack.withError&&ack.call(this,new Error("socket has been disconnected"))}})}onpacket(packet){if(packet.nsp===this.nsp)switch(packet.type){case PacketType.CONNECT:packet.data&&packet.data.sid?this.onconnect(packet.data.sid,packet.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case PacketType.EVENT:case PacketType.BINARY_EVENT:this.onevent(packet);break;case PacketType.ACK:case PacketType.BINARY_ACK:this.onack(packet);break;case PacketType.DISCONNECT:this.ondisconnect();break;case PacketType.CONNECT_ERROR:this.destroy();const err=new Error(packet.data.message);err.data=packet.data.data,this.emitReserved("connect_error",err)}}onevent(packet){const args=packet.data||[];null!=packet.id&&args.push(this.ack(packet.id)),this.connected?this.emitEvent(args):this.receiveBuffer.push(Object.freeze(args))}emitEvent(args){if(this._anyListeners&&this._anyListeners.length){const listeners=this._anyListeners.slice();for(const listener of listeners)listener.apply(this,args)}super.emit.apply(this,args),this._pid&&args.length&&"string"==typeof args[args.length-1]&&(this._lastOffset=args[args.length-1])}ack(id){const self=this;let sent=!1;return function(...args){sent||(sent=!0,self.packet({type:PacketType.ACK,id,data:args}))}}onack(packet){const ack=this.acks[packet.id];"function"==typeof ack&&(delete this.acks[packet.id],ack.withError&&packet.data.unshift(null),ack.apply(this,packet.data))}onconnect(id,pid){this.id=id,this.recovered=pid&&this._pid===pid,this._pid=pid,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(args=>this.emitEvent(args)),this.receiveBuffer=[],this.sendBuffer.forEach(packet=>{this.notifyOutgoingListeners(packet),this.packet(packet)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(subDestroy=>subDestroy()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:PacketType.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(compress){return this.flags.compress=compress,this}get volatile(){return this.flags.volatile=!0,this}timeout(timeout){return this.flags.timeout=timeout,this}onAny(listener){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(listener),this}prependAny(listener){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(listener),this}offAny(listener){if(!this._anyListeners)return this;if(listener){const listeners=this._anyListeners;for(let i=0;i<listeners.length;i++)if(listener===listeners[i])return listeners.splice(i,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(listener){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(listener),this}prependAnyOutgoing(listener){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(listener),this}offAnyOutgoing(listener){if(!this._anyOutgoingListeners)return this;if(listener){const listeners=this._anyOutgoingListeners;for(let i=0;i<listeners.length;i++)if(listener===listeners[i])return listeners.splice(i,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(packet){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const listeners=this._anyOutgoingListeners.slice();for(const listener of listeners)listener.apply(this,packet.data)}}}function Backoff(opts){opts=opts||{},this.ms=opts.min||100,this.max=opts.max||1e4,this.factor=opts.factor||2,this.jitter=opts.jitter>0&&opts.jitter<=1?opts.jitter:0,this.attempts=0}Backoff.prototype.duration=function(){var ms=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var rand=Math.random(),deviation=Math.floor(rand*this.jitter*ms);ms=1&Math.floor(10*rand)?ms+deviation:ms-deviation}return 0|Math.min(ms,this.max)},Backoff.prototype.reset=function(){this.attempts=0},Backoff.prototype.setMin=function(min){this.ms=min},Backoff.prototype.setMax=function(max){this.max=max},Backoff.prototype.setJitter=function(jitter){this.jitter=jitter};class Manager extends Emitter{constructor(uri,opts){var _a;super(),this.nsps={},this.subs=[],uri&&"object"==typeof uri&&(opts=uri,uri=void 0),(opts=opts||{}).path=opts.path||"/socket.io",this.opts=opts,installTimerFunctions(this,opts),this.reconnection(!1!==opts.reconnection),this.reconnectionAttempts(opts.reconnectionAttempts||1/0),this.reconnectionDelay(opts.reconnectionDelay||1e3),this.reconnectionDelayMax(opts.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(_a=opts.randomizationFactor)&&void 0!==_a?_a:.5),this.backoff=new Backoff({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==opts.timeout?2e4:opts.timeout),this._readyState="closed",this.uri=uri;const _parser=opts.parser||socket_io_parser_build_esm_namespaceObject;this.encoder=new _parser.Encoder,this.decoder=new _parser.Decoder,this._autoConnect=!1!==opts.autoConnect,this._autoConnect&&this.open()}reconnection(v){return arguments.length?(this._reconnection=!!v,v||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(v){return void 0===v?this._reconnectionAttempts:(this._reconnectionAttempts=v,this)}reconnectionDelay(v){var _a;return void 0===v?this._reconnectionDelay:(this._reconnectionDelay=v,null===(_a=this.backoff)||void 0===_a||_a.setMin(v),this)}randomizationFactor(v){var _a;return void 0===v?this._randomizationFactor:(this._randomizationFactor=v,null===(_a=this.backoff)||void 0===_a||_a.setJitter(v),this)}reconnectionDelayMax(v){var _a;return void 0===v?this._reconnectionDelayMax:(this._reconnectionDelayMax=v,null===(_a=this.backoff)||void 0===_a||_a.setMax(v),this)}timeout(v){return arguments.length?(this._timeout=v,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(fn){if(~this._readyState.indexOf("open"))return this;this.engine=new Socket(this.uri,this.opts);const socket=this.engine,self=this;this._readyState="opening",this.skipReconnect=!1;const openSubDestroy=on(socket,"open",function(){self.onopen(),fn&&fn()}),onError=err=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",err),fn?fn(err):this.maybeReconnectOnOpen()},errorSub=on(socket,"error",onError);if(!1!==this._timeout){const timeout=this._timeout,timer=this.setTimeoutFn(()=>{openSubDestroy(),onError(new Error("timeout")),socket.close()},timeout);this.opts.autoUnref&&timer.unref(),this.subs.push(()=>{this.clearTimeoutFn(timer)})}return this.subs.push(openSubDestroy),this.subs.push(errorSub),this}connect(fn){return this.open(fn)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const socket=this.engine;this.subs.push(on(socket,"ping",this.onping.bind(this)),on(socket,"data",this.ondata.bind(this)),on(socket,"error",this.onerror.bind(this)),on(socket,"close",this.onclose.bind(this)),on(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(data){try{this.decoder.add(data)}catch(e){this.onclose("parse error",e)}}ondecoded(packet){nextTick(()=>{this.emitReserved("packet",packet)},this.setTimeoutFn)}onerror(err){this.emitReserved("error",err)}socket(nsp,opts){let socket=this.nsps[nsp];return socket?this._autoConnect&&!socket.active&&socket.connect():(socket=new socket_Socket(this,nsp,opts),this.nsps[nsp]=socket),socket}_destroy(socket){const nsps=Object.keys(this.nsps);for(const nsp of nsps){if(this.nsps[nsp].active)return}this._close()}_packet(packet){const encodedPackets=this.encoder.encode(packet);for(let i=0;i<encodedPackets.length;i++)this.engine.write(encodedPackets[i],packet.options)}cleanup(){this.subs.forEach(subDestroy=>subDestroy()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(reason,description){var _a;this.cleanup(),null===(_a=this.engine)||void 0===_a||_a.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",reason,description),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const self=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const delay=this.backoff.duration();this._reconnecting=!0;const timer=this.setTimeoutFn(()=>{self.skipReconnect||(this.emitReserved("reconnect_attempt",self.backoff.attempts),self.skipReconnect||self.open(err=>{err?(self._reconnecting=!1,self.reconnect(),this.emitReserved("reconnect_error",err)):self.onreconnect()}))},delay);this.opts.autoUnref&&timer.unref(),this.subs.push(()=>{this.clearTimeoutFn(timer)})}}onreconnect(){const attempt=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",attempt)}}const cache={};function esm_lookup(uri,opts){"object"==typeof uri&&(opts=uri,uri=void 0);const parsed=function url(uri,path="",loc){let obj=uri;loc=loc||"undefined"!=typeof location&&location,null==uri&&(uri=loc.protocol+"//"+loc.host),"string"==typeof uri&&("/"===uri.charAt(0)&&(uri="/"===uri.charAt(1)?loc.protocol+uri:loc.host+uri),/^(https?|wss?):\/\//.test(uri)||(uri=void 0!==loc?loc.protocol+"//"+uri:"https://"+uri),obj=parse(uri)),obj.port||(/^(http|ws)$/.test(obj.protocol)?obj.port="80":/^(http|ws)s$/.test(obj.protocol)&&(obj.port="443")),obj.path=obj.path||"/";const host=-1!==obj.host.indexOf(":")?"["+obj.host+"]":obj.host;return obj.id=obj.protocol+"://"+host+":"+obj.port+path,obj.href=obj.protocol+"://"+host+(loc&&loc.port===obj.port?"":":"+obj.port),obj}(uri,(opts=opts||{}).path||"/socket.io"),source=parsed.source,id=parsed.id,path=parsed.path,sameNamespace=cache[id]&&path in cache[id].nsps;let io;return opts.forceNew||opts["force new connection"]||!1===opts.multiplex||sameNamespace?io=new Manager(source,opts):(cache[id]||(cache[id]=new Manager(source,opts)),io=cache[id]),parsed.query&&!opts.query&&(opts.query=parsed.queryKey),io.socket(parsed.path,opts)}Object.assign(esm_lookup,{Manager,Socket:socket_Socket,io:esm_lookup,connect:esm_lookup})}}]);
//# sourceMappingURL=4337.3dae8fe9.iframe.bundle.js.map