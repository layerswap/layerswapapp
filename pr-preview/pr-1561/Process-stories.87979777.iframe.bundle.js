"use strict";(self.webpackChunklayerswap=self.webpackChunklayerswap||[]).push([[2854],{"./components/Swap/Withdraw/messages/Message.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),_barrel_optimize_names_ChevronDown_lucide_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/lucide-react/dist/esm/icons/chevron-down.js"),_icons_FailIcon__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./components/icons/FailIcon.tsx"),_components_shadcn_accordion__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./components/shadcn/accordion.tsx");const WalletMessage=({header,details,status,showInModal})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"flex text-center space-x-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"relative -mt-0.5",children:"error"===status?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_icons_FailIcon__WEBPACK_IMPORTED_MODULE_2__.A,{className:"relative top-0 left-0 w-6 h-6 md:w-7 md:h-7"}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"absolute top-1 left-1 w-4 h-4 md:w-5 md:h-5 opacity-40 bg bg-primary rounded-full animate-ping"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"absolute top-2 left-2 w-2 h-2 md:w-3 md:h-3 opacity-40 bg bg-primary rounded-full animate-ping"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"relative top-0 left-0 w-6 h-6 md:w-7 md:h-7 scale-50 bg bg-primary rounded-full "})]})}),showInModal?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"text-left space-y-1 w-full max-w-2xl",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_shadcn_accordion__WEBPACK_IMPORTED_MODULE_3__.nD,{type:"single",collapsible:!0,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_components_shadcn_accordion__WEBPACK_IMPORTED_MODULE_3__.As,{value:"wallet-message",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_components_shadcn_accordion__WEBPACK_IMPORTED_MODULE_3__.$m,{className:"flex justify-between w-full items-center",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{className:"text-md font-semibold self-center text-primary-text",children:header}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_barrel_optimize_names_ChevronDown_lucide_react__WEBPACK_IMPORTED_MODULE_1__.A,{className:"h-4 w-4 shrink-0 text-primary-text transition-transform duration-200 data-[state=open]:rotate-180"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_shadcn_accordion__WEBPACK_IMPORTED_MODULE_3__.ub,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"text-left space-y-1",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{className:"text-sm text-secondary-text wrap-anywhere whitespace-pre-wrap",children:details})})})]})})}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"text-left space-y-1",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{className:"text-md font-semibold self-center text-primary-text",children:header}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{className:"text-sm text-secondary-text "+(details.length>200?"break-words":""),children:details})]})]}),__WEBPACK_DEFAULT_EXPORT__=WalletMessage;WalletMessage.__docgenInfo={description:"",methods:[],displayName:"WalletMessage",props:{header:{required:!0,tsType:{name:"string"},description:""},details:{required:!0,tsType:{name:"string"},description:""},status:{required:!0,tsType:{name:"union",raw:"'pending' | 'error'",elements:[{name:"literal",value:"'pending'"},{name:"literal",value:"'error'"}]},description:""},showInModal:{required:!1,tsType:{name:"boolean"},description:""}}}},"./stories/Process.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Cancelled:()=>Cancelled,Completed:()=>Completed,Expired:()=>Process_stories_Expired,Failed:()=>Process_stories_Failed,FailedInput:()=>FailedInput,FailedOutOfRangeAmount:()=>FailedOutOfRangeAmount,LsTransferInitiated:()=>LsTransferInitiated,LsTransferPending:()=>LsTransferPending,LsTransferPendingWithRefuel:()=>LsTransferPendingWithRefuel,OnlyRefuelCompleted:()=>OnlyRefuelCompleted,RefundCompleted:()=>RefundCompleted,RefundPending:()=>RefundPending,UserTransferDelayed:()=>UserTransferDelayed,UserTransferDetected:()=>UserTransferDetected,UserTransferInitiated:()=>UserTransferInitiated,UserTransferPendingInputCompleted:()=>UserTransferPendingInputCompleted,__namedExportsOrder:()=>__namedExportsOrder,default:()=>Process_stories});var jsx_runtime=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),layerSwapApiClient=__webpack_require__("./lib/apiClients/layerSwapApiClient.ts"),SwapStatus=__webpack_require__("./Models/SwapStatus.ts"),swap=__webpack_require__("./context/swap.tsx"),settings=__webpack_require__("./context/settings.tsx"),react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),LayerSwapAppSettings=__webpack_require__("./Models/LayerSwapAppSettings.ts"),Network=__webpack_require__("./Models/Network.ts");const swaps_swap={addressConfirmed:!1,codeRequested:!1,depositAddressIsFromAccount:!1,swapTransaction:void 0,withdrawType:void 0,swapResponse:{deposit_actions:[{type:"transfer",to_address:"0x5dA5C2a98e26FD28914b91212b1232D58eb9bbab",amount:373e-6,order:0,amount_in_base_units:"373000000000000",network:{deposit_methods:["Wallet","DepositAddress"],name:"ETHEREUM_SEPOLIA",display_name:"Ethereum Sepolia",logo:"https://devlslayerswapbridgesa.blob.core.windows.net/layerswap/networks/ethereum_sepolia.png",chain_id:"11155111",node_url:"https://eth-sepolia.blastapi.io/84acb0b4-99f6-4a3d-9f63-15d71d9875ef",type:Network.z1.EVM,transaction_explorer_template:"https://sepolia.etherscan.io/tx/{0}",account_explorer_template:"https://sepolia.etherscan.io/address/{0}",token:{symbol:"ETH",listing_date:"2023-12-27T16:46:50.617075+00:00",logo:"https://devlslayerswapbridgesa.blob.core.windows.net/layerswap/currencies/eth.png",contract:null,decimals:18,price_in_usd:3043.77,precision:6},metadata:{listing_date:"2023-12-27T16:46:50.617075+00:00"}},token:{symbol:"ETH",listing_date:"2023-12-27T16:46:50.617075+00:00",logo:"https://devlslayerswapbridgesa.blob.core.windows.net/layerswap/currencies/eth.png",contract:null,decimals:18,price_in_usd:3043.77,precision:6},fee_token:{symbol:"ETH",listing_date:"2023-12-27T16:46:50.617075+00:00",logo:"https://devlslayerswapbridgesa.blob.core.windows.net/layerswap/currencies/eth.png",contract:null,decimals:18,price_in_usd:3043.77,precision:6},call_data:"0x13e1",fee:18}],swap:{exchange_account_connected:!0,source_address:"0x5f4025Cb72997D971e101a8FEf19422e696b4162",id:"f9b0c0ca-3caa-483e-9bc2-36332b6972c1",created_date:"2024-04-16T14:41:35.725954+00:00",source_network:{name:"ETHEREUM_SEPOLIA",display_name:"Ethereum Sepolia",logo:"https://devlslayerswapbridgesa.blob.core.windows.net/layerswap/networks/ethereum_sepolia.png",chain_id:"11155111",node_url:"https://eth-sepolia.blastapi.io/84acb0b4-99f6-4a3d-9f63-15d71d9875ef",type:Network.z1.EVM,transaction_explorer_template:"https://sepolia.etherscan.io/tx/{0}",account_explorer_template:"https://sepolia.etherscan.io/address/{0}",token:{symbol:"ETH",listing_date:"2023-12-27T16:46:50.617075+00:00",logo:"https://devlslayerswapbridgesa.blob.core.windows.net/layerswap/currencies/eth.png",contract:null,decimals:18,price_in_usd:3043.77,precision:6},metadata:{listing_date:"2023-12-27T16:46:50.617075+00:00"},deposit_methods:[]},source_token:{symbol:"ETH",listing_date:"2023-12-27T16:46:50.617075+00:00",logo:"https://devlslayerswapbridgesa.blob.core.windows.net/layerswap/currencies/eth.png",contract:null,decimals:18,price_in_usd:3043.77,precision:6},source_exchange:void 0,destination_network:{name:"ARBITRUM_SEPOLIA",display_name:"Arbitrum One Sepolia",logo:"https://devlslayerswapbridgesa.blob.core.windows.net/layerswap/networks/arbitrum_sepolia.png",chain_id:"421614",node_url:"https://arbitrum-sepolia.blastapi.io/84acb0b4-99f6-4a3d-9f63-15d71d9875ef",type:Network.z1.EVM,transaction_explorer_template:"https://sepolia.arbiscan.io/tx/{0}",account_explorer_template:"https://sepolia.arbiscan.io/address/{0}",token:{symbol:"ETH",listing_date:"2023-12-27T16:46:50.617075+00:00",logo:"https://devlslayerswapbridgesa.blob.core.windows.net/layerswap/currencies/eth.png",contract:null,decimals:18,price_in_usd:3043.77,precision:6},metadata:{listing_date:"2023-12-27T16:46:50.617075+00:00",evm_oracle_contract:"0x420000000000000000000000000000000000000F"},deposit_methods:[]},destination_token:{symbol:"ETH",listing_date:"2023-12-27T16:46:50.617075+00:00",logo:"https://devlslayerswapbridgesa.blob.core.windows.net/layerswap/currencies/eth.png",contract:null,decimals:18,price_in_usd:3043.77,precision:6},requested_amount:373e-6,destination_address:"0x5f4025cb72997d971e101a8fef19422e696b4162",status:SwapStatus.e.UserTransferPending,use_deposit_address:!1,metadata:{sequence_number:5089,reference_id:"vmksv",app:""},transactions:[{from:"0x5f4025cb72997d971e101a8fef19422e696b4162",to:"0x5da5c2a98e26fd28914b91212b1232d58eb9bbab",timestamp:"2024-04-16T14:41:48+00:00",transaction_hash:"0xfa3f6a6c331a56c1bb4b8bde55d53ae75f26d2d17861951a56b78c125a138130",confirmations:3,max_confirmations:3,amount:373e-6,type:layerSwapApiClient.D_.Input,status:layerSwapApiClient.X8.Completed,created_date:"",usd_price:10,usd_value:10}]},quote:{receive_amount:329e-6,min_receive_amount:32571e-8,blockchain_fee:12e-6,service_fee:32e-6,avg_completion_time:"00:00:47.5186220",total_fee:44e-6,total_fee_in_usd:.13392588},refuel:void 0}};Network.z1.EVM,Network.z1.EVM,Network.z1.EVM,SwapStatus.e.Failed,layerSwapApiClient.D_.Input,layerSwapApiClient.X8.Completed,Network.z1.EVM,Network.z1.EVM,Network.z1.EVM,SwapStatus.e.Failed,layerSwapApiClient.D_.Input,layerSwapApiClient.X8.Failed,Network.z1.EVM,Network.z1.EVM,Network.z1.EVM,SwapStatus.e.Failed,layerSwapApiClient.D_.Input,layerSwapApiClient.X8.Failed,layerSwapApiClient.D_.Refuel,layerSwapApiClient.X8.Pending,Network.z1.EVM,Network.z1.EVM,Network.z1.EVM,SwapStatus.e.Failed,Network.z1.EVM,Network.z1.EVM,Network.z1.EVM,SwapStatus.e.Failed,Network.z1.EVM,Network.z1.EVM,Network.z1.EVM,SwapStatus.e.Failed;var Data_settings=__webpack_require__("./stories/Data/settings.ts"),initialValues=__webpack_require__("./stories/Data/initialValues.ts"),react_use_intercom_esm=__webpack_require__("./node_modules/react-use-intercom/dist/react-use-intercom.esm.js"),Theme=__webpack_require__("./Models/Theme.ts"),layout=__webpack_require__("./components/layout.tsx"),Index=__webpack_require__("./components/Widget/Index.tsx"),knownIds=__webpack_require__("./lib/knownIds.ts"),arrow_down=__webpack_require__("./node_modules/lucide-react/dist/esm/icons/arrow-down.js"),fuel=__webpack_require__("./node_modules/lucide-react/dist/esm/icons/fuel.js"),RoundDecimals=__webpack_require__("./components/utils/RoundDecimals.ts"),index=__webpack_require__("./node_modules/swr/dist/index/index.mjs"),context_query=__webpack_require__("./context/query.tsx"),ImageWithFallback=__webpack_require__("./components/Common/ImageWithFallback.tsx"),dist=__webpack_require__("./node_modules/@number-flow/react/dist/index.mjs"),clsx_m=__webpack_require__("./node_modules/clsx/dist/clsx.m.js"),PriceImpact=__webpack_require__("./components/Input/Amount/PriceImpact.tsx");const Summary=props=>{var _quote_quote_destination_token,_swapQuote_destination_token,_swapQuote_source_token;const{swap,quote,receiveAmount,quoteIsLoading}=props,{refuel,quote:swapQuote}=quote,{source_token:sourceCurrency,destination_token:destinationCurrency,source_network:from,destination_network:to,requested_amount:requestedAmount,destination_address:destinationAddress,source_exchange:sourceExchange}=swap,{hideFrom,hideTo,account,appName}=(0,context_query.ZA)(),layerswapApiClient=new layerSwapApiClient.Ay,{data:partnerData}=(0,index.Ay)(appName&&`/internal/apps?name=${appName}`,layerswapApiClient.fetcher),partner=null==partnerData?void 0:partnerData.data,source=hideFrom&&partner&&account?partner:from,destination=hideTo&&partner&&account?partner:to,requestedAmountInUsd=requestedAmount&&((null==sourceCurrency?void 0:sourceCurrency.price_in_usd)*requestedAmount).toFixed(2),receiveAmountInUsd=receiveAmount?((null==destinationCurrency?void 0:destinationCurrency.price_in_usd)*receiveAmount).toFixed(2):void 0,nativeCurrency=null==refuel?void 0:refuel.token,truncatedRefuelAmount=nativeCurrency&&refuel?(0,RoundDecimals.xz)(refuel.amount,null==nativeCurrency?void 0:nativeCurrency.precision):null,refuelAmountInUsd=nativeCurrency&&(((null==nativeCurrency?void 0:nativeCurrency.price_in_usd)||1)*(Number(truncatedRefuelAmount)||0)).toFixed(2);return(0,jsx_runtime.jsx)("div",{className:"bg-secondary-500 rounded-2xl px-3 py-4 w-full relative z-10 space-y-4",children:(0,jsx_runtime.jsxs)("div",{className:"font-normal flex flex-col w-full relative z-10 space-y-3",children:[(0,jsx_runtime.jsxs)("div",{className:"w-full grid grid-cols-10",children:[(0,jsx_runtime.jsx)("div",{className:"col-span-6",children:(0,jsx_runtime.jsx)(RouteTokenPair,{route:sourceExchange||source,token:sourceCurrency})}),(0,jsx_runtime.jsxs)("div",{className:"flex flex-col col-start-7 col-span-4 items-end",children:[requestedAmount&&(0,jsx_runtime.jsxs)("p",{className:"text-primary-text text-sm",children:[(0,RoundDecimals.xz)(requestedAmount,sourceCurrency.precision)," ",sourceCurrency.symbol]}),(0,jsx_runtime.jsx)("p",{className:"text-secondary-text text-sm flex justify-end",children:(0,jsx_runtime.jsx)(dist.Ay,{value:requestedAmountInUsd||0,format:{style:"currency",currency:"USD"},trend:0})})]})]}),(0,jsx_runtime.jsxs)("div",{className:"relative text-secondary-text",children:[(0,jsx_runtime.jsx)("hr",{className:"border border-secondary-400 w-full rounded-full"}),(0,jsx_runtime.jsx)(arrow_down.A,{className:"absolute left-1/2 -translate-x-1/2 top-[-10px] h-6 w-6 p-1 bg-secondary-400 rounded-md text-secondary-text"})]}),(0,jsx_runtime.jsxs)("div",{className:"w-full grid grid-cols-10",children:[(0,jsx_runtime.jsx)("div",{className:"col-span-6",children:(0,jsx_runtime.jsx)(RouteTokenPair,{route:destination,token:destinationCurrency})}),receiveAmount&&(0,jsx_runtime.jsxs)("div",{className:"flex flex-col justify-end items-end w-full col-start-7 col-span-4",children:[(0,jsx_runtime.jsx)("p",{className:(0,clsx_m.default)("text-primary-text text-sm text-end"),children:(0,jsx_runtime.jsx)(dist.Ay,{value:receiveAmount,suffix:` ${destinationCurrency.symbol}`,trend:0,format:{maximumFractionDigits:(null===(_quote_quote_destination_token=quote.quote.destination_token)||void 0===_quote_quote_destination_token?void 0:_quote_quote_destination_token.decimals)||2}})}),(0,jsx_runtime.jsxs)("p",{className:"text-secondary-text text-sm flex items-center gap-1",children:[(0,jsx_runtime.jsx)(PriceImpact.g,{className:"text-sm",bridgeFee:null==swapQuote?void 0:swapQuote.blockchain_fee,destinationTokenPriceUsd:null==swapQuote||null===(_swapQuote_destination_token=swapQuote.destination_token)||void 0===_swapQuote_destination_token?void 0:_swapQuote_destination_token.price_in_usd,receiveAmount:null==swapQuote?void 0:swapQuote.receive_amount,requestedAmount:null==swapQuote?void 0:swapQuote.requested_amount,serviceFee:null==swapQuote?void 0:swapQuote.service_fee,sourceTokenPriceUsd:null==swapQuote||null===(_swapQuote_source_token=swapQuote.source_token)||void 0===_swapQuote_source_token?void 0:_swapQuote_source_token.price_in_usd}),(0,jsx_runtime.jsx)(dist.Ay,{value:receiveAmountInUsd||0,format:{style:"currency",currency:"USD"},trend:0})]})]})]}),null!=!!refuel&&nativeCurrency?(0,jsx_runtime.jsxs)("div",{className:"flex items-center justify-between w-full ",children:[(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-3 text-sm",children:[(0,jsx_runtime.jsx)("span",{className:"relative z-10 flex h-8 w-8 items-center justify-center rounded-lg p-2 bg-primary/20",children:(0,jsx_runtime.jsx)(fuel.A,{className:"h-5 w-5 text-primary","aria-hidden":"true"})}),(0,jsx_runtime.jsx)("p",{children:"Refuel"})]}),(0,jsx_runtime.jsxs)("div",{className:"flex flex-col items-end",children:[(0,jsx_runtime.jsxs)("p",{className:"text-primary-text text-sm",children:[truncatedRefuelAmount," ",null==nativeCurrency?void 0:nativeCurrency.symbol]}),(0,jsx_runtime.jsxs)("p",{className:"text-secondary-text text-sm flex justify-end",children:["$",refuelAmountInUsd]})]})]}):(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{})]})})},RouteTokenPair=({route,token})=>(0,jsx_runtime.jsxs)("div",{className:"flex grow gap-4 text-left items-center md:text-base relative",children:[(0,jsx_runtime.jsxs)("div",{className:"inline-flex items-center relative shrink-0 mb-1.5",children:[(0,jsx_runtime.jsx)(ImageWithFallback.o,{src:token.logo,alt:"Token Logo",height:"28",width:"28",loading:"eager",fetchPriority:"high",className:"rounded-full object-contain"}),(0,jsx_runtime.jsx)(ImageWithFallback.o,{src:route.logo,alt:"Route Logo",height:"16",width:"16",loading:"eager",fetchPriority:"high",className:"absolute -right-1.5 -bottom-1.5 object-contain rounded-md border-1 border-secondary-300"})]}),(0,jsx_runtime.jsxs)("div",{className:"flex flex-col font-medium text-primary-text overflow-hidden",children:[(0,jsx_runtime.jsx)("span",{className:"leading-4 text-sm ",children:token.symbol}),(0,jsx_runtime.jsx)("div",{className:"flex items-center gap-1 leading-3 text-sm sm:text-base",children:(0,jsx_runtime.jsx)("p",{className:"text-secondary-text text-sm truncate whitespace-nowrap",children:route.display_name})})]})]}),Summary_Summary=Summary;Summary.__docgenInfo={description:"",methods:[],displayName:"Summary",props:{swap:{required:!0,tsType:{name:"signature",type:"object",raw:"{\n    source_network: Network,\n    source_token: Token,\n    source_exchange?: Exchange,\n    destination_network: Network,\n    destination_token: Token,\n    destination_address: string,\n    requested_amount: number,\n    use_deposit_address: boolean,\n\n}",signature:{properties:[{key:"source_network",value:{name:"Network",required:!0}},{key:"source_token",value:{name:"Token",required:!0}},{key:"source_exchange",value:{name:"Exchange",required:!1}},{key:"destination_network",value:{name:"Network",required:!0}},{key:"destination_token",value:{name:"Token",required:!0}},{key:"destination_address",value:{name:"string",required:!0}},{key:"requested_amount",value:{name:"number",required:!0}},{key:"use_deposit_address",value:{name:"boolean",required:!0}}]}},description:""},quote:{required:!0,tsType:{name:"signature",type:"object",raw:"{\n    quote: SwapQuote,\n    refuel?: Refuel,\n    reward?: QuoteReward\n}",signature:{properties:[{key:"quote",value:{name:"signature",type:"object",raw:"{\n    source_network?: Network,\n    source_token?: Token,\n    destination_network?: Network,\n    destination_token?: Token,\n    requested_amount?: number\n    receive_amount: number,\n    min_receive_amount: number,\n    fee_discount?: number\n    total_fee: number,\n    total_fee_in_usd: number,\n    blockchain_fee: number,\n    service_fee: number,\n    avg_completion_time: string,\n    refuel_in_source?: number,\n    slippage?: number,\n}",signature:{properties:[{key:"source_network",value:{name:"Network",required:!1}},{key:"source_token",value:{name:"Token",required:!1}},{key:"destination_network",value:{name:"Network",required:!1}},{key:"destination_token",value:{name:"Token",required:!1}},{key:"requested_amount",value:{name:"number",required:!1}},{key:"receive_amount",value:{name:"number",required:!0}},{key:"min_receive_amount",value:{name:"number",required:!0}},{key:"fee_discount",value:{name:"number",required:!1}},{key:"total_fee",value:{name:"number",required:!0}},{key:"total_fee_in_usd",value:{name:"number",required:!0}},{key:"blockchain_fee",value:{name:"number",required:!0}},{key:"service_fee",value:{name:"number",required:!0}},{key:"avg_completion_time",value:{name:"string",required:!0}},{key:"refuel_in_source",value:{name:"number",required:!1}},{key:"slippage",value:{name:"number",required:!1}}]},required:!0}},{key:"refuel",value:{name:"signature",type:"object",raw:"{\n    network: Network\n    token: Token,\n    amount: number,\n    amount_in_usd: number\n}",signature:{properties:[{key:"network",value:{name:"Network",required:!0}},{key:"token",value:{name:"Token",required:!0}},{key:"amount",value:{name:"number",required:!0}},{key:"amount_in_usd",value:{name:"number",required:!0}}]},required:!1}},{key:"reward",value:{name:"signature",type:"object",raw:'{\n    amount: number,\n    amount_in_usd: number,\n    token: Token,\n    network: Network,\n    campaign_type: "for_nft_holders" | "default";\n    nft_contract_address?: string;\n}',signature:{properties:[{key:"amount",value:{name:"number",required:!0}},{key:"amount_in_usd",value:{name:"number",required:!0}},{key:"token",value:{name:"Token",required:!0}},{key:"network",value:{name:"Network",required:!0}},{key:"campaign_type",value:{name:"union",raw:'"for_nft_holders" | "default"',elements:[{name:"literal",value:'"for_nft_holders"'},{name:"literal",value:'"default"'}],required:!0}},{key:"nft_contract_address",value:{name:"string",required:!1}}]},required:!1}}]}},description:""},sourceAccountAddress:{required:!0,tsType:{name:"string"},description:""},receiveAmount:{required:!1,tsType:{name:"number"},description:""},quoteIsLoading:{required:!0,tsType:{name:"boolean"},description:""}}};var ShortenAddress=__webpack_require__("./components/utils/ShortenAddress.tsx"),balanceAccounts=__webpack_require__("./context/balanceAccounts.tsx");const SwapSummary=()=>{var _swapDetails_transactions,_swapDetails_transactions1;const{hideFrom,account}=(0,context_query.ZA)(),{swapBasicData,swapDetails,quote,refuel,quoteIsLoading}=(0,swap.MJ)(),{source_network,destination_network,source_token,destination_token,source_exchange}=swapBasicData||{},selectedSourceAccount=(0,balanceAccounts.wz)("from",null==source_network?void 0:source_network.name);if(!(swapBasicData&&source_network&&source_token&&destination_token&&destination_network))return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{});const swapInputTransaction=null==swapDetails||null===(_swapDetails_transactions=swapDetails.transactions)||void 0===_swapDetails_transactions?void 0:_swapDetails_transactions.find(t=>t.type===layerSwapApiClient.D_.Input),swapOutputTransaction=null==swapDetails||null===(_swapDetails_transactions1=swapDetails.transactions)||void 0===_swapDetails_transactions1?void 0:_swapDetails_transactions1.find(t=>t.type===layerSwapApiClient.D_.Output);var _swapInputTransaction_amount;const requested_amount=(null!==(_swapInputTransaction_amount=null==swapInputTransaction?void 0:swapInputTransaction.amount)&&void 0!==_swapInputTransaction_amount?_swapInputTransaction_amount:swapBasicData.requested_amount)||void 0,receiveAmount=null==quote?void 0:quote.receive_amount;var _swapOutputTransaction_amount;const calculatedReceiveAmount=null!==(_swapOutputTransaction_amount=null==swapOutputTransaction?void 0:swapOutputTransaction.amount)&&void 0!==_swapOutputTransaction_amount?_swapOutputTransaction_amount:receiveAmount;let sourceAccountAddress="";sourceAccountAddress=hideFrom&&account?account:(null==swapInputTransaction?void 0:swapInputTransaction.from)?null==swapInputTransaction?void 0:swapInputTransaction.from:(null==selectedSourceAccount?void 0:selectedSourceAccount.address)?selectedSourceAccount.address:(null==source_network?void 0:source_network.name)===knownIds.A.Exchanges.Coinbase&&(null==swapDetails?void 0:swapDetails.exchange_account_connected)?(0,ShortenAddress.Ew)(null==swapDetails?void 0:swapDetails.exchange_account_name,10):source_exchange?"Exchange":"Network";const swapData={swap:{...swapBasicData,requested_amount},quote:{quote,refuel},sourceAccountAddress,receiveAmount:calculatedReceiveAmount};return(0,jsx_runtime.jsx)(Summary_Summary,{...swapData,quoteIsLoading})},Swap_Summary=SwapSummary;SwapSummary.__docgenInfo={description:"",methods:[],displayName:"SwapSummary"};const External=()=>(0,jsx_runtime.jsx)(Index.x.Content,{children:(0,jsx_runtime.jsxs)("div",{className:"w-full py-12 grid grid-flow-row",children:[(0,jsx_runtime.jsx)("div",{className:"md:text-3xl text-lg font-bold text-primary-text leading-6 text-center",children:"Withdrawal pending"}),(0,jsx_runtime.jsx)("div",{className:"flex place-content-center mt-20 mb-16 md:mb-8",children:(0,jsx_runtime.jsxs)("div",{className:"relative",children:[(0,jsx_runtime.jsx)("div",{className:"absolute top-1 left-1 w-10 h-10 opacity-40 bg bg-primary rounded-full animate-ping"}),(0,jsx_runtime.jsx)("div",{className:"absolute top-2 left-2 w-8 h-8 opacity-40 bg bg-primary rounded-full animate-ping"}),(0,jsx_runtime.jsx)("div",{className:"relative top-0 left-0 w-12 h-12 scale-75 bg bg-primary-800 rounded-full"})]})}),(0,jsx_runtime.jsx)("div",{className:"flex flex-col text-center place-content-center mt-1 text-lg font-lighter text-secondary-text",children:(0,jsx_runtime.jsx)("p",{className:"text-base font-medium space-y-6 text-secondary-text text-center",children:"The withdrawal has been initiated, please don't close this screen."})})]})}),Withdraw_External=External;External.__docgenInfo={description:"",methods:[],displayName:"External"};var accordion=__webpack_require__("./components/shadcn/accordion.tsx"),chevron_down=__webpack_require__("./node_modules/lucide-react/dist/esm/icons/chevron-down.js"),useWallet=__webpack_require__("./hooks/useWallet.ts"),AddressIcon=__webpack_require__("./components/AddressIcon.tsx"),validator=__webpack_require__("./lib/address/validator/index.ts"),formatter=__webpack_require__("./lib/address/formatter/index.ts"),AddressWithIcon=__webpack_require__("./components/Input/Address/AddressPicker/AddressWithIcon.tsx");__webpack_require__("./components/ResizablePanel.tsx");const AverageCompletionTime=({avgCompletionTime,className})=>{if(!avgCompletionTime)return;const time=null==avgCompletionTime?void 0:avgCompletionTime.split(":"),hours=Number(time[0]),minutes=Number(time[1]),seconds=Number(time[2]);return(0,jsx_runtime.jsxs)("p",{className,children:[(0,jsx_runtime.jsx)("span",{children:hours>0?`${hours.toFixed()} ${hours>1?"hours":"hour"}`:""})," ",(0,jsx_runtime.jsx)("span",{children:minutes>0?`${minutes.toFixed()} ${minutes>1?"minutes":"minute"}`:""})," ",(0,jsx_runtime.jsx)("span",{children:seconds>0&&0==minutes&&0==hours?`${seconds.toFixed()} secs`:""})]})},Common_AverageCompletionTime=AverageCompletionTime;AverageCompletionTime.__docgenInfo={description:"",methods:[],displayName:"AverageCompletionTime",props:{avgCompletionTime:{required:!0,tsType:{name:"union",raw:"string | undefined",elements:[{name:"string"},{name:"undefined"}]},description:""},className:{required:!1,tsType:{name:"string"},description:""}}};var axios=__webpack_require__("./node_modules/axios/index.js"),axios_default=__webpack_require__.n(axios),esm=__webpack_require__("./node_modules/bitcoinjs-lib/src/esm/index.js");const estimateFee=async(psbt,rpcClient,version)=>{const recommendedFee=await async function fetchRecommendedFee(version){const base="https://mempool.space"+("testnet"===version?"/testnet":""),{data}=await axios_default().get(`${base}/api/v1/fees/recommended`);return data}(version),satsPerVbyte=recommendedFee.minimumFee;return function calculateFee(numInputs,numOutputs,feePerByte){return(148*numInputs+34*numOutputs+10)*feePerByte}(psbt.txInputs.length,psbt.txOutputs.length,satsPerVbyte)};var secp256k1_dist=__webpack_require__("./node_modules/@bitcoinerlab/secp256k1/dist/index.js"),Buffer=__webpack_require__("./node_modules/buffer/index.js").Buffer;(0,esm.f0)(secp256k1_dist);function selectUtxos(utxos,target){const sorted=utxos.slice().sort((a,b)=>a.value-b.value);let sum=0n;const selected=[];for(const u of sorted)if(selected.push(u),sum+=BigInt(u.value),sum>=target)break;if(sum<target)throw new Error(`Insufficient funds: need ${target} sats, have only ${sum}`);return{selected,total:sum}}async function buildPsbt({amount,depositAddress,userAddress,memo,version,rpcClient}){const network="testnet"===version?esm.o8.cX:esm.o8.X5,utxos=await async function fetchUtxos(address,version){const base="https://mempool.space"+("testnet"===version?"/testnet":""),{data}=await axios_default().get(`${base}/api/address/${address}/utxo`);return data}(userAddress,version),rawTxMap=await async function fetchAllRawTxs(utxos,version){const base=`https://mempool.space${"testnet"===version?"/testnet":""}/api/tx/`,pairs=await Promise.all(utxos.map(u=>axios_default().get(`${base}${u.txid}/hex`).then(res=>[u.txid,esm.ZX.fromHex(res.data)])));return Object.fromEntries(pairs)}(utxos,version),data=Buffer.from(memo||"","utf8");if(data.length>80)throw new Error("Memo too long; max 80 bytes");let psbt,totalSelected,error,fee=0n;try{do{const target=BigInt(amount)+fee,{selected,total}=selectUtxos(utxos,target);totalSelected=total,psbt=new esm.iL({network});for(const u of selected){const out=rawTxMap[u.txid].outs[u.vout];psbt.addInput({hash:u.txid,index:u.vout,witnessUtxo:{script:out.script,value:out.value}})}psbt.addOutput({address:depositAddress,value:BigInt(amount)}),psbt.addOutput({script:esm.K$.compile([esm.Ez.OP_RETURN,data]),value:0n}),fee=BigInt((await estimateFee(psbt,0,version)).toFixed())}while(totalSelected<BigInt(amount)+fee);const change=totalSelected-BigInt(amount)-fee;change>0n&&psbt.addOutput({address:userAddress,value:change})}catch(e){error=e}return{psbt,utxos,fee,error}}var formatAmount=__webpack_require__("./lib/formatAmount.ts");class JsonRpcClient{async call(method,params){const request={jsonrpc:"2.0",method,params,id:this.nextId++},res=await fetch(this.url,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(request)}),response=await res.json();if(response.error)throw new Error(`RPC Error ${response.error.code}: ${response.error.message}`);if(!res.ok)throw new Error(`Network error: ${res.status} ${res.statusText}`);return response.result}constructor(url){this.nextId=1,this.url=url}}var console=__webpack_require__("./node_modules/console-browserify/index.js");class BitcoinGasProvider{supportsNetwork(network){return knownIds.A.Networks.BitcoinMainnet.includes(network.name)||knownIds.A.Networks.BitcoinTestnet.includes(network.name)}async getGas({address,network,recipientAddress,amount}){if(!(null==network?void 0:network.token))throw new Error("No native token provided");if(!address)throw new Error("No address provided");if(!amount)throw new Error("No amount provided");const version=knownIds.A.Networks.BitcoinMainnet.includes(network.name)?"mainnet":"testnet";recipientAddress="testnet"==version?"tb1q5dc7f552h57tfepls66tgkta8wwjpha3ktw45s":"bc1plxa9q77gz9r33g8pd4c2ygzezchjffuedtzdrkclyceseyw8v80qasmquf";const rpcClient=new JsonRpcClient(network.node_url),amountInSatoshi=Math.floor(1e8*amount),hexMemo=Number("69420").toString(16);try{const{fee}=await buildPsbt({userAddress:address,depositAddress:recipientAddress,version,memo:hexMemo,amount:amountInSatoshi,rpcClient});return(0,formatAmount.A)(fee,network.token.decimals)}catch(e){console.log(e)}}}var encodeFunctionData=__webpack_require__("./node_modules/viem/_esm/utils/abi/encodeFunctionData.js"),createPublicClient=__webpack_require__("./node_modules/viem/_esm/clients/createPublicClient.js"),http=__webpack_require__("./node_modules/viem/_esm/clients/transports/http.js"),serializeTransaction=__webpack_require__("./node_modules/viem/_esm/utils/transaction/serializeTransaction.js"),abis=__webpack_require__("./node_modules/viem/_esm/constants/abis.js"),publicL2=__webpack_require__("./node_modules/viem/_esm/op-stack/decorators/publicL2.js"),resolveChain=__webpack_require__("./lib/resolveChain.ts"),dist_module=__webpack_require__("./node_modules/posthog-js/dist/module.js"),evmGasProvider_console=__webpack_require__("./node_modules/console-browserify/index.js");class EVMGasProvider{supportsNetwork(network){return network.type===Network.z1.EVM&&!!network.token}constructor(){this.getGas=async({address,network,token,recipientAddress="0x2fc617e933a52713247ce25730f6695920b3befe"})=>{const chainId=Number(null==network?void 0:network.chain_id);if(!(network&&address&&chainId&&recipientAddress&&network.token))return;const contract_address=token.contract;try{var _network_metadata;const{createPublicClient,http}=await __webpack_require__.e(7496).then(__webpack_require__.bind(__webpack_require__,"./node_modules/viem/_esm/index.js")),publicClient=createPublicClient({chain:(0,(await Promise.resolve().then(__webpack_require__.bind(__webpack_require__,"./lib/resolveChain.ts"))).default)(network),transport:http()}),gasProvider=new((null==network||null===(_network_metadata=network.metadata)||void 0===_network_metadata?void 0:_network_metadata.evm_oracle_contract)?getOptimismGas:getEthereumGas)({publicClient,chainId,contract_address,account:address,from:network,currency:token,destination:recipientAddress,nativeToken:network.token}),gas=await gasProvider.resolveGas();if(gas)return{gas,token:network.token}}catch(e){evmGasProvider_console.log(e)}}}}class getEVMGas{async resolveFeeData(){let gasPrice=await this.getGasPrice(),feesPerGas=await this.estimateFeesPerGas(),maxPriorityFeePerGas=null==feesPerGas?void 0:feesPerGas.maxPriorityFeePerGas;return maxPriorityFeePerGas||(maxPriorityFeePerGas=await this.estimateMaxPriorityFeePerGas()),{gasPrice,maxFeePerGas:null==feesPerGas?void 0:feesPerGas.maxFeePerGas,maxPriorityFeePerGas}}async getGasPrice(){try{return await this.publicClient.getGasPrice()}catch(e){const error=new Error(e);error.name="GasPriceError",error.cause=e,dist_module.Ay.capture("$exception",{name:error.name,message:error.message,stack:error.stack,cause:error.cause,where:"getGasPrice",severity:"error"})}}async estimateFeesPerGas(){try{return await this.publicClient.estimateFeesPerGas()}catch(e){const error=new Error(e);error.name="FeesPerGasError",error.cause=e,dist_module.Ay.capture("$exception",{name:error.name,message:error.message,stack:error.stack,cause:error.cause,where:"feesPerGasError",severity:"error"})}}async estimateMaxPriorityFeePerGas(){try{return await this.publicClient.estimateMaxPriorityFeePerGas()}catch(e){const error=new Error(e);error.name="MaxPriorityFeePerGasError",error.cause=e,dist_module.Ay.capture("$exception",{name:error.name,message:error.message,stack:error.stack,cause:error.cause,where:"maxPriorityFeePerGasError",severity:"error"})}}async estimateNativeGasLimit(){const to=this.destination;return await this.publicClient.estimateGas({account:this.account,to,data:this.constructSweeplessTxData()})}async estimateERC20GasLimit(){let encodedData=(0,encodeFunctionData.p)({abi:abis.xw,functionName:"transfer",args:[this.destination,BigInt(1e3)]});encodedData&&(encodedData=this.constructSweeplessTxData(encodedData));return await this.publicClient.estimateGas({data:encodedData,to:this.contract_address,account:this.account})}constructor({publicClient,chainId,contract_address,account,from,currency,destination,nativeToken}){this.constructSweeplessTxData=(txData="0x")=>{const hexed_sequence_number=99999999..toString(16);return`${txData}${(null==hexed_sequence_number?void 0:hexed_sequence_number.length)%2>0?`0${hexed_sequence_number}`:hexed_sequence_number}`},this.publicClient=publicClient,this.chainId=chainId,this.contract_address=contract_address,this.account=account,this.from=from,this.currency=currency,this.destination=destination,this.nativeToken=nativeToken}}class getEthereumGas extends getEVMGas{constructor(...args){super(...args),this.resolveGas=async()=>{var _this_nativeToken;const feeData=await this.resolveFeeData(),estimatedGasLimit=this.contract_address?await this.estimateERC20GasLimit():await this.estimateNativeGasLimit(),multiplier=feeData.maxFeePerGas||feeData.gasPrice;if(!multiplier)return;const totalGas=multiplier*estimatedGasLimit;return(0,formatAmount.A)(totalGas,null===(_this_nativeToken=this.nativeToken)||void 0===_this_nativeToken?void 0:_this_nativeToken.decimals)}}}class getOptimismGas extends getEVMGas{constructor(...args){super(...args),this.chain=(0,resolveChain.default)(this.from),this.client=(0,createPublicClient.l)({chain:this.chain,transport:(0,http.L)()}).extend((0,publicL2.l)()),this.resolveGas=async()=>{var _this_nativeToken;const feeData=await this.resolveFeeData(),estimatedGasLimit=this.contract_address?await this.estimateERC20GasLimit():await this.estimateNativeGasLimit(),multiplier=feeData.maxFeePerGas||feeData.gasPrice;if(!multiplier||!feeData.gasPrice)return;let totalGas=multiplier*estimatedGasLimit+await this.GetOpL1Fee(feeData.gasPrice);return(0,formatAmount.A)(totalGas,null===(_this_nativeToken=this.nativeToken)||void 0===_this_nativeToken?void 0:_this_nativeToken.decimals)},this.GetOpL1Fee=async gasPrice=>{var _this_from_metadata;const amount=BigInt(1e12);let serializedTransaction;if(this.contract_address){let encodedData=(0,encodeFunctionData.p)({abi:abis.xw,functionName:"transfer",args:[this.destination,amount]});encodedData&&(encodedData=this.constructSweeplessTxData(encodedData)),serializedTransaction=(0,serializeTransaction.b)({client:this.client,abi:abis.xw,functionName:"transfer",chainId:this.chainId,args:[this.destination,amount],to:this.contract_address,data:encodedData,type:"eip1559"})}else serializedTransaction=(0,serializeTransaction.b)({client:this.client,chainId:this.chainId,to:this.destination,data:this.constructSweeplessTxData(),type:"eip1559"});return await this.client.estimateL1Fee({data:serializedTransaction,to:this.destination,account:this.account,gasPriceOracleAddress:null===(_this_from_metadata=this.from.metadata)||void 0===_this_from_metadata?void 0:_this_from_metadata.evm_oracle_contract,gasPrice})}}}const FUELWATCHDOG_namespaceObject=JSON.parse('{"programType":"contract","specVersion":"1","encodingVersion":"1","concreteTypes":[{"type":"()","concreteTypeId":"2e38e77b22c314a449e91fafed92a43826ac6aa403ae6a8acb6cf58239fbaf5d"},{"type":"str","concreteTypeId":"8c25cb3686462e9a86d2883c5688a22fe738b0bbc85f458d2d2b5f3f667c6d5a"},{"type":"struct SwapID","concreteTypeId":"fe04d267f8e97aed4f214782e62e801a27fa2df26a2c7585be443083908a349d","metadataTypeId":1},{"type":"struct std::address::Address","concreteTypeId":"f597b637c3b0f588fb8d7086c6f4735caa3122b85f0423b82e489f9bb58e2308","metadataTypeId":2},{"type":"u256","concreteTypeId":"1b5759d94094368cfd443019e7ca5ec4074300e544e5ea993a979f5da627261e"}],"metadataTypes":[{"type":"b256","metadataTypeId":0},{"type":"struct SwapID","metadataTypeId":1,"components":[{"name":"num","typeId":"1b5759d94094368cfd443019e7ca5ec4074300e544e5ea993a979f5da627261e"}]},{"type":"struct std::address::Address","metadataTypeId":2,"components":[{"name":"bits","typeId":0}]}],"functions":[{"inputs":[{"name":"ID","concreteTypeId":"1b5759d94094368cfd443019e7ca5ec4074300e544e5ea993a979f5da627261e"},{"name":"recipient","concreteTypeId":"f597b637c3b0f588fb8d7086c6f4735caa3122b85f0423b82e489f9bb58e2308"}],"name":"watch","output":"2e38e77b22c314a449e91fafed92a43826ac6aa403ae6a8acb6cf58239fbaf5d","attributes":[{"name":"payable","arguments":[]},{"name":"storage","arguments":["read","write"]}]}],"loggedTypes":[{"logId":"10098701174489624218","concreteTypeId":"8c25cb3686462e9a86d2883c5688a22fe738b0bbc85f458d2d2b5f3f667c6d5a"},{"logId":"18303986129540053741","concreteTypeId":"fe04d267f8e97aed4f214782e62e801a27fa2df26a2c7585be443083908a349d"}],"messagesTypes":[],"configurables":[]}');var fuelGasProvider_console=__webpack_require__("./node_modules/console-browserify/index.js");class FuelGasProvider{supportsNetwork(network){return knownIds.A.Networks.FuelMainnet.includes(network.name)||knownIds.A.Networks.FuelTestnet.includes(network.name)}async getGas({address,network,token}){var _network_metadata;if(!(null===(_network_metadata=network.metadata)||void 0===_network_metadata?void 0:_network_metadata.watchdog_contract))throw new Error("Watchdog contract not found");if(!(null==network?void 0:network.token))throw new Error("No native token provided");try{var _network_metadata1;const{Provider,Contract,Address}=await Promise.resolve().then(__webpack_require__.bind(__webpack_require__,"./node_modules/fuels/dist/index.mjs")),provider=new Provider(null==network?void 0:network.node_url),contract=new Contract(null===(_network_metadata1=network.metadata)||void 0===_network_metadata1?void 0:_network_metadata1.watchdog_contract,FUELWATCHDOG_namespaceObject,provider),asset_id=await provider.getBaseAssetId(),assetId=Address.fromB256(token.contract||asset_id).toAssetId(),parsedAmount=.005*Math.pow(10,null==token?void 0:token.decimals),receiver={bits:Address.fromDynamicInput("0x0B1956a6737cb62fF5E66479F7770315fb5055BB75888b6C2Be43155F6dF1704").toB256()},scope=contract.functions.watch(42069,receiver).txParams({variableOutputs:1}).callParams({forward:[parsedAmount,assetId.bits]}),{maxFee}=await scope.getTransactionCost(),formatedGas=Number((2*(0,formatAmount.A)(Number(maxFee),network.token.decimals)).toFixed(network.token.decimals));if(formatedGas)return{gas:formatedGas,token:network.token}}catch(e){fuelGasProvider_console.log(e)}}}var defs=__webpack_require__("./lib/loopring/defs.ts"),LoopringAPI=__webpack_require__("./lib/loopring/LoopringAPI.ts"),loopringGasProvider_console=__webpack_require__("./node_modules/console-browserify/index.js");class LoopringGasProvider{supportsNetwork(network){return knownIds.A.Networks.LoopringMainnet.includes(network.name)||knownIds.A.Networks.LoopringGoerli.includes(network.name)}constructor(){this.getGas=async({address,token})=>{try{var _result_data_fees_find;const accInfo=(await axios_default().get(`${LoopringAPI.x.BaseApi}${defs.kF.ACCOUNT_ACTION}?owner=${address}`)).data,result=await axios_default().get(`${LoopringAPI.x.BaseApi}${defs.kF.GET_OFFCHAIN_FEE_AMT}?accountId=${accInfo.accountId}&requestType=3`),formatedGas=(0,formatAmount.A)(null===(_result_data_fees_find=result.data.fees.find(f=>(null==f?void 0:f.token)===token.symbol))||void 0===_result_data_fees_find?void 0:_result_data_fees_find.fee,Number(token.decimals));if(formatedGas)return{gas:formatedGas,token}}catch(e){loopringGasProvider_console.log(e)}}}}var solanaGasProvider_console=__webpack_require__("./node_modules/console-browserify/index.js");class SolanaGasProvider{supportsNetwork(network){return network.type===Network.z1.Solana}constructor(){this.getGas=async({address,network,token})=>{if(!address)return;const{PublicKey,Connection}=await Promise.resolve().then(__webpack_require__.bind(__webpack_require__,"./node_modules/@solana/web3.js/lib/index.browser.esm.js")),walletPublicKey=new PublicKey(address),connection=new Connection(`${network.node_url}`,"confirmed");if(walletPublicKey)try{var _network_token;const transactionBuilder=(await __webpack_require__.e(9782).then(__webpack_require__.bind(__webpack_require__,"./lib/wallets/solana/transactionBuilder.ts"))).default,transaction=await transactionBuilder(network,token,walletPublicKey);if(!transaction||!network.token)return;const message=transaction.compileMessage(),result=await connection.getFeeForMessage(message),formatedGas=(0,formatAmount.A)(result.value,null===(_network_token=network.token)||void 0===_network_token?void 0:_network_token.decimals);if(formatedGas)return{gas:formatedGas,token:network.token}}catch(e){solanaGasProvider_console.log(e)}}}}var starknet_dist=__webpack_require__("./node_modules/starknet/dist/index.mjs");class StarknetGasProvider{supportsNetwork(network){return knownIds.A.Networks.StarkNetMainnet.includes(network.name)||knownIds.A.Networks.StarkNetGoerli.includes(network.name)||knownIds.A.Networks.StarkNetSepolia.includes(network.name)}constructor(){this.getGas=async({network,token,wallet,amount})=>{var _wallet_metadata;const version="SEPOLIA"===network.name.split("_").pop()||"GOERLI"===network.name.split("_").pop()?"sandbox":"prod",recipient="prod"===version?"0x19252B1dEef483477C4D30cFcc3e5Ed9C82FAFEA44669c182A45A01b4FdB97a":"0x065a93bf9a33c87346f534a3b6c825e5c9e86a8e612cba683d0271aae5062d21",watchdogContract="prod"===version?"0x022993789c33e54e0d296fc266a9c9a2e9dcabe2e48941f5fa1bd5692ac4a8c4":"0x0423074c4bf903478daaa719bb3b1539d23af07db07101d263c78d75e5e6e0a3",starknetWalletAccount=null==wallet||null===(_wallet_metadata=wallet.metadata)||void 0===_wallet_metadata?void 0:_wallet_metadata.starknetAccount;if(!(token&&network.token&&token.contract&&starknetWalletAccount))return;const amt=BigInt(null!=amount?amount:1e5),transferCall={contractAddress:token.contract.toLowerCase(),entrypoint:"transfer",calldata:starknet_dist.fP.compile({recipient,amount:starknet_dist.rG.uint256(amt)})},watch={contractAddress:watchdogContract,entrypoint:"watch",calldata:["69420"]},resp=await starknetWalletAccount.estimateInvokeFee([transferCall,watch],{skipValidate:!0});if(!(null==resp?void 0:resp.suggestedMaxFee))throw new Error(`Couldn't get fee estimation for the transfer. Response: ${JSON.stringify(resp)}`);const feeInWei=resp.suggestedMaxFee.toString();return{gas:(0,formatAmount.A)(feeInWei,network.token.decimals),token:network.token}}}}var tronGasProvider_console=__webpack_require__("./node_modules/console-browserify/index.js");class TronGasProvider{supportsNetwork(network){return knownIds.A.Networks.TronMainnet.includes(network.name)}async getGas({address,network,token}){const{TronWeb}=await Promise.resolve().then(__webpack_require__.bind(__webpack_require__,"./node_modules/tronweb/lib/esm/index.js")),tronWeb=new TronWeb({fullNode:network.node_url,solidityNode:network.node_url});if(!token.contract)throw new Error("Not implemented for native asset");if(!network.token)throw new Error("Network token not found");try{var _network_token;const energyPriceParam=(await tronWeb.trx.getChainParameters()).find(p=>"getEnergyFee"===p.key),energyPrice=null==energyPriceParam?void 0:energyPriceParam.value;if(!energyPrice)throw new Error("Failed to estimate energy price");const energyUsage=(await tronWeb.transactionBuilder.triggerConstantContract(token.contract,"transfer(address,uint256)",{},[{type:"address",value:"TWRdG7FoGpksQjpKjqvw2TENPDGaoxUJ8a"},{type:"uint256",value:tronWeb.toBigNumber(.5*Math.pow(10,token.decimals)).toFixed()}],address)).energy_used;if(!energyUsage)throw new Error("Failed to estimate energy usage");const formatedGas=(0,formatAmount.A)(energyUsage*energyPrice,null===(_network_token=network.token)||void 0===_network_token?void 0:_network_token.decimals);if(formatedGas)return{gas:formatedGas,token:network.token}}catch(e){throw tronGasProvider_console.log(e),new Error(e.message)}}}var zkSyncBalanceProvider=__webpack_require__("./lib/balances/providers/zkSyncBalanceProvider.ts"),zkSyncGasProvider_console=__webpack_require__("./node_modules/console-browserify/index.js");class ZkSyncGasProvider{supportsNetwork(network){return knownIds.A.Networks.ZksyncMainnet.includes(network.name)}constructor(){this.getGas=async({address,network,token,recipientAddress="0x2fc617e933a52713247ce25730f6695920b3befe"})=>{const client=new zkSyncBalanceProvider.A;try{const result=await client.getTransferFee(network.node_url,recipientAddress,token.symbol),currencyDec=token.decimals,formatedGas=(0,formatAmount.A)(1.5*Number(result.totalFee),Number(currencyDec));if(formatedGas)return{gas:formatedGas,token}}catch(e){zkSyncGasProvider_console.log(e)}}}}class GasResolver{getGas({address,network,token,recipientAddress,amount,wallet}){const provider=this.providers.find(p=>p.supportsNetwork(network));if(provider)return provider.getGas({address,network,token,recipientAddress,wallet,amount})}constructor(){this.providers=[new BitcoinGasProvider,new StarknetGasProvider,new LoopringGasProvider,new EVMGasProvider,new FuelGasProvider,new SolanaGasProvider,new ZkSyncGasProvider,new TronGasProvider]}}const gases_useSWRGas=(address,network,token,amount,wallet)=>{const{data:gasData,error:gasError,isLoading}=(0,index.Ay)(network&&address?`/gases/${address}/${network.name}/${null==token?void 0:token.symbol}${amount?`/${amount}`:""}`:null,()=>{if(network&&token&&address)return(new GasResolver).getGas({address,network,token,amount:Number(amount),wallet})},{refreshInterval:6e4});return{gasData,isGasLoading:isLoading,gasError}},GasIcon=props=>(0,jsx_runtime.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",...props,children:(0,jsx_runtime.jsx)("path",{d:"M9.39648 0.666504C10.2731 0.666504 10.9844 1.33813 10.9844 2.16553V7.08447C11.3362 7.11435 11.7317 7.16663 12.0293 7.26025C12.3205 7.35186 12.6108 7.44466 12.8916 7.58643C13.1871 7.7357 13.4469 7.92506 13.7275 8.18994C14.5553 8.97135 14.7539 9.98256 14.7539 11.3413V14.8999C14.7541 15.2868 14.8882 15.5386 15.0166 15.6841C15.0835 15.7597 15.1483 15.8063 15.1914 15.8296C15.1936 15.8307 15.1963 15.8315 15.1982 15.8325C15.2855 15.8251 15.3985 15.798 15.4863 15.729C15.5615 15.6699 15.7459 15.4824 15.7461 14.8999V6.6167C14.7526 6.42554 14.0062 5.61192 14.0059 4.63721C14.0059 4.01813 14.0831 3.6712 14.3574 3.48486L13.9463 3.01904L13.8975 2.95752C13.6727 2.6429 13.7325 2.21263 14.0479 1.96436C14.3635 1.71631 14.823 1.73885 15.1104 2.00439L15.165 2.06006L17.1494 4.30713L17.1914 4.35986C17.2832 4.4847 17.3329 4.63364 17.333 4.78662V14.8999C17.3328 15.8143 17.0218 16.4705 16.502 16.8794C16.0117 17.2648 15.4566 17.3335 15.1504 17.3335C14.6302 17.3333 14.1297 17.0199 13.7969 16.6431C13.4296 16.2271 13.1672 15.6355 13.167 14.8999V11.3413C13.167 10.0789 12.9678 9.59163 12.6055 9.24951C12.4105 9.06547 12.2732 8.97369 12.1426 8.90771C11.9971 8.8343 11.83 8.77668 11.5264 8.68115C11.4124 8.64537 11.2179 8.6153 10.9844 8.59131V14.1499L11.0654 14.1538C11.4654 14.1922 11.7771 14.5113 11.7773 14.8989V16.3979C11.7768 16.8111 11.4222 17.1468 10.9844 17.147H1.45996L1.37891 17.1431C0.979136 17.1046 0.667496 16.7853 0.666992 16.3979V14.8989C0.667229 14.5114 0.978987 14.1923 1.37891 14.1538L1.45996 14.1499V2.16553C1.45996 1.33813 2.17121 0.666504 3.04785 0.666504H9.39648ZM3.84082 2.16455C3.40283 2.16479 3.04803 2.50017 3.04785 2.91357V5.90967C3.04785 6.32321 3.40272 6.65942 3.84082 6.65967H8.60352C9.04169 6.65951 9.39648 6.32327 9.39648 5.90967V2.91357C9.39631 2.50012 9.04158 2.16471 8.60352 2.16455H3.84082Z",fill:"currentColor"})}),icons_GasIcon=GasIcon;GasIcon.__docgenInfo={description:"",methods:[],displayName:"GasIcon"};const Clock=props=>(0,jsx_runtime.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",...props,children:(0,jsx_runtime.jsx)("path",{d:"M8.00066 8.34179e-05C6.41828 8.34179e-05 4.87143 0.469314 3.55573 1.34844C2.24003 2.22756 1.21457 3.47709 0.609017 4.93902C0.00346659 6.40095 -0.154973 8.00961 0.153734 9.56159C0.462441 11.1136 1.22443 12.5391 2.34334 13.6581C3.46225 14.777 4.88783 15.539 6.43981 15.8477C7.99179 16.1564 9.60045 15.9979 11.0624 15.3924C12.5243 14.7868 13.7738 13.7614 14.653 12.4457C15.5321 11.13 16.0013 9.58312 16.0013 8.00074C16.0061 6.94873 15.8025 5.90619 15.4021 4.93333C15.0017 3.96048 14.4126 3.07658 13.6687 2.33269C12.9248 1.5888 12.0409 0.999656 11.0681 0.59929C10.0952 0.198925 9.05267 -0.00473134 8.00066 8.34179e-05ZM12.2556 10.5464C12.1902 10.653 12.0996 10.7419 11.9918 10.8053C11.884 10.8687 11.7623 10.9047 11.6373 10.9101C11.5083 10.9084 11.3823 10.8706 11.2737 10.801L7.27333 8.40077V4.36408C7.27333 4.17118 7.34996 3.98618 7.48636 3.84978C7.62276 3.71337 7.80776 3.63675 8.00066 3.63675C8.19356 3.63675 8.37856 3.71337 8.51496 3.84978C8.65136 3.98618 8.72799 4.17118 8.72799 4.36408V7.60071L12.001 9.5645C12.0849 9.60958 12.1586 9.67151 12.2174 9.74643C12.2763 9.82134 12.319 9.90761 12.3429 9.99981C12.3668 10.092 12.3714 10.1882 12.3563 10.2822C12.3413 10.3763 12.307 10.4662 12.2556 10.5464Z",fill:"currentColor"})}),icons_Clock=Clock;Clock.__docgenInfo={description:"",methods:[],displayName:"Clock"};const rewardCup={src:"static/media/rewardCup.c68590b8.png",height:512,width:512,blurDataURL:"static/media/rewardCup.c68590b8.png"};var next_image=__webpack_require__("./node_modules/@storybook/nextjs/dist/images/next-image.mjs");const ExchangeGasIcon=props=>(0,jsx_runtime.jsx)("svg",{...props,width:"12",height:"17",viewBox:"0 0 12 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,jsx_runtime.jsx)("path",{d:"M10.3789 0.04998C10.4459 -0.0165622 10.5543 -0.0167575 10.6211 0.04998L11.9492 1.37713C11.9814 1.40928 12 1.45371 12 1.4992V15.5021C12 15.5476 11.9814 15.5911 11.9492 15.6232L10.6211 16.9504C10.5542 17.0172 10.4458 17.0171 10.3789 16.9504L9.12109 15.6945C9.05416 15.6276 8.94584 15.6276 8.87891 15.6945L7.62109 16.9504C7.55418 17.0172 7.44584 17.0172 7.37891 16.9504L6.12109 15.6945C6.05416 15.6276 5.94584 15.6276 5.87891 15.6945L4.62109 16.9504C4.55416 17.0172 4.44584 17.0172 4.37891 16.9504L3.12109 15.6945C3.05416 15.6276 2.94584 15.6276 2.87891 15.6945L1.62109 16.9504C1.55416 17.0172 1.44584 17.0172 1.37891 16.9504L0.0498047 15.6232C0.0178081 15.5911 4.67445e-05 15.5474 0 15.5021V1.4992C0 1.45371 0.0176244 1.40928 0.0498047 1.37713L1.37891 0.04998C1.4458 -0.0166458 1.55421 -0.0166738 1.62109 0.04998L2.87891 1.30682C2.94584 1.37357 3.0542 1.37363 3.12109 1.30682L4.37891 0.04998C4.44582 -0.016618 4.55423 -0.0167015 4.62109 0.04998L5.87891 1.30682C5.94585 1.37354 6.05421 1.37364 6.12109 1.30682L7.37891 0.04998C7.44584 -0.0165902 7.55425 -0.0167297 7.62109 0.04998L8.87891 1.30682C8.94585 1.3735 9.05422 1.37362 9.12109 1.30682L10.3789 0.04998ZM5.55469 3.00018V3.74334C4.95508 3.84904 4.48161 4.12302 4.13477 4.56561C3.78791 5.00825 3.61426 5.55706 3.61426 6.21111C3.61428 6.66687 3.69093 7.05006 3.84375 7.36053C4.00248 7.67104 4.20524 7.93232 4.45215 8.14373C4.69905 8.34852 4.9581 8.52694 5.22852 8.67889L6.16309 9.2033C6.26301 9.25615 6.37752 9.33274 6.50684 9.43182C6.64191 9.53081 6.75658 9.65606 6.85059 9.80779C6.95053 9.95974 7.00098 10.1518 7.00098 10.383C7.00098 10.6671 6.90687 10.9084 6.71875 11.1066C6.53651 11.3048 6.28325 11.4035 5.95996 11.4035C5.5662 11.4034 5.18082 11.2712 4.80469 11.007C4.42864 10.7362 4.13732 10.3991 3.93164 9.99627L3.5 11.9787C3.72926 12.2297 4.02328 12.4512 4.38184 12.6428C4.74629 12.8277 5.13733 12.9432 5.55469 12.9894V14.0002H6.50684V12.9494C7.13 12.8173 7.61797 12.5066 7.9707 12.0178C8.32336 11.5223 8.5 10.9408 8.5 10.2736C8.49997 9.87737 8.4437 9.5371 8.33203 9.25311C8.22035 8.96253 8.0767 8.71468 7.90039 8.50994C7.72408 8.3052 7.54158 8.13717 7.35352 8.00506C7.16539 7.86632 6.99174 7.75403 6.83301 7.66814L5.88965 7.14275C5.73109 7.05036 5.59308 6.9578 5.47559 6.86541C5.35808 6.77297 5.26681 6.66686 5.20215 6.54803C5.14339 6.42917 5.11331 6.29364 5.11328 6.14178C5.11328 5.8975 5.19013 5.69263 5.34277 5.52752C5.5015 5.36235 5.72561 5.27947 6.01367 5.27947C6.33686 5.27957 6.66021 5.38554 6.9834 5.59686C7.3125 5.80164 7.59499 6.07567 7.83008 6.41912L8.23535 4.4865C8.04142 4.32142 7.79769 4.16597 7.50391 4.02068C7.20996 3.86873 6.87721 3.77005 6.50684 3.72381V3.00018H5.55469Z",fill:"currentColor"})}),icons_ExchangeGasIcon=ExchangeGasIcon;ExchangeGasIcon.__docgenInfo={description:"",methods:[],displayName:"ExchangeGasIcon"};var starknetNftProvider_console=__webpack_require__("./node_modules/console-browserify/index.js");const NFT_ABI=[{name:"balanceOf",type:"function",inputs:[{name:"owner",type:"felt"}],outputs:[{name:"balance",type:"felt"}],stateMutability:"view"}];class StarknetNftProvider{supportsNetwork(network){return knownIds.A.Networks.StarkNetMainnet.includes(network.name)||knownIds.A.Networks.StarkNetGoerli.includes(network.name)||knownIds.A.Networks.StarkNetSepolia.includes(network.name)}constructor(){this.getBalance=async({address,network,contractAddress})=>{if(!contractAddress||!network.node_url)throw new Error("Missing NFT contract address or node URL");const provider=new starknet_dist.RpcProvider({nodeUrl:network.node_url});try{const contract=new starknet_dist.Contract(NFT_ABI,contractAddress,provider),response=await contract.balanceOf(address);if(!response||void 0===response.balance)throw new Error("Invalid response from NFT contract");return Number(response.balance)}catch(error){throw starknetNftProvider_console.error("Error fetching NFT balance:",error),error}}}}class NftBalanceResolver{async getBalance({address,network,contractAddress}){const provider=this.providers.find(p=>p.supportsNetwork(network));if(!provider)throw new Error(`No provider found for network ${network.name}`);return provider.getBalance({address,network,contractAddress})}constructor(){this.providers=[new StarknetNftProvider]}}const nft_useSWRNftBalance=(address,network,contractAddress)=>{const{data:balance,error,isLoading}=(0,index.Ay)(network&&address&&contractAddress?`/nft-balance/${address}/${network.name}/${contractAddress}`:null,()=>network&&contractAddress&&address?(new NftBalanceResolver).getBalance({address,network,contractAddress}):0,{refreshInterval:6e4});return{balance:"number"==typeof balance?balance:0,isLoading,error}},resolveTokenUsdPrice=(token,quote)=>{var _quote_source_token,_quote_source_token1,_quote_destination_token,_quote_destination_token1;return(null==quote||null===(_quote_source_token=quote.source_token)||void 0===_quote_source_token?void 0:_quote_source_token.symbol)&&(null==quote||null===(_quote_source_token1=quote.source_token)||void 0===_quote_source_token1?void 0:_quote_source_token1.symbol)===(null==token?void 0:token.symbol)?quote.source_token.price_in_usd:(null==quote||null===(_quote_destination_token=quote.destination_token)||void 0===_quote_destination_token?void 0:_quote_destination_token.symbol)&&(null==quote||null===(_quote_destination_token1=quote.destination_token)||void 0===_quote_destination_token1?void 0:_quote_destination_token1.symbol)===(null==token?void 0:token.symbol)?quote.destination_token.price_in_usd:null==token?void 0:token.price_in_usd};var tooltip=__webpack_require__("./components/shadcn/tooltip.tsx"),arrow_right=__webpack_require__("./node_modules/lucide-react/dist/esm/icons/arrow-right.js");const RateElement=({fromAsset,toAsset,requestAmount,receiveAmount})=>{const[flipped,setFlipped]=(0,react.useState)(!1);if(!requestAmount||!receiveAmount)return null;const fromToRate=receiveAmount/requestAmount,toFromRate=requestAmount/receiveAmount,displayFromToRate=(0,RoundDecimals.xz)(fromToRate,(null==fromAsset?void 0:fromAsset.decimals)||6),displayToFromRate=(0,RoundDecimals.xz)(toFromRate,(null==toAsset?void 0:toAsset.decimals)||6);return(0,jsx_runtime.jsx)("div",{className:"flex text-sm ml-1 font-small items-center cursor-pointer",onClick:()=>setFlipped(!flipped),children:flipped?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsxs)("p",{children:[(0,jsx_runtime.jsx)("span",{children:"1"})," ",(0,jsx_runtime.jsx)("span",{children:null==toAsset?void 0:toAsset.symbol})]}),(0,jsx_runtime.jsx)(arrow_right.A,{className:"w-3 h-3 mx-1"}),(0,jsx_runtime.jsxs)(tooltip.m_,{delayDuration:100,children:[(0,jsx_runtime.jsx)(tooltip.k$,{asChild:!0,children:(0,jsx_runtime.jsxs)("span",{children:[displayToFromRate," ",null==fromAsset?void 0:fromAsset.symbol]})}),(0,jsx_runtime.jsx)(tooltip.ZI,{className:"!bg-secondary-300 !border-secondary-300 !text-primary-text",children:(0,jsx_runtime.jsx)("span",{children:toFromRate})})]})]}):(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsxs)("p",{children:[(0,jsx_runtime.jsx)("span",{children:"1"})," ",(0,jsx_runtime.jsx)("span",{children:null==fromAsset?void 0:fromAsset.symbol})]}),(0,jsx_runtime.jsx)(arrow_right.A,{className:"w-3 h-3 mx-1"}),(0,jsx_runtime.jsxs)(tooltip.m_,{children:[(0,jsx_runtime.jsx)(tooltip.k$,{asChild:!0,children:(0,jsx_runtime.jsxs)("span",{children:[displayFromToRate," ",null==toAsset?void 0:toAsset.symbol]})}),(0,jsx_runtime.jsx)(tooltip.ZI,{className:"!bg-secondary-300 !border-secondary-300 !text-primary-text",children:(0,jsx_runtime.jsx)("span",{children:fromToRate})})]})]})})};RateElement.__docgenInfo={description:"",methods:[],displayName:"RateElement",props:{fromAsset:{required:!0,tsType:{name:"union",raw:"NetworkRouteToken | undefined",elements:[{name:"NetworkRouteToken"},{name:"undefined"}]},description:""},toAsset:{required:!0,tsType:{name:"union",raw:"NetworkRouteToken | undefined",elements:[{name:"NetworkRouteToken"},{name:"undefined"}]},description:""},requestAmount:{required:!0,tsType:{name:"union",raw:"number | undefined",elements:[{name:"number"},{name:"undefined"}]},description:""},receiveAmount:{required:!0,tsType:{name:"union",raw:"number | undefined",elements:[{name:"number"},{name:"undefined"}]},description:""}}};const DetailedEstimates=({quote:quoteData,isQuoteLoading,sourceAddress,swapValues:values,variant})=>{var _values_from;const quote=null==quoteData?void 0:quoteData.quote,reward=null==quoteData?void 0:quoteData.reward,isCEX=!!values.fromExchange,{provider}=(0,useWallet.A)(isCEX?void 0:values.from,"withdrawal"),selectedSourceAccount=(0,balanceAccounts.wz)("from",null===(_values_from=values.from)||void 0===_values_from?void 0:_values_from.name),wallet=(0,react.useMemo)(()=>{var _provider_connectedWallets;return null==provider||null===(_provider_connectedWallets=provider.connectedWallets)||void 0===_provider_connectedWallets?void 0:_provider_connectedWallets.find(w=>w.id===(null==selectedSourceAccount?void 0:selectedSourceAccount.id))},[null==provider?void 0:provider.connectedWallets,selectedSourceAccount]),{gasData,isGasLoading}=gases_useSWRGas(null==wallet?void 0:wallet.address,values.from,values.fromAsset),gasTokenPriceInUsd=resolveTokenUsdPrice(null==gasData?void 0:gasData.token,null==quoteData?void 0:quoteData.quote),{gasFeeInUsd,displayGasFeeInUsd,displayLsFee,displayLsFeeInUsd,receiveAtLeast,currencyName}=(0,react.useMemo)(()=>function deriveQuoteComputed({values,quote,reward,gasData,gasTokenPriceInUsd}){var _values_fromAsset,_values_fromAsset1;const gasFeeInUsd=(null==gasData?void 0:gasData.gas)&&gasTokenPriceInUsd?gasData.gas*gasTokenPriceInUsd:null,lsFeeAmountInUsd=null==quote?void 0:quote.total_fee_in_usd,displayLsFeeInUsd=null!=lsFeeAmountInUsd?lsFeeAmountInUsd<.01?"<$0.01":`$${lsFeeAmountInUsd.toFixed(2)}`:null,displayGasFeeInUsd=null!=gasFeeInUsd?gasFeeInUsd<.01?"<$0.01":`$${gasFeeInUsd.toFixed(2)}`:null;return{gasFeeInUsd,lsFeeAmountInUsd,displayLsFeeInUsd,displayGasFeeInUsd,displayLsFee:void 0!==(null==quote?void 0:quote.total_fee)?(0,RoundDecimals.xz)(quote.total_fee,null===(_values_fromAsset=values.fromAsset)||void 0===_values_fromAsset?void 0:_values_fromAsset.decimals):void 0,currencyName:(null===(_values_fromAsset1=values.fromAsset)||void 0===_values_fromAsset1?void 0:_values_fromAsset1.symbol)||"",receiveAtLeast:null==quote?void 0:quote.min_receive_amount,avgCompletionTime:null==quote?void 0:quote.avg_completion_time,reward}}({values,quote:null==quoteData?void 0:quoteData.quote,reward:null==quoteData?void 0:quoteData.reward,gasData,gasTokenPriceInUsd}),[values,null==quoteData?void 0:quoteData.quote,null==quoteData?void 0:quoteData.reward,gasData,gasTokenPriceInUsd]),shouldCheckNFT="for_nft_holders"===(null==reward?void 0:reward.campaign_type)&&(null==reward?void 0:reward.nft_contract_address),{balance:nftBalance,isLoading,error}=nft_useSWRNftBalance(values.destination_address||"",values.to,(null==reward?void 0:reward.nft_contract_address)||""),detailsElements="extended"===variant?extendedDetailsElements:baseDetailsElements;return(0,jsx_runtime.jsx)("div",{className:"flex flex-col w-full px-2",children:detailsElements.map(item=>{var _gasData_token;return!item.showCondition||item.showCondition({gasFeeInUsd,shouldCheckNFT,isLoading,error,nftBalance,reward,destinationAddress:values.destination_address,sourceAddress})?(0,jsx_runtime.jsxs)("div",{className:"flex items-center w-full justify-between gap-1 py-3 px-2 text-sm",children:[(0,jsx_runtime.jsx)("div",{className:"inline-flex items-center text-left text-secondary-text gap-1 pr-4",children:(0,jsx_runtime.jsx)("label",{children:item.name})}),(0,jsx_runtime.jsx)("div",{className:"text-right text-primary-text",children:item.content({gas:null==gasData?void 0:gasData.gas,values,currencyName,nativeCurrencyName:null==gasData||null===(_gasData_token=gasData.token)||void 0===_gasData_token?void 0:_gasData_token.symbol,displayGasFeeInUsd,quote,displayLsFee,displayLsFeeInUsd,wallet,isGasLoading,isQuoteLoading,reward,receiveAtLeast,destinationAddress:values.destination_address,sourceAddress})})]},item.name):null})})},LoadingBar=()=>(0,jsx_runtime.jsx)("div",{className:"h-[10px] w-16 inline-flex bg-gray-500 rounded-xs animate-pulse"}),baseDetailsElements=[{name:"Gas Fee",showCondition:props=>null!==props.gasFeeInUsd&&void 0!==props.gasFeeInUsd,content:({gas,nativeCurrencyName,displayGasFeeInUsd,isGasLoading})=>isGasLoading?(0,jsx_runtime.jsx)(LoadingBar,{}):(0,jsx_runtime.jsx)("div",{children:(0,jsx_runtime.jsxs)(tooltip.m_,{children:[(0,jsx_runtime.jsx)(tooltip.k$,{asChild:!0,children:void 0!==gas&&(0,jsx_runtime.jsx)("span",{className:"text-sm ml-1 font-small",children:displayGasFeeInUsd})}),(0,jsx_runtime.jsxs)(tooltip.ZI,{className:"!bg-secondary-300 !border-secondary-300 !text-primary-text",children:[(0,jsx_runtime.jsxs)("span",{children:[gas||"-"," "]}),(0,jsx_runtime.jsx)("span",{children:gas?nativeCurrencyName:""})]})]})})},{name:"Fees",content:({displayLsFeeInUsd,displayLsFee,currencyName,isQuoteLoading})=>isQuoteLoading?(0,jsx_runtime.jsx)(LoadingBar,{}):(0,jsx_runtime.jsx)("div",{children:(0,jsx_runtime.jsxs)(tooltip.m_,{children:[(0,jsx_runtime.jsx)(tooltip.k$,{asChild:!0,children:void 0!==displayLsFeeInUsd&&(0,jsx_runtime.jsx)("span",{className:"text-sm ml-1 font-small",children:displayLsFeeInUsd})}),(0,jsx_runtime.jsxs)(tooltip.ZI,{className:"!bg-secondary-300 !border-ssecondary-300 !text-primart-text",children:[(0,jsx_runtime.jsxs)("span",{children:[displayLsFee||"-"," "]}),(0,jsx_runtime.jsx)("span",{children:displayLsFee?currencyName:""})]})]})})},{name:"Rate",content:({isQuoteLoading,quote,values})=>isQuoteLoading?(0,jsx_runtime.jsx)(LoadingBar,{}):(0,jsx_runtime.jsx)(RateElement,{fromAsset:null==values?void 0:values.fromAsset,toAsset:null==values?void 0:values.toAsset,requestAmount:null==quote?void 0:quote.requested_amount,receiveAmount:null==quote?void 0:quote.receive_amount})},{name:"Est. time",content:({quote})=>quote&&"00:00:00"!==quote.avg_completion_time?(0,jsx_runtime.jsx)("div",{children:(0,jsx_runtime.jsx)(Common_AverageCompletionTime,{avgCompletionTime:quote.avg_completion_time})}):(0,jsx_runtime.jsx)(LoadingBar,{})},{name:"Reward",showCondition:props=>{const{reward,destinationAddress,shouldCheckNFT,isLoading,error,nftBalance}=props||{};return!(!reward||!destinationAddress)&&(!shouldCheckNFT||!(isLoading||error||void 0===nftBalance||nftBalance<=0))},content:({reward})=>reward?(0,jsx_runtime.jsx)("div",{children:(0,jsx_runtime.jsxs)(tooltip.m_,{children:[(0,jsx_runtime.jsx)(tooltip.k$,{asChild:!0,children:void 0!==(null==reward?void 0:reward.amount_in_usd)&&(0,jsx_runtime.jsxs)("span",{className:"text-sm ml-1 font-small",children:["$",reward.amount_in_usd.toFixed(2)]})}),(0,jsx_runtime.jsxs)(tooltip.ZI,{className:"!bg-secondary-300 !border-secondary-300 !text-primart-text",children:[(0,jsx_runtime.jsxs)("span",{children:[(null==reward?void 0:reward.amount)||"-"," "]}),(0,jsx_runtime.jsx)("span",{children:(null==reward?void 0:reward.amount)?reward.token.symbol:""})]})]})}):(0,jsx_runtime.jsx)(LoadingBar,{})}],extendedDetailsElements=[{name:"Receive at least",content:({isQuoteLoading,receiveAtLeast,values})=>{var _values_toAsset;return isQuoteLoading?(0,jsx_runtime.jsx)(LoadingBar,{}):(0,jsx_runtime.jsx)("div",{children:void 0!==receiveAtLeast&&(0,jsx_runtime.jsxs)("span",{className:"text-sm ml-1 font-small",children:[receiveAtLeast," ",null==values||null===(_values_toAsset=values.toAsset)||void 0===_values_toAsset?void 0:_values_toAsset.symbol]})})}},...baseDetailsElements];DetailedEstimates.__docgenInfo={description:"",methods:[],displayName:"DetailedEstimates",props:{quote:{required:!0,tsType:{name:"union",raw:"Quote | undefined",elements:[{name:"signature",type:"object",raw:"{\n    quote: SwapQuote,\n    refuel?: Refuel,\n    reward?: QuoteReward\n}",signature:{properties:[{key:"quote",value:{name:"signature",type:"object",raw:"{\n    source_network?: Network,\n    source_token?: Token,\n    destination_network?: Network,\n    destination_token?: Token,\n    requested_amount?: number\n    receive_amount: number,\n    min_receive_amount: number,\n    fee_discount?: number\n    total_fee: number,\n    total_fee_in_usd: number,\n    blockchain_fee: number,\n    service_fee: number,\n    avg_completion_time: string,\n    refuel_in_source?: number,\n    slippage?: number,\n}",signature:{properties:[{key:"source_network",value:{name:"Network",required:!1}},{key:"source_token",value:{name:"Token",required:!1}},{key:"destination_network",value:{name:"Network",required:!1}},{key:"destination_token",value:{name:"Token",required:!1}},{key:"requested_amount",value:{name:"number",required:!1}},{key:"receive_amount",value:{name:"number",required:!0}},{key:"min_receive_amount",value:{name:"number",required:!0}},{key:"fee_discount",value:{name:"number",required:!1}},{key:"total_fee",value:{name:"number",required:!0}},{key:"total_fee_in_usd",value:{name:"number",required:!0}},{key:"blockchain_fee",value:{name:"number",required:!0}},{key:"service_fee",value:{name:"number",required:!0}},{key:"avg_completion_time",value:{name:"string",required:!0}},{key:"refuel_in_source",value:{name:"number",required:!1}},{key:"slippage",value:{name:"number",required:!1}}]},required:!0}},{key:"refuel",value:{name:"signature",type:"object",raw:"{\n    network: Network\n    token: Token,\n    amount: number,\n    amount_in_usd: number\n}",signature:{properties:[{key:"network",value:{name:"Network",required:!0}},{key:"token",value:{name:"Token",required:!0}},{key:"amount",value:{name:"number",required:!0}},{key:"amount_in_usd",value:{name:"number",required:!0}}]},required:!1}},{key:"reward",value:{name:"signature",type:"object",raw:'{\n    amount: number,\n    amount_in_usd: number,\n    token: Token,\n    network: Network,\n    campaign_type: "for_nft_holders" | "default";\n    nft_contract_address?: string;\n}',signature:{properties:[{key:"amount",value:{name:"number",required:!0}},{key:"amount_in_usd",value:{name:"number",required:!0}},{key:"token",value:{name:"Token",required:!0}},{key:"network",value:{name:"Network",required:!0}},{key:"campaign_type",value:{name:"union",raw:'"for_nft_holders" | "default"',elements:[{name:"literal",value:'"for_nft_holders"'},{name:"literal",value:'"default"'}],required:!0}},{key:"nft_contract_address",value:{name:"string",required:!1}}]},required:!1}}]}},{name:"undefined"}]},description:""},isQuoteLoading:{required:!1,tsType:{name:"boolean"},description:""},sourceAddress:{required:!1,tsType:{name:"string"},description:""},swapValues:{required:!0,tsType:{name:"SwapValues"},description:""},variant:{required:!1,tsType:{name:"union",raw:'"base" | "extended"',elements:[{name:"literal",value:'"base"'},{name:"literal",value:'"extended"'}]},description:""}}};const DetailsButton=({quote:quoteData,isQuoteLoading,swapValues:values,destination,destinationAddress})=>{var _quoteData_quote;const{quote,reward}=quoteData||{},sourceAccountNetwork=!!values.fromExchange?void 0:values.from,selectedSourceAccount=(0,balanceAccounts.wz)("from",null==sourceAccountNetwork?void 0:sourceAccountNetwork.name),{wallets}=(0,useWallet.A)(null==quoteData||null===(_quoteData_quote=quoteData.quote)||void 0===_quoteData_quote?void 0:_quoteData_quote.source_network,"withdrawal"),wallet=wallets.find(w=>w.id===(null==selectedSourceAccount?void 0:selectedSourceAccount.id)),{gasData}=gases_useSWRGas(null==selectedSourceAccount?void 0:selectedSourceAccount.address,values.from,values.fromAsset,values.amount,wallet),gasTokenPriceInUsd=resolveTokenUsdPrice(null==gasData?void 0:gasData.token,quote),gasFeeInUsd=gasData&&gasTokenPriceInUsd?gasData.gas*gasTokenPriceInUsd:null,averageCompletionTime=null==quote?void 0:quote.avg_completion_time,shouldCheckNFT="for_nft_holders"===(null==reward?void 0:reward.campaign_type)&&(null==reward?void 0:reward.nft_contract_address),{balance:nftBalance,isLoading,error}=nft_useSWRNftBalance(destinationAddress||"",destination,(null==reward?void 0:reward.nft_contract_address)||"");return(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-1 space-x-3",children:[gasFeeInUsd&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsxs)("div",{className:(0,clsx_m.default)("inline-flex items-center gap-1",{"animate-pulse-strong":isQuoteLoading}),children:[(0,jsx_runtime.jsx)("div",{className:"p-0.5",children:values.fromExchange?(0,jsx_runtime.jsx)(icons_ExchangeGasIcon,{className:"h-5 w-5 text-secondary-text"}):(0,jsx_runtime.jsx)(icons_GasIcon,{className:"h-4 w-4 text-secondary-text"})}),(0,jsx_runtime.jsx)(dist.Ay,{className:"text-primary-text text-sm leading-6",value:gasFeeInUsd<.01?"0.01":gasFeeInUsd,format:{style:"currency",currency:"USD"},prefix:gasFeeInUsd<.01?"<":void 0})]}),(0,jsx_runtime.jsx)("div",{className:"w-px h-3 bg-primary-text-tertiary rounded-2xl"})]}),averageCompletionTime&&(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:(0,jsx_runtime.jsxs)("div",{className:(0,clsx_m.default)("text-right inline-flex items-center gap-1 text-sm",{"animate-pulse-strong":isQuoteLoading}),children:[(0,jsx_runtime.jsx)("div",{className:"p-0.5",children:(0,jsx_runtime.jsx)(icons_Clock,{className:"h-4 w-4 text-secondary-text"})}),(0,jsx_runtime.jsx)(Common_AverageCompletionTime,{className:"text-primary-text",avgCompletionTime:quote.avg_completion_time})]})}),reward&&(!shouldCheckNFT||!isLoading&&!error&&void 0!==nftBalance&&nftBalance>0)&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("div",{className:"w-px h-3 bg-primary-text-tertiary rounded-2xl"}),(0,jsx_runtime.jsxs)("div",{className:"text-right text-primary-text inline-flex items-center gap-1",children:[(0,jsx_runtime.jsx)("div",{className:"p-0.5",children:(0,jsx_runtime.jsx)(next_image.A,{src:rewardCup,alt:"Reward",width:16,height:16})}),(0,jsx_runtime.jsx)(dist.Ay,{value:(null==reward?void 0:reward.amount_in_usd)<.01?"0.01":null==reward?void 0:reward.amount_in_usd,format:{style:"currency",currency:"USD"},prefix:(null==reward?void 0:reward.amount_in_usd)<.01?"<":void 0})]})]})]})};DetailsButton.__docgenInfo={description:"",methods:[],displayName:"DetailsButton",props:{quote:{required:!0,tsType:{name:"union",raw:"Quote | undefined",elements:[{name:"signature",type:"object",raw:"{\n    quote: SwapQuote,\n    refuel?: Refuel,\n    reward?: QuoteReward\n}",signature:{properties:[{key:"quote",value:{name:"signature",type:"object",raw:"{\n    source_network?: Network,\n    source_token?: Token,\n    destination_network?: Network,\n    destination_token?: Token,\n    requested_amount?: number\n    receive_amount: number,\n    min_receive_amount: number,\n    fee_discount?: number\n    total_fee: number,\n    total_fee_in_usd: number,\n    blockchain_fee: number,\n    service_fee: number,\n    avg_completion_time: string,\n    refuel_in_source?: number,\n    slippage?: number,\n}",signature:{properties:[{key:"source_network",value:{name:"Network",required:!1}},{key:"source_token",value:{name:"Token",required:!1}},{key:"destination_network",value:{name:"Network",required:!1}},{key:"destination_token",value:{name:"Token",required:!1}},{key:"requested_amount",value:{name:"number",required:!1}},{key:"receive_amount",value:{name:"number",required:!0}},{key:"min_receive_amount",value:{name:"number",required:!0}},{key:"fee_discount",value:{name:"number",required:!1}},{key:"total_fee",value:{name:"number",required:!0}},{key:"total_fee_in_usd",value:{name:"number",required:!0}},{key:"blockchain_fee",value:{name:"number",required:!0}},{key:"service_fee",value:{name:"number",required:!0}},{key:"avg_completion_time",value:{name:"string",required:!0}},{key:"refuel_in_source",value:{name:"number",required:!1}},{key:"slippage",value:{name:"number",required:!1}}]},required:!0}},{key:"refuel",value:{name:"signature",type:"object",raw:"{\n    network: Network\n    token: Token,\n    amount: number,\n    amount_in_usd: number\n}",signature:{properties:[{key:"network",value:{name:"Network",required:!0}},{key:"token",value:{name:"Token",required:!0}},{key:"amount",value:{name:"number",required:!0}},{key:"amount_in_usd",value:{name:"number",required:!0}}]},required:!1}},{key:"reward",value:{name:"signature",type:"object",raw:'{\n    amount: number,\n    amount_in_usd: number,\n    token: Token,\n    network: Network,\n    campaign_type: "for_nft_holders" | "default";\n    nft_contract_address?: string;\n}',signature:{properties:[{key:"amount",value:{name:"number",required:!0}},{key:"amount_in_usd",value:{name:"number",required:!0}},{key:"token",value:{name:"Token",required:!0}},{key:"network",value:{name:"Network",required:!0}},{key:"campaign_type",value:{name:"union",raw:'"for_nft_holders" | "default"',elements:[{name:"literal",value:'"for_nft_holders"'},{name:"literal",value:'"default"'}],required:!0}},{key:"nft_contract_address",value:{name:"string",required:!1}}]},required:!1}}]}},{name:"undefined"}]},description:""},isQuoteLoading:{required:!1,tsType:{name:"boolean"},description:""},swapValues:{required:!0,tsType:{name:"SwapValues"},description:""},destination:{required:!1,tsType:{name:"Network"},description:""},destinationAddress:{required:!1,tsType:{name:"string"},description:""}}};const SummaryRow=({quoteData,isQuoteLoading,values,wallet,onOpen,sourceAddress,isOpen,destination,destinationAddress})=>{var _values_destination_address,_wallet_displayName,_quoteData_quote,_quoteData_quote1,_values_toAsset;return(0,jsx_runtime.jsxs)("div",{className:(0,clsx_m.default)("flex flex-col w-full p-2",{"pb-0 -mb-1":isOpen}),children:[values.destination_address&&(null==sourceAddress?void 0:sourceAddress.toLowerCase())!==(null===(_values_destination_address=values.destination_address)||void 0===_values_destination_address?void 0:_values_destination_address.toLowerCase())&&(0,jsx_runtime.jsxs)("div",{className:"flex items-center w-full justify-between gap-1 text-sm px-2 py-3",children:[(0,jsx_runtime.jsx)("div",{className:"inline-flex items-center text-left text-secondary-text gap-1 pr-4",children:(0,jsx_runtime.jsx)("label",{children:"Send to"})}),(0,jsx_runtime.jsx)("div",{className:"text-right text-primary-text",children:(0,jsx_runtime.jsxs)("span",{className:"cursor-pointer hover:underline flex items-center gap-2",children:[(null==wallet?void 0:wallet.icon)?(0,jsx_runtime.jsx)(wallet.icon,{className:"w-4 h-4 p-0.5 bg-white rounded-sm"}):(0,jsx_runtime.jsx)(AddressIcon.A,{className:"h-4 w-4",address:values.destination_address,size:36,rounded:"4px"}),(0,validator.$)(null==values?void 0:values.destination_address,null==values?void 0:values.to)&&(null==values?void 0:values.to)?(0,jsx_runtime.jsx)("div",{className:"text-sm group/addressItem text-secondary-text",children:(0,jsx_runtime.jsx)(AddressWithIcon.I,{address:(0,formatter.i)(null==values?void 0:values.destination_address,null==values?void 0:values.to),network:null==values?void 0:values.to,showDetails:!!wallet,title:null==wallet||null===(_wallet_displayName=wallet.displayName)||void 0===_wallet_displayName?void 0:_wallet_displayName.split("-")[0],description:null==wallet?void 0:wallet.providerName,logo:null==wallet?void 0:wallet.icon,shouldShowChevron:!1})}):(0,jsx_runtime.jsx)("p",{className:"text-sm text-secondary-text",children:(0,ShortenAddress.Ay)(null==values?void 0:values.destination_address)})]})})]}),(0,jsx_runtime.jsxs)("div",{className:"flex items-center w-full justify-between gap-1 text-sm px-2 py-3",children:[(0,jsx_runtime.jsx)("div",{className:"inline-flex items-center text-left text-secondary-text",children:(0,jsx_runtime.jsx)("label",{children:"Receive at least"})}),(0,jsx_runtime.jsx)("div",{className:"text-right text-primary-text",children:void 0!==(null==quoteData||null===(_quoteData_quote=quoteData.quote)||void 0===_quoteData_quote?void 0:_quoteData_quote.min_receive_amount)&&(0,jsx_runtime.jsxs)("span",{className:"text-sm font-small",children:[null==quoteData||null===(_quoteData_quote1=quoteData.quote)||void 0===_quoteData_quote1?void 0:_quoteData_quote1.min_receive_amount," ",null==values||null===(_values_toAsset=values.toAsset)||void 0===_values_toAsset?void 0:_values_toAsset.symbol]})})]}),(0,jsx_runtime.jsxs)("div",{className:(isOpen?"hidden":"")+" flex items-center w-full justify-between px-2 py-3",children:[(0,jsx_runtime.jsx)(DetailsButton,{quote:quoteData,isQuoteLoading,swapValues:values,destination,destinationAddress}),(0,jsx_runtime.jsxs)("button",{type:"button",onClick:e=>{e.stopPropagation(),null==onOpen||onOpen()},className:"flex items-center text-secondary-text text-sm whitespace-nowrap gap-0.5 hover:text-primary-text","aria-label":"See details",children:[(0,jsx_runtime.jsx)("span",{children:"See details"}),(0,jsx_runtime.jsx)(chevron_down.A,{className:"h-3.5 w-3.5"})]})]})]})};SummaryRow.__docgenInfo={description:"",methods:[],displayName:"SummaryRow",props:{destination:{required:!1,tsType:{name:"Network"},description:""},destinationAddress:{required:!1,tsType:{name:"string"},description:""},isQuoteLoading:{required:!1,tsType:{name:"boolean"},description:""},values:{required:!0,tsType:{name:"SwapValues"},description:""},wallet:{required:!1,tsType:{name:"signature",type:"object",raw:"{\n    id: string;\n    internalId?: string;\n    displayName?: string;\n    // TODO: might be unused and unnecessary check\n    isActive: boolean;\n    address: string | `0x${string}`;\n    addresses: string[];\n    providerName: string\n    icon: (props: any) => React.JSX.Element;\n    //TODO: this is name of the connector, should be changed to connectorId\n    metadata?: {\n        starknetAccount?: WalletAccount,\n        wallet?: StarknetWindowObject,\n        l1Address?: string,\n        deepLink?: string\n    }\n    chainId?: string | number,\n    isLoading?: boolean,\n    disconnect?: () => Promise<void> | undefined | void;\n    connect?: () => Promise<Wallet | undefined>;\n    isNotAvailable?: boolean;\n    //TODO: refactor\n    withdrawalSupportedNetworks?: string[],\n    asSourceSupportedNetworks?: string[],\n    autofillSupportedNetworks?: string[],\n    networkIcon?: string,\n}",signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"internalId",value:{name:"string",required:!1}},{key:"displayName",value:{name:"string",required:!1}},{key:"isActive",value:{name:"boolean",required:!0}},{key:"address",value:{name:"union",raw:"string | `0x${string}`",elements:[{name:"string"},{name:"literal",value:"`0x${string}`"}],required:!0}},{key:"addresses",value:{name:"Array",elements:[{name:"string"}],raw:"string[]",required:!0}},{key:"providerName",value:{name:"string",required:!0}},{key:"icon",value:{name:"signature",type:"function",raw:"(props: any) => React.JSX.Element",signature:{arguments:[{type:{name:"any"},name:"props"}],return:{name:"React.JSX.Element"}},required:!0}},{key:"metadata",value:{name:"signature",type:"object",raw:"{\n    starknetAccount?: WalletAccount,\n    wallet?: StarknetWindowObject,\n    l1Address?: string,\n    deepLink?: string\n}",signature:{properties:[{key:"starknetAccount",value:{name:"WalletAccount",required:!1}},{key:"wallet",value:{name:"StarknetWindowObject",required:!1}},{key:"l1Address",value:{name:"string",required:!1}},{key:"deepLink",value:{name:"string",required:!1}}]},required:!1}},{key:"chainId",value:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}],required:!1}},{key:"isLoading",value:{name:"boolean",required:!1}},{key:"disconnect",value:{name:"signature",type:"function",raw:"() => Promise<void> | undefined | void",signature:{arguments:[],return:{name:"union",raw:"Promise<void> | undefined | void",elements:[{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"},{name:"undefined"},{name:"void"}]}},required:!1}},{key:"connect",value:{name:"signature",type:"function",raw:"() => Promise<Wallet | undefined>",signature:{arguments:[],return:{name:"Promise",elements:[{name:"union",raw:"Wallet | undefined",elements:[{name:"Wallet"},{name:"undefined"}]}],raw:"Promise<Wallet | undefined>"}},required:!1}},{key:"isNotAvailable",value:{name:"boolean",required:!1}},{key:"withdrawalSupportedNetworks",value:{name:"Array",elements:[{name:"string"}],raw:"string[]",required:!1}},{key:"asSourceSupportedNetworks",value:{name:"Array",elements:[{name:"string"}],raw:"string[]",required:!1}},{key:"autofillSupportedNetworks",value:{name:"Array",elements:[{name:"string"}],raw:"string[]",required:!1}},{key:"networkIcon",value:{name:"string",required:!1}}]}},description:""},onOpen:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},isOpen:{required:!1,tsType:{name:"boolean"},description:""},sourceAddress:{required:!1,tsType:{name:"string"},description:""},quoteData:{required:!0,tsType:{name:"signature",type:"object",raw:"{\n    quote: SwapQuote,\n    refuel?: Refuel,\n    reward?: QuoteReward\n}",signature:{properties:[{key:"quote",value:{name:"signature",type:"object",raw:"{\n    source_network?: Network,\n    source_token?: Token,\n    destination_network?: Network,\n    destination_token?: Token,\n    requested_amount?: number\n    receive_amount: number,\n    min_receive_amount: number,\n    fee_discount?: number\n    total_fee: number,\n    total_fee_in_usd: number,\n    blockchain_fee: number,\n    service_fee: number,\n    avg_completion_time: string,\n    refuel_in_source?: number,\n    slippage?: number,\n}",signature:{properties:[{key:"source_network",value:{name:"Network",required:!1}},{key:"source_token",value:{name:"Token",required:!1}},{key:"destination_network",value:{name:"Network",required:!1}},{key:"destination_token",value:{name:"Token",required:!1}},{key:"requested_amount",value:{name:"number",required:!1}},{key:"receive_amount",value:{name:"number",required:!0}},{key:"min_receive_amount",value:{name:"number",required:!0}},{key:"fee_discount",value:{name:"number",required:!1}},{key:"total_fee",value:{name:"number",required:!0}},{key:"total_fee_in_usd",value:{name:"number",required:!0}},{key:"blockchain_fee",value:{name:"number",required:!0}},{key:"service_fee",value:{name:"number",required:!0}},{key:"avg_completion_time",value:{name:"string",required:!0}},{key:"refuel_in_source",value:{name:"number",required:!1}},{key:"slippage",value:{name:"number",required:!1}}]},required:!0}},{key:"refuel",value:{name:"signature",type:"object",raw:"{\n    network: Network\n    token: Token,\n    amount: number,\n    amount_in_usd: number\n}",signature:{properties:[{key:"network",value:{name:"Network",required:!0}},{key:"token",value:{name:"Token",required:!0}},{key:"amount",value:{name:"number",required:!0}},{key:"amount_in_usd",value:{name:"number",required:!0}}]},required:!1}},{key:"reward",value:{name:"signature",type:"object",raw:'{\n    amount: number,\n    amount_in_usd: number,\n    token: Token,\n    network: Network,\n    campaign_type: "for_nft_holders" | "default";\n    nft_contract_address?: string;\n}',signature:{properties:[{key:"amount",value:{name:"number",required:!0}},{key:"amount_in_usd",value:{name:"number",required:!0}},{key:"token",value:{name:"Token",required:!0}},{key:"network",value:{name:"Network",required:!0}},{key:"campaign_type",value:{name:"union",raw:'"for_nft_holders" | "default"',elements:[{name:"literal",value:'"for_nft_holders"'},{name:"literal",value:'"default"'}],required:!0}},{key:"nft_contract_address",value:{name:"string",required:!1}}]},required:!1}}]}},description:""}}};const SwapQuoteComp=({swapValues:values,quote:quoteData,isQuoteLoading})=>{var _values_from;const[isOpen,setIsOpen]=(0,react.useState)(!1),isCEX=!!values.fromExchange,{wallets}=(0,useWallet.A)(isCEX?void 0:values.from,"withdrawal"),wallet=(null==values?void 0:values.to)&&(null==values?void 0:values.destination_address)?null==wallets?void 0:wallets.find(w=>(0,formatter.i)(w.address,null==values?void 0:values.to)===(0,formatter.i)(null==values?void 0:values.destination_address,null==values?void 0:values.to)):void 0,selectedSourceAccount=(0,balanceAccounts.wz)("from",null==values||null===(_values_from=values.from)||void 0===_values_from?void 0:_values_from.name);return(0,jsx_runtime.jsx)(accordion.nD,{type:"single",collapsible:!0,className:"w-full",value:isOpen?"quote":"",onValueChange:v=>setIsOpen("quote"===v),children:(0,jsx_runtime.jsxs)(accordion.As,{value:"quote",className:"bg-secondary-500 rounded-2xl",children:[(0,jsx_runtime.jsx)(accordion.$m,{onClick:e=>e.preventDefault(),className:"w-full rounded-2xl flex items-center justify-between cursor-auto",children:(0,jsx_runtime.jsx)(SummaryRow,{isQuoteLoading,values,wallet,quoteData,destination:values.to,destinationAddress:values.destination_address,onOpen:()=>setIsOpen(!0),isOpen,sourceAddress:null==selectedSourceAccount?void 0:selectedSourceAccount.address})}),(0,jsx_runtime.jsx)(accordion.ub,{className:"rounded-2xl",children:(0,jsx_runtime.jsx)(DetailedEstimates,{isQuoteLoading,swapValues:values,quote:quoteData,sourceAddress:null==wallet?void 0:wallet.address,variant:"base"})}),isOpen&&(0,jsx_runtime.jsx)("div",{className:"px-3.5 pb-3",children:(0,jsx_runtime.jsxs)("button",{type:"button",onClick:()=>setIsOpen(!1),className:"mx-auto flex items-center justify-center gap-1 text-sm text-secondary-text hover:text-primary-text",children:[(0,jsx_runtime.jsx)("span",{children:"Close details"}),(0,jsx_runtime.jsx)(chevron_down.A,{className:"h-3.5 w-3.5 rotate-180 transition-transform"})]})})]})})},SwapQuote=SwapQuoteComp;SwapQuoteComp.__docgenInfo={description:"",methods:[],displayName:"SwapQuoteComp",props:{quote:{required:!0,tsType:{name:"signature",type:"object",raw:"{\n    quote: SwapQuote,\n    refuel?: Refuel,\n    reward?: QuoteReward\n}",signature:{properties:[{key:"quote",value:{name:"signature",type:"object",raw:"{\n    source_network?: Network,\n    source_token?: Token,\n    destination_network?: Network,\n    destination_token?: Token,\n    requested_amount?: number\n    receive_amount: number,\n    min_receive_amount: number,\n    fee_discount?: number\n    total_fee: number,\n    total_fee_in_usd: number,\n    blockchain_fee: number,\n    service_fee: number,\n    avg_completion_time: string,\n    refuel_in_source?: number,\n    slippage?: number,\n}",signature:{properties:[{key:"source_network",value:{name:"Network",required:!1}},{key:"source_token",value:{name:"Token",required:!1}},{key:"destination_network",value:{name:"Network",required:!1}},{key:"destination_token",value:{name:"Token",required:!1}},{key:"requested_amount",value:{name:"number",required:!1}},{key:"receive_amount",value:{name:"number",required:!0}},{key:"min_receive_amount",value:{name:"number",required:!0}},{key:"fee_discount",value:{name:"number",required:!1}},{key:"total_fee",value:{name:"number",required:!0}},{key:"total_fee_in_usd",value:{name:"number",required:!0}},{key:"blockchain_fee",value:{name:"number",required:!0}},{key:"service_fee",value:{name:"number",required:!0}},{key:"avg_completion_time",value:{name:"string",required:!0}},{key:"refuel_in_source",value:{name:"number",required:!1}},{key:"slippage",value:{name:"number",required:!1}}]},required:!0}},{key:"refuel",value:{name:"signature",type:"object",raw:"{\n    network: Network\n    token: Token,\n    amount: number,\n    amount_in_usd: number\n}",signature:{properties:[{key:"network",value:{name:"Network",required:!0}},{key:"token",value:{name:"Token",required:!0}},{key:"amount",value:{name:"number",required:!0}},{key:"amount_in_usd",value:{name:"number",required:!0}}]},required:!1}},{key:"reward",value:{name:"signature",type:"object",raw:'{\n    amount: number,\n    amount_in_usd: number,\n    token: Token,\n    network: Network,\n    campaign_type: "for_nft_holders" | "default";\n    nft_contract_address?: string;\n}',signature:{properties:[{key:"amount",value:{name:"number",required:!0}},{key:"amount_in_usd",value:{name:"number",required:!0}},{key:"token",value:{name:"Token",required:!0}},{key:"network",value:{name:"Network",required:!0}},{key:"campaign_type",value:{name:"union",raw:'"for_nft_holders" | "default"',elements:[{name:"literal",value:'"for_nft_holders"'},{name:"literal",value:'"default"'}],required:!0}},{key:"nft_contract_address",value:{name:"string",required:!1}}]},required:!1}}]}},description:""},isQuoteLoading:{required:!1,tsType:{name:"boolean"},description:""},swapValues:{required:!0,tsType:{name:"SwapValues"},description:""},destination:{required:!1,tsType:{name:"Network"},description:""},destinationAddress:{required:!1,tsType:{name:"string"},description:""},sourceAddress:{required:!1,tsType:{name:"string"},description:""},onOpen:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},isAccordionOpen:{required:!1,tsType:{name:"boolean"},description:""}}};var info=__webpack_require__("./node_modules/lucide-react/dist/esm/icons/info.js"),route_off=__webpack_require__("./node_modules/lucide-react/dist/esm/icons/route-off.js");const defaultErrors={insufficientFunds:{details:{title:"Insufficient Balance",type:"warning",icon:(0,jsx_runtime.jsx)(info.A,{className:"w-5 h-5 text-warning-foreground"})}},quoteError:{message:"Unable to retrieve quote",details:{title:"Unable to retrieve quote",type:"warning",icon:(0,jsx_runtime.jsx)(route_off.A,{className:"w-5 h-5 text-warning-foreground"})}}},ErrorDisplay=props=>{const{message,details}={...defaultErrors[(null==props?void 0:props.errorName)||""],...props};return(0,jsx_runtime.jsx)("div",{className:"px-2 py-3 rounded-2xl bg-secondary-400",children:(0,jsx_runtime.jsxs)("div",{className:"flex items-start gap-2",children:[(0,jsx_runtime.jsx)("span",{className:"shrink-0",children:null==details?void 0:details.icon}),(0,jsx_runtime.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,jsx_runtime.jsx)("p",{className:"text-white font-medium leading-4 text-base mt-0.5",children:null==details?void 0:details.title}),message?(0,jsx_runtime.jsx)("p",{className:"text-secondary-text text-sm leading-[18px]",children:message}):null]})]})})};ErrorDisplay.__docgenInfo={description:"",methods:[],displayName:"ErrorDisplay"};const SwapQuoteDetails=({swapBasicData:swapData,quote,refuel,quoteIsLoading,quoteError})=>{const{source_network,destination_network,use_deposit_address,destination_token,requested_amount,source_token,destination_address}=swapData||{};if(quoteError)return(0,jsx_runtime.jsx)(ErrorDisplay,{errorName:"quoteError"});if(!quote)return(0,jsx_runtime.jsx)("div",{className:"h-[105px] w-full rounded-xl bg-secondary-500 animate-pulse"});const values={amount:null==requested_amount?void 0:requested_amount.toString(),from:source_network,to:destination_network,fromAsset:source_token,toAsset:destination_token,depositMethod:use_deposit_address?"deposit_address":"wallet",destination_address};return(0,jsx_runtime.jsx)(SwapQuote,{quote:{quote,refuel},swapValues:values,isQuoteLoading:quoteIsLoading})};SwapQuoteDetails.__docgenInfo={description:"",methods:[],displayName:"SwapQuoteDetails",props:{swapBasicData:{required:!0,tsType:{name:"union",raw:"SwapBasicData | undefined",elements:[{name:"signature",type:"object",raw:"{\n    source_network: Network,\n    source_token: Token,\n    source_exchange?: Exchange,\n    destination_network: Network,\n    destination_token: Token,\n    destination_address: string,\n    requested_amount: number,\n    use_deposit_address: boolean,\n\n}",signature:{properties:[{key:"source_network",value:{name:"Network",required:!0}},{key:"source_token",value:{name:"Token",required:!0}},{key:"source_exchange",value:{name:"Exchange",required:!1}},{key:"destination_network",value:{name:"Network",required:!0}},{key:"destination_token",value:{name:"Token",required:!0}},{key:"destination_address",value:{name:"string",required:!0}},{key:"requested_amount",value:{name:"number",required:!0}},{key:"use_deposit_address",value:{name:"boolean",required:!0}}]}},{name:"undefined"}]},description:""},quote:{required:!0,tsType:{name:"union",raw:"SwapQuote | undefined",elements:[{name:"signature",type:"object",raw:"{\n    source_network?: Network,\n    source_token?: Token,\n    destination_network?: Network,\n    destination_token?: Token,\n    requested_amount?: number\n    receive_amount: number,\n    min_receive_amount: number,\n    fee_discount?: number\n    total_fee: number,\n    total_fee_in_usd: number,\n    blockchain_fee: number,\n    service_fee: number,\n    avg_completion_time: string,\n    refuel_in_source?: number,\n    slippage?: number,\n}",signature:{properties:[{key:"source_network",value:{name:"Network",required:!1}},{key:"source_token",value:{name:"Token",required:!1}},{key:"destination_network",value:{name:"Network",required:!1}},{key:"destination_token",value:{name:"Token",required:!1}},{key:"requested_amount",value:{name:"number",required:!1}},{key:"receive_amount",value:{name:"number",required:!0}},{key:"min_receive_amount",value:{name:"number",required:!0}},{key:"fee_discount",value:{name:"number",required:!1}},{key:"total_fee",value:{name:"number",required:!0}},{key:"total_fee_in_usd",value:{name:"number",required:!0}},{key:"blockchain_fee",value:{name:"number",required:!0}},{key:"service_fee",value:{name:"number",required:!0}},{key:"avg_completion_time",value:{name:"string",required:!0}},{key:"refuel_in_source",value:{name:"number",required:!1}},{key:"slippage",value:{name:"number",required:!1}}]}},{name:"undefined"}]},description:""},quoteError:{required:!0,tsType:{name:"union",raw:"QuoteError | undefined",elements:[{name:"signature",type:"object",raw:"{\n    code: string;\n    message: string;\n    response?: {\n        data?: {\n            error?: {\n                code?: string;\n                message?: string;\n                metadata?: {\n                    AmountLimit: number\n                }\n            }\n        };\n    }\n    metadata?: {\n        StatusCode?: string;\n        [key: string]: any;\n    }\n}",signature:{properties:[{key:"code",value:{name:"string",required:!0}},{key:"message",value:{name:"string",required:!0}},{key:"response",value:{name:"signature",type:"object",raw:"{\n    data?: {\n        error?: {\n            code?: string;\n            message?: string;\n            metadata?: {\n                AmountLimit: number\n            }\n        }\n    };\n}",signature:{properties:[{key:"data",value:{name:"signature",type:"object",raw:"{\n    error?: {\n        code?: string;\n        message?: string;\n        metadata?: {\n            AmountLimit: number\n        }\n    }\n}",signature:{properties:[{key:"error",value:{name:"signature",type:"object",raw:"{\n    code?: string;\n    message?: string;\n    metadata?: {\n        AmountLimit: number\n    }\n}",signature:{properties:[{key:"code",value:{name:"string",required:!1}},{key:"message",value:{name:"string",required:!1}},{key:"metadata",value:{name:"signature",type:"object",raw:"{\n    AmountLimit: number\n}",signature:{properties:[{key:"AmountLimit",value:{name:"number",required:!0}}]},required:!1}}]},required:!1}}]},required:!1}}]},required:!1}},{key:"metadata",value:{name:"signature",type:"object",raw:"{\n    StatusCode?: string;\n    [key: string]: any;\n}",signature:{properties:[{key:"StatusCode",value:{name:"string",required:!1}},{key:{name:"string"},value:{name:"any",required:!0}}]},required:!1}}]}},{name:"undefined"}]},description:""},refuel:{required:!0,tsType:{name:"union",raw:"Refuel | undefined",elements:[{name:"signature",type:"object",raw:"{\n    network: Network\n    token: Token,\n    amount: number,\n    amount_in_usd: number\n}",signature:{properties:[{key:"network",value:{name:"Network",required:!0}},{key:"token",value:{name:"Token",required:!0}},{key:"amount",value:{name:"number",required:!0}},{key:"amount_in_usd",value:{name:"number",required:!0}}]}},{name:"undefined"}]},description:""},quoteIsLoading:{required:!0,tsType:{name:"boolean"},description:""}}};var icons_link=__webpack_require__("./node_modules/lucide-react/dist/esm/icons/link.js"),arrow_left_right=__webpack_require__("./node_modules/lucide-react/dist/esm/icons/arrow-left-right.js"),react_hot_toast_dist=__webpack_require__("./node_modules/react-hot-toast/dist/index.mjs"),secondaryButton=__webpack_require__("./components/buttons/secondaryButton.tsx"),external_link=__webpack_require__("./node_modules/lucide-react/dist/esm/icons/external-link.js"),chevron_right=__webpack_require__("./node_modules/lucide-react/dist/esm/icons/chevron-right.js"),copyButton=(__webpack_require__("./node_modules/lucide-react/dist/esm/icons/clock.js"),__webpack_require__("./components/buttons/copyButton.tsx")),lib_esm=__webpack_require__("./node_modules/qrcode.react/lib/esm/index.js"),classNames=__webpack_require__("./components/utils/classNames.ts"),qr_code=__webpack_require__("./node_modules/lucide-react/dist/esm/icons/qr-code.js"),popover=__webpack_require__("./components/shadcn/popover.tsx"),motion=__webpack_require__("./node_modules/framer-motion/dist/es/render/dom/motion.mjs");const QRCodeModal=({qrUrl,className,iconSize,iconClassName})=>{const qrCode=(0,jsx_runtime.jsx)(lib_esm.hp,{className:"rounded-lg",value:qrUrl,includeMargin:!0,size:160,level:"H"});return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:(0,jsx_runtime.jsxs)(popover.AM,{children:[(0,jsx_runtime.jsx)(popover.Wv,{children:(0,jsx_runtime.jsxs)(tooltip.m_,{children:[(0,jsx_runtime.jsx)(tooltip.k$,{asChild:!0,children:(0,jsx_runtime.jsx)("div",{className:(0,classNames.x)(className),children:(0,jsx_runtime.jsx)("div",{className:"flex items-center gap-1 cursor-pointer",children:(0,jsx_runtime.jsx)(qr_code.A,{className:iconClassName,width:iconSize||16,height:iconSize||16})})})}),(0,jsx_runtime.jsx)(tooltip.ZI,{children:(0,jsx_runtime.jsx)("p",{children:"Show QR code"})})]})}),(0,jsx_runtime.jsx)(popover.hl,{className:"w-full p-4",side:"left",children:(0,jsx_runtime.jsx)(motion.P.div,{whileHover:{scale:1.2,transition:{duration:.5}},children:qrCode})})]})})},QRCodeWallet=QRCodeModal;QRCodeModal.__docgenInfo={description:"",methods:[],displayName:"QRCodeModal",props:{qrUrl:{required:!0,tsType:{name:"string"},description:""},className:{required:!1,tsType:{name:"string"},description:""},iconSize:{required:!1,tsType:{name:"number"},description:""},iconClassName:{required:!1,tsType:{name:"string"},description:""}}};var useWindowDimensions=__webpack_require__("./hooks/useWindowDimensions.tsx");const ExploreButton=(0,react.forwardRef)(function co({className,children,iconSize,iconClassName,...rest},ref){return(0,jsx_runtime.jsxs)(tooltip.m_,{children:[(0,jsx_runtime.jsx)(tooltip.k$,{children:(0,jsx_runtime.jsx)("div",{className:(0,classNames.x)(className),children:(0,jsx_runtime.jsxs)("a",{...rest,className:"flex items-center gap-1 cursor-pointer",children:[(0,jsx_runtime.jsx)(external_link.A,{className:iconClassName,width:iconSize||16,height:iconSize||16}),children]})})}),(0,jsx_runtime.jsx)(tooltip.ZI,{children:(0,jsx_runtime.jsx)("p",{children:"View in explorer"})})]})}),exploreButton=ExploreButton;ExploreButton.__docgenInfo={description:"",methods:[],displayName:"ExploreButton",props:{className:{required:!1,tsType:{name:"string"},description:""},children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},iconSize:{required:!1,tsType:{name:"number"},description:""},iconClassName:{required:!1,tsType:{name:"string"},description:""}},composes:["AnchorHTMLAttributes"]};const BackgroundField=({Copiable,toCopy,header,children,QRable,highlited,withoutBorder,Explorable,toExplore})=>{const{isMobile}=(0,useWindowDimensions.A)();return(0,jsx_runtime.jsxs)("div",{className:"relative w-full",children:[highlited&&(0,jsx_runtime.jsx)("div",{className:"absolute -inset-2",children:(0,jsx_runtime.jsx)("div",{className:"animate-pulse w-full h-full mx-auto rotate-180 opacity-30 blur-lg filter",style:{background:"linear-gradient(90deg, #E42575 -0.55%, #A6335E 22.86%, #E42575 48.36%, #ED6EA3 73.33%, #E42575 99.34%)"}})}),(0,jsx_runtime.jsxs)("div",{className:"w-full relative px-3 py-3 shadow-xs "+(withoutBorder?"border-secondary-700":"border-secondary-500 rounded-md border bg-secondary-700"),children:[header&&(0,jsx_runtime.jsx)("p",{className:"block font-semibold text-sm text-secondary-text",children:header}),(0,jsx_runtime.jsxs)("div",{className:"flex items-center justify-between w-full mt-1 space-x-2",children:[children,(0,jsx_runtime.jsxs)("div",{className:"space-x-2 flex self-start",children:[QRable&&toCopy&&(0,jsx_runtime.jsx)(QRCodeWallet,{qrUrl:null==toCopy?void 0:toCopy.toLocaleString(),iconSize:isMobile?20:16,className:" text-secondary-text bg-secondary-text/10 p-1.5 hover:text-primary-text rounded-sm"}),Copiable&&toCopy&&(0,jsx_runtime.jsx)(copyButton.A,{iconSize:isMobile?20:16,toCopy,className:" text-secondary-text bg-secondary-text/10 p-1.5 hover:text-primary-text rounded-sm"}),Explorable&&toExplore&&(0,jsx_runtime.jsx)(exploreButton,{href:toExplore,target:"_blank",iconSize:isMobile?20:16,className:" text-secondary-text bg-secondary-text/10 p-1.5 hover:text-primary-text rounded-sm"})]})]})]})]})};BackgroundField.__docgenInfo={description:"",methods:[],displayName:"BackgroundField",props:{Copiable:{required:!1,tsType:{name:"boolean"},description:""},QRable:{required:!1,tsType:{name:"boolean"},description:""},Explorable:{required:!1,tsType:{name:"boolean"},description:""},toCopy:{required:!1,tsType:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},description:""},toExplore:{required:!1,tsType:{name:"string"},description:""},header:{required:!1,tsType:{name:"union",raw:"JSX.Element | JSX.Element[] | string",elements:[{name:"JSX.Element"},{name:"Array",elements:[{name:"JSX.Element"}],raw:"JSX.Element[]"},{name:"string"}]},description:""},highlited:{required:!1,tsType:{name:"boolean"},description:""},withoutBorder:{required:!1,tsType:{name:"boolean"},description:""},children:{required:!0,tsType:{name:"union",raw:"JSX.Element | JSX.Element[]",elements:[{name:"JSX.Element"},{name:"Array",elements:[{name:"JSX.Element"}],raw:"JSX.Element[]"}]},description:""}}};const DocInFrameSceleton=()=>{var _this;return(0,jsx_runtime.jsx)("div",{className:"shadow-sm rounded-md w-full mx-auto px-2 md:px-4",children:(0,jsx_runtime.jsx)("div",{className:"animate-pulse flex space-x-4",children:(0,jsx_runtime.jsxs)("div",{className:"flex-1 items-center space-y-6 py-1 content-start",children:[(0,jsx_runtime.jsx)("div",{className:"h-4 mx-auto w-1/2 place-self-center justify-self-center self-center bg-slate-700 rounded-sm mb-4"}),(0,jsx_runtime.jsx)("div",{className:"space-y-6",children:null===(_this=[...Array(8)])||void 0===_this?void 0:_this.map((item,index)=>(0,jsx_runtime.jsxs)("div",{className:"space-y-4",children:[(0,jsx_runtime.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[(0,jsx_runtime.jsx)("div",{className:"h-2 bg-slate-700 rounded-sm col-span-2"}),(0,jsx_runtime.jsx)("div",{className:"h-2 bg-slate-700 rounded-sm col-span-1"})]}),(0,jsx_runtime.jsx)("div",{className:"h-2 bg-slate-700 rounded-sm"})]},index))})]})})})};function DocIframe({URl,onConfirm,className}){const[loading,setLoading]=(0,react.useState)(!0);return(0,jsx_runtime.jsxs)("div",{className:"flex flex-col justify-between space-y-4 h-full",children:[loading&&(0,jsx_runtime.jsx)(DocInFrameSceleton,{}),(0,jsx_runtime.jsx)("div",{className:"h-full",children:(0,jsx_runtime.jsx)("iframe",{onLoad:()=>{setLoading(!1)},height:"100%",allow:"clipboard-write",src:URl,className:(loading?"invisible h-0 w-0":`visible animate-fade-in-down ${className}`)+" h-full md:min-h-full border-0 self-center w-full sm:rounded-md"})}),!loading&&(0,jsx_runtime.jsxs)("a",{target:"_blank",href:URl,onClick:onConfirm,className:"shadowed-button flex justify-center items-center mt-3 group disabled:white disabled:bg-primary-600 disabled:cursor-not-allowed text-primary relative w-full font-semibold focus:outline-hidden",children:[(0,jsx_runtime.jsx)("span",{children:"View in new tab"}),(0,jsx_runtime.jsx)(external_link.A,{className:"ml-2 h-5 w-5"})]})]})}DocInFrameSceleton.__docgenInfo={description:"",methods:[],displayName:"DocInFrameSceleton"},DocIframe.__docgenInfo={description:"",methods:[],displayName:"DocIframe",props:{URl:{required:!0,tsType:{name:"string"},description:""},className:{required:!1,tsType:{name:"string"},description:""},onConfirm:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};var modal=__webpack_require__("./components/modal/modal.tsx");function GuideLink({userGuideUrl,text,button,buttonClassNames}){const[showGuide,setShowGuide]=(0,react.useState)(!1);return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[button?(0,jsx_runtime.jsx)(secondaryButton.A,{onClick:()=>setShowGuide(!0),className:buttonClassNames,children:button}):(0,jsx_runtime.jsxs)("span",{className:"text-primary cursor-pointer hover:text-primary-400",onClick:()=>setShowGuide(!0),children:[" ",(0,jsx_runtime.jsx)("span",{children:text})]}),(0,jsx_runtime.jsx)(modal.A,{className:"bg-[#181c1f]",height:"full",header:text||button,show:showGuide,setShow:setShowGuide,modalId:"guide",children:(0,jsx_runtime.jsx)(DocIframe,{onConfirm:()=>setShowGuide(!1),URl:userGuideUrl})})]})}GuideLink.__docgenInfo={description:"",methods:[],displayName:"GuideLink",props:{userGuideUrl:{required:!0,tsType:{name:"string"},description:""},text:{required:!1,tsType:{name:"string"},description:""},button:{required:!1,tsType:{name:"ReactNode"},description:""},buttonClassNames:{required:!1,tsType:{name:"string"},description:""}}};var WalletIcon=__webpack_require__("./components/icons/WalletIcon.tsx"),submitButton=__webpack_require__("./components/buttons/submitButton.tsx"),loader_circle=__webpack_require__("./node_modules/lucide-react/dist/esm/icons/loader-circle.js"),Message=__webpack_require__("./components/Swap/Withdraw/messages/Message.tsx"),WalletModal=__webpack_require__("./components/WalletModal/index.tsx"),zustand_esm=__webpack_require__("./node_modules/zustand/esm/index.mjs"),middleware=__webpack_require__("./node_modules/zustand/esm/middleware.mjs");const useSwapTransactionStore=(0,zustand_esm.vt)((0,middleware.Zr)(set=>({swapTransactions:{},setSwapTransaction:(Id,status,txHash,failReason)=>{set(state=>({swapTransactions:{...state.swapTransactions,[Id]:{hash:txHash,status,failReason,timestamp:Date.now()}}}))},removeSwapTransaction:id=>{set(state=>{const{[id]:deletedTransaction,...remainingTransactions}=state.swapTransactions;return{swapTransactions:remainingTransactions}})}}),{name:"swapTransactions",storage:(0,middleware.KU)(()=>localStorage)}));(0,zustand_esm.vt)((0,middleware.Zr)((set,get)=>({swapTransactions:{},setSwapDepositHintClicked:Id=>{set(state=>({swapTransactions:{...state.swapTransactions,[Id]:!0}}))}}),{name:"swapDepositHintClicked",storage:(0,middleware.KU)(()=>sessionStorage)}));var sleep=__webpack_require__("./lib/wallets/utils/sleep.ts"),numbers=__webpack_require__("./components/utils/numbers.ts");const WalletWithdrawalContext=react.createContext(null),WithdrawalProvider=({onWalletWithdrawalSuccess,children})=>(0,jsx_runtime.jsx)(WalletWithdrawalContext.Provider,{value:{onWalletWithdrawalSuccess},children});WithdrawalProvider.__docgenInfo={description:"",methods:[],displayName:"WithdrawalProvider",props:{onWalletWithdrawalSuccess:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}}};var buttons_console=__webpack_require__("./node_modules/console-browserify/index.js");const ConnectWalletButton=({...props})=>{const{swapBasicData}=(0,swap.MJ)(),{source_network}=swapBasicData||{},[loading,setLoading]=(0,react.useState)(!1),{provider}=(0,useWallet.A)(source_network,"withdrawal"),{connect}=(0,WalletModal.V)(),clickHandler=(0,react.useCallback)(async()=>{try{if(setLoading(!0),!provider)throw new Error(`No provider from ${null==source_network?void 0:source_network.name}`);await connect(provider)}catch(e){react_hot_toast_dist.Ay.error(e.message)}finally{setLoading(!1)}},[provider]);var _props_onClick,_props_icon;return(0,jsx_runtime.jsx)(ButtonWrapper,{onClick:null!==(_props_onClick=props.onClick)&&void 0!==_props_onClick?_props_onClick:clickHandler,icon:loading?(0,jsx_runtime.jsx)(loader_circle.A,{className:"h-6 w-6 animate-spin"}):null!==(_props_icon=props.icon)&&void 0!==_props_icon?_props_icon:(0,jsx_runtime.jsx)(WalletIcon.A,{className:"stroke-2 w-6 h-6"}),isDisabled:loading||props.isDisabled,isSubmitting:loading||props.isSubmitting,...props,children:"Send from wallet"})},ChangeNetworkMessage=({data,network})=>data.isPending?(0,jsx_runtime.jsx)(Message.A,{status:"pending",header:"Network switch required",details:"Confirm switching the network with your wallet"}):data.isError?(0,jsx_runtime.jsx)(Message.A,{status:"error",header:"Network switch failed",details:`Please try again or switch your wallet network manually to ${network}`}):void 0,ChangeNetworkButton=props=>{const{chainId,network}=props,[error,setError]=(0,react.useState)(null),[isPending,setIsPending]=(0,react.useState)(!1),selectedSourceAccount=(0,balanceAccounts.wz)("from",null==network?void 0:network.name),{wallets}=(0,useWallet.A)(network,"withdrawal"),clickHandler=(0,react.useCallback)(async()=>{try{setIsPending(!0);const selectedWallet=wallets.find(w=>w.id===(null==selectedSourceAccount?void 0:selectedSourceAccount.id));if(!selectedWallet)throw new Error(`No selectedWallet for ${null==network?void 0:network.name}`);if(!selectedSourceAccount)throw new Error(`No selectedSourceAccount for ${null==network?void 0:network.name}`);if(!selectedSourceAccount.provider.switchChain)throw new Error(`No switchChain from ${null==network?void 0:network.name}`);return await selectedSourceAccount.provider.switchChain(selectedWallet,chainId)}catch(e){setError(e)}finally{setIsPending(!1)}},[selectedSourceAccount,chainId]);return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(ChangeNetworkMessage,{data:{isPending,isError:!!error,error},network:network.display_name}),!isPending&&(0,jsx_runtime.jsx)(ButtonWrapper,{onClick:clickHandler,icon:(0,jsx_runtime.jsx)(WalletIcon.A,{className:"stroke-2 w-6 h-6"}),children:error?(0,jsx_runtime.jsx)("span",{children:"Try again"}):(0,jsx_runtime.jsx)("span",{children:"Switch network"})})]})},ButtonWrapper=({...props})=>(0,jsx_runtime.jsx)(submitButton.Ay,{text_align:"center",buttonStyle:"filled",size:"medium",type:"button",className:"text-primary-text text-base",...props,children:props.children}),SendTransactionButton=({error,onClick,swapData,refuel,...props})=>{var _swapData_source_network;const[actionStateText,setActionStateText]=(0,react.useState)(),[loading,setLoading]=(0,react.useState)(!1),{quote,quoteIsLoading,quoteError}=(0,swap.MJ)(),{createSwap,setSwapId,setQuoteLoading}=(0,swap.wQ)(),{setSwapTransaction}=useSwapTransactionStore(),query=(0,context_query.ZA)(),{onWalletWithdrawalSuccess}=function useWalletWithdrawalState(){const data=react.useContext(WalletWithdrawalContext);if(null===data)throw new Error("useWalletWithdrawalState must be used within a WithdrawalProvider");return data}(),selectedSourceAccount=(0,balanceAccounts.wz)("from",null===(_swapData_source_network=swapData.source_network)||void 0===_swapData_source_network?void 0:_swapData_source_network.name),{wallets}=(0,useWallet.A)(swapData.source_network,"withdrawal");return quoteIsLoading||loading?(0,jsx_runtime.jsx)(ButtonWrapper,{...props,isSubmitting:!0,isDisabled:!0,children:actionStateText||"Preparing"}):(0,jsx_runtime.jsx)(ButtonWrapper,{...props,isSubmitting:props.isSubmitting||loading||quoteIsLoading,onClick:async()=>{try{var _newSwapData_swap,_newSwapData_swap1,_newSwapData_swap2;const selectedWallet=wallets.find(w=>w.id===(null==selectedSourceAccount?void 0:selectedSourceAccount.id));if(!selectedSourceAccount)throw new Error("Selected source account is undefined");if(!(null==selectedWallet?void 0:selectedWallet.isActive))throw new Error("Wallet is not active");setLoading(!0),setActionStateText("Preparing"),setSwapId(void 0);const swapValues={amount:swapData.requested_amount.toString(),from:swapData.source_network,to:swapData.destination_network,fromAsset:swapData.source_token,toAsset:swapData.destination_token,refuel,destination_address:swapData.destination_address,depositMethod:"wallet"},newSwapData=await createSwap(swapValues,query),swapId=null==newSwapData||null===(_newSwapData_swap=newSwapData.swap)||void 0===_newSwapData_swap?void 0:_newSwapData_swap.id;if(!swapId)throw new Error("Swap ID is undefined");(0,numbers.y)(null==quote?void 0:quote.receive_amount,newSwapData.quote.receive_amount,2)&&(setActionStateText("Updating quotes"),setQuoteLoading(!0),await(0,sleep.A)(3500),setQuoteLoading(!1)),setActionStateText("Opening Wallet"),setSwapId(swapId);const depositAction=(null==newSwapData?void 0:newSwapData.deposit_actions)&&(null==newSwapData?void 0:newSwapData.deposit_actions[0]),transferProps={amount:null==depositAction?void 0:depositAction.amount,callData:null==depositAction?void 0:depositAction.call_data,depositAddress:null==depositAction?void 0:depositAction.to_address,sequenceNumber:null===(_newSwapData_swap1=newSwapData.swap)||void 0===_newSwapData_swap1?void 0:_newSwapData_swap1.metadata.sequence_number,swapId,userDestinationAddress:null===(_newSwapData_swap2=newSwapData.swap)||void 0===_newSwapData_swap2?void 0:_newSwapData_swap2.destination_address},hash=await onClick(transferProps);hash&&(null==onWalletWithdrawalSuccess||onWalletWithdrawalSuccess(),setSwapTransaction(swapId,layerSwapApiClient.X8.Pending,hash))}catch(e){setSwapId(void 0),buttons_console.log("Error in SendTransactionButton:",e);const swapWithdrawalError=new Error(e);swapWithdrawalError.name="SwapWithdrawalError",swapWithdrawalError.cause=e,dist_module.Ay.capture("$exception",{name:swapWithdrawalError.name,cause:swapWithdrawalError.cause,message:swapWithdrawalError.message,stack:swapWithdrawalError.stack,where:"TransactionError",severity:"error"})}finally{setLoading(!1)}},isDisabled:quoteIsLoading||!!quoteError,children:error?"Try again":"Swap now"})};ConnectWalletButton.__docgenInfo={description:"",methods:[],displayName:"ConnectWalletButton"},ChangeNetworkMessage.__docgenInfo={description:"",methods:[],displayName:"ChangeNetworkMessage",props:{data:{required:!0,tsType:{name:"signature",type:"object",raw:"{\n    error: Error | null;\n    isError: boolean;\n    isPending: boolean;\n}",signature:{properties:[{key:"error",value:{name:"union",raw:"Error | null",elements:[{name:"Error"},{name:"null"}],required:!0}},{key:"isError",value:{name:"boolean",required:!0}},{key:"isPending",value:{name:"boolean",required:!0}}]}},description:""},network:{required:!0,tsType:{name:"string"},description:""}}},ChangeNetworkButton.__docgenInfo={description:"",methods:[],displayName:"ChangeNetworkButton",props:{chainId:{required:!0,tsType:{name:"union",raw:"number | string",elements:[{name:"number"},{name:"string"}]},description:""},network:{required:!0,tsType:{name:"Network"},description:""}}},ButtonWrapper.__docgenInfo={description:"",methods:[],displayName:"ButtonWrapper"},SendTransactionButton.__docgenInfo={description:"",methods:[],displayName:"SendTransactionButton",props:{error:{required:!1,tsType:{name:"boolean"},description:""},onClick:{required:!0,tsType:{name:"signature",type:"function",raw:"(props: TransferProps) => Promise<string | undefined>",signature:{arguments:[{type:{name:"signature",type:"object",raw:"{\n    callData?: string\n    depositAddress?: string\n    amount?: number\n    swapId?: string\n    userDestinationAddress?: string\n    sequenceNumber?: number\n}",signature:{properties:[{key:"callData",value:{name:"string",required:!1}},{key:"depositAddress",value:{name:"string",required:!1}},{key:"amount",value:{name:"number",required:!1}},{key:"swapId",value:{name:"string",required:!1}},{key:"userDestinationAddress",value:{name:"string",required:!1}},{key:"sequenceNumber",value:{name:"number",required:!1}}]}},name:"props"}],return:{name:"Promise",elements:[{name:"union",raw:"string | undefined",elements:[{name:"string"},{name:"undefined"}]}],raw:"Promise<string | undefined>"}}},description:""},swapData:{required:!0,tsType:{name:"signature",type:"object",raw:"{\n    source_network: Network,\n    source_token: Token,\n    source_exchange?: Exchange,\n    destination_network: Network,\n    destination_token: Token,\n    destination_address: string,\n    requested_amount: number,\n    use_deposit_address: boolean,\n\n}",signature:{properties:[{key:"source_network",value:{name:"Network",required:!0}},{key:"source_token",value:{name:"Token",required:!0}},{key:"source_exchange",value:{name:"Exchange",required:!1}},{key:"destination_network",value:{name:"Network",required:!0}},{key:"destination_token",value:{name:"Token",required:!0}},{key:"destination_address",value:{name:"string",required:!0}},{key:"requested_amount",value:{name:"number",required:!0}},{key:"use_deposit_address",value:{name:"boolean",required:!0}}]}},description:""},refuel:{required:!0,tsType:{name:"boolean"},description:""}}};var octagon_alert=__webpack_require__("./node_modules/lucide-react/dist/esm/icons/octagon-alert.js"),icons_scroll=__webpack_require__("./node_modules/lucide-react/dist/esm/icons/scroll.js");function constructIcons(messageType){let iconStyle;switch(messageType){case"warning":iconStyle=(0,jsx_runtime.jsx)(octagon_alert.A,{className:"sm:h-5 h-4 text-primary-text inline sm:block"});break;case"informing":iconStyle=(0,jsx_runtime.jsx)(icons_scroll.A,{className:"sm:h-5 h-4 text-primary-text inline sm:block"})}return iconStyle}const WarningMessage=({children,className,messageType="warning"})=>(0,jsx_runtime.jsx)("div",{className:`flex-col w-full rounded-xl bg-secondary-500 shadow-lg px-3.5 py-3 ${className}`,children:(0,jsx_runtime.jsxs)("div",{className:"flex items-center",children:[(0,jsx_runtime.jsx)("div",{className:"mr-2 hidden sm:inline p-2 rounded-lg bg-secondary-300 text-primary-text",children:constructIcons(messageType)}),(0,jsx_runtime.jsxs)("div",{className:"text-xs sm:text-sm leading-5 "+("warning"==messageType?"font-semibold":" text-primary-text font-normal"),children:[(0,jsx_runtime.jsx)("span",{className:'sm:hidden mr-1 pb-1.5 pt-1 px-1 rounded-md bg-secondary-400 text-primary-text"}',children:constructIcons(messageType)}),(0,jsx_runtime.jsx)("span",{children})]})]})}),components_WarningMessage=WarningMessage;WarningMessage.__docgenInfo={description:"",methods:[],displayName:"WarningMessage",props:{children:{required:!0,tsType:{name:"union",raw:"JSX.Element | JSX.Element[] | string",elements:[{name:"JSX.Element"},{name:"Array",elements:[{name:"JSX.Element"}],raw:"JSX.Element[]"},{name:"string"}]},description:""},messageType:{required:!1,tsType:{name:"union",raw:"'warning' | 'informing'",elements:[{name:"literal",value:"'warning'"},{name:"literal",value:"'informing'"}]},description:"",defaultValue:{value:"'warning'",computed:!1}},className:{required:!1,tsType:{name:"string"},description:""}}};const ImtblxWalletWithdrawStep=({swapBasicData,refuel})=>{const[loading,setLoading]=(0,react.useState)(!1),[transferDone,setTransferDone]=(0,react.useState)(),{source_network,source_token}=swapBasicData,selectedSourceAccount=(0,balanceAccounts.wz)("from",null==source_network?void 0:source_network.name),{wallets}=(0,useWallet.A)(source_network,"withdrawal"),imxAccount=wallets.find(w=>w.id===(null==selectedSourceAccount?void 0:selectedSourceAccount.id)),handleTransfer=(0,react.useCallback)(async({amount,depositAddress,swapId})=>{if(source_network&&depositAddress&&amount){setLoading(!0);try{var _res_result;const imtblClient=new(0,(await Promise.resolve().then(__webpack_require__.bind(__webpack_require__,"./lib/imtbl.ts"))).default)(null==source_network?void 0:source_network.name);if(!source_token)throw new Error("No source currency could be found");const res=await imtblClient.Transfer(amount.toString(),source_token,depositAddress),transactionRes=null==res||null===(_res_result=res.result)||void 0===_res_result?void 0:_res_result[0];if(transactionRes){if("error"==transactionRes.status)(0,react_hot_toast_dist.Ay)(transactionRes.message);else if(transactionRes&&swapId)return setTransferDone(!0),transactionRes.txId.toString()}else(0,react_hot_toast_dist.Ay)("Transfer failed or terminated")}catch(e){throw setLoading(!1),(null==e?void 0:e.message)&&(0,react_hot_toast_dist.Ay)(e.message),e}}},[imxAccount,source_network,source_token]);return imxAccount?(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:(0,jsx_runtime.jsx)("div",{className:"w-full space-y-5 flex flex-col justify-between h-full text-secondary-text",children:(0,jsx_runtime.jsxs)("div",{className:"space-y-4",children:[(0,jsx_runtime.jsxs)(components_WarningMessage,{messageType:"informing",children:[(0,jsx_runtime.jsx)("span",{className:"flex-none",children:"Learn how to send from"}),(0,jsx_runtime.jsx)(GuideLink,{text:null==source_network?void 0:source_network.display_name,userGuideUrl:"https://docs.layerswap.io/user-docs/your-first-swap/off-ramp/send-assets-from-immutablex/"})]}),imxAccount&&(0,jsx_runtime.jsx)(SendTransactionButton,{isDisabled:!(!loading&&!transferDone),isSubmitting:!(!loading&&!transferDone),onClick:handleTransfer,icon:(0,jsx_runtime.jsx)(arrow_left_right.A,{className:"h-5 w-5 ml-2","aria-hidden":"true"}),swapData:swapBasicData,refuel})]})})}):(0,jsx_runtime.jsx)(ConnectWalletButton,{icon:(0,jsx_runtime.jsx)(icons_link.A,{className:"h-5 w-5 ml-2","aria-hidden":"true"})})};ImtblxWalletWithdrawStep.__docgenInfo={description:"",methods:[],displayName:"ImtblxWalletWithdrawStep",props:{swapId:{required:!0,tsType:{name:"union",raw:"string | undefined",elements:[{name:"string"},{name:"undefined"}]},description:""},swapBasicData:{required:!0,tsType:{name:"signature",type:"object",raw:"{\n    source_network: Network,\n    source_token: Token,\n    source_exchange?: Exchange,\n    destination_network: Network,\n    destination_token: Token,\n    destination_address: string,\n    requested_amount: number,\n    use_deposit_address: boolean,\n\n}",signature:{properties:[{key:"source_network",value:{name:"Network",required:!0}},{key:"source_token",value:{name:"Token",required:!0}},{key:"source_exchange",value:{name:"Exchange",required:!1}},{key:"destination_network",value:{name:"Network",required:!0}},{key:"destination_token",value:{name:"Token",required:!0}},{key:"destination_address",value:{name:"string",required:!0}},{key:"requested_amount",value:{name:"number",required:!0}},{key:"use_deposit_address",value:{name:"boolean",required:!0}}]}},description:""},refuel:{required:!0,tsType:{name:"boolean"},description:""},savedTransactionHash:{required:!1,tsType:{name:"string"},description:""}}};const TransactionMessages={ConfirmTransactionMessage:()=>(0,jsx_runtime.jsx)(Message.A,{status:"pending",header:"Confirm in wallet",details:"Please confirm the transaction in your wallet"}),TransactionInProgressMessage:()=>(0,jsx_runtime.jsx)(Message.A,{status:"pending",header:"Transaction in progress",details:"Waiting for your transaction to be published"}),InsufficientFundsMessage:()=>(0,jsx_runtime.jsx)(Message.A,{status:"error",header:"Insufficient funds",details:"The balance of the connected wallet is not enough"}),TransactionRejectedMessage:()=>(0,jsx_runtime.jsx)(Message.A,{status:"error",header:"Transaction rejected",details:"You've rejected the transaction in your wallet. Click “Try again” to open the prompt again."}),WaletMismatchMessage:({address})=>(0,jsx_runtime.jsx)(Message.A,{status:"error",header:"Account mismatch",details:`Select ${(0,ShortenAddress.Ay)(address)} in your wallet, then try again`}),TransactionFailedMessage:()=>(0,jsx_runtime.jsx)(Message.A,{status:"error",header:"Transaction failed",details:"Transfer failed or terminated"}),SwapErrorMessage:({message})=>(0,jsx_runtime.jsx)(Message.A,{status:"error",header:"API error",details:message}),UexpectedErrorMessage:({message})=>(0,jsx_runtime.jsx)(Message.A,{status:"error",header:"Unexpected error",details:message,showInModal:!0}),DifferentAccountsNotAllowedError:({network})=>(0,jsx_runtime.jsx)(Message.A,{status:"error",header:"Action needed",details:`Transfers between ${network} and other chains are only allowed within the same account. Please make sure you&apos;re using the same address on both source and destination.`})},StarknetWalletWithdrawStep=({swapBasicData,refuel})=>{const[error,setError]=(0,react.useState)(),[loading,setLoading]=(0,react.useState)(!1),[transferDone,setTransferDone]=(0,react.useState)(),{source_network,source_token}=swapBasicData,selectedSourceAccount=(0,balanceAccounts.wz)("from",null==source_network?void 0:source_network.name),{wallets}=(0,useWallet.A)(source_network,"withdrawal"),wallet=wallets.find(w=>w.id===(null==selectedSourceAccount?void 0:selectedSourceAccount.id)),handleTransfer=(0,react.useCallback)(async({callData,swapId})=>{if(swapId&&source_token){setLoading(!0);try{var _wallet_metadata_starknetAccount,_wallet_metadata;if(!wallet)throw Error("Starknet wallet not connected");const{transaction_hash:transferTxHash}=await(null==wallet||null===(_wallet_metadata=wallet.metadata)||void 0===_wallet_metadata||null===(_wallet_metadata_starknetAccount=_wallet_metadata.starknetAccount)||void 0===_wallet_metadata_starknetAccount?void 0:_wallet_metadata_starknetAccount.execute(JSON.parse(callData||"")))||{};if(transferTxHash)return setTransferDone(!0),transferTxHash;setError("failedTransfer")}catch(e){throw setLoading(!1),setError(e.message),e}}},[wallet,source_network,source_token]);return wallet?(0,jsx_runtime.jsxs)("div",{className:"w-full space-y-3 flex flex-col justify-between h-full text-secondary-text",children:[(0,jsx_runtime.jsx)(TransactionMessage,{isLoading:loading,error}),!loading&&(0,jsx_runtime.jsx)(SendTransactionButton,{isDisabled:!(!loading&&!transferDone&&wallet),isSubmitting:!(!loading&&!transferDone),onClick:handleTransfer,icon:(0,jsx_runtime.jsx)(WalletIcon.A,{className:"h-6 w-6 stroke-2","aria-hidden":"true"}),refuel,swapData:swapBasicData,error:!!error})]}):(0,jsx_runtime.jsx)(ConnectWalletButton,{})},TransactionMessage=({isLoading,error})=>isLoading?(0,jsx_runtime.jsx)(TransactionMessages.ConfirmTransactionMessage,{}):"An error occurred (USER_REFUSED_OP)"===error||"Execute failed"===error?(0,jsx_runtime.jsx)(TransactionMessages.TransactionRejectedMessage,{}):"failedTransfer"===error?(0,jsx_runtime.jsx)(TransactionMessages.TransactionFailedMessage,{}):error?(0,jsx_runtime.jsx)(TransactionMessages.UexpectedErrorMessage,{message:error}):(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{});StarknetWalletWithdrawStep.__docgenInfo={description:"",methods:[],displayName:"StarknetWalletWithdrawStep",props:{swapId:{required:!0,tsType:{name:"union",raw:"string | undefined",elements:[{name:"string"},{name:"undefined"}]},description:""},swapBasicData:{required:!0,tsType:{name:"signature",type:"object",raw:"{\n    source_network: Network,\n    source_token: Token,\n    source_exchange?: Exchange,\n    destination_network: Network,\n    destination_token: Token,\n    destination_address: string,\n    requested_amount: number,\n    use_deposit_address: boolean,\n\n}",signature:{properties:[{key:"source_network",value:{name:"Network",required:!0}},{key:"source_token",value:{name:"Token",required:!0}},{key:"source_exchange",value:{name:"Exchange",required:!1}},{key:"destination_network",value:{name:"Network",required:!0}},{key:"destination_token",value:{name:"Token",required:!0}},{key:"destination_address",value:{name:"string",required:!0}},{key:"requested_amount",value:{name:"number",required:!0}},{key:"use_deposit_address",value:{name:"boolean",required:!0}}]}},description:""},refuel:{required:!0,tsType:{name:"boolean"},description:""},savedTransactionHash:{required:!1,tsType:{name:"string"},description:""}}};var useAccount=__webpack_require__("./node_modules/wagmi/dist/esm/hooks/useAccount.js"),useConfig=__webpack_require__("./node_modules/wagmi/dist/esm/hooks/useConfig.js"),parseEther=__webpack_require__("./node_modules/viem/_esm/utils/unit/parseEther.js"),node=__webpack_require__("./node_modules/viem/_esm/errors/node.js"),estimateGas=__webpack_require__("./node_modules/viem/_esm/errors/estimateGas.js"),rpc=__webpack_require__("./node_modules/viem/_esm/errors/rpc.js");const EVMWalletWithdraw_resolveError=error=>{var _error_data,_error_cause,_error_cause_cause_cause,_error_cause_cause,_error_cause1;const isInsufficientFundsError="function"==typeof(null==error?void 0:error.walk)&&(null==error?void 0:error.walk(e=>{var _e_data_args,_e_data,_error_cause_cause_cause_message,_error_cause_cause_cause,_error_cause_cause,_error_cause;return e instanceof node.k5||e instanceof estimateGas.W||(null==e||null===(_e_data=e.data)||void 0===_e_data||null===(_e_data_args=_e_data.args)||void 0===_e_data_args?void 0:_e_data_args.some(a=>null==a?void 0:a.includes("amount exceeds")))||(null==error||null===(_error_cause=error.cause)||void 0===_error_cause||null===(_error_cause_cause=_error_cause.cause)||void 0===_error_cause_cause||null===(_error_cause_cause_cause=_error_cause_cause.cause)||void 0===_error_cause_cause_cause||null===(_error_cause_cause_cause_message=_error_cause_cause_cause.message)||void 0===_error_cause_cause_cause_message?void 0:_error_cause_cause_cause_message.includes("amount exceeds"))}));if(isInsufficientFundsError)return"insufficient_funds";if("function"==typeof(null==error?void 0:error.walk)&&(null==error?void 0:error.walk)&&(null==error?void 0:error.walk(e=>e instanceof rpc.vx))instanceof rpc.vx)return"transaction_rejected";const code_name=(null==error?void 0:error.code)||(null==error?void 0:error.name),inner_code=(null==error||null===(_error_data=error.data)||void 0===_error_data?void 0:_error_data.code)||(null==error||null===(_error_cause=error.cause)||void 0===_error_cause?void 0:_error_cause.code)||(null==error||null===(_error_cause1=error.cause)||void 0===_error_cause1||null===(_error_cause_cause=_error_cause1.cause)||void 0===_error_cause_cause||null===(_error_cause_cause_cause=_error_cause_cause.cause)||void 0===_error_cause_cause_cause?void 0:_error_cause_cause_cause.code);return"INSUFFICIENT_FUNDS"===code_name||"UNPREDICTABLE_GAS_LIMIT"===code_name||-32603===code_name&&3===inner_code||-32e3===inner_code||"EstimateGasExecutionError"===code_name||3===code_name?"insufficient_funds":4001===code_name||-1===inner_code?"transaction_rejected":void 0},transactionMessage_TransactionMessage=({wait,transaction,applyingTransaction,activeAddress,selectedSourceAddress,swapError})=>{const transactionResolvedError=EVMWalletWithdraw_resolveError(null==transaction?void 0:transaction.error),hasError=(null==transaction?void 0:transaction.isError)||(null==wait?void 0:wait.isError);if((null==wait?void 0:wait.isPending)||applyingTransaction)return(0,jsx_runtime.jsx)(TransactionMessages.TransactionInProgressMessage,{});if((null==transaction?void 0:transaction.isPending)||applyingTransaction)return(0,jsx_runtime.jsx)(TransactionMessages.ConfirmTransactionMessage,{});if((null==transaction?void 0:transaction.isError)&&"insufficient_funds"===transactionResolvedError)return(0,jsx_runtime.jsx)(TransactionMessages.InsufficientFundsMessage,{});if((null==transaction?void 0:transaction.isError)&&"transaction_rejected"===transactionResolvedError)return(0,jsx_runtime.jsx)(TransactionMessages.TransactionRejectedMessage,{});if(swapError)return(0,jsx_runtime.jsx)(TransactionMessages.SwapErrorMessage,{message:swapError});if(transaction.isError&&activeAddress&&selectedSourceAddress&&(null==activeAddress?void 0:activeAddress.toLowerCase())!==(null==selectedSourceAddress?void 0:selectedSourceAddress.toLowerCase()))return(0,jsx_runtime.jsx)(TransactionMessages.WaletMismatchMessage,{address:selectedSourceAddress});if(hasError){var _transaction_error_data,_transaction_error;const unexpectedError=(null==transaction||null===(_transaction_error=transaction.error)||void 0===_transaction_error||null===(_transaction_error_data=_transaction_error.data)||void 0===_transaction_error_data?void 0:_transaction_error_data.message)||(null==transaction?void 0:transaction.error)||(null==wait?void 0:wait.error);return(0,jsx_runtime.jsx)(TransactionMessages.UexpectedErrorMessage,{message:null==unexpectedError?void 0:unexpectedError.message})}return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{})},transactionMessage=transactionMessage_TransactionMessage;transactionMessage_TransactionMessage.__docgenInfo={description:"",methods:[],displayName:"TransactionMessage",props:{wait:{required:!1,tsType:{name:"signature",type:"object",raw:"{\n    error: Error | null;\n    isError: boolean;\n    isPending: boolean;\n}",signature:{properties:[{key:"error",value:{name:"union",raw:"Error | null",elements:[{name:"Error"},{name:"null"}],required:!0}},{key:"isError",value:{name:"boolean",required:!0}},{key:"isPending",value:{name:"boolean",required:!0}}]}},description:""},transaction:{required:!0,tsType:{name:"signature",type:"object",raw:"{\n    error: Error | null;\n    isError: boolean;\n    isPending: boolean;\n}",signature:{properties:[{key:"error",value:{name:"union",raw:"Error | null",elements:[{name:"Error"},{name:"null"}],required:!0}},{key:"isError",value:{name:"boolean",required:!0}},{key:"isPending",value:{name:"boolean",required:!0}}]}},description:""},applyingTransaction:{required:!0,tsType:{name:"boolean"},description:""},activeAddress:{required:!0,tsType:{name:"union",raw:"string | undefined",elements:[{name:"string"},{name:"undefined"}]},description:""},selectedSourceAddress:{required:!0,tsType:{name:"union",raw:"string | undefined",elements:[{name:"string"},{name:"undefined"}]},description:""},swapError:{required:!1,tsType:{name:"union",raw:"string | null | undefined",elements:[{name:"string"},{name:"null"},{name:"undefined"}]},description:""}}};const mobileRE=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,notMobileRE=/CrOS/,tabletRE=/android|ipad|playbook|silk/i;function isMobile(opts){opts||(opts={});let ua=opts.ua;if(ua||"undefined"==typeof navigator||(ua=navigator.userAgent),ua&&ua.headers&&"string"==typeof ua.headers["user-agent"]&&(ua=ua.headers["user-agent"]),"string"!=typeof ua)return!1;let result=mobileRE.test(ua)&&!notMobileRE.test(ua)||!!opts.tablet&&tabletRE.test(ua);return!result&&opts.tablet&&opts.featureDetect&&navigator&&navigator.maxTouchPoints>1&&-1!==ua.indexOf("Macintosh")&&-1!==ua.indexOf("Safari")&&(result=!0),result}var sendTransaction=__webpack_require__("./node_modules/@wagmi/core/dist/esm/actions/sendTransaction.js");const TransferTokenButton=({savedTransactionHash,chainId,swapData,refuel})=>{const[buttonClicked,setButtonClicked]=(0,react.useState)(!1),config=(0,useConfig.U)(),[error,setError]=(0,react.useState)(),[loading,setLoading]=(0,react.useState)(!1),{swapError}=(0,swap.MJ)(),selectedSourceAccount=(0,balanceAccounts.wz)("from",swapData.source_network.name),{wallets}=(0,useWallet.A)(swapData.source_network,"withdrawal"),wallet=wallets.find(w=>w.id===(null==selectedSourceAccount?void 0:selectedSourceAccount.id)),clickHandler=(0,react.useCallback)(async({amount,callData,depositAddress})=>{setButtonClicked(!0),setError(void 0),setLoading(!0);try{var _wallet_metadata;if(!depositAddress)throw new Error("Missing deposit address");if(null==amount)throw new Error("Missing amount");if(!(null==selectedSourceAccount?void 0:selectedSourceAccount.address))throw new Error("No selected account");const tx={chainId,to:depositAddress,value:(0,parseEther.g)(null==amount?void 0:amount.toString()),gas:void 0,data:callData,account:selectedSourceAccount.address};var _wallet_metadata1;if(isMobile()&&(null==wallet||null===(_wallet_metadata=wallet.metadata)||void 0===_wallet_metadata?void 0:_wallet_metadata.deepLink))window.location.href=null===(_wallet_metadata1=wallet.metadata)||void 0===_wallet_metadata1?void 0:_wallet_metadata1.deepLink,await new Promise(resolve=>setTimeout(resolve,100));const hash=await(0,sendTransaction.v)(config,tx);if(hash)return hash}catch(e){throw setLoading(!1),setError(e),e}},[config,chainId,null==selectedSourceAccount?void 0:selectedSourceAccount.address]),transaction={error,isError:!!error,isPending:loading};return(0,jsx_runtime.jsxs)("div",{className:"w-full space-y-3 flex flex-col justify-between h-full text-primary-text",children:[buttonClicked||swapError?(0,jsx_runtime.jsx)(transactionMessage,{transaction,applyingTransaction:!!savedTransactionHash,activeAddress:null==selectedSourceAccount?void 0:selectedSourceAccount.address,selectedSourceAddress:null==selectedSourceAccount?void 0:selectedSourceAccount.address,swapError}):null,!loading&&(0,jsx_runtime.jsx)(SendTransactionButton,{onClick:clickHandler,error:!!error&&buttonClicked,swapData,refuel})]})},TransferToken=TransferTokenButton;TransferTokenButton.__docgenInfo={description:"",methods:[],displayName:"TransferTokenButton",props:{savedTransactionHash:{required:!1,tsType:{name:"string"},description:""},chainId:{required:!1,tsType:{name:"number"},description:""},swapData:{required:!0,tsType:{name:"signature",type:"object",raw:"{\n    source_network: Network,\n    source_token: Token,\n    source_exchange?: Exchange,\n    destination_network: Network,\n    destination_token: Token,\n    destination_address: string,\n    requested_amount: number,\n    use_deposit_address: boolean,\n\n}",signature:{properties:[{key:"source_network",value:{name:"Network",required:!0}},{key:"source_token",value:{name:"Token",required:!0}},{key:"source_exchange",value:{name:"Exchange",required:!1}},{key:"destination_network",value:{name:"Network",required:!0}},{key:"destination_token",value:{name:"Token",required:!0}},{key:"destination_address",value:{name:"string",required:!0}},{key:"requested_amount",value:{name:"number",required:!0}},{key:"use_deposit_address",value:{name:"boolean",required:!0}}]}},description:""},refuel:{required:!0,tsType:{name:"boolean"},description:""}}};var EVMWalletWithdraw_console=__webpack_require__("./node_modules/console-browserify/index.js");const EVMWalletWithdrawal=({swapBasicData,refuel,swapId})=>{const{source_network,destination_network,destination_address}=swapBasicData,{isConnected,chain:activeChain}=(0,useAccount.F)(),selectedSourceAccount=(0,balanceAccounts.wz)("from",swapBasicData.source_network.name),{sameAccountNetwork}=(0,context_query.ZA)(),{wallets}=(0,useWallet.A)(source_network,"withdrawal"),wallet=wallets.find(w=>w.id===(null==selectedSourceAccount?void 0:selectedSourceAccount.id));var _Number;const networkChainId=null!==(_Number=Number(null==source_network?void 0:source_network.chain_id))&&void 0!==_Number?_Number:void 0,[savedTransactionHash,setSavedTransactionHash]=(0,react.useState)();if((0,react.useEffect)(()=>{if(swapId)try{var _data_swapId;const data=JSON.parse(localStorage.getItem("swapTransactions")||"{}"),hash=null==data||null===(_data_swapId=data[swapId])||void 0===_data_swapId?void 0:_data_swapId.hash;hash&&setSavedTransactionHash(hash)}catch(e){EVMWalletWithdraw_console.error(e.message)}},[swapId]),((null==source_network?void 0:source_network.name.toLowerCase())===(null==sameAccountNetwork?void 0:sameAccountNetwork.toLowerCase())||(null==destination_network?void 0:destination_network.name.toLowerCase())===(null==sameAccountNetwork?void 0:sameAccountNetwork.toLowerCase()))&&(null==selectedSourceAccount?void 0:selectedSourceAccount.address)&&destination_address&&(null==selectedSourceAccount?void 0:selectedSourceAccount.address.toLowerCase())!==(null==destination_address?void 0:destination_address.toLowerCase())){const network=(null==source_network?void 0:source_network.name.toLowerCase())===(null==sameAccountNetwork?void 0:sameAccountNetwork.toLowerCase())?source_network:destination_network;return(0,jsx_runtime.jsx)(TransactionMessages.DifferentAccountsNotAllowedError,{network:null==network?void 0:network.display_name})}return isConnected&&wallet?(null==activeChain?void 0:activeChain.id)!==networkChainId&&source_network?(0,jsx_runtime.jsx)(ChangeNetworkButton,{chainId:networkChainId,network:source_network}):(0,jsx_runtime.jsx)(TransferToken,{swapData:swapBasicData,refuel,chainId:networkChainId,savedTransactionHash}):(0,jsx_runtime.jsx)(ConnectWalletButton,{})};EVMWalletWithdrawal.__docgenInfo={description:"",methods:[],displayName:"EVMWalletWithdrawal",props:{swapId:{required:!0,tsType:{name:"union",raw:"string | undefined",elements:[{name:"string"},{name:"undefined"}]},description:""},swapBasicData:{required:!0,tsType:{name:"signature",type:"object",raw:"{\n    source_network: Network,\n    source_token: Token,\n    source_exchange?: Exchange,\n    destination_network: Network,\n    destination_token: Token,\n    destination_address: string,\n    requested_amount: number,\n    use_deposit_address: boolean,\n\n}",signature:{properties:[{key:"source_network",value:{name:"Network",required:!0}},{key:"source_token",value:{name:"Token",required:!0}},{key:"source_exchange",value:{name:"Exchange",required:!1}},{key:"destination_network",value:{name:"Network",required:!0}},{key:"destination_token",value:{name:"Token",required:!0}},{key:"destination_address",value:{name:"string",required:!0}},{key:"requested_amount",value:{name:"number",required:!0}},{key:"use_deposit_address",value:{name:"boolean",required:!0}}]}},description:""},refuel:{required:!0,tsType:{name:"boolean"},description:""},savedTransactionHash:{required:!1,tsType:{name:"string"},description:""}}};var build=__webpack_require__("./node_modules/zksync/build/index.js"),units_lib_esm=__webpack_require__("./node_modules/ethers/node_modules/@ethersproject/units/lib.esm/index.js"),ethers=__webpack_require__("./lib/ethersToViem/ethers.ts");const ClickTooltip=({text,moreClassNames,side})=>(0,jsx_runtime.jsxs)(popover.AM,{children:[(0,jsx_runtime.jsx)(popover.Wv,{children:(0,jsx_runtime.jsx)(info.A,{className:(0,classNames.x)("h-4 text-secondary-text hover:text-secondary-buttonTextColor",moreClassNames),"aria-hidden":"true",strokeWidth:2.5})}),(0,jsx_runtime.jsx)(popover.hl,{side,className:"text-sm",children:text})]}),Tooltips_ClickTooltip=ClickTooltip;ClickTooltip.__docgenInfo={description:"",methods:[],displayName:"ClickTooltip",props:{text:{required:!0,tsType:{name:"union",raw:"string | JSX.Element | JSX.Element[]",elements:[{name:"string"},{name:"JSX.Element"},{name:"Array",elements:[{name:"JSX.Element"}],raw:"JSX.Element[]"}]},description:""},moreClassNames:{required:!1,tsType:{name:"string"},description:""},side:{required:!1,tsType:{name:"union",raw:"'left' | 'right' | 'top' | 'bottom'",elements:[{name:"literal",value:"'left'"},{name:"literal",value:"'right'"},{name:"literal",value:"'top'"},{name:"literal",value:"'bottom'"}]},description:""}}};const SignatureIcon=props=>(0,jsx_runtime.jsx)("svg",{viewBox:"0 0 1024 1024",version:"1.1",...props,xmlns:"http://www.w3.org/2000/svg",children:(0,jsx_runtime.jsx)("path",{fill:"currentColor",d:"M298.016 128c-24.16 0-45.024 11.744-64 28-19.008 16.256-36.48 38.08-52 66.016C150.976 277.856 128 356.192 128 454.016c0 50.112 11.552 101.76 35.008 142.976 5.088 8.96 13.504 15.008 20 23.008-17.44 21.28-46.016 60.992-46.016 60.992L183.04 727.04s31.712-43.776 52-68c12.896 5.472 24.96 12.992 40 12.992 54.912 0 112.064-24.032 164.992-54.016 16.992 12.992 36.16 22.016 56 22.016 65.728 0 115.776-38.624 151.008-72.992 10.208-9.952 17.088-17.344 24.992-26.016-0.096 8.704-0.384 16.768 2.016 27.008 1.792 7.776 3.936 17.408 12 26.016 8.032 8.576 22.304 13.984 33.984 13.984 23.36 0 36.928-10.784 51.008-20.992 14.08-10.24 27.424-22.528 41.984-34.016C842.112 530.016 873.12 512 896 512v-64c-50.72 0-90.304 29.984-122.016 55.008-14.976 11.84-28.48 22.208-38.976 29.984 0-1.76-0.064-2.144 0-4 0.384-11.648 2.08-24.64 0-38.976a51.936 51.936 0 0 0-10.016-24c-6.656-9.408-21.504-18.016-33.984-18.016-18.048 0-24.704 7.712-31.008 12.992-6.304 5.28-11.136 10.656-16.992 16.992-11.744 12.704-25.824 28.192-41.024 43.008-26.88 26.24-58.464 46.112-92.992 51.008 22.912-18.304 45.824-36.64 62.016-56.992 21.184-26.688 36.992-54.08 36.992-86.016 0-17.92-2.208-42.592-16-65.984C578.208 339.616 548.608 320 512 320c-39.36 0-75.296 19.328-96.992 50.016-21.696 30.656-31.008 69.856-31.008 115.968 0 31.392 7.072 57.44 16.992 80C356.512 589.44 310.4 608 275.008 608 329.152 526.816 384 416.384 384 281.984c0-27.84 0.256-60.672-8.992-90.976-4.64-15.168-11.968-30.56-24.992-43.008C336.96 135.552 317.76 128 297.984 128z m0 64c5.76 0 6.016 1.152 8 3.008 1.92 1.856 4.416 6.528 6.976 14.976 5.152 16.928 7.008 45.44 7.008 72 0 113.344-48.544 212.64-96.992 287.04-1.152-1.856-2.88-2.048-4-4.032C202.432 535.84 192 493.472 192 454.016c0-87.84 21.024-156.064 46.016-201.024 12.48-22.464 25.376-39.04 36.992-48.992 11.584-9.92 21.536-12 23.008-12zM512 384c17.792 0 20.384 4.192 24.992 12 4.608 7.808 7.008 22.144 7.008 32.992 0 8.064-6.784 26.592-23.008 47.008-14.08 17.728-35.584 36.16-58.976 54.016-5.632-12.896-14.016-22.272-14.016-44 0-37.12 7.904-64.32 19.008-80C478.08 390.24 490.56 384 512 384zM128 832v64h768v-64H128z"})}),icons_SignatureIcon=SignatureIcon;SignatureIcon.__docgenInfo={description:"",methods:[],displayName:"SignatureIcon"};var next_link=__webpack_require__("./node_modules/next/link.js"),link_default=__webpack_require__.n(next_link);const ZkSyncWalletWithdrawStep=({swapBasicData,refuel})=>{var _source_network_name_split_,_source_network_name_split,_source_network_name,_wallet_id;const[loading,setLoading]=(0,react.useState)(!1),[syncWallet,setSyncWallet]=(0,react.useState)(),[accountIsActivated,setAccountIsActivated]=(0,react.useState)(!1),[activationFee,setActivationFee]=(0,react.useState)(void 0),{source_network,source_token}=swapBasicData,{chain}=(0,useAccount.F)(),signer=(0,ethers.N)(),{networks:layers}=(0,settings.sI)(),defaultProvider="mainnet"==(null==source_network||null===(_source_network_name=source_network.name)||void 0===_source_network_name||null===(_source_network_name_split=_source_network_name.split("_"))||void 0===_source_network_name_split||null===(_source_network_name_split_=_source_network_name_split[1])||void 0===_source_network_name_split_?void 0:_source_network_name_split_.toLowerCase())?"mainnet":"goerli",l1Network=layers.find(n=>n.name===knownIds.A.Networks.EthereumMainnet||n.name===knownIds.A.Networks.EthereumSepolia),selectedSourceAccount=(0,balanceAccounts.wz)("from",null==source_network?void 0:source_network.name),{wallets}=(0,useWallet.A)(source_network,"withdrawal"),wallet=wallets.find(w=>w.id===(null==selectedSourceAccount?void 0:selectedSourceAccount.id));(0,react.useEffect)(()=>{(null==signer?void 0:signer._address)!==(null==syncWallet?void 0:syncWallet.cachedAddress)&&source_network&&setSyncWallet(null)},[null==signer?void 0:signer._address]);const handleAuthorize=(0,react.useCallback)(async()=>{if(signer){setLoading(!0);try{const syncProvider=await build.getDefaultProvider(defaultProvider),wallet=await build.Wallet.fromEthSigner(signer,syncProvider);if(setAccountIsActivated(await wallet.isSigningKeySet()),!accountIsActivated){let activationFee=await syncProvider.getTransactionFee({ChangePubKey:"ECDSA"},wallet.address(),Number(null==source_token?void 0:source_token.contract));const formatedGas=(0,formatAmount.A)(activationFee.totalFee,Number(null==source_token?void 0:source_token.decimals));let assetUsdPrice=null==source_token?void 0:source_token.price_in_usd;setActivationFee({feeInAsset:formatedGas,feeInUsd:formatedGas*(null!=assetUsdPrice?assetUsdPrice:0)})}setSyncWallet(wallet)}catch(e){(0,react_hot_toast_dist.Ay)(e.message)}finally{setLoading(!1)}}},[signer,defaultProvider,source_token]),activateAccout=(0,react.useCallback)(async()=>{if(syncWallet){setLoading(!0);try{if(await syncWallet.isSigningKeySet())return setAccountIsActivated(!0),void setLoading(!1);const changePubkeyHandle=await syncWallet.setSigningKey({ethAuthType:"ECDSA",feeToken:Number(null==source_token?void 0:source_token.contract)}),receipt=await changePubkeyHandle.awaitReceipt();receipt.success?setAccountIsActivated(!0):receipt.failReason?(0,react_hot_toast_dist.Ay)(receipt.failReason):(0,react_hot_toast_dist.Ay)("Activation failed")}catch(e){(0,react_hot_toast_dist.Ay)(e.message)}finally{setLoading(!1)}}},[syncWallet,source_token]),handleTransfer=(0,react.useCallback)(async({amount,depositAddress,sequenceNumber,swapId})=>{if(swapId&&syncWallet&&depositAddress&&source_token&&sequenceNumber&&amount){setLoading(!0);try{const tf=await(null==syncWallet?void 0:syncWallet.syncTransfer({to:depositAddress,token:source_token.symbol,amount:build.closestPackableTransactionAmount(units_lib_esm.parseUnits(amount.toString(),null==source_token?void 0:source_token.decimals)),validUntil:build.utils.MAX_TIMESTAMP-sequenceNumber}));if(null==tf?void 0:tf.txHash){var _tf_txHash;return null==tf||null===(_tf_txHash=tf.txHash)||void 0===_tf_txHash?void 0:_tf_txHash.replace("sync-tx:","0x")}}catch(e){throw setLoading(!1),(null==e?void 0:e.message)&&(0,react_hot_toast_dist.Ay)(e.message),e}}},[syncWallet,source_token]);return wallet&&"argent"===(null==wallet||null===(_wallet_id=wallet.id)||void 0===_wallet_id?void 0:_wallet_id.toLowerCase())?(0,jsx_runtime.jsx)("div",{className:"rounded-md bg-secondary-800 p-4",children:(0,jsx_runtime.jsxs)("div",{className:"flex",children:[(0,jsx_runtime.jsx)("div",{className:"shrink-0",children:(0,jsx_runtime.jsx)(info.A,{className:"h-5 w-5 text-primary-400","aria-hidden":"true"})}),(0,jsx_runtime.jsxs)("div",{className:"ml-3",children:[(0,jsx_runtime.jsx)("h3",{className:"text-sm font-medium text-primary-text",children:"Please switch to manually"}),(0,jsx_runtime.jsx)("div",{className:"mt-2 text-sm text-secondary-text",children:(0,jsx_runtime.jsxs)("p",{children:[(0,jsx_runtime.jsx)("span",{children:"Automatic transfers from Argent zkSync Lite wallet are not supported now. Choose the manual transfer option and follow the"})," ",(0,jsx_runtime.jsx)(link_default(),{target:"_blank",className:"underline hover:no-underline cursor-pointer hover:text-secondary-text text-primary-text font-light",href:"https://www.youtube.com/watch?v=u_KzSr5v8M8&ab_channel=Layerswap",children:"tutorial"})," ",(0,jsx_runtime.jsx)("span",{children:"for a smooth swap."})]})})]})]})}):signer&&wallet?l1Network&&(null==chain?void 0:chain.id)!==Number(l1Network.chain_id)?(0,jsx_runtime.jsx)(ChangeNetworkButton,{chainId:Number(null==l1Network?void 0:l1Network.chain_id),network:l1Network}):(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:(0,jsx_runtime.jsx)("div",{className:"w-full space-y-5 flex flex-col justify-between h-full text-primary-text",children:(0,jsx_runtime.jsxs)("div",{className:"space-y-4",children:[!syncWallet&&(0,jsx_runtime.jsx)(ButtonWrapper,{isDisabled:loading,isSubmitting:loading,onClick:handleAuthorize,icon:(0,jsx_runtime.jsx)(icons_SignatureIcon,{className:"h-5 w-5 ml-2","aria-hidden":"true"}),children:"Authorize to Send on zkSync"}),syncWallet&&!accountIsActivated&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsxs)("div",{className:"w-full",children:[(0,jsx_runtime.jsxs)("p",{className:"text-base items-center flex font-semibold self-center text-primary-text",children:[(0,jsx_runtime.jsx)("span",{children:"Account Activation"}),(0,jsx_runtime.jsx)(Tooltips_ClickTooltip,{moreClassNames:"text-secondary-text",text:(0,jsx_runtime.jsxs)("p",{children:[(0,jsx_runtime.jsxs)("span",{children:[(0,jsx_runtime.jsx)("span",{children:"The connected address is not "}),(0,jsx_runtime.jsx)("span",{className:"italic",children:"active"}),(0,jsx_runtime.jsxs)("span",{children:[(0,jsx_runtime.jsx)("span",{children:" in the zkSync Lite network."}),(0,jsx_runtime.jsx)("p",{children:"You can learn more about account activation and the associated fee"})]})]}),(0,jsx_runtime.jsx)("a",{target:"_blank",className:"text-primary underline hover:no-underline decoration-primary cursor-pointer",href:"https://docs.zksync.io/userdocs/faq/#what-is-the-account-activation-fee/",children:"in the zkSync Lite FAQ"})]})})]}),(0,jsx_runtime.jsx)("p",{className:"text-sm text-primary-text break-normal",children:"Sign a message to activate your zkSync Lite account."}),(0,jsx_runtime.jsxs)("p",{className:"flex mt-4 w-full justify-between items-center text-sm text-secondary-text",children:[(0,jsx_runtime.jsx)("span",{className:"font-bold sm:inline hidden",children:"One time activation fee"})," ",(0,jsx_runtime.jsx)("span",{className:"font-bold sm:hidden",children:"Fee"})," ",(0,jsx_runtime.jsxs)("span",{className:"text-primary-text text-sm sm:text-base flex items-center",children:[null==activationFee?void 0:activationFee.feeInAsset,null==source_token?void 0:source_token.symbol,(0,jsx_runtime.jsxs)("span",{className:"text-secondary-text text-sm",children:["(",null==activationFee?void 0:activationFee.feeInUsd.toFixed(2),"$)"]})]})]})]}),(0,jsx_runtime.jsx)(ButtonWrapper,{isDisabled:loading,isSubmitting:loading,onClick:activateAccout,icon:(0,jsx_runtime.jsx)(icons_SignatureIcon,{className:"h-5 w-5 ml-2","aria-hidden":"true"}),children:"Sign to activate"})]}),syncWallet&&accountIsActivated&&(0,jsx_runtime.jsx)(SendTransactionButton,{isDisabled:!!loading,isSubmitting:!!loading,onClick:handleTransfer,icon:(0,jsx_runtime.jsx)(arrow_left_right.A,{className:"h-5 w-5 ml-2","aria-hidden":"true"}),swapData:swapBasicData,refuel})]})})}):(0,jsx_runtime.jsx)(ConnectWalletButton,{})};ZkSyncWalletWithdrawStep.__docgenInfo={description:"",methods:[],displayName:"ZkSyncWalletWithdrawStep",props:{swapId:{required:!0,tsType:{name:"union",raw:"string | undefined",elements:[{name:"string"},{name:"undefined"}]},description:""},swapBasicData:{required:!0,tsType:{name:"signature",type:"object",raw:"{\n    source_network: Network,\n    source_token: Token,\n    source_exchange?: Exchange,\n    destination_network: Network,\n    destination_token: Token,\n    destination_address: string,\n    requested_amount: number,\n    use_deposit_address: boolean,\n\n}",signature:{properties:[{key:"source_network",value:{name:"Network",required:!0}},{key:"source_token",value:{name:"Token",required:!0}},{key:"source_exchange",value:{name:"Exchange",required:!1}},{key:"destination_network",value:{name:"Network",required:!0}},{key:"destination_token",value:{name:"Token",required:!0}},{key:"destination_address",value:{name:"string",required:!0}},{key:"requested_amount",value:{name:"number",required:!0}},{key:"use_deposit_address",value:{name:"boolean",required:!0}}]}},description:""},refuel:{required:!0,tsType:{name:"boolean"},description:""},savedTransactionHash:{required:!1,tsType:{name:"string"},description:""}}};var lock=__webpack_require__("./node_modules/lucide-react/dist/esm/icons/lock.js");const fetcher=url=>fetch(url).then(res=>res.json()),useLoopringTokens=()=>{const url=`${LoopringAPI.x.BaseApi}${defs.kF.GET_TOKENS}`,{data:tokens,isLoading}=(0,index.Ay)(url,fetcher,{dedupingInterval:5e5});return{tokens,isLoading}},useActivationData=accountId=>{const{data:loopringBalnce,isLoading:lpBalanceIsLoading}=(accountId=>{const url=`${LoopringAPI.x.BaseApi}${defs.kF.GET_USER_EXCHANGE_BALANCES}?accountId=${accountId}`,{data,isLoading}=(0,index.Ay)(accountId?url:null,fetcher);return{data,isLoading}})(accountId),{data:feeData,isLoading:feeDataIsLoading}=(accountId=>{const url=`${LoopringAPI.x.BaseApi}${defs.kF.GET_OFFCHAIN_FEE_AMT}?accountId=${accountId}&requestType=${defs.$I.UPDATE_ACCOUNT}`,{data,isLoading}=(0,index.Ay)(accountId?url:null,fetcher,{dedupingInterval:1e3});return{data,isLoading}})(accountId),availableBalances=feeData&&(null==loopringBalnce?void 0:loopringBalnce.filter(b=>{var _feeData_fees_find,_feeData_fees;const tfee=null==feeData||null===(_feeData_fees=feeData.fees)||void 0===_feeData_fees||null===(_feeData_fees_find=_feeData_fees.find(f=>f.tokenId===b.tokenId))||void 0===_feeData_fees_find?void 0:_feeData_fees_find.fee;return Number(b.total)>=Number(tfee)}));return{availableBalances,defaultValue:null==availableBalances?void 0:availableBalances[0],loading:lpBalanceIsLoading||feeDataIsLoading,feeData}};var react_select_dist=__webpack_require__("./node_modules/@radix-ui/react-select/dist/index.mjs"),check=__webpack_require__("./node_modules/lucide-react/dist/esm/icons/check.js");const Select=react_select_dist.bL,SelectGroup=react_select_dist.YJ,SelectValue=react_select_dist.WT,SelectTrigger=react.forwardRef(({className,children,...props},ref)=>(0,jsx_runtime.jsxs)(react_select_dist.l9,{ref,className:(0,classNames.x)("flex h-10 w-full items-center justify-between rounded-md border border-slate-300 bg-transparent py-2 px-3 text-sm placeholder:text-secondary-text focus:outline-hidden focus:ring-0 disabled:cursor-not-allowed disabled:opacity-50 dark:border-slate-700 dark:text-primary-text",className),...props,children:[children,(0,jsx_runtime.jsx)(chevron_right.A,{className:"h-4 w-4 text-primary-text"})]}));SelectTrigger.displayName=react_select_dist.l9.displayName;const SelectContent=react.forwardRef(({className,children,...props},ref)=>(0,jsx_runtime.jsx)(react_select_dist.ZL,{children:(0,jsx_runtime.jsx)(react_select_dist.UC,{ref,className:(0,classNames.x)("animate-in fade-in-80 relative z-50 min-w-[8rem] overflow-hidden rounded-md shadow-md ring-1 ring-secondary-500 bg-secondary-700 text-secondary-text",className),...props,children:(0,jsx_runtime.jsx)(react_select_dist.LM,{className:"p-1",children})})}));SelectContent.displayName=react_select_dist.UC.displayName;const SelectLabel=react.forwardRef(({className,...props},ref)=>(0,jsx_runtime.jsx)(react_select_dist.JU,{ref,className:(0,classNames.x)("py-1.5 pr-2 pl-8 text-sm font-semibold text-primary-text-tertiary",className),...props}));SelectLabel.displayName=react_select_dist.JU.displayName;const SelectItem=react.forwardRef(({className,children,...props},ref)=>(0,jsx_runtime.jsxs)(react_select_dist.q7,{ref,className:(0,classNames.x)("relative flex cursor-default select-none items-center rounded-xs py-1.5 pr-2 pl-8 text-sm outline-hidden focus:bg-slate-100 data-disabled:pointer-events-none data-disabled:opacity-50 dark:focus:bg-slate-700",className),...props,children:[(0,jsx_runtime.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,jsx_runtime.jsx)(react_select_dist.VF,{children:(0,jsx_runtime.jsx)(check.A,{className:"h-4 w-4"})})}),(0,jsx_runtime.jsx)(react_select_dist.p4,{children})]}));SelectItem.displayName=react_select_dist.q7.displayName;const SelectSeparator=react.forwardRef(({className,...props},ref)=>(0,jsx_runtime.jsx)(react_select_dist.wv,{ref,className:(0,classNames.x)("-mx-1 my-1 h-px bg-slate-100 dark:bg-slate-700",className),...props}));SelectSeparator.displayName=react_select_dist.wv.displayName,SelectTrigger.__docgenInfo={description:"",methods:[]},SelectContent.__docgenInfo={description:"",methods:[]},SelectLabel.__docgenInfo={description:"",methods:[]},SelectItem.__docgenInfo={description:"",methods:[]},SelectSeparator.__docgenInfo={description:"",methods:[]};const ActivationTokenPicker=({availableBalances,defaultValue,onSelect,feeData,selectedValue})=>{var _feeData_fees_find,_feeData_fees;const{tokens}=useLoopringTokens(),activationCurrencyValues=tokens&&(null==availableBalances?void 0:availableBalances.map(b=>{const loopringToken=null==tokens?void 0:tokens.find(t=>t.tokenId===b.tokenId),symbol=(null==loopringToken?void 0:loopringToken.symbol)||"-",decimals=null==loopringToken?void 0:loopringToken.decimals,details=(0,jsx_runtime.jsx)("p",{className:"text-primary-text-tertiary",children:decimals?`${(0,formatAmount.A)(b.total,decimals)}`:""});return{id:symbol,name:symbol,isAvailable:!0,type:"currency",imgSrc:`https://devlslayerswapbridgesa.blob.core.windows.netlayerswap/currencies/${symbol.toLowerCase()}.png`,baseObject:symbol,details,order:0}}))||[],handleChange=v=>{onSelect(v)};(0,react.useEffect)(()=>{if(!selectedValue&&defaultValue&&tokens){const loopringToken=null==tokens?void 0:tokens.find(t=>t.tokenId===defaultValue.tokenId);loopringToken&&handleChange(null==loopringToken?void 0:loopringToken.symbol)}},[defaultValue,tokens]);const loopringToken=null==tokens?void 0:tokens.find(t=>t.symbol===selectedValue),decimals=null==loopringToken?void 0:loopringToken.decimals,selectedTokenFee=null==feeData||null===(_feeData_fees=feeData.fees)||void 0===_feeData_fees||null===(_feeData_fees_find=_feeData_fees.find(f=>f.token===selectedValue))||void 0===_feeData_fees_find?void 0:_feeData_fees_find.fee,formattedFee=selectedTokenFee&&decimals&&(0,formatAmount.A)(selectedTokenFee,decimals);return(0,jsx_runtime.jsxs)("p",{className:"break-allspace-x-1 flex mt-4 w-full justify-end items-center text-sm text-secondary-text",children:[(0,jsx_runtime.jsx)("span",{className:"font-base sm:inline hidden",children:"One time activation fee"}),(0,jsx_runtime.jsx)("span",{className:"text-primary-text text-sm sm:text-base flex items-center",children:(0,jsx_runtime.jsx)("span",{className:" text-secondary-text text-sm ml-1",children:activationCurrencyValues.length>0?(0,jsx_runtime.jsxs)(Select,{onValueChange:handleChange,value:selectedValue,children:[(0,jsx_runtime.jsx)(SelectTrigger,{className:"w-fit border-none text-primary-text! font-semibold! h-fit! p-0!",children:(0,jsx_runtime.jsx)(SelectValue,{children:(0,jsx_runtime.jsxs)("span",{className:"space-x-1",children:[(0,jsx_runtime.jsx)("span",{children:formattedFee}),(0,jsx_runtime.jsx)("span",{children:selectedValue})]})})}),(0,jsx_runtime.jsx)(SelectContent,{children:(0,jsx_runtime.jsxs)(SelectGroup,{children:[(0,jsx_runtime.jsx)(SelectLabel,{children:"Fee token"}),null==activationCurrencyValues?void 0:activationCurrencyValues.map(cv=>(0,jsx_runtime.jsx)(SelectItem,{value:cv.name,children:(0,jsx_runtime.jsxs)("div",{className:"flex items-center",children:[(0,jsx_runtime.jsx)("div",{className:"shrink-0 h-5 w-5 relative",children:cv&&(0,jsx_runtime.jsx)(ImageWithFallback.o,{src:cv.imgSrc,alt:"From Logo",height:"60",width:"60",className:"rounded-md object-contain"})}),(0,jsx_runtime.jsxs)("div",{className:"mx-1 block",children:[(0,jsx_runtime.jsx)("span",{className:"text-primary-text",children:cv.name})," ",(0,jsx_runtime.jsx)("span",{children:cv.details})]})]})},cv.name))]})})]}):(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{})})})]})};ActivationTokenPicker.__docgenInfo={description:"",methods:[],displayName:"ActivationTokenPicker",props:{availableBalances:{required:!0,tsType:{name:"union",raw:"UserBalanceInfo[] | undefined",elements:[{name:"Array",elements:[{name:"UserBalanceInfo"}],raw:"UserBalanceInfo[]"},{name:"undefined"}]},description:""},defaultValue:{required:!0,tsType:{name:"union",raw:"UserBalanceInfo | undefined",elements:[{name:"UserBalanceInfo"},{name:"undefined"}]},description:""},feeData:{required:!0,tsType:{name:"union",raw:"FeeData | undefined",elements:[{name:"signature",type:"object",raw:"{\n    fees: {\n        token: string;\n        tokenId: number;\n        fee: string;\n        discount: number;\n    }[];\n    gasPrice: string;\n}",signature:{properties:[{key:"fees",value:{name:"Array",elements:[{name:"signature",type:"object",raw:"{\n    token: string;\n    tokenId: number;\n    fee: string;\n    discount: number;\n}",signature:{properties:[{key:"token",value:{name:"string",required:!0}},{key:"tokenId",value:{name:"number",required:!0}},{key:"fee",value:{name:"string",required:!0}},{key:"discount",value:{name:"number",required:!0}}]}}],raw:"{\n    token: string;\n    tokenId: number;\n    fee: string;\n    discount: number;\n}[]",required:!0}},{key:"gasPrice",value:{name:"string",required:!0}}]}},{name:"undefined"}]},description:""},onSelect:{required:!0,tsType:{name:"signature",type:"function",raw:"(v: string | undefined) => void",signature:{arguments:[{type:{name:"union",raw:"string | undefined",elements:[{name:"string"},{name:"undefined"}]},name:"v"}],return:{name:"void"}}},description:""},selectedValue:{required:!0,tsType:{name:"union",raw:"string | undefined",elements:[{name:"string"},{name:"undefined"}]},description:""}}};var AppSettings=__webpack_require__("./lib/AppSettings.ts");const LoopringWalletWithdraw=({swapBasicData,refuel})=>{const[loading,setLoading]=(0,react.useState)(!1),[transferDone,setTransferDone]=(0,react.useState)(),[activationPubKey,setActivationPubKey]=(0,react.useState)(),[selectedActivationAsset,setSelectedActivationAsset]=(0,react.useState)(),{source_network,source_token}=swapBasicData,{isConnected,address:fromAddress,chain}=(0,useAccount.F)(),{account:accInfo,isLoading:loadingAccount,noAccount,mutate:refetchAccount}=(({address})=>{var _accountData_resultInfo;const url=`${LoopringAPI.x.BaseApi}${defs.kF.ACCOUNT_ACTION}?owner=${address}`,{data:accountData,isLoading,mutate}=(0,index.Ay)(address?url:null,fetcher,{dedupingInterval:1e3,refreshInterval:latestData=>(null==latestData?void 0:latestData.frozen)?3e3:0}),noAccount=101002==(null==accountData||null===(_accountData_resultInfo=accountData.resultInfo)||void 0===_accountData_resultInfo?void 0:_accountData_resultInfo.code);return{account:noAccount?void 0:accountData,isLoading,noAccount,mutate}})({address:fromAddress}),{availableBalances,defaultValue,loading:activationDataIsLoading,feeData}=useActivationData(null==accInfo?void 0:accInfo.accountId),[unlockedAccount,setUnlockedAccount]=(0,react.useState)(),{tokens}=useLoopringTokens(),loopringToken=null==tokens?void 0:tokens.find(t=>t.symbol===selectedActivationAsset),config=(0,useConfig.U)();(0,react.useEffect)(()=>{fromAddress&&setUnlockedAccount(void 0)},[fromAddress]);const handleUnlockAccount=(0,react.useCallback)(async()=>{setLoading(!0);try{if(!accInfo)return;const res=await LoopringAPI.x.userAPI.unlockAccount(accInfo,config);setUnlockedAccount(res)}catch(e){throw(0,react_hot_toast_dist.Ay)(e.message),e}finally{setLoading(!1)}},[accInfo,config]),activateAccout=(0,react.useCallback)(async()=>{setLoading(!0);try{if(!accInfo||!selectedActivationAsset||!loopringToken)return;const publicKey=await LoopringAPI.x.userAPI.activateAccount({accInfo,token:{id:null==loopringToken?void 0:loopringToken.tokenId,symbol:null==loopringToken?void 0:loopringToken.symbol}},config);setActivationPubKey(publicKey),await refetchAccount()}catch(e){(0,react_hot_toast_dist.Ay)(e.message)}finally{setLoading(!1)}},[accInfo,selectedActivationAsset,refetchAccount,loopringToken]),handleTransfer=(0,react.useCallback)(async({amount,callData,depositAddress,swapId})=>{setLoading(!0);try{if(!(swapId&&accInfo&&unlockedAccount&&source_token&&amount))return;const transferResult=await LoopringAPI.x.userAPI.transfer({accInfo,amount:amount.toString(),depositAddress,call_data:callData,token:source_token,unlockedAccount},config);if(transferResult.hash)return setTransferDone(!0),transferResult.hash;var _transferResult_resultInfo;(0,react_hot_toast_dist.Ay)((null===(_transferResult_resultInfo=transferResult.resultInfo)||void 0===_transferResult_resultInfo?void 0:_transferResult_resultInfo.message)||"Unexpected error.")}catch(e){setLoading(!1),(null==e?void 0:e.message)&&(0,react_hot_toast_dist.Ay)(e.message)}},[source_network,accInfo,unlockedAccount,source_token]);if(noAccount)return(0,jsx_runtime.jsx)(Message.A,{status:"error",header:"Account is not activated",details:"Make a deposit to your address for activating Loopring account"});if(null==accInfo?void 0:accInfo.frozen)return accInfo.publicKey.x===(null==activationPubKey?void 0:activationPubKey.x)&&accInfo.publicKey.y===(null==activationPubKey?void 0:activationPubKey.y)?(0,jsx_runtime.jsx)(Message.A,{status:"pending",header:"Your account is beeing activated",details:"You will be able to make transfers in 3-5 minutes."}):(0,jsx_runtime.jsx)(Message.A,{status:"pending",header:"Your account is frozen",details:"If you have just activated your account it will be unfrozen in couple of minutes."});if(!isConnected)return(0,jsx_runtime.jsx)(ConnectWalletButton,{});let walletChainId="sandbox"===AppSettings.A.ApiVersion?defs.nU.SEPOLIA:defs.nU.MAINNET;if(source_network&&(null==chain?void 0:chain.id)!==Number(walletChainId))return(0,jsx_runtime.jsx)(ChangeNetworkButton,{chainId:Number(walletChainId),network:source_network});const shouldActivate=accInfo&&!(accInfo.publicKey.x||accInfo.publicKey.y);return!shouldActivate||activationDataIsLoading||availableBalances&&defaultValue&&feeData?(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:(0,jsx_runtime.jsx)("div",{className:"w-full space-y-5 flex flex-col justify-between h-full text-secondary-text",children:(0,jsx_runtime.jsx)("div",{className:"space-y-4",children:accInfo&&unlockedAccount?(0,jsx_runtime.jsx)(SendTransactionButton,{isDisabled:!(!loading&&!transferDone),onClick:handleTransfer,swapData:swapBasicData,refuel}):(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[shouldActivate&&(0,jsx_runtime.jsx)(ActivationTokenPicker,{onSelect:setSelectedActivationAsset,selectedValue:selectedActivationAsset,availableBalances,defaultValue,feeData}),(0,jsx_runtime.jsx)(ButtonWrapper,{isDisabled:loadingAccount||!accInfo||loading||activationDataIsLoading,isSubmitting:loadingAccount||loading,onClick:shouldActivate?activateAccout:handleUnlockAccount,icon:shouldActivate?(0,jsx_runtime.jsx)(icons_SignatureIcon,{className:"h-5 w-5 ml-2","aria-hidden":"true"}):(0,jsx_runtime.jsx)(lock.A,{className:"h-5 w-5 ml-2","aria-hidden":"true"}),children:shouldActivate?(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:"Activate account"}):(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:"Unlock account"})})]})})})}):(0,jsx_runtime.jsx)(Message.A,{status:"error",header:"Not enough fee",details:"The balance of the account is not enough to activate it․"})};LoopringWalletWithdraw.__docgenInfo={description:"",methods:[],displayName:"LoopringWalletWithdraw",props:{swapId:{required:!0,tsType:{name:"union",raw:"string | undefined",elements:[{name:"string"},{name:"undefined"}]},description:""},swapBasicData:{required:!0,tsType:{name:"signature",type:"object",raw:"{\n    source_network: Network,\n    source_token: Token,\n    source_exchange?: Exchange,\n    destination_network: Network,\n    destination_token: Token,\n    destination_address: string,\n    requested_amount: number,\n    use_deposit_address: boolean,\n\n}",signature:{properties:[{key:"source_network",value:{name:"Network",required:!0}},{key:"source_token",value:{name:"Token",required:!0}},{key:"source_exchange",value:{name:"Exchange",required:!1}},{key:"destination_network",value:{name:"Network",required:!0}},{key:"destination_token",value:{name:"Token",required:!0}},{key:"destination_address",value:{name:"string",required:!0}},{key:"requested_amount",value:{name:"number",required:!0}},{key:"use_deposit_address",value:{name:"boolean",required:!0}}]}},description:""},refuel:{required:!0,tsType:{name:"boolean"},description:""},savedTransactionHash:{required:!1,tsType:{name:"string"},description:""}}};var lib=__webpack_require__("./node_modules/@tonconnect/ui-react/lib/index.mjs"),ton_dist=__webpack_require__("./node_modules/@ton/ton/dist/index.js"),client=__webpack_require__("./lib/wallets/ton/client.ts");const TonWalletWithdrawStep=({swapBasicData,refuel})=>{const[loading,setLoading]=(0,react.useState)(!1),{connect}=(0,WalletModal.V)(),{source_network,source_token}=swapBasicData,{provider}=(0,useWallet.A)(source_network,"withdrawal"),[tonConnectUI]=(0,lib.Lg)(),[transactionErrorMessage,setTransactionErrorMessage]=(0,react.useState)(void 0),selectedSourceAccount=(0,balanceAccounts.wz)("from",null==source_network?void 0:source_network.name),{wallets}=(0,useWallet.A)(source_network,"withdrawal"),wallet=wallets.find(w=>w.id===(null==selectedSourceAccount?void 0:selectedSourceAccount.id)),handleConnect=(0,react.useCallback)(async()=>{setLoading(!0),setTransactionErrorMessage(void 0);try{await connect(provider)}catch(e){(0,react_hot_toast_dist.Ay)(e.message)}finally{setLoading(!1)}},[provider]),handleTransfer=(0,react.useCallback)(async({amount,callData,depositAddress,swapId})=>{if(setLoading(!0),setTransactionErrorMessage(void 0),!(swapId&&depositAddress&&source_token&&(null==selectedSourceAccount?void 0:selectedSourceAccount.address)&&callData&&void 0!==amount))return setLoading(!1),void(0,react_hot_toast_dist.Ay)("Something went wrong, please try again.");try{const transaction=await transactionBuilder(amount,source_token,depositAddress,null==selectedSourceAccount?void 0:selectedSourceAccount.address,callData),res=await tonConnectUI.sendTransaction(transaction);if(res)return res.boc}catch(e){throw setLoading(!1),setTransactionErrorMessage(e.message),e}},[source_network,source_token,tonConnectUI]);return wallet?(0,jsx_runtime.jsxs)("div",{className:"w-full space-y-3 flex flex-col justify-between h-full text-primary-text",children:[transactionErrorMessage&&(0,jsx_runtime.jsx)(TonWalletWithdraw_TransactionMessage,{isLoading:loading,error:transactionErrorMessage}),!loading&&(0,jsx_runtime.jsx)(SendTransactionButton,{isDisabled:!!loading,isSubmitting:!!loading,onClick:handleTransfer,error:!!transactionErrorMessage,swapData:swapBasicData,refuel})]}):(0,jsx_runtime.jsx)(ConnectWalletButton,{isDisabled:loading,isSubmitting:loading,onClick:handleConnect})},TonWalletWithdraw_TransactionMessage=({isLoading,error})=>isLoading?(0,jsx_runtime.jsx)(TransactionMessages.ConfirmTransactionMessage,{}):error&&error.includes("Reject request")?(0,jsx_runtime.jsx)(TransactionMessages.TransactionRejectedMessage,{}):error&&error.includes("Transaction was not sent")?(0,jsx_runtime.jsx)(TransactionMessages.TransactionFailedMessage,{}):error?(0,jsx_runtime.jsx)(TransactionMessages.UexpectedErrorMessage,{message:error}):(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{}),transactionBuilder=async(amount,token,depositAddress,sourceAddress,callData)=>{const parsedCallData=JSON.parse(callData);if(token.contract){const destinationAddress=ton_dist.Address.parse(depositAddress),userAddress=ton_dist.Address.parse(sourceAddress),forwardPayload=(0,ton_dist.beginCell)().storeUint(0,32).storeStringTail(parsedCallData.comment).endCell(),body=(0,ton_dist.beginCell)().storeUint(260734629,32).storeUint(0,64).storeCoins(parsedCallData.amount).storeAddress(destinationAddress).storeAddress(destinationAddress).storeBit(0).storeCoins((0,ton_dist.toNano)("0.00002")).storeBit(1).storeRef(forwardPayload).endCell(),jettonMasterAddress=ton_dist.Address.parse(token.contract),jettonMaster=client.A.open(ton_dist.JettonMaster.create(jettonMasterAddress)),jettonAddress=await jettonMaster.getWalletAddress(userAddress);return{validUntil:Math.floor(Date.now()/1e3)+360,messages:[{address:jettonAddress.toString(),amount:(0,ton_dist.toNano)("0.045").toString(),payload:body.toBoc().toString("base64")}]}}{const body=(0,ton_dist.beginCell)().storeUint(0,32).storeStringTail(parsedCallData.comment).endCell();return{validUntil:Math.floor(Date.now()/1e3)+360,messages:[{address:depositAddress,amount:(0,ton_dist.toNano)(amount).toString(),payload:body.toBoc().toString("base64")}]}}};TonWalletWithdrawStep.__docgenInfo={description:"",methods:[],displayName:"TonWalletWithdrawStep",props:{swapId:{required:!0,tsType:{name:"union",raw:"string | undefined",elements:[{name:"string"},{name:"undefined"}]},description:""},swapBasicData:{required:!0,tsType:{name:"signature",type:"object",raw:"{\n    source_network: Network,\n    source_token: Token,\n    source_exchange?: Exchange,\n    destination_network: Network,\n    destination_token: Token,\n    destination_address: string,\n    requested_amount: number,\n    use_deposit_address: boolean,\n\n}",signature:{properties:[{key:"source_network",value:{name:"Network",required:!0}},{key:"source_token",value:{name:"Token",required:!0}},{key:"source_exchange",value:{name:"Exchange",required:!1}},{key:"destination_network",value:{name:"Network",required:!0}},{key:"destination_token",value:{name:"Token",required:!0}},{key:"destination_address",value:{name:"string",required:!0}},{key:"requested_amount",value:{name:"number",required:!0}},{key:"use_deposit_address",value:{name:"boolean",required:!0}}]}},description:""},refuel:{required:!0,tsType:{name:"boolean"},description:""},savedTransactionHash:{required:!1,tsType:{name:"string"},description:""}}};var Ethereum=__webpack_require__("./lib/wallets/paradex/Authorize/Ethereum.ts");const ParadexWalletWithdrawStep=({swapBasicData,refuel})=>{const[loading,setLoading]=(0,react.useState)(!1),{networks}=(0,settings.sI)(),l1Network=networks.find(n=>n.name===knownIds.A.Networks.EthereumMainnet||n.name===knownIds.A.Networks.EthereumSepolia),{source_token}=swapBasicData,{chain}=(0,useAccount.F)(),selectedSourceAccount=(0,balanceAccounts.wz)("from",null==l1Network?void 0:l1Network.name),{wallets}=(0,useWallet.A)(l1Network,"withdrawal"),wallet=wallets.find(w=>w.id===(null==selectedSourceAccount?void 0:selectedSourceAccount.id)),ethersSigner=(0,ethers.N)();return wallet?l1Network&&(null==chain?void 0:chain.id)!==Number(l1Network.chain_id)?(0,jsx_runtime.jsx)(ChangeNetworkButton,{chainId:Number(null==l1Network?void 0:l1Network.chain_id),network:l1Network}):(0,jsx_runtime.jsx)(SendTransactionButton,{isDisabled:!(!loading&&ethersSigner),isSubmitting:!(!loading&&ethersSigner),onClick:async({amount,callData,swapId})=>{if(source_token&&amount&&callData&&swapId&&ethersSigner){setLoading(!0);try{const account=await(0,Ethereum.A)(ethersSigner);if(!account)throw new Error("Account not found");const res=await account.execute(JSON.parse(callData||""),{maxFee:"1000000000000000"});if(res.transaction_hash)return res.transaction_hash}catch(e){if(setLoading(!1),e.message.includes("Contract not found"))throw react_hot_toast_dist.Ay.error("Account not found",{duration:3e4}),e;throw react_hot_toast_dist.Ay.error(e.message,{duration:3e4}),e}}},icon:(0,jsx_runtime.jsx)(WalletIcon.A,{className:"h-5 w-5 stroke-2","aria-hidden":"true"}),swapData:swapBasicData,refuel,children:"Send from EVM wallet"}):(0,jsx_runtime.jsx)(ConnectWalletButton,{})},Evm=ParadexWalletWithdrawStep;ParadexWalletWithdrawStep.__docgenInfo={description:"",methods:[],displayName:"ParadexWalletWithdrawStep",props:{swapId:{required:!0,tsType:{name:"union",raw:"string | undefined",elements:[{name:"string"},{name:"undefined"}]},description:""},swapBasicData:{required:!0,tsType:{name:"signature",type:"object",raw:"{\n    source_network: Network,\n    source_token: Token,\n    source_exchange?: Exchange,\n    destination_network: Network,\n    destination_token: Token,\n    destination_address: string,\n    requested_amount: number,\n    use_deposit_address: boolean,\n\n}",signature:{properties:[{key:"source_network",value:{name:"Network",required:!0}},{key:"source_token",value:{name:"Token",required:!0}},{key:"source_exchange",value:{name:"Exchange",required:!1}},{key:"destination_network",value:{name:"Network",required:!0}},{key:"destination_token",value:{name:"Token",required:!0}},{key:"destination_address",value:{name:"string",required:!0}},{key:"requested_amount",value:{name:"number",required:!0}},{key:"use_deposit_address",value:{name:"boolean",required:!0}}]}},description:""},refuel:{required:!0,tsType:{name:"boolean"},description:""},savedTransactionHash:{required:!1,tsType:{name:"string"},description:""}}};var icons_wallet=__webpack_require__("./node_modules/lucide-react/dist/esm/icons/wallet.js"),Starknet=__webpack_require__("./lib/wallets/paradex/Authorize/Starknet.ts");const StarknetComponent=({swapBasicData,refuel})=>{const[loading,setLoading]=(0,react.useState)(!1),{source_token}=swapBasicData,{networks}=(0,settings.sI)(),starknet=networks.find(n=>n.name===knownIds.A.Networks.StarkNetMainnet||n.name===knownIds.A.Networks.StarkNetGoerli||n.name===knownIds.A.Networks.StarkNetSepolia),selectedSourceAccount=(0,balanceAccounts.wz)("from",null==starknet?void 0:starknet.name),{wallets}=(0,useWallet.A)(starknet,"withdrawal"),wallet=wallets.find(w=>w.id===(null==selectedSourceAccount?void 0:selectedSourceAccount.id)),handleTransfer=(0,react.useCallback)(async({amount,callData,swapId})=>{if(swapId&&source_token){setLoading(!0);try{if(!selectedSourceAccount)throw Error("Starknet wallet not connected");if(null==amount&&!amount)throw Error("No amount");try{var _wallet_metadata;const snAccount=null==wallet||null===(_wallet_metadata=wallet.metadata)||void 0===_wallet_metadata?void 0:_wallet_metadata.starknetAccount;if(!snAccount)throw Error("Starknet account not found");const paradexAccount=await(0,Starknet.M)(snAccount),parsedCallData=JSON.parse(callData||""),res=await paradexAccount.execute(parsedCallData,{maxFee:"1000000000000000"});if(res.transaction_hash)return res.transaction_hash}catch(e){(0,react_hot_toast_dist.Ay)(e.message)}}catch(e){throw setLoading(!1),(null==e?void 0:e.message)&&(0,react_hot_toast_dist.Ay)(e.message),e}}},[null==selectedSourceAccount?void 0:selectedSourceAccount.address,starknet,source_token]);return(0,jsx_runtime.jsx)("div",{className:"w-full space-y-5 flex flex-col justify-between h-full text-secondary-text",children:selectedSourceAccount&&(0,jsx_runtime.jsx)("div",{className:"flex flex-row text-primary-text text-base space-x-2",children:(0,jsx_runtime.jsx)(SendTransactionButton,{isDisabled:!!loading,isSubmitting:!!loading,onClick:handleTransfer,icon:(0,jsx_runtime.jsx)(icons_wallet.A,{className:"h-5 w-5 ml-2","aria-hidden":"true"}),swapData:swapBasicData,refuel,children:"Send from Starknet wallet"})})})},paradex_Starknet=StarknetComponent;StarknetComponent.__docgenInfo={description:"",methods:[],displayName:"StarknetComponent",props:{swapId:{required:!0,tsType:{name:"union",raw:"string | undefined",elements:[{name:"string"},{name:"undefined"}]},description:""},swapBasicData:{required:!0,tsType:{name:"signature",type:"object",raw:"{\n    source_network: Network,\n    source_token: Token,\n    source_exchange?: Exchange,\n    destination_network: Network,\n    destination_token: Token,\n    destination_address: string,\n    requested_amount: number,\n    use_deposit_address: boolean,\n\n}",signature:{properties:[{key:"source_network",value:{name:"Network",required:!0}},{key:"source_token",value:{name:"Token",required:!0}},{key:"source_exchange",value:{name:"Exchange",required:!1}},{key:"destination_network",value:{name:"Network",required:!0}},{key:"destination_token",value:{name:"Token",required:!0}},{key:"destination_address",value:{name:"string",required:!0}},{key:"requested_amount",value:{name:"number",required:!0}},{key:"use_deposit_address",value:{name:"boolean",required:!0}}]}},description:""},refuel:{required:!0,tsType:{name:"boolean"},description:""},savedTransactionHash:{required:!1,tsType:{name:"string"},description:""}}};var ActiveParadexAccount=__webpack_require__("./components/WalletProviders/ActiveParadexAccount.tsx");const ParadexWalletWithdraw=({refuel,swapBasicData,swapId})=>{const{networks}=(0,settings.sI)(),l1Network=networks.find(n=>n.name===knownIds.A.Networks.EthereumMainnet||n.name===knownIds.A.Networks.EthereumSepolia),starknet=networks.find(n=>n.name===knownIds.A.Networks.StarkNetMainnet||n.name===knownIds.A.Networks.StarkNetGoerli||n.name===knownIds.A.Networks.StarkNetSepolia),{activeConnection}=(0,ActiveParadexAccount.gR)(),selectedEvmAccount=(0,balanceAccounts.wz)("from",null==l1Network?void 0:l1Network.name),selectedStarknetAccount=(0,balanceAccounts.wz)("from",null==starknet?void 0:starknet.name),{wallets:evmWallets}=(0,useWallet.A)(l1Network,"withdrawal"),evmWallet=evmWallets.find(w=>w.id===(null==selectedEvmAccount?void 0:selectedEvmAccount.id)),{wallets:starknetWallets}=(0,useWallet.A)(starknet,"withdrawal"),starknetWallet=starknetWallets.find(w=>w.id===(null==selectedStarknetAccount?void 0:selectedStarknetAccount.id));return(null==activeConnection?void 0:activeConnection.providerName)===(null==selectedEvmAccount?void 0:selectedEvmAccount.providerName)&&evmWallet?(0,jsx_runtime.jsx)(Evm,{refuel,swapBasicData,swapId}):(null==activeConnection?void 0:activeConnection.providerName)===(null==selectedStarknetAccount?void 0:selectedStarknetAccount.providerName)&&starknetWallet?(0,jsx_runtime.jsx)(paradex_Starknet,{refuel,swapBasicData,swapId}):(0,jsx_runtime.jsx)(ConnectWalletModal,{})},ConnectWalletModal=()=>{const{swapBasicData}=(0,swap.MJ)(),{source_network}=swapBasicData||{},{provider}=(0,useWallet.A)(source_network,"withdrawal"),{connect}=(0,WalletModal.V)(),selectSourceAccount=(0,balanceAccounts.wM)("from");return(0,jsx_runtime.jsx)(submitButton.Ay,{onClick:async()=>{const result=await connect(provider);result&&selectSourceAccount({id:result.id,address:result.address,providerName:result.providerName})},type:"button",icon:(0,jsx_runtime.jsx)(icons_wallet.A,{className:"h-6 w-6",strokeWidth:2}),children:"Connect a wallet"})};ParadexWalletWithdraw.__docgenInfo={description:"",methods:[],displayName:"ParadexWalletWithdraw",props:{swapId:{required:!0,tsType:{name:"union",raw:"string | undefined",elements:[{name:"string"},{name:"undefined"}]},description:""},swapBasicData:{required:!0,tsType:{name:"signature",type:"object",raw:"{\n    source_network: Network,\n    source_token: Token,\n    source_exchange?: Exchange,\n    destination_network: Network,\n    destination_token: Token,\n    destination_address: string,\n    requested_amount: number,\n    use_deposit_address: boolean,\n\n}",signature:{properties:[{key:"source_network",value:{name:"Network",required:!0}},{key:"source_token",value:{name:"Token",required:!0}},{key:"source_exchange",value:{name:"Exchange",required:!1}},{key:"destination_network",value:{name:"Network",required:!0}},{key:"destination_token",value:{name:"Token",required:!0}},{key:"destination_address",value:{name:"string",required:!0}},{key:"requested_amount",value:{name:"number",required:!0}},{key:"use_deposit_address",value:{name:"boolean",required:!0}}]}},description:""},refuel:{required:!0,tsType:{name:"boolean"},description:""},savedTransactionHash:{required:!1,tsType:{name:"string"},description:""}}};var react_dist=__webpack_require__("./node_modules/@fuels/react/dist/index.mjs"),fuels_dist=__webpack_require__("./node_modules/fuels/dist/index.mjs");const FuelWalletWithdrawStep=({swapBasicData,refuel})=>{const[loading,setLoading]=(0,react.useState)(!1),[buttonClicked,setButtonClicked]=(0,react.useState)(!1),[error,setError]=(0,react.useState)(),{source_network,source_token}=swapBasicData,{provider}=(0,useWallet.A)(source_network,"withdrawal"),selectedSourceAccount=(0,balanceAccounts.wz)("from",null==source_network?void 0:source_network.name),{network:fuelNetwork,refetch:refetchNetwork}=(0,react_dist.AE)(),networkChainId=Number(null==source_network?void 0:source_network.chain_id),{fuel}=(0,react_dist.SQ)(),{wallets}=(0,useWallet.A)(source_network,"withdrawal"),wallet=wallets.find(w=>w.id===(null==selectedSourceAccount?void 0:selectedSourceAccount.id)),activeChainId=(null==fuelNetwork?void 0:fuelNetwork.chainId)||((null==fuelNetwork?void 0:fuelNetwork.url.includes("testnet"))?0:9889);(0,react.useEffect)(()=>{selectedSourceAccount&&(null==selectedSourceAccount?void 0:selectedSourceAccount.address)&&wallet&&((null==provider?void 0:provider.switchAccount)&&(null==provider||provider.switchAccount(wallet,null==selectedSourceAccount?void 0:selectedSourceAccount.address)),refetchNetwork())},[selectedSourceAccount]);const handleTransfer=(0,react.useCallback)(async({amount,callData,depositAddress,swapId})=>{setButtonClicked(!0),setError(void 0);try{var _source_network_metadata;if(setLoading(!0),!source_network)throw Error("Network not found");if(!depositAddress)throw Error("Deposit address not found");if(!(null===(_source_network_metadata=source_network.metadata)||void 0===_source_network_metadata?void 0:_source_network_metadata.watchdog_contract))throw Error("Watchdog contract not found");if(!amount)throw Error("Amount not found");if(!source_token)throw Error("Token not found");if(!callData)throw Error("Call data not found");if(!(null==selectedSourceAccount?void 0:selectedSourceAccount.address))throw Error("No selected account");const fuelProvider=new fuels_dist.Provider(source_network.node_url),fuelWallet=await fuel.getWallet(selectedSourceAccount.address,fuelProvider);if(!fuelWallet)throw Error("Fuel wallet not found");var parsedCallData=JSON.parse(callData),scriptTransaction=fuels_dist.bi7.from(parsedCallData.script),quantitiesParsed=parsedCallData.quantities.map(q=>(0,fuels_dist.cNE)(q));await scriptTransaction.estimateAndFund(fuelWallet,{quantities:quantitiesParsed}),await fuelProvider.simulate(scriptTransaction);const transactionResponse=await fuelWallet.sendTransaction(scriptTransaction);if(swapId&&transactionResponse)return transactionResponse.id}catch(e){throw setLoading(!1),(null==e?void 0:e.message)&&setError(e.message),e}},[source_network,selectedSourceAccount,source_token,fuel]);return selectedSourceAccount?source_network&&void 0!==activeChainId&&networkChainId!==activeChainId?(0,jsx_runtime.jsx)(FuelWalletWithdrawal_ChangeNetworkButton,{onChange:refetchNetwork,chainId:networkChainId,network:source_network.display_name}):(0,jsx_runtime.jsxs)("div",{className:"w-full space-y-3 flex flex-col justify-between h-full text-primary-text",children:[buttonClicked&&(0,jsx_runtime.jsx)(FuelWalletWithdrawal_TransactionMessage,{error,isLoading:loading}),!loading&&(0,jsx_runtime.jsx)(SendTransactionButton,{isDisabled:!!loading,isSubmitting:!!loading,onClick:handleTransfer,swapData:swapBasicData,refuel})]}):(0,jsx_runtime.jsx)(ConnectWalletButton,{})},FuelWalletWithdrawal_ChangeNetworkButton=({chainId,network,onChange})=>{const{selectNetworkAsync,error,isPending,isError}=(0,react_dist.SF)(),clickHandler=(0,react.useCallback)(async()=>{await selectNetworkAsync({chainId}),onChange()},[selectNetworkAsync,chainId]);return(0,jsx_runtime.jsxs)("div",{className:"w-full space-y-3 flex flex-col justify-between h-full text-primary-text",children:[(0,jsx_runtime.jsx)(ChangeNetworkMessage,{data:{isPending,isError,error},network}),!isPending&&(0,jsx_runtime.jsx)(ButtonWrapper,{onClick:clickHandler,children:error?(0,jsx_runtime.jsx)("span",{children:"Try again"}):(0,jsx_runtime.jsx)("span",{children:"Switch network"})})]})},FuelWalletWithdrawal_TransactionMessage=({isLoading,error})=>isLoading?(0,jsx_runtime.jsx)(TransactionMessages.ConfirmTransactionMessage,{}):"The account(s) sending the transaction don't have enough funds to cover the transaction."===error||"the target cannot be met due to no coins available or exceeding the 255 coin limit."===error?(0,jsx_runtime.jsx)(TransactionMessages.InsufficientFundsMessage,{}):"Request cancelled without user response!"===error||"User rejected the transaction!"===error||"User canceled sending transaction"===error?(0,jsx_runtime.jsx)(TransactionMessages.TransactionRejectedMessage,{}):error?(0,jsx_runtime.jsx)(TransactionMessages.UexpectedErrorMessage,{message:error}):(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{});FuelWalletWithdrawStep.__docgenInfo={description:"",methods:[],displayName:"FuelWalletWithdrawStep",props:{swapId:{required:!0,tsType:{name:"union",raw:"string | undefined",elements:[{name:"string"},{name:"undefined"}]},description:""},swapBasicData:{required:!0,tsType:{name:"signature",type:"object",raw:"{\n    source_network: Network,\n    source_token: Token,\n    source_exchange?: Exchange,\n    destination_network: Network,\n    destination_token: Token,\n    destination_address: string,\n    requested_amount: number,\n    use_deposit_address: boolean,\n\n}",signature:{properties:[{key:"source_network",value:{name:"Network",required:!0}},{key:"source_token",value:{name:"Token",required:!0}},{key:"source_exchange",value:{name:"Exchange",required:!1}},{key:"destination_network",value:{name:"Network",required:!0}},{key:"destination_token",value:{name:"Token",required:!0}},{key:"destination_address",value:{name:"string",required:!0}},{key:"requested_amount",value:{name:"number",required:!0}},{key:"use_deposit_address",value:{name:"boolean",required:!0}}]}},description:""},refuel:{required:!0,tsType:{name:"boolean"},description:""},savedTransactionHash:{required:!1,tsType:{name:"string"},description:""}}};var esm_useWallet=__webpack_require__("./node_modules/@tronweb3/tronwallet-adapter-react-hooks/lib/esm/useWallet.js"),tronweb_lib_esm=__webpack_require__("./node_modules/tronweb/lib/esm/index.js"),TronWalletWithdraw_Buffer=__webpack_require__("./node_modules/buffer/index.js").Buffer;const TronWalletWithdraw=({swapBasicData,refuel})=>{const[loading,setLoading]=(0,react.useState)(!1),[error,setError]=(0,react.useState)(),{source_network,source_token}=swapBasicData,selectedSourceAccount=(0,balanceAccounts.wz)("from",null==source_network?void 0:source_network.name),{wallets}=(0,useWallet.A)(source_network,"withdrawal"),wallet=wallets.find(w=>w.id===(null==selectedSourceAccount?void 0:selectedSourceAccount.id)),{wallet:tronWallet,signTransaction}=(0,esm_useWallet.v)(),walletAddress=null==tronWallet?void 0:tronWallet.adapter.address,tronNode=null==source_network?void 0:source_network.node_url,networkName=null==source_network?void 0:source_network.name,{networks}=(0,settings.sI)(),networkWithTokens=networks.find(n=>n.name===networkName),{gasData,isGasLoading}=gases_useSWRGas(walletAddress,networkWithTokens,source_token,swapBasicData.requested_amount,wallet),handleTransfer=(0,react.useCallback)(async({amount,callData,depositAddress,swapId})=>{setError(void 0),setLoading(!0);try{if(!(signTransaction&&swapId&&depositAddress&&amount&&source_token))throw new Error("Missing data");if(!walletAddress)throw new Error("Tron wallet not connected");if(!callData)throw new Error("No call data provided");const tronWeb=new tronweb_lib_esm.TronWeb({fullNode:tronNode,solidityNode:tronNode}),amountInWei=Math.pow(10,null==source_token?void 0:source_token.decimals)*amount,initialTransaction=await buildInitialTransaction({tronWeb,token:source_token,depositAddress,amountInWei,gas:null==gasData?void 0:gasData.gas,issuerAddress:walletAddress}),data=TronWalletWithdraw_Buffer.from(callData).toString("hex"),transaction=await tronWeb.transactionBuilder.addUpdateData(initialTransaction,data,"hex"),signature=await signTransaction(transaction),res=await tronWeb.trx.sendRawTransaction(signature);if(signature&&res.result)return signature.txID;throw new Error(res.code.toString())}catch(e){var _e_logs;if(setLoading(!1),null==e?void 0:e.message)(null==e||null===(_e_logs=e.logs)||void 0===_e_logs?void 0:_e_logs.some(m=>null==m?void 0:m.includes("insufficient funds")))||e.message.includes("Attempt to debit an account")?setError("insufficientFunds"):setError(e.message);throw e}},[walletAddress,signTransaction,source_network,gasData,source_token]);return wallet&&walletAddress?(0,jsx_runtime.jsxs)("div",{className:"w-full space-y-3 flex flex-col justify-between h-full text-primary-text",children:[(0,jsx_runtime.jsx)(TronWalletWithdraw_TransactionMessage,{error,isLoading:loading}),wallet&&!loading&&(0,jsx_runtime.jsx)(SendTransactionButton,{isDisabled:!!loading||isGasLoading,isSubmitting:!!loading||isGasLoading,onClick:handleTransfer,error:!!error,refuel,swapData:swapBasicData})]}):(0,jsx_runtime.jsx)(ConnectWalletButton,{})},TronWalletWithdraw_TransactionMessage=({isLoading,error})=>isLoading?(0,jsx_runtime.jsx)(TransactionMessages.ConfirmTransactionMessage,{}):"BANDWITH_ERROR"===error?(0,jsx_runtime.jsx)(TransactionMessages.InsufficientFundsMessage,{}):"user reject this request"===error?(0,jsx_runtime.jsx)(TransactionMessages.TransactionRejectedMessage,{}):error?(0,jsx_runtime.jsx)(TransactionMessages.UexpectedErrorMessage,{message:error}):(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{}),buildInitialTransaction=async props=>{const{token,depositAddress,amountInWei,gas,issuerAddress,tronWeb}=props;if(!token.contract)return await tronWeb.transactionBuilder.sendTrx(depositAddress,amountInWei,issuerAddress);const estimatedFee=gas&&token&&Number((gas*Math.pow(10,token.decimals)).toFixed());return(await tronWeb.transactionBuilder.triggerSmartContract(token.contract,"transfer(address,uint256)",{feeLimit:estimatedFee||1e8},[{type:"address",value:depositAddress},{type:"uint256",value:amountInWei}],issuerAddress)).transaction};TronWalletWithdraw.__docgenInfo={description:"",methods:[],displayName:"TronWalletWithdraw",props:{swapId:{required:!0,tsType:{name:"union",raw:"string | undefined",elements:[{name:"string"},{name:"undefined"}]},description:""},swapBasicData:{required:!0,tsType:{name:"signature",type:"object",raw:"{\n    source_network: Network,\n    source_token: Token,\n    source_exchange?: Exchange,\n    destination_network: Network,\n    destination_token: Token,\n    destination_address: string,\n    requested_amount: number,\n    use_deposit_address: boolean,\n\n}",signature:{properties:[{key:"source_network",value:{name:"Network",required:!0}},{key:"source_token",value:{name:"Token",required:!0}},{key:"source_exchange",value:{name:"Exchange",required:!1}},{key:"destination_network",value:{name:"Network",required:!0}},{key:"destination_token",value:{name:"Token",required:!0}},{key:"destination_address",value:{name:"string",required:!0}},{key:"requested_amount",value:{name:"number",required:!0}},{key:"use_deposit_address",value:{name:"boolean",required:!0}}]}},description:""},refuel:{required:!0,tsType:{name:"boolean"},description:""},savedTransactionHash:{required:!1,tsType:{name:"string"},description:""}}};var index_browser_esm=__webpack_require__("./node_modules/@solana/web3.js/lib/index.browser.esm.js"),lib_esm_useWallet=__webpack_require__("./node_modules/@solana/wallet-adapter-react/lib/esm/useWallet.js"),retry=__webpack_require__("./lib/retry.ts"),transactionSender_console=__webpack_require__("./node_modules/console-browserify/index.js");const SEND_OPTIONS={skipPreflight:!0};async function transactionSenderAndConfirmationWaiter({connection,serializedTransaction,blockhashWithExpiryBlockHeight}){const txid=await connection.sendRawTransaction(serializedTransaction,SEND_OPTIONS),controller=new AbortController,abortSignal=controller.signal;try{(async()=>{for(;;){if(await(0,sleep.A)(2e3),abortSignal.aborted)return;try{await connection.sendRawTransaction(serializedTransaction,SEND_OPTIONS)}catch(e){transactionSender_console.warn(`Failed to resend transaction: ${e}`)}}})();const lastValidBlockHeight=blockhashWithExpiryBlockHeight.lastValidBlockHeight;await Promise.race([connection.confirmTransaction({...blockhashWithExpiryBlockHeight,lastValidBlockHeight,signature:txid},"confirmed"),new Promise(async resolve=>{for(;!abortSignal.aborted;){var _tx_value;await(0,sleep.A)(2e3);const tx=await connection.getSignatureStatus(txid,{searchTransactionHistory:!1});"confirmed"===(null==tx||null===(_tx_value=tx.value)||void 0===_tx_value?void 0:_tx_value.confirmationStatus)&&resolve(tx)}})])}catch(e){if(e instanceof index_browser_esm.TransactionExpiredBlockheightExceededError)return null;throw e}finally{controller.abort()}return(0,retry.L)(async()=>{const response=await connection.getTransaction(txid,{commitment:"confirmed",maxSupportedTransactionVersion:0});if(!response)throw new Error("Transaction not found");return response})}var useBalance=__webpack_require__("./lib/balances/useBalance.ts");const SVMWalletWithdrawStep=({swapBasicData,refuel})=>{const[loading,setLoading]=(0,react.useState)(!1),[error,setError]=(0,react.useState)(),[insufficientTokens,setInsufficientTokens]=(0,react.useState)([]),{source_network,source_token}=swapBasicData,selectedSourceAccount=(0,balanceAccounts.wz)("from",null==source_network?void 0:source_network.name),{wallets}=(0,useWallet.A)(source_network,"withdrawal"),wallet=wallets.find(w=>w.id===(null==selectedSourceAccount?void 0:selectedSourceAccount.id)),{wallet:solanaWallet,signTransaction}=(0,lib_esm_useWallet.v)(),walletPublicKey=null==solanaWallet?void 0:solanaWallet.adapter.publicKey,solanaNode=null==source_network?void 0:source_network.node_url,networkName=null==source_network?void 0:source_network.name,{networks}=(0,settings.sI)(),networkWithTokens=networks.find(n=>n.name===networkName),{balances}=(0,useBalance.A)(null==selectedSourceAccount?void 0:selectedSourceAccount.address,networkWithTokens),handleTransfer=(0,react.useCallback)(async({amount,callData,swapId})=>{setLoading(!0),setError(void 0);try{var _source_network_token;if(!signTransaction)throw new Error("Missing signTransaction");if(!callData)throw new Error("Missing callData");if(!swapId)throw new Error("Missing swapId");const connection=new index_browser_esm.Connection(`${solanaNode}`,"confirmed"),arrayBufferCallData=Uint8Array.from(atob(callData),c=>c.charCodeAt(0)),transaction=index_browser_esm.Transaction.from(arrayBufferCallData),feeInSol=await transaction.getEstimatedFee(connection)/index_browser_esm.LAMPORTS_PER_SOL,nativeTokenBalance=null==balances?void 0:balances.find(b=>{var _source_network_token;return b.token==(null==source_network||null===(_source_network_token=source_network.token)||void 0===_source_network_token?void 0:_source_network_token.symbol)}),tokenbalanceData=null==balances?void 0:balances.find(b=>b.token==(null==source_token?void 0:source_token.symbol)),tokenBalanceAmount=null==tokenbalanceData?void 0:tokenbalanceData.amount,nativeTokenBalanceAmount=null==nativeTokenBalance?void 0:nativeTokenBalance.amount,insufficientTokensArr=[];var _source_network_token1;if((null==source_network?void 0:source_network.token)&&(Number(nativeTokenBalanceAmount)<feeInSol||isNaN(Number(nativeTokenBalanceAmount))))insufficientTokensArr.push(null===(_source_network_token1=source_network.token)||void 0===_source_network_token1?void 0:_source_network_token1.symbol);(null==source_network||null===(_source_network_token=source_network.token)||void 0===_source_network_token?void 0:_source_network_token.symbol)!==(null==source_token?void 0:source_token.symbol)&&amount&&(null==source_token?void 0:source_token.symbol)&&Number(tokenBalanceAmount)<amount&&insufficientTokensArr.push(null==source_token?void 0:source_token.symbol),setInsufficientTokens(insufficientTokensArr);return await configureAndSendCurrentTransaction(transaction,connection,signTransaction)}catch(e){if("WalletNotConnectedError"==e.name)return await(null==solanaWallet?void 0:solanaWallet.adapter.disconnect()),void setError("Wallet not connected");var _e_logs;if(setLoading(!1),null==e?void 0:e.message)return void((null==e||null===(_e_logs=e.logs)||void 0===_e_logs?void 0:_e_logs.some(m=>null==m?void 0:m.includes("insufficient funds")))||e.message.includes("Attempt to debit an account")?setError("insufficientFunds"):setError(e.message));setError(e.message)}},[walletPublicKey,signTransaction,source_network,source_token,solanaWallet]);return wallet&&walletPublicKey?(0,jsx_runtime.jsxs)("div",{className:"w-full space-y-3 flex flex-col justify-between h-full text-primary-text",children:[(0,jsx_runtime.jsx)(SVMWalletWithdraw_TransactionMessage,{error,isLoading:loading,insufficientTokens}),wallet&&!loading&&(0,jsx_runtime.jsx)(SendTransactionButton,{isDisabled:!!loading,isSubmitting:!!loading,onClick:handleTransfer,error:!!error,refuel,swapData:swapBasicData})]}):(0,jsx_runtime.jsx)(ConnectWalletButton,{})},SVMWalletWithdraw_TransactionMessage=({isLoading,error,insufficientTokens})=>isLoading?(0,jsx_runtime.jsx)(TransactionMessages.ConfirmTransactionMessage,{}):"insufficientFunds"===error?(0,jsx_runtime.jsx)(Message.A,{status:"error",header:"Insufficient funds",details:`The balance of ${null==insufficientTokens?void 0:insufficientTokens.join(" and ")} in the connected wallet is not enough`}):"User rejected the request."===error?(0,jsx_runtime.jsx)(TransactionMessages.TransactionRejectedMessage,{}):error?(0,jsx_runtime.jsx)(TransactionMessages.UexpectedErrorMessage,{message:error}):(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{}),configureAndSendCurrentTransaction=async(transaction,connection,signTransaction)=>{var _res_meta;const blockHash=await connection.getLatestBlockhash();transaction.recentBlockhash=blockHash.blockhash,transaction.lastValidBlockHeight=blockHash.lastValidBlockHeight;const signed=await signTransaction(transaction),res=await transactionSenderAndConfirmationWaiter({connection,serializedTransaction:signed.serialize(),blockhashWithExpiryBlockHeight:blockHash});if(null==res||null===(_res_meta=res.meta)||void 0===_res_meta?void 0:_res_meta.err)throw new Error(res.meta.err.toString());return null==res?void 0:res.transaction.signatures[0]};SVMWalletWithdrawStep.__docgenInfo={description:"",methods:[],displayName:"SVMWalletWithdrawStep",props:{swapId:{required:!0,tsType:{name:"union",raw:"string | undefined",elements:[{name:"string"},{name:"undefined"}]},description:""},swapBasicData:{required:!0,tsType:{name:"signature",type:"object",raw:"{\n    source_network: Network,\n    source_token: Token,\n    source_exchange?: Exchange,\n    destination_network: Network,\n    destination_token: Token,\n    destination_address: string,\n    requested_amount: number,\n    use_deposit_address: boolean,\n\n}",signature:{properties:[{key:"source_network",value:{name:"Network",required:!0}},{key:"source_token",value:{name:"Token",required:!0}},{key:"source_exchange",value:{name:"Exchange",required:!1}},{key:"destination_network",value:{name:"Network",required:!0}},{key:"destination_token",value:{name:"Token",required:!0}},{key:"destination_address",value:{name:"string",required:!0}},{key:"requested_amount",value:{name:"number",required:!0}},{key:"use_deposit_address",value:{name:"boolean",required:!0}}]}},description:""},refuel:{required:!0,tsType:{name:"boolean"},description:""},savedTransactionHash:{required:!1,tsType:{name:"string"},description:""}}};var hooks_useAccount=__webpack_require__("./node_modules/@bigmi/react/dist/esm/hooks/useAccount.js"),hooks_useConfig=__webpack_require__("./node_modules/@bigmi/react/dist/esm/hooks/useConfig.js");const sendTransaction_sendTransaction=async({amount,callData,depositAddress,isTestnet,publicClient,rpcClient,userAddress,connector})=>{const provider=await(null==connector?void 0:connector.getProvider());if(!provider)throw new Error("Provider not found");const amountInSatoshi=Math.floor(1e8*amount),hexMemo=Number(callData).toString(16),{psbt,inputsToSign}=await(async props=>{const{psbt,utxos,error}=await buildPsbt(props);if(!psbt)throw new Error(`Something went wrong: ${error}`);const inputsToSign=Array.from(psbt.data.inputs.reduce((map,input,index)=>{var _props_publicClient_account,_props_publicClient;const accountAddress=input.witnessUtxo?esm.hl.fromOutputScript(input.witnessUtxo.script,"testnet"==props.version?esm.o8.cX:esm.o8.X5):null===(_props_publicClient=props.publicClient)||void 0===_props_publicClient||null===(_props_publicClient_account=_props_publicClient.account)||void 0===_props_publicClient_account?void 0:_props_publicClient_account.address;return map.has(accountAddress)?map.get(accountAddress).signingIndexes.push(index):map.set(accountAddress,{address:accountAddress,sigHash:1,signingIndexes:[index]}),map},new Map).values());return{psbt,inputsToSign,utxos}})({amount:amountInSatoshi,depositAddress,userAddress,memo:hexMemo,version:isTestnet?"testnet":"mainnet",publicClient,rpcClient}),psbtHex=psbt.toHex(),signature=await provider.request({method:"signPsbt",params:{psbt:psbtHex,inputsToSign,finalize:!1}}),txHex=esm.iL.fromHex(signature).finalizeAllInputs().extractTransaction().toHex();return await rpcClient.call("sendrawtransaction",[txHex])},BitcoinWalletWithdrawStep=({swapBasicData,refuel})=>{const[loading,setLoading]=(0,react.useState)(!1),{connect}=(0,WalletModal.V)(),{source_network,source_token}=swapBasicData,{provider}=(0,useWallet.A)(source_network,"withdrawal"),[transactionErrorMessage,setTransactionErrorMessage]=(0,react.useState)(void 0),{connector}=(0,hooks_useAccount.F)(),selectedSourceAccount=(0,balanceAccounts.wz)("from",null==source_network?void 0:source_network.name),dataLoading=!source_network||!source_token,isTestnet=(null==source_network?void 0:source_network.name)===knownIds.A.Networks.BitcoinTestnet,publicClient=(0,hooks_useConfig.U)().getClient(),handleConnect=(0,react.useCallback)(async()=>{setLoading(!0),setTransactionErrorMessage(void 0);try{await connect(provider)}catch(e){(0,react_hot_toast_dist.Ay)(e.message)}finally{setLoading(!1)}},[provider]),rpcClient=(0,react.useMemo)(()=>source_network&&new JsonRpcClient(source_network.node_url),[source_network]),handleTransfer=(0,react.useCallback)(async({amount,callData,depositAddress,swapId})=>{setTransactionErrorMessage(void 0);try{if(setLoading(!0),!(amount&&depositAddress&&source_network&&source_token&&callData&&selectedSourceAccount&&connector&&rpcClient))throw new Error("Missing required parameters for transfer");return await sendTransaction_sendTransaction({amount,depositAddress,userAddress:selectedSourceAccount.address,isTestnet,rpcClient,callData,connector,publicClient})}catch(e){throw setLoading(!1),setTransactionErrorMessage(e.message),e}},[source_network,source_token,selectedSourceAccount,connector,rpcClient,isTestnet]);return selectedSourceAccount?(0,jsx_runtime.jsxs)("div",{className:"w-full space-y-3 flex flex-col justify-between h-full text-primary-text",children:[transactionErrorMessage&&(0,jsx_runtime.jsx)(BitcoinWalletWithdraw_TransactionMessage,{isLoading:loading,error:transactionErrorMessage}),(0,jsx_runtime.jsx)(SendTransactionButton,{isDisabled:!!loading||dataLoading,isSubmitting:!!loading||dataLoading,onClick:handleTransfer,swapData:swapBasicData,refuel})]}):(0,jsx_runtime.jsx)(ConnectWalletButton,{isDisabled:loading,isSubmitting:loading,onClick:handleConnect})},BitcoinWalletWithdraw_TransactionMessage=({isLoading,error})=>{if(isLoading)return(0,jsx_runtime.jsx)(TransactionMessages.ConfirmTransactionMessage,{});if(error&&error.includes("User rejected the request."))return(0,jsx_runtime.jsx)(TransactionMessages.TransactionRejectedMessage,{});if(error&&error.includes("Insufficient balance."))return(0,jsx_runtime.jsx)(TransactionMessages.InsufficientFundsMessage,{});if(error){const swapWithdrawalError=new Error(error);return swapWithdrawalError.name="SwapWithdrawalError",swapWithdrawalError.cause=error,dist_module.bC.captureException("$exception",{name:swapWithdrawalError.name,message:swapWithdrawalError.message,stack:swapWithdrawalError.stack,cause:swapWithdrawalError.cause,where:"swapWithdrawalError",severity:"error"}),(0,jsx_runtime.jsx)(TransactionMessages.UexpectedErrorMessage,{message:error})}return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{})};BitcoinWalletWithdrawStep.__docgenInfo={description:"",methods:[],displayName:"BitcoinWalletWithdrawStep",props:{swapId:{required:!0,tsType:{name:"union",raw:"string | undefined",elements:[{name:"string"},{name:"undefined"}]},description:""},swapBasicData:{required:!0,tsType:{name:"signature",type:"object",raw:"{\n    source_network: Network,\n    source_token: Token,\n    source_exchange?: Exchange,\n    destination_network: Network,\n    destination_token: Token,\n    destination_address: string,\n    requested_amount: number,\n    use_deposit_address: boolean,\n\n}",signature:{properties:[{key:"source_network",value:{name:"Network",required:!0}},{key:"source_token",value:{name:"Token",required:!0}},{key:"source_exchange",value:{name:"Exchange",required:!1}},{key:"destination_network",value:{name:"Network",required:!0}},{key:"destination_token",value:{name:"Token",required:!0}},{key:"destination_address",value:{name:"string",required:!0}},{key:"requested_amount",value:{name:"number",required:!0}},{key:"use_deposit_address",value:{name:"boolean",required:!0}}]}},description:""},refuel:{required:!0,tsType:{name:"boolean"},description:""},savedTransactionHash:{required:!1,tsType:{name:"string"},description:""}}};const WalletTransferAction=({swapData,swapId,refuel,onWalletWithdrawalSuccess})=>{var _WithdrawalPages_find;const{source_network}=swapData,source_network_internal_name=null==source_network?void 0:source_network.name,{provider,wallets}=(0,useWallet.A)(source_network,"withdrawal"),selectedSourceAccount=(0,balanceAccounts.wz)("from",null==source_network?void 0:source_network.name),WithdrawalComponent=null===(_WithdrawalPages_find=(0,react.useMemo)(()=>[{supportedNetworks:[knownIds.A.Networks.ImmutableXMainnet,knownIds.A.Networks.ImmutableXGoerli,knownIds.A.Networks.ImmutableXSepolia],component:ImtblxWalletWithdrawStep},{supportedNetworks:[knownIds.A.Networks.StarkNetMainnet,knownIds.A.Networks.StarkNetGoerli,knownIds.A.Networks.StarkNetSepolia],component:StarknetWalletWithdrawStep},{supportedNetworks:[knownIds.A.Networks.ZksyncMainnet],component:ZkSyncWalletWithdrawStep},{supportedNetworks:[knownIds.A.Networks.LoopringMainnet,knownIds.A.Networks.LoopringGoerli,knownIds.A.Networks.LoopringSepolia],component:LoopringWalletWithdraw},{supportedNetworks:[knownIds.A.Networks.TONMainnet,knownIds.A.Networks.TONTestnet],component:TonWalletWithdrawStep},{supportedNetworks:[knownIds.A.Networks.ParadexMainnet,knownIds.A.Networks.ParadexTestnet],component:ParadexWalletWithdraw},{supportedNetworks:[knownIds.A.Networks.FuelMainnet,knownIds.A.Networks.FuelTestnet],component:FuelWalletWithdrawStep},{supportedNetworks:[knownIds.A.Networks.TronMainnet],component:TronWalletWithdraw},{supportedNetworks:[knownIds.A.Networks.BitcoinMainnet,knownIds.A.Networks.BitcoinTestnet],component:BitcoinWalletWithdrawStep},{supportedNetworks:[(null==source_network?void 0:source_network.type)==Network.z1.Solana?source_network.name:void 0],component:SVMWalletWithdrawStep},{supportedNetworks:[(null==source_network?void 0:source_network.type)==Network.z1.EVM?source_network.name:void 0],component:EVMWalletWithdrawal}],[source_network]).find(page=>page.supportedNetworks.includes(source_network_internal_name)))||void 0===_WithdrawalPages_find?void 0:_WithdrawalPages_find.component;return(0,react.useEffect)(()=>{const selectedWallet=wallets.find(w=>w.id===(null==selectedSourceAccount?void 0:selectedSourceAccount.id));selectedSourceAccount&&selectedWallet&&(null==provider||provider.switchAccount(selectedWallet,selectedSourceAccount.address))},[null==selectedSourceAccount?void 0:selectedSourceAccount.address]),(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:swapData&&WithdrawalComponent&&(0,jsx_runtime.jsx)(WithdrawalProvider,{onWalletWithdrawalSuccess,children:(0,jsx_runtime.jsx)(WithdrawalComponent,{swapId,swapBasicData:swapData,refuel})})})};WalletTransferAction.__docgenInfo={description:"",methods:[],displayName:"WalletTransferAction",props:{swapData:{required:!0,tsType:{name:"signature",type:"object",raw:"{\n    source_network: Network,\n    source_token: Token,\n    source_exchange?: Exchange,\n    destination_network: Network,\n    destination_token: Token,\n    destination_address: string,\n    requested_amount: number,\n    use_deposit_address: boolean,\n\n}",signature:{properties:[{key:"source_network",value:{name:"Network",required:!0}},{key:"source_token",value:{name:"Token",required:!0}},{key:"source_exchange",value:{name:"Exchange",required:!1}},{key:"destination_network",value:{name:"Network",required:!0}},{key:"destination_token",value:{name:"Token",required:!0}},{key:"destination_address",value:{name:"string",required:!0}},{key:"requested_amount",value:{name:"number",required:!0}},{key:"use_deposit_address",value:{name:"boolean",required:!0}}]}},description:""},swapId:{required:!0,tsType:{name:"union",raw:"string | undefined",elements:[{name:"string"},{name:"undefined"}]},description:""},refuel:{required:!0,tsType:{name:"boolean"},description:""},onWalletWithdrawalSuccess:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};const WalletTransferButton=({swapBasicData:swapData,swapId,refuel,balanceWarning,onWalletWithdrawalSuccess})=>(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:(0,jsx_runtime.jsx)("div",{className:"rounded-2xl bg-secondary-500 divide-y divide-secondary-300 p-3",children:(0,jsx_runtime.jsxs)("div",{className:"space-y-2.5",children:[balanceWarning,(0,jsx_runtime.jsx)(WalletTransferAction,{swapData,swapId,refuel,onWalletWithdrawalSuccess})]})})}),Withdraw_WalletTransferButton=WalletTransferButton;WalletTransferButton.__docgenInfo={description:"",methods:[],displayName:"WalletTransferButton",props:{swapBasicData:{required:!0,tsType:{name:"signature",type:"object",raw:"{\n    source_network: Network,\n    source_token: Token,\n    source_exchange?: Exchange,\n    destination_network: Network,\n    destination_token: Token,\n    destination_address: string,\n    requested_amount: number,\n    use_deposit_address: boolean,\n\n}",signature:{properties:[{key:"source_network",value:{name:"Network",required:!0}},{key:"source_token",value:{name:"Token",required:!0}},{key:"source_exchange",value:{name:"Exchange",required:!1}},{key:"destination_network",value:{name:"Network",required:!0}},{key:"destination_token",value:{name:"Token",required:!0}},{key:"destination_address",value:{name:"string",required:!0}},{key:"requested_amount",value:{name:"number",required:!0}},{key:"use_deposit_address",value:{name:"boolean",required:!0}}]}},description:""},swapId:{required:!0,tsType:{name:"union",raw:"string | undefined",elements:[{name:"string"},{name:"undefined"}]},description:""},refuel:{required:!0,tsType:{name:"boolean"},description:""},balanceWarning:{required:!1,tsType:{name:"union",raw:"JSX.Element | null",elements:[{name:"JSX.Element"},{name:"null"}]},description:""},onWalletWithdrawalSuccess:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};const Withdraw=({type,onWalletWithdrawalSuccess})=>{var _swapBasicData_source_network_name,_KnownInternalNames_Networks_ImmutableXMainnet,_KnownInternalNames_Networks_ImmutableXGoerli;const{swapBasicData,swapDetails,quote,refuel,quoteIsLoading,quoteError}=(0,swap.MJ)(),{appName,signature}=(0,context_query.ZA)(),sourceIsImmutableX=(null==swapBasicData||null===(_swapBasicData_source_network_name=swapBasicData.source_network.name)||void 0===_swapBasicData_source_network_name?void 0:_swapBasicData_source_network_name.toUpperCase())===(null===(_KnownInternalNames_Networks_ImmutableXMainnet=knownIds.A.Networks.ImmutableXMainnet)||void 0===_KnownInternalNames_Networks_ImmutableXMainnet?void 0:_KnownInternalNames_Networks_ImmutableXMainnet.toUpperCase())||(null==swapBasicData?void 0:swapBasicData.source_network.name)===(null===(_KnownInternalNames_Networks_ImmutableXGoerli=knownIds.A.Networks.ImmutableXGoerli)||void 0===_KnownInternalNames_Networks_ImmutableXGoerli?void 0:_KnownInternalNames_Networks_ImmutableXGoerli.toUpperCase()),isImtblMarketplace=signature&&"imxMarketplace"===appName&&sourceIsImmutableX,{networks}=(0,settings.sI)(),source_network=(null==swapBasicData?void 0:swapBasicData.source_network)&&networks.find(n=>{var _swapBasicData_source_network;return n.name===(null==swapBasicData||null===(_swapBasicData_source_network=swapBasicData.source_network)||void 0===_swapBasicData_source_network?void 0:_swapBasicData_source_network.name)}),selectedSourceAccount=(0,balanceAccounts.wz)("from",null==source_network?void 0:source_network.name),{balances}=(0,useBalance.A)(null==selectedSourceAccount?void 0:selectedSourceAccount.address,source_network),walletBalance=source_network&&(null==balances?void 0:balances.find(b=>{var _swapBasicData_source_token;return(null==b?void 0:b.network)===(null==source_network?void 0:source_network.name)&&(null==b?void 0:b.token)===(null==swapBasicData||null===(_swapBasicData_source_token=swapBasicData.source_token)||void 0===_swapBasicData_source_token?void 0:_swapBasicData_source_token.symbol)})),walletBalanceAmount=null==walletBalance?void 0:walletBalance.amount;let withdraw={};const showInsufficientBalanceWarning=!1===(null==swapBasicData?void 0:swapBasicData.use_deposit_address)&&(null==swapBasicData?void 0:swapBasicData.requested_amount)&&Number(null==swapBasicData?void 0:swapBasicData.requested_amount)&&Number(walletBalanceAmount)<Number(null==swapBasicData?void 0:swapBasicData.requested_amount);return!1===(null==swapBasicData?void 0:swapBasicData.use_deposit_address)&&(withdraw={footer:(0,jsx_runtime.jsx)(Withdraw_WalletTransferButton,{swapBasicData,swapId:null==swapDetails?void 0:swapDetails.id,refuel:!!refuel,onWalletWithdrawalSuccess,balanceWarning:showInsufficientBalanceWarning?(0,jsx_runtime.jsx)(ErrorDisplay,{errorName:"insufficientFunds"}):null})}),isImtblMarketplace&&(withdraw={content:(0,jsx_runtime.jsx)(Withdraw_External,{})}),(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(Index.x.Content,{children:(0,jsx_runtime.jsx)("div",{className:"w-full flex flex-col justify-between  text-secondary-text",children:(0,jsx_runtime.jsxs)("div",{className:"grid grid-cols-1 gap-3 ",children:[(0,jsx_runtime.jsx)(Swap_Summary,{}),(0,jsx_runtime.jsx)(SwapQuoteDetails,{swapBasicData,quote,refuel,quoteIsLoading,quoteError}),null==withdraw?void 0:withdraw.content]})})}),(null==withdraw?void 0:withdraw.footer)&&(0,jsx_runtime.jsx)(Index.x.Footer,{sticky:"widget"==type,children:null==withdraw?void 0:withdraw.footer})]})},Swap_Withdraw=Withdraw;Withdraw.__docgenInfo={description:"",methods:[],displayName:"Withdraw",props:{type:{required:!0,tsType:{name:"union",raw:"'widget' | 'contained'",elements:[{name:"literal",value:"'widget'"},{name:"literal",value:"'contained'"}]},description:""},onWalletWithdrawalSuccess:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};const LinkWithIcon=({name,url})=>(0,jsx_runtime.jsxs)("div",{className:"underline hover:no-underline flex items-center space-x-1",children:[(0,jsx_runtime.jsx)(link_default(),{target:"_blank",href:url,rel:"noopener noreferrer",children:name}),(0,jsx_runtime.jsx)(external_link.A,{className:"h-4"})]}),Common_LinkWithIcon=LinkWithIcon;LinkWithIcon.__docgenInfo={description:"",methods:[],displayName:"LinkWithIcon",props:{name:{required:!0,tsType:{name:"string"},description:""},url:{required:!0,tsType:{name:"string"},description:""}}};var x=__webpack_require__("./node_modules/lucide-react/dist/esm/icons/x.js");const Gauge=({value,size="small",showCheckmark=!1})=>{const strokeDashoffset=332-value/100*332,sizes={verySmall:{width:"32",height:"32",textSize:"text-xs"},small:{width:"40",height:"40",textSize:"text-xs"},medium:{width:"72",height:"72",textSize:"text-lg"},large:{width:"144",height:"144",textSize:"text-3xl"}};return(0,jsx_runtime.jsxs)("div",{className:"flex flex-col items-center justify-center relative",children:[(0,jsx_runtime.jsxs)("svg",{fill:"none",shapeRendering:"crispEdges",height:sizes[size].height,width:sizes[size].width,viewBox:"0 0 120 120",strokeWidth:"2",className:"transform -rotate-90",children:[(0,jsx_runtime.jsx)("circle",{className:"text-primary/20",strokeWidth:"12",stroke:"currentColor",fill:"transparent",shapeRendering:"geometricPrecision",r:"53",cx:"60",cy:"60"}),(0,jsx_runtime.jsx)("circle",{className:"text-primary animate-gauge_fill",strokeWidth:"12",strokeDasharray:"332 332",strokeDashoffset:332,shapeRendering:"geometricPrecision",strokeLinecap:"round",stroke:"currentColor",fill:"transparent",r:"53",cx:"60",cy:"60",style:{strokeDashoffset,transition:"stroke-dasharray 1s ease 0s,stroke 1s ease 0s"}})]}),showCheckmark&&100==value?(0,jsx_runtime.jsx)("div",{className:"absolute flex animate-gauge_fadeIn",children:(0,jsx_runtime.jsx)(check.A,{className:"h-5 w-5 text-primary",strokeWidth:4,"aria-hidden":"true"})}):null]})};var Progress,ProgressStatus;function renderStepIcon(step){switch(step.status){case ProgressStatus.Complete:return(0,jsx_runtime.jsx)("span",{className:"relative z-10 flex h-8 w-8 items-center justify-center rounded-full bg-primary/20",children:(0,jsx_runtime.jsx)(check.A,{className:"h-5 w-5 text-primary","aria-hidden":"true"})});case ProgressStatus.Current:return(0,jsx_runtime.jsx)("span",{className:"animate-spin",children:(0,jsx_runtime.jsx)(Gauge,{value:40,size:"verySmall"})});case ProgressStatus.Failed:return(0,jsx_runtime.jsx)("span",{className:"relative z-10 flex h-8 w-8 items-center justify-center rounded-full bg-primary/20",children:(0,jsx_runtime.jsx)(x.A,{className:"h-5 w-5 text-primary","aria-hidden":"true"})});case ProgressStatus.Delayed:return(0,jsx_runtime.jsx)("span",{className:"animate-spin opacity-50",children:(0,jsx_runtime.jsx)(Gauge,{value:40,size:"verySmall"})});default:return(0,jsx_runtime.jsx)("span",{className:"relative z-10 flex h-8 w-8 items-center justify-center rounded-full border-2 border-primary/20"})}}function Step({step,isLastStep}){return(0,jsx_runtime.jsx)("li",{className:(0,classNames.x)(isLastStep?"":"pb-10","relative"),children:(0,jsx_runtime.jsxs)("div",{className:"flex items-center justify-between w-full",children:[!isLastStep&&(0,jsx_runtime.jsx)("div",{className:(0,clsx_m.default)("absolute top-1/2 left-4 -ml-px mt-0.5 h-[40%] w-0.5 ",{"bg-primary/20":"complete"!==step.status&&"failed"!==step.status,"bg-primary":"complete"===step.status||"failed"===step.status}),"aria-hidden":"true"}),(0,jsx_runtime.jsxs)("div",{className:(0,clsx_m.default)("group relative flex ",{"items-start":null==step?void 0:step.description,"items-center":!(null==step?void 0:step.description)}),children:[(0,jsx_runtime.jsx)("span",{className:"flex h-9 items-center text-primary-text","aria-hidden":"true",children:renderStepIcon(step)}),(0,jsx_runtime.jsxs)("span",{className:"ml-3 flex min-w-0 flex-col",children:[(0,jsx_runtime.jsx)("span",{className:(0,clsx_m.default)("text-sm font-medium",{"text-primary":"current"===step.status,"text-secondary-text/70":"upcoming"===step.status,"text-primary-text":"current"!==step.status&&"upcoming"!==step.status}),children:step.name}),(null==step?void 0:step.description)&&(0,jsx_runtime.jsx)("span",{className:"text-sm text-secondary-text",children:null==step?void 0:step.description})]})]})]})},null==step?void 0:step.name)}Gauge.__docgenInfo={description:"",methods:[],displayName:"Gauge",props:{value:{required:!0,tsType:{name:"number"},description:""},size:{required:!1,tsType:{name:"union",raw:'"verySmall" | "small" | "medium" | "large"',elements:[{name:"literal",value:'"verySmall"'},{name:"literal",value:'"small"'},{name:"literal",value:'"medium"'},{name:"literal",value:'"large"'}]},description:"",defaultValue:{value:'"small"',computed:!1}},showCheckmark:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}}}},function(Progress){Progress.InputTransfer="input_transfer",Progress.Refuel="refuel",Progress.OutputTransfer="output_transfer",Progress.Refund="refund"}(Progress||(Progress={})),function(ProgressStatus){ProgressStatus.Upcoming="upcoming",ProgressStatus.Current="current",ProgressStatus.Complete="complete",ProgressStatus.Failed="failed",ProgressStatus.Delayed="delayed",ProgressStatus.Removed="removed"}(ProgressStatus||(ProgressStatus={}));const Swap_Step=Step;function Steps({steps}){return(0,jsx_runtime.jsx)("nav",{"aria-label":"Progress",children:(0,jsx_runtime.jsx)("ol",{role:"list",className:"overflow-hidden",children:steps.map((step,index)=>(0,jsx_runtime.jsx)(Swap_Step,{step,isLastStep:index===steps.length-1},index))})})}var SwapFailReasons;Step.__docgenInfo={description:"",methods:[],displayName:"Step",props:{step:{required:!0,tsType:{name:"signature",type:"object",raw:"{\n    name?: string;\n    status: ProgressStatus;\n    description?: | JSX.Element | string | null;\n    index?: number;\n}",signature:{properties:[{key:"name",value:{name:"string",required:!1}},{key:"status",value:{name:"ProgressStatus",required:!0}},{key:"description",value:{name:"union",raw:"| JSX.Element | string | null",elements:[{name:"JSX.Element"},{name:"string"},{name:"null"}],required:!1}},{key:"index",value:{name:"number",required:!1}}]}},description:""},isLastStep:{required:!0,tsType:{name:"boolean"},description:""}}},Steps.__docgenInfo={description:"",methods:[],displayName:"Steps",props:{steps:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{\n    name?: string;\n    status: ProgressStatus;\n    description?: | JSX.Element | string | null;\n    index?: number;\n}",signature:{properties:[{key:"name",value:{name:"string",required:!1}},{key:"status",value:{name:"ProgressStatus",required:!0}},{key:"description",value:{name:"union",raw:"| JSX.Element | string | null",elements:[{name:"JSX.Element"},{name:"string"},{name:"null"}],required:!1}},{key:"index",value:{name:"number",required:!1}}]}}],raw:"StatusStep[]"},description:""}}},function(SwapFailReasons){SwapFailReasons.RECEIVED_LESS_THAN_VALID_RANGE="received_less_than_valid_range",SwapFailReasons.RECEIVED_MORE_THAN_VALID_RANGE="received_more_than_valid_range"}(SwapFailReasons||(SwapFailReasons={}));var undo_2=__webpack_require__("./node_modules/lucide-react/dist/esm/icons/undo-2.js"),circle_check=__webpack_require__("./node_modules/lucide-react/dist/esm/icons/circle-check.js"),_document=__webpack_require__("./pages/_document.tsx");const QuestionIcon=props=>(0,jsx_runtime.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",...props,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","stroke-linecap":"round","stroke-linejoin":"round",children:[(0,jsx_runtime.jsx)("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),(0,jsx_runtime.jsx)("path",{d:"M12 17h.01"})]}),Question=QuestionIcon;QuestionIcon.__docgenInfo={description:"",methods:[],displayName:"QuestionIcon"};const Failed=()=>{const{swapDetails}=(0,swap.MJ)(),{boot,show,update}=(0,react_use_intercom_esm.B)(),updateWithProps=()=>update({customAttributes:{swapId:null==swapDetails?void 0:swapDetails.id}});(0,react.useEffect)(()=>{window.plausible&&plausible(_document.G.SwapFailed)},[]);const startIntercom=(0,react.useCallback)(()=>{boot(),show(),updateWithProps()},[boot,show,updateWithProps]);return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-2",children:[(0,jsx_runtime.jsx)("span",{className:"relative z-10 flex h-8 w-8 items-center justify-center rounded-full bg-primary/20",children:(0,jsx_runtime.jsx)(Question,{className:"h-7 w-7 text-primary","aria-hidden":"true"})}),(0,jsx_runtime.jsx)("label",{className:"block text-sm md:text-base text-primary-text font-medium",children:"What's happening?"})]}),(0,jsx_runtime.jsxs)("div",{className:"mt-4 text-xs md:text-sm text-primary-text",children:[(null==swapDetails?void 0:swapDetails.status)==SwapStatus.e.Cancelled&&(0,jsx_runtime.jsx)(Canceled,{onGetHelp:startIntercom}),(null==swapDetails?void 0:swapDetails.status)==SwapStatus.e.Expired&&(0,jsx_runtime.jsx)(Expired,{onGetHelp:startIntercom}),(null==swapDetails?void 0:swapDetails.status)==SwapStatus.e.UserTransferDelayed&&(0,jsx_runtime.jsx)(Delay,{})]})]})})},Expired=({onGetHelp})=>(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)("span",{className:"text-md text-left text-xs md:text-sm text-primary-text",children:"The transfer wasn't completed during the allocated timeframe."}),(0,jsx_runtime.jsxs)("span",{className:"text-secondary-text",children:[(0,jsx_runtime.jsx)("span",{children:" If you've already sent crypto for this swap, your funds are safe, "}),(0,jsx_runtime.jsx)("a",{className:"underline hover:cursor-pointer",onClick:()=>onGetHelp(),children:"please contact our support."})]})]}),Delay=()=>(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsxs)("p",{className:"text-md ",children:[(0,jsx_runtime.jsx)("span",{children:"This usually means that the exchange needs additional verification."}),(0,jsx_runtime.jsx)(link_default(),{target:"_blank",href:"https://docs.layerswap.io/user-docs/why-is-coinbase-transfer-taking-so-long/",className:"disabled:text-primary-text/40 disabled:bg-primary-900 disabled:cursor-not-allowed ml-1 underline hover:no-underline cursor-pointer",children:"Learn More"})]}),(0,jsx_runtime.jsxs)("ul",{className:"list-inside list-decimal font-light space-y-1 mt-2 text-left text-primary-text ",children:[(0,jsx_runtime.jsx)("li",{children:"Check your email for details from Coinbase"}),(0,jsx_runtime.jsx)("li",{children:"Check your Coinbase account's transfer history"})]})]}),Canceled=({onGetHelp})=>(0,jsx_runtime.jsx)("div",{children:(0,jsx_runtime.jsxs)("p",{className:"text-md text-left text-primary-text",children:[(0,jsx_runtime.jsx)("span",{children:"The transaction was cancelled by your request."}),(0,jsx_runtime.jsxs)("span",{className:"text-secondary-text",children:[(0,jsx_runtime.jsx)("span",{children:" If you've already sent crypto for this swap, your funds are safe,"}),(0,jsx_runtime.jsx)("a",{className:"underline hover:cursor-pointer",onClick:()=>onGetHelp(),children:" please contact our support."})]})]})}),Withdraw_Failed=Failed;Failed.__docgenInfo={description:"",methods:[],displayName:"Failed"};const CountdownTimer=({initialTime,swapDetails,onThresholdChange})=>{var _swapDetails_transactions;const[elapsedTimer,setElapsedTimer]=(0,react.useState)(0),[thresholdElapsed,setThresholdElapsed]=(0,react.useState)(!1),swapInputTransaction=null==swapDetails||null===(_swapDetails_transactions=swapDetails.transactions)||void 0===_swapDetails_transactions?void 0:_swapDetails_transactions.find(t=>t.type===layerSwapApiClient.D_.Input);(0,react.useEffect)(()=>{const startTime=(null==swapInputTransaction?void 0:swapInputTransaction.timestamp)?new Date(swapInputTransaction.timestamp).getTime():Date.now(),timer=setInterval(()=>{const elapsedTime=(new Date).getTime()-startTime;setElapsedTimer(Math.max(elapsedTime,0));const newThreshold=elapsedTime>3*function timeStringToMilliseconds(timeString){const time=timeString.split(".")[0],[hours,minutes,seconds]=time.split(":").map(parseFloat);return 1e3*(3600*hours+60*minutes+seconds)}(initialTime);newThreshold!==thresholdElapsed&&(setThresholdElapsed(newThreshold),null==onThresholdChange||onThresholdChange(newThreshold))},1e3);return()=>clearInterval(timer)},[initialTime,swapDetails.status]);const formatted=(milliseconds=>{const totalSeconds=Math.floor(milliseconds/1e3),hours=Math.floor(totalSeconds/3600),minutes=Math.floor(totalSeconds%3600/60),seconds=totalSeconds%60;return`${hours>0?String(hours).padStart(2,"0")+":":""}${String(minutes).padStart(2,"0")}:${String(seconds).padStart(2,"0")}`})(elapsedTimer);if(thresholdElapsed&&swapDetails.status!==SwapStatus.e.Completed){const renderingError=new Error("Transaction is taking longer than expected");renderingError.name="LongTransactionError",renderingError.cause=renderingError,dist_module.Ay.capture("$exception",{name:renderingError.name,message:renderingError.message,stack:renderingError.stack,cause:renderingError.cause,where:"longTransactionError",severity:"error"})}return(0,jsx_runtime.jsx)("div",{className:"flex items-center justify-center space-x-1",children:thresholdElapsed&&swapDetails.status!==SwapStatus.e.UserTransferPending?(0,jsx_runtime.jsx)("div",{children:(0,jsx_runtime.jsx)("span",{children:"Transaction is taking longer than expected"})}):swapDetails.status===SwapStatus.e.Completed?"":(0,jsx_runtime.jsxs)("div",{className:"text-secondary-text flex items-center",children:[(0,jsx_runtime.jsx)("span",{children:"Elapsed time:"}),(0,jsx_runtime.jsx)("span",{className:"text-primary-text ml-0.5",children:formatted})]})})},CountDownTimer=CountdownTimer;CountdownTimer.__docgenInfo={description:"",methods:[],displayName:"CountdownTimer",props:{initialTime:{required:!0,tsType:{name:"string"},description:""},swapDetails:{required:!0,tsType:{name:"signature",type:"object",raw:"{\n    id: string,\n    created_date: string,\n    status: SwapStatus,\n    transactions: Transaction[]\n    exchange_account_connected: boolean;\n    exchange_account_name?: string;\n\n    fail_reason?: string;\n    metadata: {\n        reference_id: string | null;\n        app: string | null;\n        sequence_number: number\n    }\n}",signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"created_date",value:{name:"string",required:!0}},{key:"status",value:{name:"SwapStatus",required:!0}},{key:"transactions",value:{name:"Array",elements:[{name:"signature",type:"object",raw:"{\n    type: TransactionType,\n    from: string,\n    to: string,\n    created_date: string,\n    amount: number,\n    transaction_hash: string,\n    confirmations: number,\n    max_confirmations: number,\n    usd_value: number,\n    usd_price: number,\n    status: BackendTransactionStatus,\n    fee_amount?: number | null,\n    fee_token?: Token,\n    timestamp?: string,\n}",signature:{properties:[{key:"type",value:{name:"TransactionType",required:!0}},{key:"from",value:{name:"string",required:!0}},{key:"to",value:{name:"string",required:!0}},{key:"created_date",value:{name:"string",required:!0}},{key:"amount",value:{name:"number",required:!0}},{key:"transaction_hash",value:{name:"string",required:!0}},{key:"confirmations",value:{name:"number",required:!0}},{key:"max_confirmations",value:{name:"number",required:!0}},{key:"usd_value",value:{name:"number",required:!0}},{key:"usd_price",value:{name:"number",required:!0}},{key:"status",value:{name:"BackendTransactionStatus",required:!0}},{key:"fee_amount",value:{name:"union",raw:"number | null",elements:[{name:"number"},{name:"null"}],required:!1}},{key:"fee_token",value:{name:"Token",required:!1}},{key:"timestamp",value:{name:"string",required:!1}}]}}],raw:"Transaction[]",required:!0}},{key:"exchange_account_connected",value:{name:"boolean",required:!0}},{key:"exchange_account_name",value:{name:"string",required:!1}},{key:"fail_reason",value:{name:"string",required:!1}},{key:"metadata",value:{name:"signature",type:"object",raw:"{\n    reference_id: string | null;\n    app: string | null;\n    sequence_number: number\n}",signature:{properties:[{key:"reference_id",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!0}},{key:"app",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!0}},{key:"sequence_number",value:{name:"number",required:!0}}]},required:!0}}]}},description:""},onThresholdChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(threshold: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"threshold"}],return:{name:"void"}}},description:""}}};const lib_logError=message=>{const error=new Error(message+" env: "+(null!=="sandbox"?"sandbox":"prod"));error.name="AlertUI",error.cause=error,dist_module.Ay.capture("$exception",{name:error.name,message:error.message,stack:error.stack,cause:error.cause,where:"alertUI",severity:"error"})},Processing=({swapBasicData,swapDetails,quote,refuel})=>{var _swapDetails_transactions,_swapDetails_transactions1,_swapDetails_transactions2,_swapDetails_transactions3,_inputTxStatusData_data,_refuel_token,_inputTxStatusData_data1,_refuel_token1,_refuel_token2,_refuel_token3,_progressStates_input_transfer_stepStatuses_input_transfer,_progressStates_input_transfer,_progressStates_input_transfer_stepStatuses_input_transfer1,_progressStates_input_transfer1,_progressStates_output_transfer_stepStatuses_output_transfer,_progressStates_output_transfer,_progressStates_output_transfer_stepStatuses_output_transfer1,_progressStates_output_transfer1,_progressStates_refuel_stepStatuses_refuel,_progressStates_refuel,_progressStates_refuel_stepStatuses_refuel1,_progressStates_refuel1,_progressStates_refund_stepStatuses_refund,_progressStates_refund,_progressStates_refund_stepStatuses_refund1,_progressStates_refund1;const{boot,show,update,showNewMessages}=(0,react_use_intercom_esm.B)(),{setSwapTransaction,swapTransactions}=useSwapTransactionStore(),[showSupportButton,setShowSupportButton]=react.useState(!1),{source_network,destination_network,destination_token}=swapBasicData,{fail_reason}=swapDetails,updateWithProps=()=>update({customAttributes:{swapId:swapDetails.id}}),startIntercom=(0,react.useCallback)(()=>{boot(),show(),updateWithProps()},[boot,show,updateWithProps]),input_tx_explorer=null==source_network?void 0:source_network.transaction_explorer_template,output_tx_explorer=null==destination_network?void 0:destination_network.transaction_explorer_template,swapInputTransaction=null==swapDetails||null===(_swapDetails_transactions=swapDetails.transactions)||void 0===_swapDetails_transactions?void 0:_swapDetails_transactions.find(t=>t.type===layerSwapApiClient.D_.Input),storedWalletTransaction=null==swapTransactions?void 0:swapTransactions[null==swapDetails?void 0:swapDetails.id],transactionHash=(null==swapInputTransaction?void 0:swapInputTransaction.transaction_hash)||(null==storedWalletTransaction?void 0:storedWalletTransaction.hash),swapOutputTransaction=null==swapDetails||null===(_swapDetails_transactions1=swapDetails.transactions)||void 0===_swapDetails_transactions1?void 0:_swapDetails_transactions1.find(t=>t.type===layerSwapApiClient.D_.Output),swapRefuelTransaction=null==swapDetails||null===(_swapDetails_transactions2=swapDetails.transactions)||void 0===_swapDetails_transactions2?void 0:_swapDetails_transactions2.find(t=>t.type===layerSwapApiClient.D_.Refuel),swapRefundTransaction=null==swapDetails||null===(_swapDetails_transactions3=swapDetails.transactions)||void 0===_swapDetails_transactions3?void 0:_swapDetails_transactions3.find(t=>t.type===layerSwapApiClient.D_.Refund),apiClient=new layerSwapApiClient.Ay,{data:inputTxStatusData}=(0,index.Ay)(transactionHash&&(null==swapInputTransaction?void 0:swapInputTransaction.status)!==layerSwapApiClient.X8.Completed?[null==source_network?void 0:source_network.name,transactionHash]:null,([network,tx_id])=>apiClient.GetTransactionStatus(network,tx_id),{dedupingInterval:6e3}),inputTxStatus=swapInputTransaction?swapInputTransaction.status:null==inputTxStatusData||null===(_inputTxStatusData_data=inputTxStatusData.data)||void 0===_inputTxStatusData_data?void 0:_inputTxStatusData_data.status.toLowerCase(),loggedNotDetectedTxAt=(0,react.useRef)(null),handleSupportClick=(0,react.useCallback)(()=>{const transactionHash=(null==swapInputTransaction?void 0:swapInputTransaction.transaction_hash)||(null==storedWalletTransaction?void 0:storedWalletTransaction.hash),message=`Hi! My transaction (Swap ID: ${swapDetails.id}) has been processing for longer than expected. ${transactionHash?`Transaction hash: ${transactionHash}`:""} Could you please help me check the status?`;boot(),update({customAttributes:{swapId:swapDetails.id}}),showNewMessages(message)},[boot,show,update,swapDetails.id,swapInputTransaction,storedWalletTransaction]);(0,react.useEffect)(()=>{if(inputTxStatus===layerSwapApiClient.x8.Completed||inputTxStatus===layerSwapApiClient.x8.Pending){var _swapDetails_transactions,_source_network_transaction_explorer_template;if((null==swapDetails||null===(_swapDetails_transactions=swapDetails.transactions)||void 0===_swapDetails_transactions?void 0:_swapDetails_transactions.find(t=>t.type===layerSwapApiClient.D_.Input))||!swapDetails)return;if(Date.now()-(loggedNotDetectedTxAt.current||storedWalletTransaction.timestamp)>6e4)loggedNotDetectedTxAt.current=Date.now(),lib_logError(`Transaction not detected in ${source_network.name}. Tx hash: \`${transactionHash}\`. Tx status: ${inputTxStatus}. Swap id: \`${swapDetails.id}\`. ${source_network.display_name} explorer: ${null==source_network||null===(_source_network_transaction_explorer_template=source_network.transaction_explorer_template)||void 0===_source_network_transaction_explorer_template?void 0:_source_network_transaction_explorer_template.replace("{0}",transactionHash)} . LS explorer: https://layerswap.io/explorer/${null==storedWalletTransaction?void 0:storedWalletTransaction.hash} `)}},[swapDetails,storedWalletTransaction,source_network]),(0,react.useEffect)(()=>{(null==storedWalletTransaction?void 0:storedWalletTransaction.status)!==inputTxStatus&&setSwapTransaction(null==swapDetails?void 0:swapDetails.id,inputTxStatus,null==storedWalletTransaction?void 0:storedWalletTransaction.hash)},[inputTxStatus]),(0,react.useEffect)(()=>{if(inputTxStatus===layerSwapApiClient.x8.Failed){const err=new Error("Transaction failed"),renderingError=new Error(`Swap:${null==swapDetails?void 0:swapDetails.id} transaction:${transactionHash} failed`);renderingError.name="TransactionFailed",renderingError.cause=err,dist_module.bC.capture("$exception",{name:renderingError.name,message:renderingError.message,stack:renderingError.stack,cause:renderingError.cause,where:"TransactionError",severity:"error"})}},[inputTxStatus,transactionHash,null==swapDetails?void 0:swapDetails.id]),(0,react.useEffect)(()=>{(null==swapDetails?void 0:swapDetails.status)!==SwapStatus.e.Completed&&(null==swapDetails?void 0:swapDetails.status)!==SwapStatus.e.Failed&&(null==swapDetails?void 0:swapDetails.status)!==SwapStatus.e.Expired&&(null==swapDetails?void 0:swapDetails.status)!==SwapStatus.e.LsTransferPending||null===dist_module.bC||void 0===dist_module.bC||dist_module.bC.capture(`${null==swapDetails?void 0:swapDetails.status}`,{swap_id:null==swapDetails?void 0:swapDetails.id,status:null==swapDetails?void 0:swapDetails.status})},[null==swapDetails?void 0:swapDetails.status,null==swapDetails?void 0:swapDetails.id]);const truncatedRefuelAmount=refuel&&(0,RoundDecimals.xz)(refuel.amount,null===(_refuel_token=refuel.token)||void 0===_refuel_token?void 0:_refuel_token.precision),progressStatuses=getProgressStatuses(swapDetails,refuel,null==inputTxStatusData||null===(_inputTxStatusData_data1=inputTxStatusData.data)||void 0===_inputTxStatusData_data1?void 0:_inputTxStatusData_data1.status.toLowerCase()),stepStatuses=progressStatuses.stepStatuses,countDownTimer=(null==quote?void 0:quote.avg_completion_time)&&(0,jsx_runtime.jsx)("div",{className:"text-primary-text",children:(0,jsx_runtime.jsx)(CountDownTimer,{initialTime:String(null==quote?void 0:quote.avg_completion_time),swapDetails,onThresholdChange:setShowSupportButton})}),progressStates={input_transfer:{upcoming:{name:"Waiting for your transfer",description:null},current:{name:"Processing your deposit",description:(0,jsx_runtime.jsxs)("div",{className:"flex space-x-1",children:[(0,jsx_runtime.jsx)("div",{className:"flex items-center space-x-1",children:(0,jsx_runtime.jsx)(Common_LinkWithIcon,{name:"View in explorer",url:null==input_tx_explorer?void 0:input_tx_explorer.replace("{0}",transactionHash)})}),(0,jsx_runtime.jsx)("div",{children:(0,jsx_runtime.jsx)("span",{children:swapInputTransaction&&(null==swapInputTransaction?void 0:swapInputTransaction.confirmations)&&(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)("span",{className:"whitespace-nowrap",children:"| Confirmations"}),(0,jsx_runtime.jsxs)("span",{className:"text-primary-text ml-1",children:[(0,jsx_runtime.jsx)("span",{children:(null==swapInputTransaction?void 0:swapInputTransaction.confirmations)>=(null==swapInputTransaction?void 0:swapInputTransaction.max_confirmations)?null==swapInputTransaction?void 0:swapInputTransaction.max_confirmations:null==swapInputTransaction?void 0:swapInputTransaction.confirmations}),(0,jsx_runtime.jsx)("span",{children:"/"}),null==swapInputTransaction?void 0:swapInputTransaction.max_confirmations]})]})})})]})},complete:{name:"Deposit confirmed",description:(0,jsx_runtime.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,jsx_runtime.jsx)("span",{children:"We’ve received your deposit. "}),(0,jsx_runtime.jsx)(Common_LinkWithIcon,{name:"View in explorer",url:null==input_tx_explorer?void 0:input_tx_explorer.replace("{0}",transactionHash)})]})},failed:{name:"The transfer failed",description:(0,jsx_runtime.jsx)("div",{className:"flex space-x-1",children:(0,jsx_runtime.jsx)("div",{className:"space-x-1 text-primary-text",children:inputTxStatus===layerSwapApiClient.x8.Failed?(0,jsx_runtime.jsxs)("div",{className:"flex flex-col",children:[(0,jsx_runtime.jsx)("p",{children:"Check the transfer in the explorer"}),(0,jsx_runtime.jsx)(Common_LinkWithIcon,{name:"View in explorer",url:null==input_tx_explorer?void 0:input_tx_explorer.replace("{0}",transactionHash)})]}):fail_reason==SwapFailReasons.RECEIVED_MORE_THAN_VALID_RANGE?"Your deposit is higher than the max limit. We'll review and approve your transaction in up to 2 hours.":fail_reason==SwapFailReasons.RECEIVED_LESS_THAN_VALID_RANGE?"Your deposit is lower than the minimum required amount. Unfortunately, we can't process the transaction. Please contact support to check if you're eligible for a refund.":(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)("span",{className:"text-secondary-text",children:"Something went wrong while processing the transfer."})," ",(0,jsx_runtime.jsx)("a",{className:"underline hover:cursor-pointer text-secondary-text",onClick:()=>startIntercom(),children:" please contact our support."})]})})})},delayed:{name:"This transfer is being delayed by Coinbase",description:null}},output_transfer:{upcoming:{name:`Sending ${destination_token.symbol} to your address`,description:null},current:{name:`Sending ${destination_token.symbol} to your address`,description:null},complete:{name:`${(null==swapOutputTransaction?void 0:swapOutputTransaction.amount)&&(0,RoundDecimals.xz)(null==swapOutputTransaction?void 0:swapOutputTransaction.amount,destination_token.decimals)} ${destination_token.symbol} was sent to your address`,description:swapOutputTransaction?(0,jsx_runtime.jsx)("div",{className:"flex flex-col",children:(0,jsx_runtime.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,jsx_runtime.jsx)("span",{children:"Transaction: "}),(0,jsx_runtime.jsx)(Common_LinkWithIcon,{name:"View in explorer",url:null==output_tx_explorer?void 0:output_tx_explorer.replace("{0}",swapOutputTransaction.transaction_hash)})]})}):null},failed:{name:swapDetails.status===SwapStatus.e.PendingRefund||swapDetails.status===SwapStatus.e.Refunded?"Processing Failed":fail_reason==SwapFailReasons.RECEIVED_MORE_THAN_VALID_RANGE?"The transfer is on hold":"The transfer has failed",description:(0,jsx_runtime.jsx)("div",{className:"flex space-x-1",children:(0,jsx_runtime.jsx)("div",{className:"space-x-1 text-secondary-text",children:swapDetails.status===SwapStatus.e.PendingRefund||swapDetails.status===SwapStatus.e.Refunded?"There was an issue completing the transfer. We're refunding your deposit.":fail_reason==SwapFailReasons.RECEIVED_MORE_THAN_VALID_RANGE?"Your deposit is higher than the max limit. We'll review and approve your transaction in up to 2 hours.":fail_reason==SwapFailReasons.RECEIVED_LESS_THAN_VALID_RANGE?"Your deposit is lower than the minimum required amount. Unfortunately, we can't process the transaction. Please contact support to check if you're eligible for a refund.":(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)("span",{className:"text-secondary-text",children:"Something went wrong while processing the transfer."})," ",(0,jsx_runtime.jsx)("a",{className:"underline hover:cursor-pointer text-secondary-text",onClick:()=>startIntercom(),children:" please contact our support."})]})})})},delayed:{name:"This swap is being delayed by Coinbase",description:null}},refuel:{upcoming:{name:`Sending ${null==refuel||null===(_refuel_token1=refuel.token)||void 0===_refuel_token1?void 0:_refuel_token1.symbol} to your address`,description:null},current:{name:`Sending ${null==refuel||null===(_refuel_token2=refuel.token)||void 0===_refuel_token2?void 0:_refuel_token2.symbol} to your address`,description:null},complete:{name:`${truncatedRefuelAmount} ${null==refuel||null===(_refuel_token3=refuel.token)||void 0===_refuel_token3?void 0:_refuel_token3.symbol} was sent to your address`,description:(0,jsx_runtime.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,jsx_runtime.jsx)("span",{children:"Transaction: "}),swapRefuelTransaction&&(0,jsx_runtime.jsx)(Common_LinkWithIcon,{name:"View in explorer",url:null==output_tx_explorer?void 0:output_tx_explorer.replace("{0}",swapRefuelTransaction.transaction_hash)})]})},delayed:{name:"This transfers is being delayed",description:null}},refund:{upcoming:{name:"Refund Pending",description:null},current:{name:"Refund Pending",description:(0,jsx_runtime.jsx)("div",{className:"text-secondary-text",children:"Your refund is being processed."})},complete:{name:"Refund sent",description:(0,jsx_runtime.jsxs)("div",{className:"flex items-center space-x-1 text-secondary-text",children:[(0,jsx_runtime.jsx)("span",{children:"The full deposit amount has been sent back to your wallet."}),swapRefundTransaction&&(0,jsx_runtime.jsx)(Common_LinkWithIcon,{name:"View in explorer",url:null==output_tx_explorer?void 0:output_tx_explorer.replace("{0}",(null==swapRefundTransaction?void 0:swapRefundTransaction.transaction_hash)||"")})]})},failed:{name:"Refund Failed",description:(0,jsx_runtime.jsxs)("div",{className:"space-x-1 text-secondary-text",children:[(0,jsx_runtime.jsx)("span",{children:"Something went wrong while processing the refund."})," ",(0,jsx_runtime.jsx)("a",{className:"underline hover:cursor-pointer text-secondary-text",onClick:()=>startIntercom(),children:" please contact our support."})]})}}};let currentSteps=[{name:null===(_progressStates_input_transfer=progressStates.input_transfer)||void 0===_progressStates_input_transfer||null===(_progressStates_input_transfer_stepStatuses_input_transfer=_progressStates_input_transfer[null==stepStatuses?void 0:stepStatuses.input_transfer])||void 0===_progressStates_input_transfer_stepStatuses_input_transfer?void 0:_progressStates_input_transfer_stepStatuses_input_transfer.name,status:stepStatuses.input_transfer,description:null==progressStates||null===(_progressStates_input_transfer1=progressStates.input_transfer)||void 0===_progressStates_input_transfer1||null===(_progressStates_input_transfer_stepStatuses_input_transfer1=_progressStates_input_transfer1[null==stepStatuses?void 0:stepStatuses.input_transfer])||void 0===_progressStates_input_transfer_stepStatuses_input_transfer1?void 0:_progressStates_input_transfer_stepStatuses_input_transfer1.description,index:1},{name:null===(_progressStates_output_transfer=progressStates.output_transfer)||void 0===_progressStates_output_transfer||null===(_progressStates_output_transfer_stepStatuses_output_transfer=_progressStates_output_transfer[null==stepStatuses?void 0:stepStatuses.output_transfer])||void 0===_progressStates_output_transfer_stepStatuses_output_transfer?void 0:_progressStates_output_transfer_stepStatuses_output_transfer.name,status:stepStatuses.output_transfer,description:null==progressStates||null===(_progressStates_output_transfer1=progressStates.output_transfer)||void 0===_progressStates_output_transfer1||null===(_progressStates_output_transfer_stepStatuses_output_transfer1=_progressStates_output_transfer1[null==stepStatuses?void 0:stepStatuses.output_transfer])||void 0===_progressStates_output_transfer_stepStatuses_output_transfer1?void 0:_progressStates_output_transfer_stepStatuses_output_transfer1.description,index:2},{name:null===(_progressStates_refuel=progressStates.refuel)||void 0===_progressStates_refuel||null===(_progressStates_refuel_stepStatuses_refuel=_progressStates_refuel[null==stepStatuses?void 0:stepStatuses.refuel])||void 0===_progressStates_refuel_stepStatuses_refuel?void 0:_progressStates_refuel_stepStatuses_refuel.name,status:stepStatuses.refuel,description:null===(_progressStates_refuel1=progressStates.refuel)||void 0===_progressStates_refuel1||null===(_progressStates_refuel_stepStatuses_refuel1=_progressStates_refuel1[null==stepStatuses?void 0:stepStatuses.refuel])||void 0===_progressStates_refuel_stepStatuses_refuel1?void 0:_progressStates_refuel_stepStatuses_refuel1.description,index:3},{name:null===(_progressStates_refund=progressStates.refund)||void 0===_progressStates_refund||null===(_progressStates_refund_stepStatuses_refund=_progressStates_refund[null==stepStatuses?void 0:stepStatuses.refund])||void 0===_progressStates_refund_stepStatuses_refund?void 0:_progressStates_refund_stepStatuses_refund.name,status:stepStatuses.refund,description:null===(_progressStates_refund1=progressStates.refund)||void 0===_progressStates_refund1||null===(_progressStates_refund_stepStatuses_refund1=_progressStates_refund1[null==stepStatuses?void 0:stepStatuses.refund])||void 0===_progressStates_refund_stepStatuses_refund1?void 0:_progressStates_refund_stepStatuses_refund1.description,index:4}].filter(s=>s.status&&s.status!=ProgressStatus.Removed),stepsProgressPercentage=currentSteps.filter(x=>x.status==ProgressStatus.Complete).length/currentSteps.length*100;const swapStatus=swapDetails.status;return(0,jsx_runtime.jsx)(Index.x.Content,{children:(0,jsx_runtime.jsxs)("div",{className:"w-full min-h-[410px] h-full space-y-3 flex flex-col justify-between text-primary-text",children:[(0,jsx_runtime.jsx)(Swap_Summary,{}),(0,jsx_runtime.jsxs)("div",{className:"bg-secondary-500 font-normal px-3 pt-6 pb-3 rounded-2xl space-y-4 flex flex-col w-full relative z-10 divide-y-2 divide-secondary-300 divide-dashed",children:[(0,jsx_runtime.jsx)("div",{className:"pb-4",children:(0,jsx_runtime.jsxs)("div",{className:"flex flex-col gap-2 items-center",children:[(0,jsx_runtime.jsxs)("div",{className:"flex items-center",children:[swapStatus===SwapStatus.e.PendingRefund&&(0,jsx_runtime.jsx)("span",{className:"relative z-10 flex h-10 w-10 items-center justify-center rounded-full bg-primary/20",children:(0,jsx_runtime.jsx)(undo_2.A,{className:"h-7 w-7 text-primary","aria-hidden":"true"})}),swapStatus===SwapStatus.e.Refunded&&(0,jsx_runtime.jsx)("span",{className:"relative z-10 flex h-10 w-10 items-center justify-center",children:(0,jsx_runtime.jsx)(circle_check.A,{className:"h-10 w-10 text-primary",strokeWidth:2,"aria-hidden":"true"})}),swapStatus!==SwapStatus.e.PendingRefund&&swapStatus!==SwapStatus.e.Refunded&&(0,jsx_runtime.jsx)(Gauge,{value:stepsProgressPercentage,size:"small",showCheckmark:swapStatus===SwapStatus.e.Completed})]}),(0,jsx_runtime.jsxs)("div",{className:"flex-col text-center ",children:[(0,jsx_runtime.jsx)("span",{className:"font-medium text-primary-text",children:progressStatuses.generalStatus.title}),progressStatuses.generalStatus.subTitle&&(0,jsx_runtime.jsx)("span",{className:"text-sm block text-secondary-text",children:progressStatuses.generalStatus.subTitle}),(null==swapOutputTransaction?void 0:swapOutputTransaction.status)!=layerSwapApiClient.X8.Completed&&swapStatus!==SwapStatus.e.Cancelled&&swapStatus!==SwapStatus.e.Expired&&swapStatus!==SwapStatus.e.Failed&&swapStatus!==SwapStatus.e.PendingRefund&&swapStatus!==SwapStatus.e.Refunded&&(0,jsx_runtime.jsx)("span",{className:"text-sm block space-x-1 text-secondary-text",children:(0,jsx_runtime.jsx)("span",{children:countDownTimer})})]})]})}),(0,jsx_runtime.jsxs)("div",{className:"pt-4",children:[swapStatus!=SwapStatus.e.Cancelled&&swapStatus!=SwapStatus.e.Expired&&currentSteps.find(x=>null!=x.status)&&(0,jsx_runtime.jsx)("div",{className:"flex flex-col justify-center space-y-4",children:(0,jsx_runtime.jsx)(Steps,{steps:currentSteps})}),[SwapStatus.e.Expired,SwapStatus.e.Cancelled,SwapStatus.e.UserTransferDelayed].includes(swapStatus)&&(0,jsx_runtime.jsx)(Withdraw_Failed,{}),showSupportButton&&swapDetails.status!==SwapStatus.e.Completed&&inputTxStatus!==layerSwapApiClient.x8.Failed&&swapDetails.status!==SwapStatus.e.PendingRefund&&swapDetails.status!==SwapStatus.e.Refunded&&(0,jsx_runtime.jsx)("div",{className:"flex justify-center mt-6",children:(0,jsx_runtime.jsx)(submitButton.Ay,{onClick:handleSupportClick,className:"w-full max-w-xs",children:"Contact Support"})})]})]})]})})},getProgressStatuses=(swapDetails,refuel,inputTxStatusFromApi)=>{var _swapDetails_transactions,_swapDetails_transactions1,_swapDetails_transactions2;const swapStatus=swapDetails.status;let generalTitle="Transfer in progress",subtitle="";const swapInputTransaction=null==swapDetails||null===(_swapDetails_transactions=swapDetails.transactions)||void 0===_swapDetails_transactions?void 0:_swapDetails_transactions.find(t=>t.type===layerSwapApiClient.D_.Input),swapInputTxStatus=((swapInputTransaction,inputTxStatusFromApi)=>swapInputTransaction?swapInputTransaction.status===layerSwapApiClient.X8.Completed&&swapInputTransaction.confirmations<swapInputTransaction.max_confirmations?layerSwapApiClient.x8.Pending:null==swapInputTransaction?void 0:swapInputTransaction.status:inputTxStatusFromApi===layerSwapApiClient.x8.Failed?inputTxStatusFromApi:layerSwapApiClient.x8.Pending)(swapInputTransaction,inputTxStatusFromApi),swapOutputTransaction=null==swapDetails||null===(_swapDetails_transactions1=swapDetails.transactions)||void 0===_swapDetails_transactions1?void 0:_swapDetails_transactions1.find(t=>t.type===layerSwapApiClient.D_.Output),swapRefuelTransaction=null==swapDetails||null===(_swapDetails_transactions2=swapDetails.transactions)||void 0===_swapDetails_transactions2?void 0:_swapDetails_transactions2.find(t=>t.type===layerSwapApiClient.D_.Refuel);let inputIsCompleted=swapInputTransaction&&swapInputTransaction.confirmations>=swapInputTransaction.max_confirmations;inputIsCompleted||(subtitle=null);let input_transfer=transactionStatusToProgressStatus(swapInputTxStatus)||"",output_transfer=(null==swapOutputTransaction?void 0:swapOutputTransaction.transaction_hash)?ProgressStatus.Complete:inputIsCompleted?ProgressStatus.Current:ProgressStatus.Upcoming,refuel_transfer=(null==swapRefuelTransaction?void 0:swapRefuelTransaction.transaction_hash)?ProgressStatus.Complete:refuel?ProgressStatus.Upcoming:ProgressStatus.Removed,refund_status=ProgressStatus.Removed;return swapStatus===SwapStatus.e.PendingRefund||swapStatus===SwapStatus.e.Refunded?(input_transfer=ProgressStatus.Complete,output_transfer=ProgressStatus.Failed,refuel_transfer=ProgressStatus.Removed,refund_status=swapStatus===SwapStatus.e.Refunded?ProgressStatus.Complete:ProgressStatus.Current,generalTitle=swapStatus===SwapStatus.e.Refunded?"Refund complete":"Processing refund",subtitle=swapStatus===SwapStatus.e.Refunded?"We couldn’t complete your transaction. The full amount has been returned to your wallet.":"Your transaction could not be processed. The full amount will be returned to your wallet."):swapStatus===SwapStatus.e.Failed&&(output_transfer=output_transfer==ProgressStatus.Complete?ProgressStatus.Complete:ProgressStatus.Failed,refuel_transfer=refuel_transfer!==ProgressStatus.Complete?ProgressStatus.Removed:refuel_transfer,generalTitle=(null==swapDetails?void 0:swapDetails.fail_reason)==SwapFailReasons.RECEIVED_MORE_THAN_VALID_RANGE?"Transfer on hold":"Transfer failed",subtitle="View instructions below"),swapInputTxStatus==layerSwapApiClient.x8.Failed&&(input_transfer=ProgressStatus.Failed,generalTitle=(null==swapDetails?void 0:swapDetails.fail_reason)==SwapFailReasons.RECEIVED_MORE_THAN_VALID_RANGE?"Transfer on hold":"Transfer failed",subtitle="View instructions below"),swapStatus===SwapStatus.e.UserTransferDelayed&&(input_transfer=ProgressStatus.Removed,output_transfer=ProgressStatus.Removed,refuel_transfer=ProgressStatus.Removed,generalTitle="Transfer delayed",subtitle="View instructions below"),swapStatus==SwapStatus.e.Completed&&(generalTitle="Transfer complete",subtitle="Thanks for using Layerswap"),swapStatus==SwapStatus.e.Cancelled&&(generalTitle="Transfer cancelled",subtitle="..."),swapStatus==SwapStatus.e.Expired&&(generalTitle="Transfer expired",subtitle="..."),{stepStatuses:{input_transfer,output_transfer,refuel:refuel_transfer,refund:refund_status},generalStatus:{title:generalTitle,subTitle:subtitle}}},transactionStatusToProgressStatus=transactionStatus=>{switch(transactionStatus){case layerSwapApiClient.X8.Completed:return ProgressStatus.Complete;case layerSwapApiClient.X8.Failed:return ProgressStatus.Failed;case layerSwapApiClient.X8.Initiated:case layerSwapApiClient.X8.Pending:return ProgressStatus.Current;default:return ProgressStatus.Upcoming}},Processing_Processing=Processing;Processing.__docgenInfo={description:"",methods:[],displayName:"Processing",props:{swapBasicData:{required:!0,tsType:{name:"signature",type:"object",raw:"{\n    source_network: Network,\n    source_token: Token,\n    source_exchange?: Exchange,\n    destination_network: Network,\n    destination_token: Token,\n    destination_address: string,\n    requested_amount: number,\n    use_deposit_address: boolean,\n\n}",signature:{properties:[{key:"source_network",value:{name:"Network",required:!0}},{key:"source_token",value:{name:"Token",required:!0}},{key:"source_exchange",value:{name:"Exchange",required:!1}},{key:"destination_network",value:{name:"Network",required:!0}},{key:"destination_token",value:{name:"Token",required:!0}},{key:"destination_address",value:{name:"string",required:!0}},{key:"requested_amount",value:{name:"number",required:!0}},{key:"use_deposit_address",value:{name:"boolean",required:!0}}]}},description:""},swapDetails:{required:!0,tsType:{name:"signature",type:"object",raw:"{\n    id: string,\n    created_date: string,\n    status: SwapStatus,\n    transactions: Transaction[]\n    exchange_account_connected: boolean;\n    exchange_account_name?: string;\n\n    fail_reason?: string;\n    metadata: {\n        reference_id: string | null;\n        app: string | null;\n        sequence_number: number\n    }\n}",signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"created_date",value:{name:"string",required:!0}},{key:"status",value:{name:"SwapStatus",required:!0}},{key:"transactions",value:{name:"Array",elements:[{name:"signature",type:"object",raw:"{\n    type: TransactionType,\n    from: string,\n    to: string,\n    created_date: string,\n    amount: number,\n    transaction_hash: string,\n    confirmations: number,\n    max_confirmations: number,\n    usd_value: number,\n    usd_price: number,\n    status: BackendTransactionStatus,\n    fee_amount?: number | null,\n    fee_token?: Token,\n    timestamp?: string,\n}",signature:{properties:[{key:"type",value:{name:"TransactionType",required:!0}},{key:"from",value:{name:"string",required:!0}},{key:"to",value:{name:"string",required:!0}},{key:"created_date",value:{name:"string",required:!0}},{key:"amount",value:{name:"number",required:!0}},{key:"transaction_hash",value:{name:"string",required:!0}},{key:"confirmations",value:{name:"number",required:!0}},{key:"max_confirmations",value:{name:"number",required:!0}},{key:"usd_value",value:{name:"number",required:!0}},{key:"usd_price",value:{name:"number",required:!0}},{key:"status",value:{name:"BackendTransactionStatus",required:!0}},{key:"fee_amount",value:{name:"union",raw:"number | null",elements:[{name:"number"},{name:"null"}],required:!1}},{key:"fee_token",value:{name:"Token",required:!1}},{key:"timestamp",value:{name:"string",required:!1}}]}}],raw:"Transaction[]",required:!0}},{key:"exchange_account_connected",value:{name:"boolean",required:!0}},{key:"exchange_account_name",value:{name:"string",required:!1}},{key:"fail_reason",value:{name:"string",required:!1}},{key:"metadata",value:{name:"signature",type:"object",raw:"{\n    reference_id: string | null;\n    app: string | null;\n    sequence_number: number\n}",signature:{properties:[{key:"reference_id",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!0}},{key:"app",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!0}},{key:"sequence_number",value:{name:"number",required:!0}}]},required:!0}}]}},description:""},quote:{required:!0,tsType:{name:"union",raw:"SwapQuote | undefined",elements:[{name:"signature",type:"object",raw:"{\n    source_network?: Network,\n    source_token?: Token,\n    destination_network?: Network,\n    destination_token?: Token,\n    requested_amount?: number\n    receive_amount: number,\n    min_receive_amount: number,\n    fee_discount?: number\n    total_fee: number,\n    total_fee_in_usd: number,\n    blockchain_fee: number,\n    service_fee: number,\n    avg_completion_time: string,\n    refuel_in_source?: number,\n    slippage?: number,\n}",signature:{properties:[{key:"source_network",value:{name:"Network",required:!1}},{key:"source_token",value:{name:"Token",required:!1}},{key:"destination_network",value:{name:"Network",required:!1}},{key:"destination_token",value:{name:"Token",required:!1}},{key:"requested_amount",value:{name:"number",required:!1}},{key:"receive_amount",value:{name:"number",required:!0}},{key:"min_receive_amount",value:{name:"number",required:!0}},{key:"fee_discount",value:{name:"number",required:!1}},{key:"total_fee",value:{name:"number",required:!0}},{key:"total_fee_in_usd",value:{name:"number",required:!0}},{key:"blockchain_fee",value:{name:"number",required:!0}},{key:"service_fee",value:{name:"number",required:!0}},{key:"avg_completion_time",value:{name:"string",required:!0}},{key:"refuel_in_source",value:{name:"number",required:!1}},{key:"slippage",value:{name:"number",required:!1}}]}},{name:"undefined"}]},description:""},refuel:{required:!0,tsType:{name:"union",raw:"Refuel | undefined",elements:[{name:"signature",type:"object",raw:"{\n    network: Network\n    token: Token,\n    amount: number,\n    amount_in_usd: number\n}",signature:{properties:[{key:"network",value:{name:"Network",required:!0}},{key:"token",value:{name:"Token",required:!0}},{key:"amount",value:{name:"number",required:!0}},{key:"amount_in_usd",value:{name:"number",required:!0}}]}},{name:"undefined"}]},description:""}}};const Component=()=>{const{swapBasicData,swapDetails,quote,refuel}=(0,swap.MJ)();return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:swapDetails&&swapBasicData&&(0,jsx_runtime.jsx)(Processing_Processing,{swapBasicData,swapDetails,quote,refuel})})},Withdraw_Processing=Component;Component.__docgenInfo={description:"",methods:[],displayName:"Component"};const QRIcon=props=>(0,jsx_runtime.jsxs)("svg",{...props,width:"28",height:"28",viewBox:"0 0 21 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,jsx_runtime.jsx)("path",{d:"M4.66043 11.2578H7.16043C7.85043 11.2578 8.43626 11.5053 8.91876 11.9995C9.41293 12.482 9.66043 13.0678 9.66043 13.7578V16.2578C9.66043 16.9478 9.41293 17.5403 8.91876 18.0353C8.6906 18.2695 8.41685 18.4545 8.11443 18.5787C7.81201 18.703 7.48733 18.7639 7.16043 18.7578H4.66043C4.33084 18.7627 4.00364 18.7013 3.69828 18.5772C3.39292 18.453 3.11564 18.2688 2.88293 18.0353C2.64948 17.8026 2.46522 17.5253 2.3411 17.22C2.21698 16.9146 2.15554 16.5874 2.16043 16.2578V13.7578C2.16043 13.0678 2.40209 12.482 2.88293 11.9995C3.37793 11.5053 3.97043 11.2578 4.66043 11.2578ZM7.16043 12.5078H4.66043C4.32209 12.5078 4.02876 12.6312 3.78209 12.8787C3.66137 12.9905 3.56579 13.1267 3.50172 13.2783C3.43764 13.4299 3.40652 13.5933 3.41043 13.7578V16.2578C3.41043 16.5962 3.53459 16.8895 3.78209 17.137C4.02876 17.3837 4.32209 17.5078 4.66043 17.5078H7.16043C7.51209 17.5078 7.80543 17.3837 8.03959 17.137C8.28709 16.8895 8.41043 16.5962 8.41043 16.2578V13.7578C8.41043 13.4062 8.28709 13.1128 8.03959 12.8787C7.92769 12.7581 7.79144 12.6627 7.63987 12.5987C7.4883 12.5348 7.32488 12.5038 7.16043 12.5078Z",fill:"#E1E3E6"}),(0,jsx_runtime.jsx)("path",{d:"M4.66104 2.07764H7.16104C7.85104 2.07764 8.43687 2.32514 8.91937 2.8193C9.41354 3.3018 9.66104 3.88764 9.66104 4.57764V7.07764C9.66104 7.76764 9.41354 8.36014 8.91937 8.85514C8.69121 9.08932 8.41746 9.27425 8.11504 9.39852C7.81262 9.52278 7.48794 9.58375 7.16104 9.57764H4.66104C4.33145 9.58253 4.00425 9.52108 3.69889 9.39696C3.39353 9.27284 3.11625 9.08858 2.88354 8.85514C2.65009 8.62243 2.46583 8.34515 2.34171 8.03979C2.21759 7.73443 2.15615 7.40722 2.16104 7.07764V4.57764C2.16104 3.88764 2.4027 3.3018 2.88354 2.8193C3.37854 2.32514 3.97104 2.07764 4.66104 2.07764ZM7.16104 3.32764H4.66104C4.3227 3.32764 4.02937 3.45097 3.7827 3.69847C3.66198 3.8103 3.56641 3.94651 3.50233 4.09809C3.43825 4.24966 3.40713 4.41312 3.41104 4.57764V7.07764C3.41104 7.41597 3.5352 7.7093 3.7827 7.9568C4.02937 8.20347 4.3227 8.32764 4.66104 8.32764H7.16104C7.5127 8.32764 7.80604 8.20347 8.0402 7.9568C8.2877 7.7093 8.41104 7.41597 8.41104 7.07764V4.57764C8.41104 4.22597 8.2877 3.93264 8.0402 3.69847C7.9283 3.57789 7.79205 3.48248 7.64048 3.41855C7.48891 3.35461 7.32549 3.32363 7.16104 3.32764Z",fill:"#E1E3E6"}),(0,jsx_runtime.jsx)("path",{d:"M13.8305 2.07764H16.3305C17.0205 2.07764 17.6063 2.32514 18.0888 2.8193C18.583 3.3018 18.8305 3.88764 18.8305 4.57764V7.07764C18.8305 7.76764 18.583 8.36014 18.0888 8.85514C17.8606 9.08932 17.5869 9.27425 17.2845 9.39852C16.982 9.52278 16.6574 9.58375 16.3305 9.57764H13.8305C13.5009 9.58253 13.1737 9.52108 12.8683 9.39696C12.563 9.27284 12.2857 9.08858 12.053 8.85514C11.8195 8.62243 11.6353 8.34515 11.5111 8.03979C11.387 7.73443 11.3256 7.40722 11.3305 7.07764V4.57764C11.3305 3.88764 11.5721 3.3018 12.053 2.8193C12.548 2.32514 13.1405 2.07764 13.8305 2.07764ZM16.3305 3.32764H13.8305C13.4921 3.32764 13.1988 3.45097 12.9521 3.69847C12.8314 3.8103 12.7358 3.94651 12.6718 4.09809C12.6077 4.24966 12.5766 4.41312 12.5805 4.57764V7.07764C12.5805 7.41597 12.7046 7.7093 12.9521 7.9568C13.1988 8.20347 13.4921 8.32764 13.8305 8.32764H16.3305C16.6821 8.32764 16.9755 8.20347 17.2096 7.9568C17.4571 7.7093 17.5805 7.41597 17.5805 7.07764V4.57764C17.5805 4.22597 17.4571 3.93264 17.2096 3.69847C17.0977 3.57789 16.9615 3.48248 16.8099 3.41855C16.6583 3.35461 16.4949 3.32363 16.3305 3.32764Z",fill:"#E1E3E6"}),(0,jsx_runtime.jsx)("path",{d:"M4.89463 4.83198C4.73879 4.98782 4.66046 5.18365 4.66046 5.41782L4.66129 6.25782C4.65987 6.47602 4.74357 6.68618 4.89463 6.84365C5.06463 6.99949 5.26629 7.07782 5.50046 7.07782H6.34046C6.4459 7.07958 6.55059 7.05971 6.64805 7.01943C6.74551 6.97916 6.83369 6.91933 6.90713 6.84365C7.07629 6.67449 7.16046 6.47865 7.16046 6.25782V5.41782C7.16296 5.30768 7.14161 5.1983 7.09789 5.09719C7.05416 4.99607 6.98909 4.9056 6.90713 4.83198C6.75046 4.66282 6.56129 4.57782 6.34046 4.57782H5.50046C5.38747 4.57653 5.27541 4.59842 5.17121 4.64213C5.06701 4.68585 4.97288 4.75046 4.89463 4.83198Z",fill:"#E1E3E6"}),(0,jsx_runtime.jsx)("path",{d:"M14.0746 4.83198C14.2438 4.66282 14.4396 4.57782 14.6605 4.57782H15.5005C15.6107 4.57542 15.7201 4.5969 15.8212 4.64077C15.9223 4.68464 16.0127 4.74987 16.0863 4.83198C16.1684 4.90552 16.2336 4.99596 16.2775 5.09708C16.3214 5.1982 16.3428 5.30762 16.3405 5.41782V6.25782C16.3403 6.36764 16.3177 6.47627 16.2739 6.57701C16.2302 6.67776 16.1664 6.7685 16.0863 6.84365C16.0098 6.92059 15.9183 6.98106 15.8176 7.02133C15.7168 7.06161 15.6089 7.08083 15.5005 7.07782H14.6605C14.4396 7.07782 14.2438 6.99948 14.0746 6.84365C13.9188 6.67448 13.8405 6.47865 13.8405 6.25782V5.41782C13.8374 5.30936 13.8567 5.20143 13.8969 5.10068C13.9372 4.99993 13.9977 4.90848 14.0746 4.83198Z",fill:"#E1E3E6"}),(0,jsx_runtime.jsx)("path",{d:"M5.17121 13.8221C5.27541 13.7784 5.38747 13.7565 5.50046 13.7578H6.34046C6.44759 13.7567 6.5537 13.7788 6.6515 13.8225C6.74931 13.8662 6.83651 13.9306 6.90713 14.0111C6.9877 14.0818 7.05205 14.169 7.09577 14.2668C7.1395 14.3646 7.16157 14.4707 7.16046 14.5778V15.4178C7.16186 15.5307 7.1401 15.6428 7.09653 15.747C7.05296 15.8512 6.9885 15.9453 6.90713 16.0236C6.83362 16.0992 6.74541 16.1588 6.64795 16.199C6.55049 16.2391 6.44584 16.2588 6.34046 16.257H5.50046C5.26629 16.257 5.06463 16.1795 4.89463 16.0236C4.73879 15.8536 4.66129 15.652 4.66129 15.4178V14.5786C4.65943 14.4733 4.67917 14.3686 4.7193 14.2712C4.75943 14.1737 4.8191 14.0855 4.89463 14.012C4.97288 13.9305 5.06701 13.8658 5.17121 13.8221Z",fill:"#E1E3E6"}),(0,jsx_runtime.jsx)("path",{d:"M15.5195 16.2378C15.4029 16.1078 15.2595 16.0428 15.0904 16.0428C15.0057 16.0403 14.9214 16.0565 14.8436 16.0902C14.7659 16.1239 14.6965 16.1743 14.6404 16.2378C14.5237 16.3553 14.4654 16.4986 14.4654 16.6678V17.9178C14.4639 18.0847 14.5266 18.2458 14.6404 18.3678C14.6995 18.4262 14.7699 18.4718 14.8473 18.5019C14.9247 18.532 15.0074 18.5459 15.0904 18.5428C15.1701 18.5445 15.2493 18.5298 15.3231 18.4997C15.3969 18.4696 15.4637 18.4247 15.5195 18.3678C15.5812 18.3102 15.6304 18.2405 15.6641 18.1631C15.6978 18.0857 15.7152 18.0022 15.7154 17.9178V16.6678C15.7154 16.4986 15.6504 16.3553 15.5195 16.2378Z",fill:"#E1E3E6"}),(0,jsx_runtime.jsx)("path",{d:"M18.5759 16.4311C18.6096 16.5054 18.6265 16.5862 18.6254 16.6678V17.9178C18.6254 18.0022 18.6081 18.0856 18.5745 18.163C18.541 18.2404 18.492 18.3101 18.4304 18.3678C18.3129 18.4845 18.1696 18.5428 18.0004 18.5428C17.8313 18.5428 17.6813 18.4845 17.5504 18.3678C17.4338 18.237 17.3754 18.087 17.3754 17.9178V16.6678C17.3737 16.588 17.3883 16.5087 17.4184 16.4347C17.4485 16.3607 17.4934 16.2937 17.5504 16.2378C17.6082 16.1763 17.6779 16.1273 17.7553 16.0937C17.8327 16.0602 17.9161 16.0429 18.0004 16.0428C18.082 16.0418 18.1629 16.0587 18.2372 16.0924C18.3115 16.1261 18.3775 16.1758 18.4304 16.2378C18.4925 16.2908 18.5422 16.3568 18.5759 16.4311Z",fill:"#E1E3E6"}),(0,jsx_runtime.jsx)("path",{d:"M12.8437 12.7811C12.8054 12.8203 12.7854 12.8653 12.7854 12.9178V17.9178C12.7866 18.0848 12.7237 18.2459 12.6096 18.3678C12.5507 18.4259 12.4805 18.4714 12.4035 18.5015C12.3264 18.5316 12.2439 18.5457 12.1612 18.5428C11.9912 18.5428 11.8412 18.4845 11.7112 18.3678C11.5937 18.237 11.5354 18.087 11.5354 17.9178V12.9178C11.5326 12.7251 11.5693 12.5338 11.6432 12.3558C11.7172 12.1778 11.8268 12.0168 11.9654 11.8828C12.2521 11.5961 12.5971 11.4528 13.0004 11.4528H14.2504C14.4432 11.45 14.6344 11.4867 14.8124 11.5606C14.9905 11.6346 15.1514 11.7442 15.2854 11.8828C15.5721 12.1695 15.7154 12.5145 15.7154 12.9178V14.1678C15.7171 14.225 15.7376 14.2801 15.7737 14.3245C15.7913 14.343 15.8125 14.3577 15.8361 14.3678C15.8596 14.3778 15.8849 14.3829 15.9104 14.3828H17.1604C17.1891 14.3843 17.2178 14.3799 17.2448 14.3698C17.2717 14.3598 17.2963 14.3444 17.3171 14.3245C17.3532 14.2801 17.3737 14.225 17.3754 14.1678V12.0778C17.3738 11.9981 17.3884 11.9189 17.4185 11.8451C17.4486 11.7713 17.4935 11.7045 17.5504 11.6486C17.608 11.587 17.6777 11.5378 17.7551 11.5041C17.8325 11.4704 17.916 11.453 18.0004 11.4528C18.0821 11.4519 18.1629 11.4689 18.2373 11.5028C18.3116 11.5366 18.3775 11.5864 18.4304 11.6486C18.4924 11.7015 18.542 11.7674 18.5757 11.8415C18.6094 11.9157 18.6263 11.9964 18.6254 12.0778V14.1678C18.6254 14.5711 18.4821 14.9161 18.1954 15.2028C17.9096 15.4895 17.5646 15.6328 17.1604 15.6328H15.9104C15.5071 15.6328 15.1621 15.4895 14.8754 15.2028C14.6021 14.9161 14.4654 14.5711 14.4654 14.1678V12.9178C14.4654 12.8653 14.4396 12.8203 14.3871 12.7811C14.3479 12.7286 14.3029 12.7028 14.2504 12.7028H13.0004C12.9487 12.7028 12.8962 12.7286 12.8437 12.7811Z",fill:"#E1E3E6"})]}),icons_QRIcon=QRIcon;QRIcon.__docgenInfo={description:"",methods:[],displayName:"QRIcon"};var useCopyClipboard=__webpack_require__("./hooks/useCopyClipboard.ts");function useExchangeNetworks({fromExchange,to,toAsset}){const exchangeNetworksURL=((direction,{fromExchange,to,toAsset})=>{if("from"===direction&&fromExchange&&to&&toAsset)return`/exchange_withdrawal_networks?${new URLSearchParams({source_exchange:fromExchange,destination_network:to,destination_token:toAsset}).toString()}`;return null})("from",{fromExchange,to,toAsset}),apiClient=new layerSwapApiClient.Ay,{data:apiResponse,isLoading}=(0,index.Ay)(exchangeNetworksURL,apiClient.fetcher,{keepPreviousData:!0,dedupingInterval:1e4,revalidateIfStale:!1});return{networks:(0,react.useMemo)(()=>{var _apiResponse_data;return null==apiResponse||null===(_apiResponse_data=apiResponse.data)||void 0===_apiResponse_data?void 0:_apiResponse_data.map(n=>({...n,token:{...n.token,status:"active"}}))},[apiResponse]),isLoading}}var command=__webpack_require__("./components/shadcn/command.tsx"),asyncModal=__webpack_require__("./context/asyncModal.tsx");const AlertIcon=props=>(0,jsx_runtime.jsx)("svg",{...props,width:"44",height:"44",viewBox:"0 0 44 44",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,jsx_runtime.jsx)("path",{d:"M7.33334 34.8333V31.1666H11V18.3333C11 15.7972 11.7639 13.5513 13.2917 11.5958C14.8194 9.60968 16.8056 8.31107 19.25 7.69996V6.41663C19.25 5.65274 19.5097 5.01107 20.0292 4.49162C20.5792 3.94163 21.2361 3.66663 22 3.66663C22.7639 3.66663 23.4056 3.94163 23.925 4.49162C24.475 5.01107 24.75 5.65274 24.75 6.41663V7.69996C27.1944 8.31107 29.1806 9.60968 30.7083 11.5958C32.2361 13.5513 33 15.7972 33 18.3333V31.1666H36.6667V34.8333H7.33334ZM22 40.3333C20.9917 40.3333 20.1208 39.9819 19.3875 39.2791C18.6847 38.5458 18.3333 37.675 18.3333 36.6666H25.6667C25.6667 37.675 25.3 38.5458 24.5667 39.2791C23.8639 39.9819 23.0083 40.3333 22 40.3333ZM14.6667 31.1666H29.3333V18.3333C29.3333 16.3166 28.6153 14.5902 27.1792 13.1541C25.7431 11.718 24.0167 11 22 11C19.9833 11 18.2569 11.718 16.8208 13.1541C15.3847 14.5902 14.6667 16.3166 14.6667 18.3333V31.1666Z",fill:"#F5678D"})}),icons_AlertIcon=AlertIcon;AlertIcon.__docgenInfo={description:"",methods:[],displayName:"AlertIcon"};var useFee=__webpack_require__("./hooks/useFee.tsx");const QuoteUpdated=props=>(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)("div",{className:"p-3 bg-secondary-500 rounded-lg mb-3 w-fit mx-auto",children:(0,jsx_runtime.jsx)(icons_AlertIcon,{className:"h-11 w-11"})}),(0,jsx_runtime.jsxs)("h2",{className:"text-primary-text text-xl font-medium text-center mb-3",children:[(0,jsx_runtime.jsx)("span",{children:props.isBelowMin?"Minimum":"Maximum"})," ",(0,jsx_runtime.jsx)("span",{children:"Amount Adjusted"})]}),(0,jsx_runtime.jsxs)("p",{className:"text-center text-secondary-text text-base mb-6",children:[(0,jsx_runtime.jsx)("span",{children:"The "}),(0,jsx_runtime.jsx)("span",{children:props.isBelowMin?"minimum":"maximum"}),(0,jsx_runtime.jsx)("span",{children:" amount you can send using "}),(0,jsx_runtime.jsx)("span",{children:props.network}),(0,jsx_runtime.jsx)("span",{children:" is "}),(0,jsx_runtime.jsx)("span",{children:props.isBelowMin?null==props?void 0:props.minAllowedAmount:null==props?void 0:props.maxAllowedAmount}),(0,jsx_runtime.jsxs)("span",{children:[" ",props.token,". We’ll adjust your transfer to this limit to proceed."]})]})]});QuoteUpdated.__docgenInfo={description:"",methods:[],displayName:"QuoteUpdated",props:{isBelowMin:{required:!1,tsType:{name:"boolean"},description:""},minAllowedAmount:{required:!0,tsType:{name:"union",raw:"number | undefined",elements:[{name:"number"},{name:"undefined"}]},description:""},maxAllowedAmount:{required:!0,tsType:{name:"union",raw:"number | undefined",elements:[{name:"number"},{name:"undefined"}]},description:""},network:{required:!0,tsType:{name:"union",raw:"string | undefined",elements:[{name:"string"},{name:"undefined"}]},description:""},token:{required:!0,tsType:{name:"union",raw:"string | undefined",elements:[{name:"string"},{name:"undefined"}]},description:""}}};var ManualWithdraw_console=__webpack_require__("./node_modules/console-browserify/index.js");const ManualWithdraw=({swapBasicData,quote,depositActions,refuel})=>{var _swapBasicData_destination_network,_depositActions_find,_wallets_find,_swapBasicData_source_token,_swapBasicData_destination_network1,_swapBasicData_source_network,_swapBasicData_source_network1,_swapBasicData_source_network2,_swapBasicData_source_network3,_swapBasicData_destination_token;const{wallets}=(0,useWallet.A)(),{createSwap,setSwapId}=(0,swap.wQ)(),[isPopoverOpen,setIsPopoverOpen]=(0,react.useState)(!1),[newNetwork,setNewNetwork]=(0,react.useState)(null),[loading,setLoading]=(0,react.useState)(!1),{getConfirmation}=(0,asyncModal.t)(),[showQR,setShowQR]=(0,react.useState)(!1),destinationLogo=null==swapBasicData||null===(_swapBasicData_destination_network=swapBasicData.destination_network)||void 0===_swapBasicData_destination_network?void 0:_swapBasicData_destination_network.logo,[copied,copy]=(0,useCopyClipboard.A)(),query=(0,context_query.ZA)(),depositAddress=null==depositActions||null===(_depositActions_find=depositActions.find(da=>!0))||void 0===_depositActions_find?void 0:_depositActions_find.to_address,WalletIcon=null===(_wallets_find=wallets.find(wallet=>{var _swapBasicData_destination_address;return wallet.address.toLowerCase()==(null==swapBasicData||null===(_swapBasicData_destination_address=swapBasicData.destination_address)||void 0===_swapBasicData_destination_address?void 0:_swapBasicData_destination_address.toLowerCase())}))||void 0===_wallets_find?void 0:_wallets_find.icon,handleClick=async(network,token)=>{var _swapBasicData_requested_amount;const swapValues={amount:null==swapBasicData||null===(_swapBasicData_requested_amount=swapBasicData.requested_amount)||void 0===_swapBasicData_requested_amount?void 0:_swapBasicData_requested_amount.toString(),from:network,to:null==swapBasicData?void 0:swapBasicData.destination_network,fromAsset:token,toAsset:null==swapBasicData?void 0:swapBasicData.destination_token,refuel:!!refuel,destination_address:null==swapBasicData?void 0:swapBasicData.destination_address,fromExchange:null==swapBasicData?void 0:swapBasicData.source_exchange,depositMethod:"deposit_address"};try{var _swapData_swap;setLoading(!0),await async function handleLimitsUpdate(params){var _swapValues_from,_swapValues_fromAsset,_swapValues_to,_swapValues_toAsset;const{swapValues,network,token}=params,{minAllowedAmount,maxAllowedAmount}=await(0,useFee.pV)({sourceNetwork:null===(_swapValues_from=swapValues.from)||void 0===_swapValues_from?void 0:_swapValues_from.name,sourceToken:null===(_swapValues_fromAsset=swapValues.fromAsset)||void 0===_swapValues_fromAsset?void 0:_swapValues_fromAsset.symbol,destinationNetwork:null===(_swapValues_to=swapValues.to)||void 0===_swapValues_to?void 0:_swapValues_to.name,destinationToken:null===(_swapValues_toAsset=swapValues.toAsset)||void 0===_swapValues_toAsset?void 0:_swapValues_toAsset.symbol,useDepositAddress:"deposit_address"==swapValues.depositMethod,refuel:params.swapValues.refuel}),requestedAmount=parseFloat(swapValues.amount||"0"),belowMin=void 0!==minAllowedAmount&&requestedAmount<minAllowedAmount,needsLimitConfirm=belowMin||void 0!==maxAllowedAmount&&requestedAmount>maxAllowedAmount;if(!needsLimitConfirm)return;const newAmount=needsLimitConfirm?belowMin?minAllowedAmount:maxAllowedAmount:requestedAmount;if(!await params.getConfirmation({content:(0,jsx_runtime.jsx)(QuoteUpdated,{minAllowedAmount,maxAllowedAmount,isBelowMin:belowMin,network:null==network?void 0:network.display_name,token:null==token?void 0:token.symbol}),submitText:"Continue",dismissText:"Cancel"}))throw new Error("User cancelled the operation.");needsLimitConfirm&&(swapValues.amount=newAmount.toString())}({swapValues,network,token,getConfirmation});const swapData=await createSwap(swapValues,query);setNewNetwork(network);const swapId=null==swapData||null===(_swapData_swap=swapData.swap)||void 0===_swapData_swap?void 0:_swapData_swap.id;if(!swapId)throw new Error("Swap ID is undefined");setSwapId(swapId),setIsPopoverOpen(!1)}catch(e){ManualWithdraw_console.error("Swap creation error:",e)}finally{setLoading(!1)}},exchangeNetworkParams=(0,react.useMemo)(()=>{var _swapBasicData_source_exchange,_swapBasicData_destination_network,_swapBasicData_destination_token;return{fromExchange:null==swapBasicData||null===(_swapBasicData_source_exchange=swapBasicData.source_exchange)||void 0===_swapBasicData_source_exchange?void 0:_swapBasicData_source_exchange.name,to:null==swapBasicData||null===(_swapBasicData_destination_network=swapBasicData.destination_network)||void 0===_swapBasicData_destination_network?void 0:_swapBasicData_destination_network.name,toAsset:null==swapBasicData||null===(_swapBasicData_destination_token=swapBasicData.destination_token)||void 0===_swapBasicData_destination_token?void 0:_swapBasicData_destination_token.symbol}},[swapBasicData]),{networks:withdrawalNetworks,isLoading:exchangeSourceNetworksLoading}=useExchangeNetworks(exchangeNetworkParams),requestAmount=(0,jsx_runtime.jsxs)("span",{className:"inline-flex items-center gap-1 px-1.5 mx-1 bg-secondary-300 rounded-lg",children:[(0,jsx_runtime.jsx)("span",{children:null==swapBasicData?void 0:swapBasicData.requested_amount})," ",(0,jsx_runtime.jsx)("span",{children:null==swapBasicData||null===(_swapBasicData_source_token=swapBasicData.source_token)||void 0===_swapBasicData_source_token?void 0:_swapBasicData_source_token.symbol}),(0,jsx_runtime.jsx)(copyButton.A,{toCopy:null==swapBasicData?void 0:swapBasicData.requested_amount,iconClassName:"text-secondary-text"})]}),destinationNetwork=(0,jsx_runtime.jsxs)("span",{className:"flex items-center gap-1",children:[destinationLogo&&(0,jsx_runtime.jsx)(ImageWithFallback.o,{src:destinationLogo,alt:"Project Logo",height:"16",width:"16",loading:"eager",className:"rounded-md object-contain"}),null==swapBasicData||null===(_swapBasicData_destination_network1=swapBasicData.destination_network)||void 0===_swapBasicData_destination_network1?void 0:_swapBasicData_destination_network1.display_name]}),sourceNetworkPopover=(0,jsx_runtime.jsxs)(popover.AM,{open:isPopoverOpen,onOpenChange:setIsPopoverOpen,children:[(0,jsx_runtime.jsx)(popover.Wv,{asChild:!0,children:(0,jsx_runtime.jsxs)("button",{className:"inline-flex items-center gap-1 px-1.5 mx-1 bg-secondary-300 rounded-lg",children:[(0,jsx_runtime.jsx)(ImageWithFallback.o,{src:(null==newNetwork?void 0:newNetwork.logo)||(null==swapBasicData||null===(_swapBasicData_source_network=swapBasicData.source_network)||void 0===_swapBasicData_source_network?void 0:_swapBasicData_source_network.logo),alt:"Project Logo",height:"16",width:"16",loading:"eager",className:"rounded-sm object-contain"}),(0,jsx_runtime.jsx)("span",{children:(null==newNetwork?void 0:newNetwork.display_name)||(null==swapBasicData||null===(_swapBasicData_source_network1=swapBasicData.source_network)||void 0===_swapBasicData_source_network1?void 0:_swapBasicData_source_network1.display_name)}),(0,jsx_runtime.jsx)("span",{className:"pointer-events-none text-shadow-primary-text-tertiary",children:(0,jsx_runtime.jsx)(chevron_down.A,{className:"h-3.5 w-3.5 text-secondary-text","aria-hidden":"true"})})]})}),(0,jsx_runtime.jsx)(popover.hl,{side:"top",className:"bg-secondary-300! space-y-1 p-1! rounded-lg!",children:(0,jsx_runtime.jsx)(command.dI,{children:(0,jsx_runtime.jsx)(command.oI,{children:null==withdrawalNetworks?void 0:withdrawalNetworks.map(item=>(0,jsx_runtime.jsx)(command.h_,{className:"hover:bg-secondary-100 rounded-md p-1! cursor-pointer",value:item.network.name,onSelect:()=>handleClick(item.network,item.token),children:(0,jsx_runtime.jsx)("div",{className:"flex items-center justify-between w-full overflow-hidden",children:(0,jsx_runtime.jsxs)("div",{className:"gap-2 relative flex items-center w-full space-y-1",children:[(0,jsx_runtime.jsx)("div",{className:"h-6 w-6 shrink-0 mb-0!",children:item.network.logo&&(0,jsx_runtime.jsx)(ImageWithFallback.o,{src:item.network.logo,alt:"Project Logo",height:"24",width:"24",loading:"eager",className:"rounded-md object-contain"})}),(0,jsx_runtime.jsx)("div",{className:"flex justify-between w-full items-center",children:(0,jsx_runtime.jsx)("span",{className:"flex items-center pb-0.5 text-sm font-medium text-primary-text pr-20",children:item.network.display_name})})]})})},item.network.name))})})})]});return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(Index.x.Content,{children:(0,jsx_runtime.jsx)("div",{className:"flex flex-col flex-1 h-full min-h-0 w-full space-y-3",children:loading||exchangeSourceNetworksLoading?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(SkeletonStep,{number:1}),(0,jsx_runtime.jsx)(SkeletonStep,{number:2}),(0,jsx_runtime.jsx)(SkeletonStep,{number:3})]}):(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(ManualWithdraw_Step,{number:1,label:(0,jsx_runtime.jsxs)("div",{className:"flex items-center justify-between gap-2 relative",children:[(0,jsx_runtime.jsx)("span",{children:"Copy the deposit address"}),(0,jsx_runtime.jsx)("div",{className:"relative",children:(0,jsx_runtime.jsxs)(popover.AM,{open:showQR,onOpenChange:setShowQR,children:[(0,jsx_runtime.jsx)(popover.Wv,{asChild:!0,children:(0,jsx_runtime.jsx)("div",{className:"relative",children:(0,jsx_runtime.jsx)(icons_QRIcon,{className:"bg-secondary-300 p-1 rounded-lg cursor-pointer hover:opacity-80"})})}),(0,jsx_runtime.jsx)(popover.hl,{side:"left",align:"start",className:"bg-secondary-300 p-2 rounded-xl z-50",children:(0,jsx_runtime.jsx)("div",{className:"bg-white p-2 rounded-xl shadow-lg",children:(0,jsx_runtime.jsx)(lib_esm.hp,{className:"rounded-lg",value:depositAddress||"",includeMargin:!0,size:160,level:"H"})})})]})})]}),value:(0,jsx_runtime.jsx)("span",{className:"cursor-pointer hover:underline min-h-[20px] block",children:depositAddress?(0,ShortenAddress.Ay)(depositAddress):(0,jsx_runtime.jsx)("span",{className:"inline-block w-28 bg-secondary-400 h-[20px] rounded animate-pulse"})})}),(0,jsx_runtime.jsx)(ManualWithdraw_Step,{number:2,label:(0,jsx_runtime.jsxs)("span",{children:[(0,jsx_runtime.jsxs)("span",{className:"inline-flex items-center",children:[(0,jsx_runtime.jsx)("span",{children:"Send"}),requestAmount]}),(0,jsx_runtime.jsx)("span",{children:"via"}),(null==swapBasicData?void 0:swapBasicData.source_exchange)?(0,jsx_runtime.jsx)("span",{className:"inline-flex items-center align-bottom",children:sourceNetworkPopover}):(0,jsx_runtime.jsxs)("span",{className:"inline-flex items-center gap-1 mx-1 h-6 align-bottom",children:[(0,jsx_runtime.jsx)(ImageWithFallback.o,{src:null==swapBasicData||null===(_swapBasicData_source_network2=swapBasicData.source_network)||void 0===_swapBasicData_source_network2?void 0:_swapBasicData_source_network2.logo,alt:"Project Logo",height:"16",width:"16",loading:"eager",className:"rounded-sm object-contain"}),(0,jsx_runtime.jsx)("span",{children:null==swapBasicData||null===(_swapBasicData_source_network3=swapBasicData.source_network)||void 0===_swapBasicData_source_network3?void 0:_swapBasicData_source_network3.display_name})]}),(0,jsx_runtime.jsx)("span",{children:"to the deposit address"})]})}),(0,jsx_runtime.jsx)(ManualWithdraw_Step,{number:3,label:(0,jsx_runtime.jsxs)("span",{className:"flex items-center gap-1",children:[(0,jsx_runtime.jsx)("span",{children:"Receive"})," ",(0,jsx_runtime.jsx)("span",{children:null==quote?void 0:quote.receive_amount})," ",(0,jsx_runtime.jsx)("span",{children:null==swapBasicData||null===(_swapBasicData_destination_token=swapBasicData.destination_token)||void 0===_swapBasicData_destination_token?void 0:_swapBasicData_destination_token.symbol})," ",(0,jsx_runtime.jsx)("span",{children:"at"})," ",(0,jsx_runtime.jsx)("span",{children:destinationNetwork})]}),value:(0,jsx_runtime.jsxs)("span",{className:"cursor-pointer hover:underline flex items-center gap-2",children:[WalletIcon?(0,jsx_runtime.jsx)(WalletIcon,{className:"w-4 h-4 p-0.5 bg-white rounded-sm"}):(0,jsx_runtime.jsx)(AddressIcon.A,{className:"h-4 w-4",address:swapBasicData.destination_address,size:36,rounded:"4px"}),(0,ShortenAddress.Ay)(swapBasicData.destination_address)]})})]})})}),(0,jsx_runtime.jsx)(Index.x.Footer,{children:(0,jsx_runtime.jsx)(submitButton.Ay,{onClick:()=>{depositAddress&&copy(depositAddress)},children:copied?"Copied!":"Copy deposit address"})})]})},ManualWithdraw_Step=({number,label,value})=>(0,jsx_runtime.jsxs)("div",{className:"flex items-start space-x-3 bg-secondary-500 p-3 rounded-xl",children:[(0,jsx_runtime.jsx)("div",{className:"w-6 h-6 rounded-md bg-secondary-400 text-primary-text flex items-center justify-center text-base font-normal leading-6",children:number}),(0,jsx_runtime.jsxs)("div",{className:"flex-1",children:[(0,jsx_runtime.jsx)("div",{className:"font-normal text-base leading-6",children:label}),(0,jsx_runtime.jsx)("div",{className:"text-sm text-secondary-text",children:value})]})]}),SkeletonStep=({number})=>(0,jsx_runtime.jsxs)("div",{className:"flex items-start space-x-3 bg-secondary-500 p-3 rounded-lg animate-pulse",children:[(0,jsx_runtime.jsx)("div",{className:"w-6 h-6 rounded-md bg-secondary-400 text-primary-text flex items-center justify-center text-base font-normal leading-6",children:number}),(0,jsx_runtime.jsxs)("div",{className:"flex-1 space-y-3",children:[(0,jsx_runtime.jsx)("div",{className:"h-5 bg-secondary-300 rounded w-3/4"}),(0,jsx_runtime.jsx)("div",{className:"h-4 bg-secondary-300 rounded w-1/2"})]})]}),Withdraw_ManualWithdraw=ManualWithdraw;ManualWithdraw.__docgenInfo={description:"",methods:[],displayName:"ManualWithdraw",props:{swapBasicData:{required:!0,tsType:{name:"signature",type:"object",raw:"{\n    source_network: Network,\n    source_token: Token,\n    source_exchange?: Exchange,\n    destination_network: Network,\n    destination_token: Token,\n    destination_address: string,\n    requested_amount: number,\n    use_deposit_address: boolean,\n\n}",signature:{properties:[{key:"source_network",value:{name:"Network",required:!0}},{key:"source_token",value:{name:"Token",required:!0}},{key:"source_exchange",value:{name:"Exchange",required:!1}},{key:"destination_network",value:{name:"Network",required:!0}},{key:"destination_token",value:{name:"Token",required:!0}},{key:"destination_address",value:{name:"string",required:!0}},{key:"requested_amount",value:{name:"number",required:!0}},{key:"use_deposit_address",value:{name:"boolean",required:!0}}]}},description:""},quote:{required:!0,tsType:{name:"union",raw:"SwapQuote | undefined",elements:[{name:"signature",type:"object",raw:"{\n    source_network?: Network,\n    source_token?: Token,\n    destination_network?: Network,\n    destination_token?: Token,\n    requested_amount?: number\n    receive_amount: number,\n    min_receive_amount: number,\n    fee_discount?: number\n    total_fee: number,\n    total_fee_in_usd: number,\n    blockchain_fee: number,\n    service_fee: number,\n    avg_completion_time: string,\n    refuel_in_source?: number,\n    slippage?: number,\n}",signature:{properties:[{key:"source_network",value:{name:"Network",required:!1}},{key:"source_token",value:{name:"Token",required:!1}},{key:"destination_network",value:{name:"Network",required:!1}},{key:"destination_token",value:{name:"Token",required:!1}},{key:"requested_amount",value:{name:"number",required:!1}},{key:"receive_amount",value:{name:"number",required:!0}},{key:"min_receive_amount",value:{name:"number",required:!0}},{key:"fee_discount",value:{name:"number",required:!1}},{key:"total_fee",value:{name:"number",required:!0}},{key:"total_fee_in_usd",value:{name:"number",required:!0}},{key:"blockchain_fee",value:{name:"number",required:!0}},{key:"service_fee",value:{name:"number",required:!0}},{key:"avg_completion_time",value:{name:"string",required:!0}},{key:"refuel_in_source",value:{name:"number",required:!1}},{key:"slippage",value:{name:"number",required:!1}}]}},{name:"undefined"}]},description:""},depositActions:{required:!0,tsType:{name:"union",raw:"DepositAction[] | undefined",elements:[{name:"Array",elements:[{name:"signature",type:"object",raw:"{\n    amount: number,\n    amount_in_base_units: string,\n    call_data: `0x${string}` | string,\n    fee: any | null,//TODO: clarify this field type\n    network: Network,\n    order: number,\n    to_address?: `0x${string}`,\n    token: Token,\n    fee_token: Token,\n    type: 'transfer' | 'manual_transfer',\n}",signature:{properties:[{key:"amount",value:{name:"number",required:!0}},{key:"amount_in_base_units",value:{name:"string",required:!0}},{key:"call_data",value:{name:"union",raw:"`0x${string}` | string",elements:[{name:"literal",value:"`0x${string}`"},{name:"string"}],required:!0}},{key:"fee",value:{name:"union",raw:"any | null",elements:[{name:"any"},{name:"null"}],required:!0}},{key:"network",value:{name:"Network",required:!0}},{key:"order",value:{name:"number",required:!0}},{key:"to_address",value:{name:"literal",value:"`0x${string}`",required:!1}},{key:"token",value:{name:"Token",required:!0}},{key:"fee_token",value:{name:"Token",required:!0}},{key:"type",value:{name:"union",raw:"'transfer' | 'manual_transfer'",elements:[{name:"literal",value:"'transfer'"},{name:"literal",value:"'manual_transfer'"}],required:!0}}]}}],raw:"DepositAction[]"},{name:"undefined"}]},description:""},refuel:{required:!1,tsType:{name:"union",raw:"Refuel | undefined",elements:[{name:"signature",type:"object",raw:"{\n    network: Network\n    token: Token,\n    amount: number,\n    amount_in_usd: number\n}",signature:{properties:[{key:"network",value:{name:"Network",required:!0}},{key:"token",value:{name:"Token",required:!0}},{key:"amount",value:{name:"number",required:!0}},{key:"amount_in_usd",value:{name:"number",required:!0}}]}},{name:"undefined"}]},description:""}}};const SwapDetails=({type,onWalletWithdrawalSuccess})=>{var _swapDetails_transactions,_storedWalletTransactions_swapTransactions;const{swapDetails,swapBasicData,quote,refuel,depositActionsResponse}=(0,swap.MJ)(),swapStatus=(null==swapDetails?void 0:swapDetails.status)||SwapStatus.e.UserTransferPending,storedWalletTransactions=useSwapTransactionStore(),swapInputTransaction=null==swapDetails||null===(_swapDetails_transactions=swapDetails.transactions)||void 0===_swapDetails_transactions?void 0:_swapDetails_transactions.find(t=>t.type===layerSwapApiClient.D_.Input),storedWalletTransaction=null===(_storedWalletTransactions_swapTransactions=storedWalletTransactions.swapTransactions)||void 0===_storedWalletTransactions_swapTransactions?void 0:_storedWalletTransactions_swapTransactions[(null==swapDetails?void 0:swapDetails.id)||""],removeStoredTransaction=(0,react.useCallback)(()=>{useSwapTransactionStore.getState().removeSwapTransaction((null==swapDetails?void 0:swapDetails.id)||"")},[null==swapDetails?void 0:swapDetails.id,storedWalletTransactions]);return swapBasicData?(0,jsx_runtime.jsx)(Container,{type,children:swapStatus!==SwapStatus.e.UserTransferPending||swapInputTransaction||storedWalletTransaction?(0,jsx_runtime.jsxs)("div",{className:"space-y-3 w-full h-full",children:[(0,jsx_runtime.jsx)(Withdraw_Processing,{}),(null==storedWalletTransaction?void 0:storedWalletTransaction.status)==layerSwapApiClient.X8.Failed&&(0,jsx_runtime.jsx)(submitButton.Ay,{isDisabled:!1,isSubmitting:!1,onClick:removeStoredTransaction,children:"Try again"})]}):!0===(null==swapBasicData?void 0:swapBasicData.use_deposit_address)?(0,jsx_runtime.jsx)(Withdraw_ManualWithdraw,{swapBasicData,quote,depositActions:depositActionsResponse,refuel}):(0,jsx_runtime.jsx)(Swap_Withdraw,{type,onWalletWithdrawalSuccess})}):(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:(0,jsx_runtime.jsx)("div",{className:"w-full h-[430px]",children:(0,jsx_runtime.jsx)("div",{className:"animate-pulse flex space-x-4",children:(0,jsx_runtime.jsxs)("div",{className:"flex-1 space-y-6 py-1",children:[(0,jsx_runtime.jsx)("div",{className:"h-32 bg-secondary-700 rounded-lg"}),(0,jsx_runtime.jsx)("div",{className:"h-40 bg-secondary-700 rounded-lg"}),(0,jsx_runtime.jsx)("div",{className:"h-12 bg-secondary-700 rounded-lg"})]})})})})},Container=({type,children})=>"widget"===type?(0,jsx_runtime.jsx)(Index.x,{children:(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children})}):(0,jsx_runtime.jsx)("div",{className:"w-full flex flex-col justify-between h-full space-y-3 text-secondary-text",children}),Swap=SwapDetails;SwapDetails.__docgenInfo={description:"",methods:[],displayName:"SwapDetails",props:{type:{required:!0,tsType:{name:"union",raw:'"widget" | "contained"',elements:[{name:"literal",value:'"widget"'},{name:"literal",value:'"contained"'}]},description:""},onWalletWithdrawalSuccess:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};var SwapDataUpdate_console=__webpack_require__("./node_modules/console-browserify/index.js");const SwapDataUpdate={createSwap:()=>{throw new Error("Not implemented")},setCodeRequested:()=>{throw new Error("Not implemented")},mutateSwap:()=>{throw new Error("Not implemented")},setDepositAddressIsFromAccount:()=>{throw new Error("Not implemented")},setWithdrawType:()=>{},setInterval:()=>{SwapDataUpdate_console.log("set interval called")},setSwapId:()=>{throw new Error("Not implemented")},setSubmitedFormValues:()=>{throw new Error("Not implemented")},setQuoteLoading:()=>{throw new Error("Not implemented")},setSwapModalOpen:function(value){throw new Error("Function not implemented.")}};var formik_esm=__webpack_require__("./node_modules/formik/dist/formik.esm.js"),external_STORYBOOK_MODULE_PREVIEW_API_=__webpack_require__("storybook/preview-api"),WalletProviders=__webpack_require__("./components/WalletProviders/index.tsx"),timerContext=__webpack_require__("./context/timerContext.tsx");const NetworkTabIcon=props=>(0,jsx_runtime.jsxs)("svg",{width:"24",height:"24",...props,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,jsx_runtime.jsx)("path",{d:"M15.6748 5.25376C16.0414 4.92069 16.6323 4.9155 17.006 5.23815L17.0236 5.25376L21.7207 9.5209C21.9934 9.7687 22.075 10.1414 21.9274 10.4651C21.7798 10.7889 21.432 11 21.0463 11H5.95372C5.42699 11 5 10.6121 5 10.1336C5 9.65506 5.42699 9.26715 5.95372 9.26715H18.7437L15.6748 6.47911L15.6576 6.46308C15.3025 6.12364 15.3082 5.58683 15.6748 5.25376Z",fill:"currentColor"}),(0,jsx_runtime.jsx)("path",{d:"M8.32519 18.7462C7.95856 19.0793 7.36768 19.0845 6.99404 18.7618L6.97639 18.7462L2.27934 14.4791C2.00659 14.2313 1.92502 13.8586 2.07263 13.5349C2.22024 13.2111 2.568 13 2.95374 13H18.0463C18.573 13 19 13.3879 19 13.8664C19 14.3449 18.573 14.7328 18.0463 14.7328H5.25626L8.32519 17.5209L8.34237 17.5369C8.69754 17.8764 8.69182 18.4132 8.32519 18.7462Z",fill:"currentColor"})]});NetworkTabIcon.__docgenInfo={description:"",methods:[],displayName:"NetworkTabIcon"};const ExchangeTabIcon=props=>(0,jsx_runtime.jsxs)("svg",{...props,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,jsx_runtime.jsx)("rect",{x:"2",y:"21",width:"2",height:"20",rx:"1",transform:"rotate(-90 2 21)",fill:"currentColor"}),(0,jsx_runtime.jsx)("rect",{x:"9",y:"8",width:"2",height:"12",rx:"1",fill:"currentColor"}),(0,jsx_runtime.jsx)("rect",{x:"5",y:"8",width:"2",height:"12",rx:"1",fill:"currentColor"}),(0,jsx_runtime.jsx)("rect",{x:"13",y:"8",width:"2",height:"12",rx:"1",fill:"currentColor"}),(0,jsx_runtime.jsx)("rect",{x:"17",y:"8",width:"2",height:"12",rx:"1",fill:"currentColor"}),(0,jsx_runtime.jsx)("path",{d:"M3.03293 10H20.9671C21.9872 10 22.3878 8.68356 21.539 8.12053L12.5719 2.1723C12.2256 1.94257 11.7744 1.94257 11.4281 2.1723L2.46102 8.12053C1.61224 8.68356 2.01282 10 3.03293 10Z",fill:"currentColor"})]});ExchangeTabIcon.__docgenInfo={description:"",methods:[],displayName:"ExchangeTabIcon"};const TabsContext=(0,react.createContext)(void 0),Tabs=({defaultValue,children})=>{const[activeId,setActiveId]=(0,react.useState)(defaultValue);return(0,jsx_runtime.jsx)(TabsContext.Provider,{value:{activeId,setActiveId},children})},TabsList=({children})=>{const{isDesktop}=(0,useWindowDimensions.A)(),[hovered,setHovered]=(0,react.useState)(!1),hoveredOnDesktop=isDesktop&&hovered;return(0,jsx_runtime.jsx)("div",{className:"relative",children:(0,jsx_runtime.jsx)(motion.P.div,{onHoverStart:()=>setHovered(!0),onHoverEnd:()=>setHovered(!1),animate:{width:hoveredOnDesktop?180:48},className:"sm:absolute right-full top-24 overflow-hidden rounded-l-xl max-sm:right-19 max-sm:z-20 max-sm:top-[9px] max-sm:w-fit! max-sm:rounded-lg",transition:{type:"spring",bounce:.2,duration:.6},children:(0,jsx_runtime.jsx)("div",{className:"flex flex-col bg-secondary-500 h-full p-1.5 sm:p-2 w-full space-y-2 max-sm:flex-row max-sm:space-y-0 max-sm:space-x-2",children:react.Children.map(children,child=>react.isValidElement(child)?react.cloneElement(child,{isHovered:hoveredOnDesktop}):child)})})})},TabsTrigger=({value,isHovered,label,Icon})=>{const ctx=(0,react.useContext)(TabsContext);if(!ctx)throw new Error("TabsTrigger must be used within <Tabs>");const isActive=ctx.activeId===value;return(0,jsx_runtime.jsxs)("button",{type:"button",onClick:()=>ctx.setActiveId(value),className:(0,clsx_m.default)("w-full flex items-center justify-start !p-1 hover:bg-secondary-100 text-secondary-text hover:text-primary-text overflow-hidden rounded-md max-sm:justify-center max-sm:px-0 gap-1.5",{"bg-secondary-300 !text-primary-text":isActive}),children:[(0,jsx_runtime.jsx)("div",{className:"h-6 w-6 max-sm:h-5 max-sm:w-5",children:(0,jsx_runtime.jsx)(Icon,{className:"h-6 w-6 max-sm:h-5 max-sm:w-5"})}),isHovered&&(0,jsx_runtime.jsx)("span",{className:"text-sm whitespace-nowrap",children:label})]})};Tabs.__docgenInfo={description:"",methods:[],displayName:"Tabs",props:{defaultValue:{required:!0,tsType:{name:"string"},description:""},children:{required:!0,tsType:{name:"ReactNode"},description:""}}},TabsList.__docgenInfo={description:"",methods:[],displayName:"TabsList",props:{children:{required:!0,tsType:{name:"ReactNode"},description:""}}},TabsTrigger.__docgenInfo={description:"",methods:[],displayName:"TabsTrigger",props:{value:{required:!0,tsType:{name:"string"},description:""},Icon:{required:!0,tsType:{name:"signature",type:"function",raw:"(props: SVGProps<SVGSVGElement>) => JSX.Element",signature:{arguments:[{type:{name:"SVGProps",elements:[{name:"SVGSVGElement"}],raw:"SVGProps<SVGSVGElement>"},name:"props"}],return:{name:"JSX.Element"}}},description:""},label:{required:!0,tsType:{name:"string"},description:""},isHovered:{required:!1,tsType:{name:"boolean"},description:""}}},window.plausible=()=>{};const Comp=({swapData,theme,initialValues})=>{const formikRef=(0,react.useRef)(null),appSettings=new LayerSwapAppSettings.P(Data_settings.w),swapContextInitialValues={swapError:"",setSwapError:()=>{},codeRequested:!1,swapBasicData:swapData.swapBasicData,quote:swapData.quote,refuel:swapData.refuel,swapDetails:swapData.swapDetails,depositAddressIsFromAccount:!1,withdrawType:void 0,swapTransaction:void 0,quoteIsLoading:!1,swapId:void 0,swapModalOpen:!1,quoteError:void 0};if(!appSettings)return(0,jsx_runtime.jsx)("div",{children:"Loading..."});const themeData=theme?Theme.l[theme]:Theme.l.default;return(0,jsx_runtime.jsx)(react_use_intercom_esm.F,{appId:"123",children:(0,jsx_runtime.jsx)(settings.GQ.Provider,{value:appSettings,children:(0,jsx_runtime.jsx)(layout.A,{settings:Data_settings.w,themeData,children:(0,jsx_runtime.jsx)(swap.j0,{children:(0,jsx_runtime.jsx)(timerContext.J,{children:(0,jsx_runtime.jsx)(WalletProviders.A,{basePath:"/",themeData:Theme.l.default,appName:"Layerswap",children:(0,jsx_runtime.jsx)(swap.wC.Provider,{value:swapContextInitialValues,children:(0,jsx_runtime.jsx)(swap.yB.Provider,{value:SwapDataUpdate,children:(0,jsx_runtime.jsx)(formik_esm.l1,{innerRef:formikRef,initialValues,validateOnMount:!0,onSubmit:()=>{},children:(0,jsx_runtime.jsx)(Tabs,{defaultValue:"cross-chain",children:(0,jsx_runtime.jsx)(Process_stories_Component,{initialValues})})})})})})})})})})})},Process_stories_Component=({initialValues})=>(0,jsx_runtime.jsx)(Swap,{type:"widget"}),DUMMY_TRANSACTION={from:"0x5da5c2a98e26fd28914b91212b1232d58eb9bbab",to:"0x142c03fc8fd30d11ed17ef0f48a9941fd4a66953",created_date:"2023-08-16T16:33:23.4937+00:00",transaction_hash:"0xae9231b805139bee7e92ddae631b13bb2d13a09e106826b4f08e8efa965d1c27",confirmations:12,max_confirmations:12,amount:93e-5,usd_price:1819.02,type:layerSwapApiClient.D_,usd_value:1.6916886,status:layerSwapApiClient.X8,timestamp:"2024-07-09T09:09:40.725954+00:00"},meta={title:"Layerswap/Process",component:Comp,parameters:{layout:"centered"},args:{settings:{},theme:"default",timestamp:""},argTypes:{theme:{options:["light","default","evmos","imxMarketplace","ea7df14a1597407f9f755f05e25bab42"],control:{type:"select"}},timestamp:{control:"date"}},render:function Render(args,{loaded:{settings}}){const[{swap,timestamp},updateArgs]=(0,external_STORYBOOK_MODULE_PREVIEW_API_.useArgs)();return(0,react.useEffect)(()=>{var _swap_transactions_,_swap_transactions;timestamp!==(null==swap||null===(_swap_transactions=swap.transactions)||void 0===_swap_transactions||null===(_swap_transactions_=_swap_transactions[0])||void 0===_swap_transactions_?void 0:_swap_transactions_.timestamp)&&(()=>{var _swap_transactions,_updatedSwap_transactions_,_updatedSwap_transactions,_updatedSwap_transactions_1,_updatedSwap_transactions1;const updatedSwap={...args.swapData,transactions:null==swap||null===(_swap_transactions=swap.transactions)||void 0===_swap_transactions?void 0:_swap_transactions.map(transaction=>{var _this;return"input"!==transaction.type||!transaction.timestamp&&""!==transaction.timestamp?transaction:{...transaction,timestamp:timestamp?null===(_this=new Date(timestamp))||void 0===_this?void 0:_this.toISOString():(new Date).toISOString()}})};var _this;((null==updatedSwap||null===(_updatedSwap_transactions=updatedSwap.transactions)||void 0===_updatedSwap_transactions||null===(_updatedSwap_transactions_=_updatedSwap_transactions[0])||void 0===_updatedSwap_transactions_?void 0:_updatedSwap_transactions_.timestamp)||""===(null==updatedSwap||null===(_updatedSwap_transactions1=updatedSwap.transactions)||void 0===_updatedSwap_transactions1||null===(_updatedSwap_transactions_1=_updatedSwap_transactions1[0])||void 0===_updatedSwap_transactions_1?void 0:_updatedSwap_transactions_1.timestamp))&&updateArgs({swap:updatedSwap,timestamp:(null===(_this=new Date(timestamp))||void 0===_this?void 0:_this.toISOString())||(new Date).toISOString()})})()},[timestamp,swap]),(0,jsx_runtime.jsx)(Comp,{...args,settings,initialValues:initialValues.L})}},Process_stories=meta,UserTransferInitiated={args:{settings:Data_settings.w,swapData:{quoteError:void 0,swapBasicData:{destination_address:swaps_swap.swapResponse.swap.destination_address,destination_network:swaps_swap.swapResponse.swap.destination_network,destination_token:swaps_swap.swapResponse.swap.destination_token,refuel:!!swaps_swap.swapResponse.refuel,requested_amount:swaps_swap.swapResponse.swap.requested_amount,source_network:swaps_swap.swapResponse.swap.source_network,source_token:swaps_swap.swapResponse.swap.source_token,use_deposit_address:swaps_swap.swapResponse.swap.use_deposit_address,source_exchange:swaps_swap.swapResponse.swap.source_exchange},...swaps_swap,...swaps_swap.swapResponse,swapDetails:{...swaps_swap.swapResponse.swap,status:SwapStatus.e.UserTransferPending,transactions:[{...DUMMY_TRANSACTION,status:layerSwapApiClient.X8.Completed,type:layerSwapApiClient.D_.Input,confirmations:2,max_confirmations:3}]},refuel:swaps_swap.swapResponse.refuel,quoteIsLoading:!1,swapId:swaps_swap.swapResponse.swap.id,swapModalOpen:!1}},loaders:[async()=>({A:window.localStorage.setItem("swapTransactions",`{"${swaps_swap.swapResponse.swap.id}": {"hash": "0xe1d8539c6dbe522560c41d645f10ffc3f50b8f689a4ce4774573576cb845d5fc", "status":2}}`)})]},UserTransferDetected={args:{settings:Data_settings.w,swapData:{quoteError:void 0,swapBasicData:{destination_address:swaps_swap.swapResponse.swap.destination_address,destination_network:swaps_swap.swapResponse.swap.destination_network,destination_token:swaps_swap.swapResponse.swap.destination_token,refuel:!!swaps_swap.swapResponse.refuel,requested_amount:swaps_swap.swapResponse.swap.requested_amount,source_network:swaps_swap.swapResponse.swap.source_network,source_token:swaps_swap.swapResponse.swap.source_token,use_deposit_address:swaps_swap.swapResponse.swap.use_deposit_address,source_exchange:swaps_swap.swapResponse.swap.source_exchange},...swaps_swap,...swaps_swap.swapResponse,swapDetails:{...swaps_swap.swapResponse.swap,status:SwapStatus.e.UserTransferPending,transactions:[{...DUMMY_TRANSACTION,status:layerSwapApiClient.X8.Initiated,type:layerSwapApiClient.D_.Input,confirmations:2,max_confirmations:3}]},refuel:swaps_swap.swapResponse.refuel,quoteIsLoading:!1,swapId:swaps_swap.swapResponse.swap.id,swapModalOpen:!1}}},UserTransferPendingInputCompleted={args:{settings:Data_settings.w,swapData:{quoteError:void 0,swapBasicData:{destination_address:swaps_swap.swapResponse.swap.destination_address,destination_network:swaps_swap.swapResponse.swap.destination_network,destination_token:swaps_swap.swapResponse.swap.destination_token,refuel:!!swaps_swap.swapResponse.refuel,requested_amount:swaps_swap.swapResponse.swap.requested_amount,source_network:swaps_swap.swapResponse.swap.source_network,source_token:swaps_swap.swapResponse.swap.source_token,use_deposit_address:swaps_swap.swapResponse.swap.use_deposit_address,source_exchange:swaps_swap.swapResponse.swap.source_exchange},...swaps_swap,...swaps_swap.swapResponse,swapDetails:{...swaps_swap.swapResponse.swap,status:SwapStatus.e.Failed,transactions:[{...DUMMY_TRANSACTION,status:layerSwapApiClient.X8.Completed,type:layerSwapApiClient.D_.Input}]},refuel:swaps_swap.swapResponse.refuel,quoteIsLoading:!1,swapId:swaps_swap.swapResponse.swap.id,swapModalOpen:!1}}},LsTransferPending={args:{settings:Data_settings.w,swapData:{quoteError:void 0,swapBasicData:{destination_address:swaps_swap.swapResponse.swap.destination_address,destination_network:swaps_swap.swapResponse.swap.destination_network,destination_token:swaps_swap.swapResponse.swap.destination_token,refuel:!!swaps_swap.swapResponse.refuel,requested_amount:swaps_swap.swapResponse.swap.requested_amount,source_network:swaps_swap.swapResponse.swap.source_network,source_token:swaps_swap.swapResponse.swap.source_token,use_deposit_address:swaps_swap.swapResponse.swap.use_deposit_address,source_exchange:swaps_swap.swapResponse.swap.source_exchange},...swaps_swap,...swaps_swap.swapResponse,swapDetails:{...swaps_swap.swapResponse.swap,status:SwapStatus.e.LsTransferPending,transactions:[{...DUMMY_TRANSACTION,status:layerSwapApiClient.X8.Completed,type:layerSwapApiClient.D_.Input},{...DUMMY_TRANSACTION,status:layerSwapApiClient.X8.Pending,type:layerSwapApiClient.D_.Output}]},refuel:swaps_swap.swapResponse.refuel,quoteIsLoading:!1,swapId:swaps_swap.swapResponse.swap.id,swapModalOpen:!1}}},LsTransferPendingWithRefuel={args:{settings:Data_settings.w,swapData:{quoteError:void 0,swapBasicData:{destination_address:swaps_swap.swapResponse.swap.destination_address,destination_network:swaps_swap.swapResponse.swap.destination_network,destination_token:swaps_swap.swapResponse.swap.destination_token,refuel:!!swaps_swap.swapResponse.refuel,requested_amount:swaps_swap.swapResponse.swap.requested_amount,source_network:swaps_swap.swapResponse.swap.source_network,source_token:swaps_swap.swapResponse.swap.source_token,use_deposit_address:swaps_swap.swapResponse.swap.use_deposit_address,source_exchange:swaps_swap.swapResponse.swap.source_exchange},...swaps_swap,...swaps_swap.swapResponse,swapDetails:{...swaps_swap.swapResponse.swap,status:SwapStatus.e.LsTransferPending,transactions:[{...DUMMY_TRANSACTION,status:layerSwapApiClient.X8.Completed,type:layerSwapApiClient.D_.Input},{...DUMMY_TRANSACTION,status:layerSwapApiClient.X8.Pending,type:layerSwapApiClient.D_.Output},{...DUMMY_TRANSACTION,status:layerSwapApiClient.X8.Pending,type:layerSwapApiClient.D_.Refuel}]},refuel:swaps_swap.swapResponse.refuel,quoteIsLoading:!1,swapId:swaps_swap.swapResponse.swap.id,swapModalOpen:!1}}},LsTransferInitiated={args:{settings:Data_settings.w,swapData:{quoteError:void 0,swapBasicData:{destination_address:swaps_swap.swapResponse.swap.destination_address,destination_network:swaps_swap.swapResponse.swap.destination_network,destination_token:swaps_swap.swapResponse.swap.destination_token,refuel:!!swaps_swap.swapResponse.refuel,requested_amount:swaps_swap.swapResponse.swap.requested_amount,source_network:swaps_swap.swapResponse.swap.source_network,source_token:swaps_swap.swapResponse.swap.source_token,use_deposit_address:swaps_swap.swapResponse.swap.use_deposit_address,source_exchange:swaps_swap.swapResponse.swap.source_exchange},...swaps_swap,...swaps_swap.swapResponse,swapDetails:{...swaps_swap.swapResponse.swap,status:SwapStatus.e.LsTransferPending,transactions:[{...DUMMY_TRANSACTION,status:layerSwapApiClient.X8.Completed,type:layerSwapApiClient.D_.Input},{...DUMMY_TRANSACTION,status:layerSwapApiClient.X8.Initiated,type:layerSwapApiClient.D_.Output,confirmations:2,max_confirmations:5},{...DUMMY_TRANSACTION,status:layerSwapApiClient.X8.Initiated,type:layerSwapApiClient.D_.Refuel,confirmations:1,max_confirmations:5}]},refuel:swaps_swap.swapResponse.refuel,quoteIsLoading:!1,swapId:swaps_swap.swapResponse.swap.id,swapModalOpen:!1}}},Completed={args:{settings:Data_settings.w,swapData:{quoteError:void 0,swapBasicData:{destination_address:swaps_swap.swapResponse.swap.destination_address,destination_network:swaps_swap.swapResponse.swap.destination_network,destination_token:swaps_swap.swapResponse.swap.destination_token,refuel:!!swaps_swap.swapResponse.refuel,requested_amount:swaps_swap.swapResponse.swap.requested_amount,source_network:swaps_swap.swapResponse.swap.source_network,source_token:swaps_swap.swapResponse.swap.source_token,use_deposit_address:swaps_swap.swapResponse.swap.use_deposit_address,source_exchange:swaps_swap.swapResponse.swap.source_exchange},...swaps_swap,...swaps_swap.swapResponse,swapDetails:{...swaps_swap.swapResponse.swap,status:SwapStatus.e.Completed,transactions:[{...DUMMY_TRANSACTION,status:layerSwapApiClient.X8.Completed,type:layerSwapApiClient.D_.Input},{...DUMMY_TRANSACTION,status:layerSwapApiClient.X8.Completed,type:layerSwapApiClient.D_.Output},{...DUMMY_TRANSACTION,status:layerSwapApiClient.X8.Completed,type:layerSwapApiClient.D_.Refuel}]},refuel:swaps_swap.swapResponse.refuel,quoteIsLoading:!1,swapId:swaps_swap.swapResponse.swap.id,swapModalOpen:!1}}},OnlyRefuelCompleted={args:{settings:Data_settings.w,swapData:{quoteError:void 0,swapBasicData:{destination_address:swaps_swap.swapResponse.swap.destination_address,destination_network:swaps_swap.swapResponse.swap.destination_network,destination_token:swaps_swap.swapResponse.swap.destination_token,refuel:!!swaps_swap.swapResponse.refuel,requested_amount:swaps_swap.swapResponse.swap.requested_amount,source_network:swaps_swap.swapResponse.swap.source_network,source_token:swaps_swap.swapResponse.swap.source_token,use_deposit_address:swaps_swap.swapResponse.swap.use_deposit_address,source_exchange:swaps_swap.swapResponse.swap.source_exchange},...swaps_swap,...swaps_swap.swapResponse,swapDetails:{...swaps_swap.swapResponse.swap,status:SwapStatus.e.LsTransferPending,transactions:[{...DUMMY_TRANSACTION,status:layerSwapApiClient.X8.Completed,type:layerSwapApiClient.D_.Input},{...DUMMY_TRANSACTION,status:layerSwapApiClient.X8.Pending,type:layerSwapApiClient.D_.Output},{...DUMMY_TRANSACTION,status:layerSwapApiClient.X8.Completed,type:layerSwapApiClient.D_.Refuel}]},refuel:swaps_swap.swapResponse.refuel,quoteIsLoading:!1,swapId:swaps_swap.swapResponse.swap.id,swapModalOpen:!1}}},UserTransferDelayed={args:{settings:Data_settings.w,swapData:{quoteError:void 0,swapBasicData:{destination_address:swaps_swap.swapResponse.swap.destination_address,destination_network:swaps_swap.swapResponse.swap.destination_network,destination_token:swaps_swap.swapResponse.swap.destination_token,refuel:!!swaps_swap.swapResponse.refuel,requested_amount:swaps_swap.swapResponse.swap.requested_amount,source_network:swaps_swap.swapResponse.swap.source_network,source_token:swaps_swap.swapResponse.swap.source_token,use_deposit_address:swaps_swap.swapResponse.swap.use_deposit_address,source_exchange:swaps_swap.swapResponse.swap.source_exchange},...swaps_swap,...swaps_swap.swapResponse,swapDetails:{...swaps_swap.swapResponse.swap,status:SwapStatus.e.UserTransferDelayed,transactions:[{...DUMMY_TRANSACTION,status:layerSwapApiClient.X8.Pending,type:layerSwapApiClient.D_.Input}]},refuel:swaps_swap.swapResponse.refuel,quoteIsLoading:!1,swapId:swaps_swap.swapResponse.swap.id,swapModalOpen:!1}}},Process_stories_Failed={args:{settings:Data_settings.w,swapData:{quoteError:void 0,swapBasicData:{destination_address:swaps_swap.swapResponse.swap.destination_address,destination_network:swaps_swap.swapResponse.swap.destination_network,destination_token:swaps_swap.swapResponse.swap.destination_token,refuel:!!swaps_swap.swapResponse.refuel,requested_amount:swaps_swap.swapResponse.swap.requested_amount,source_network:swaps_swap.swapResponse.swap.source_network,source_token:swaps_swap.swapResponse.swap.source_token,use_deposit_address:swaps_swap.swapResponse.swap.use_deposit_address,source_exchange:swaps_swap.swapResponse.swap.source_exchange},...swaps_swap,...swaps_swap.swapResponse,swapDetails:{...swaps_swap.swapResponse.swap,status:SwapStatus.e.Failed,transactions:[{...DUMMY_TRANSACTION,status:layerSwapApiClient.X8.Completed,type:layerSwapApiClient.D_.Input}]},refuel:swaps_swap.swapResponse.refuel,quoteIsLoading:!1,swapId:swaps_swap.swapResponse.swap.id,swapModalOpen:!1}}},FailedInput={args:{settings:Data_settings.w,swapData:{quoteError:void 0,swapBasicData:{destination_address:swaps_swap.swapResponse.swap.destination_address,destination_network:swaps_swap.swapResponse.swap.destination_network,destination_token:swaps_swap.swapResponse.swap.destination_token,refuel:!!swaps_swap.swapResponse.refuel,requested_amount:swaps_swap.swapResponse.swap.requested_amount,source_network:swaps_swap.swapResponse.swap.source_network,source_token:swaps_swap.swapResponse.swap.source_token,use_deposit_address:swaps_swap.swapResponse.swap.use_deposit_address,source_exchange:swaps_swap.swapResponse.swap.source_exchange},...swaps_swap,...swaps_swap.swapResponse,swapDetails:{...swaps_swap.swapResponse.swap,status:SwapStatus.e.UserTransferPending,transactions:[{...DUMMY_TRANSACTION,status:layerSwapApiClient.X8.Failed,type:layerSwapApiClient.D_.Input},{...DUMMY_TRANSACTION,status:layerSwapApiClient.X8.Pending,type:layerSwapApiClient.D_.Output}]},refuel:swaps_swap.swapResponse.refuel,quoteIsLoading:!1,swapId:swaps_swap.swapResponse.swap.id,swapModalOpen:!1}},loaders:[async()=>({A:window.localStorage.setItem("swapTransactions",`{"${swaps_swap.swapResponse.swap.id}": {"hash": "0x529ab89f4ed2ece53ca51f52d11e5123f5e5c43c09a9d054d243de0e0829d15f", "status":"failed"}}`)})]},FailedOutOfRangeAmount={args:{settings:Data_settings.w,swapData:{quoteError:void 0,swapBasicData:{destination_address:swaps_swap.swapResponse.swap.destination_address,destination_network:swaps_swap.swapResponse.swap.destination_network,destination_token:swaps_swap.swapResponse.swap.destination_token,refuel:!!swaps_swap.swapResponse.refuel,requested_amount:swaps_swap.swapResponse.swap.requested_amount,source_network:swaps_swap.swapResponse.swap.source_network,source_token:swaps_swap.swapResponse.swap.source_token,use_deposit_address:swaps_swap.swapResponse.swap.use_deposit_address,source_exchange:swaps_swap.swapResponse.swap.source_exchange},...swaps_swap,...swaps_swap.swapResponse,swapDetails:{...swaps_swap.swapResponse.swap,status:SwapStatus.e.Failed,transactions:[{...DUMMY_TRANSACTION,status:layerSwapApiClient.X8.Completed,type:layerSwapApiClient.D_.Input}]},refuel:swaps_swap.swapResponse.refuel,quoteIsLoading:!1,swapId:swaps_swap.swapResponse.swap.id,swapModalOpen:!1}}},Cancelled={args:{settings:Data_settings.w,swapData:{quoteError:void 0,swapBasicData:{destination_address:swaps_swap.swapResponse.swap.destination_address,destination_network:swaps_swap.swapResponse.swap.destination_network,destination_token:swaps_swap.swapResponse.swap.destination_token,refuel:!!swaps_swap.swapResponse.refuel,requested_amount:swaps_swap.swapResponse.swap.requested_amount,source_network:swaps_swap.swapResponse.swap.source_network,source_token:swaps_swap.swapResponse.swap.source_token,use_deposit_address:swaps_swap.swapResponse.swap.use_deposit_address,source_exchange:swaps_swap.swapResponse.swap.source_exchange},...swaps_swap,...swaps_swap.swapResponse,swapDetails:{...swaps_swap.swapResponse.swap,status:SwapStatus.e.Cancelled,transactions:[]},refuel:swaps_swap.swapResponse.refuel,quoteIsLoading:!1,swapId:swaps_swap.swapResponse.swap.id,swapModalOpen:!1}}},Process_stories_Expired={args:{settings:Data_settings.w,swapData:{quoteError:void 0,swapBasicData:{destination_address:swaps_swap.swapResponse.swap.destination_address,destination_network:swaps_swap.swapResponse.swap.destination_network,destination_token:swaps_swap.swapResponse.swap.destination_token,refuel:!!swaps_swap.swapResponse.refuel,requested_amount:swaps_swap.swapResponse.swap.requested_amount,source_network:swaps_swap.swapResponse.swap.source_network,source_token:swaps_swap.swapResponse.swap.source_token,use_deposit_address:swaps_swap.swapResponse.swap.use_deposit_address,source_exchange:swaps_swap.swapResponse.swap.source_exchange},...swaps_swap,...swaps_swap.swapResponse,swapDetails:{...swaps_swap.swapResponse.swap,status:SwapStatus.e.Expired,transactions:[]},refuel:swaps_swap.swapResponse.refuel,quoteIsLoading:!1,swapId:swaps_swap.swapResponse.swap.id,swapModalOpen:!1}}},RefundPending={args:{settings:Data_settings.w,swapData:{quoteError:void 0,swapBasicData:{destination_address:swaps_swap.swapResponse.swap.destination_address,destination_network:swaps_swap.swapResponse.swap.destination_network,destination_token:swaps_swap.swapResponse.swap.destination_token,refuel:!!swaps_swap.swapResponse.refuel,requested_amount:swaps_swap.swapResponse.swap.requested_amount,source_network:swaps_swap.swapResponse.swap.source_network,source_token:swaps_swap.swapResponse.swap.source_token,use_deposit_address:swaps_swap.swapResponse.swap.use_deposit_address,source_exchange:swaps_swap.swapResponse.swap.source_exchange},...swaps_swap,...swaps_swap.swapResponse,swapDetails:{...swaps_swap.swapResponse.swap,status:SwapStatus.e.PendingRefund,transactions:[{...DUMMY_TRANSACTION,status:layerSwapApiClient.X8.Completed,type:layerSwapApiClient.D_.Input}]},refuel:void 0,quoteIsLoading:!1,swapId:swaps_swap.swapResponse.swap.id,swapModalOpen:!1}}},RefundCompleted={args:{settings:Data_settings.w,swapData:{quoteError:void 0,swapBasicData:{destination_address:swaps_swap.swapResponse.swap.destination_address,destination_network:swaps_swap.swapResponse.swap.destination_network,destination_token:swaps_swap.swapResponse.swap.destination_token,refuel:!1,requested_amount:swaps_swap.swapResponse.swap.requested_amount,source_network:swaps_swap.swapResponse.swap.source_network,source_token:swaps_swap.swapResponse.swap.source_token,use_deposit_address:swaps_swap.swapResponse.swap.use_deposit_address,source_exchange:swaps_swap.swapResponse.swap.source_exchange},...swaps_swap,...swaps_swap.swapResponse,swapDetails:{...swaps_swap.swapResponse.swap,status:SwapStatus.e.Refunded,transactions:[{...DUMMY_TRANSACTION,status:layerSwapApiClient.X8.Completed,type:layerSwapApiClient.D_.Input}]},refuel:void 0,quoteIsLoading:!1,swapId:swaps_swap.swapResponse.swap.id,swapModalOpen:!1}}},__namedExportsOrder=["UserTransferInitiated","UserTransferDetected","UserTransferPendingInputCompleted","LsTransferPending","LsTransferPendingWithRefuel","LsTransferInitiated","Completed","OnlyRefuelCompleted","UserTransferDelayed","Failed","FailedInput","FailedOutOfRangeAmount","Cancelled","Expired","RefundPending","RefundCompleted"];UserTransferInitiated.parameters={...UserTransferInitiated.parameters,docs:{...UserTransferInitiated.parameters?.docs,source:{originalSource:'{\n  args: {\n    settings: Settings,\n    swapData: {\n      quoteError: undefined,\n      swapBasicData: {\n        destination_address: swap.swapResponse.swap.destination_address,\n        destination_network: swap.swapResponse.swap.destination_network,\n        destination_token: swap.swapResponse.swap.destination_token,\n        refuel: !!swap.swapResponse.refuel,\n        requested_amount: swap.swapResponse.swap.requested_amount,\n        source_network: swap.swapResponse.swap.source_network,\n        source_token: swap.swapResponse.swap.source_token,\n        use_deposit_address: swap.swapResponse.swap.use_deposit_address,\n        source_exchange: swap.swapResponse.swap.source_exchange\n      },\n      ...swap,\n      ...(swap.swapResponse as SwapResponse),\n      swapDetails: {\n        ...(swap.swapResponse.swap as SwapItem),\n        status: SwapStatus.UserTransferPending,\n        transactions: [{\n          ...DUMMY_TRANSACTION,\n          status: BackendTransactionStatus.Completed,\n          type: TransactionType.Input,\n          confirmations: 2,\n          max_confirmations: 3\n        }]\n      },\n      refuel: swap.swapResponse.refuel,\n      quoteIsLoading: false,\n      swapId: swap.swapResponse.swap.id,\n      swapModalOpen: false\n    }\n  },\n  loaders: [async () => ({\n    A: window.localStorage.setItem("swapTransactions", `{"${swap.swapResponse.swap.id}": {"hash": "0xe1d8539c6dbe522560c41d645f10ffc3f50b8f689a4ce4774573576cb845d5fc", "status":2}}`)\n  })]\n}',...UserTransferInitiated.parameters?.docs?.source}}},UserTransferDetected.parameters={...UserTransferDetected.parameters,docs:{...UserTransferDetected.parameters?.docs,source:{originalSource:"{\n  args: {\n    settings: Settings,\n    swapData: {\n      quoteError: undefined,\n      swapBasicData: {\n        destination_address: swap.swapResponse.swap.destination_address,\n        destination_network: swap.swapResponse.swap.destination_network,\n        destination_token: swap.swapResponse.swap.destination_token,\n        refuel: !!swap.swapResponse.refuel,\n        requested_amount: swap.swapResponse.swap.requested_amount,\n        source_network: swap.swapResponse.swap.source_network,\n        source_token: swap.swapResponse.swap.source_token,\n        use_deposit_address: swap.swapResponse.swap.use_deposit_address,\n        source_exchange: swap.swapResponse.swap.source_exchange\n      },\n      ...swap,\n      ...(swap.swapResponse as SwapResponse),\n      swapDetails: {\n        ...(swap.swapResponse.swap as SwapItem),\n        status: SwapStatus.UserTransferPending,\n        transactions: [{\n          ...DUMMY_TRANSACTION,\n          status: BackendTransactionStatus.Initiated,\n          type: TransactionType.Input,\n          confirmations: 2,\n          max_confirmations: 3\n        }]\n      },\n      refuel: swap.swapResponse.refuel,\n      quoteIsLoading: false,\n      swapId: swap.swapResponse.swap.id,\n      swapModalOpen: false\n    }\n  }\n}",...UserTransferDetected.parameters?.docs?.source}}},UserTransferPendingInputCompleted.parameters={...UserTransferPendingInputCompleted.parameters,docs:{...UserTransferPendingInputCompleted.parameters?.docs,source:{originalSource:"{\n  args: {\n    settings: Settings,\n    swapData: {\n      quoteError: undefined,\n      swapBasicData: {\n        destination_address: swap.swapResponse.swap.destination_address,\n        destination_network: swap.swapResponse.swap.destination_network,\n        destination_token: swap.swapResponse.swap.destination_token,\n        refuel: !!swap.swapResponse.refuel,\n        requested_amount: swap.swapResponse.swap.requested_amount,\n        source_network: swap.swapResponse.swap.source_network,\n        source_token: swap.swapResponse.swap.source_token,\n        use_deposit_address: swap.swapResponse.swap.use_deposit_address,\n        source_exchange: swap.swapResponse.swap.source_exchange\n      },\n      ...swap,\n      ...(swap.swapResponse as SwapResponse),\n      swapDetails: {\n        ...(swap.swapResponse.swap as SwapItem),\n        status: SwapStatus.Failed,\n        transactions: [{\n          ...DUMMY_TRANSACTION,\n          status: BackendTransactionStatus.Completed,\n          type: TransactionType.Input\n        }]\n      },\n      refuel: swap.swapResponse.refuel,\n      quoteIsLoading: false,\n      swapId: swap.swapResponse.swap.id,\n      swapModalOpen: false\n    }\n  }\n}",...UserTransferPendingInputCompleted.parameters?.docs?.source}}},LsTransferPending.parameters={...LsTransferPending.parameters,docs:{...LsTransferPending.parameters?.docs,source:{originalSource:"{\n  args: {\n    settings: Settings,\n    swapData: {\n      quoteError: undefined,\n      swapBasicData: {\n        destination_address: swap.swapResponse.swap.destination_address,\n        destination_network: swap.swapResponse.swap.destination_network,\n        destination_token: swap.swapResponse.swap.destination_token,\n        refuel: !!swap.swapResponse.refuel,\n        requested_amount: swap.swapResponse.swap.requested_amount,\n        source_network: swap.swapResponse.swap.source_network,\n        source_token: swap.swapResponse.swap.source_token,\n        use_deposit_address: swap.swapResponse.swap.use_deposit_address,\n        source_exchange: swap.swapResponse.swap.source_exchange\n      },\n      ...swap,\n      ...(swap.swapResponse as SwapResponse),\n      swapDetails: {\n        ...(swap.swapResponse.swap as SwapItem),\n        status: SwapStatus.LsTransferPending,\n        transactions: [{\n          ...DUMMY_TRANSACTION,\n          status: BackendTransactionStatus.Completed,\n          type: TransactionType.Input\n        }, {\n          ...DUMMY_TRANSACTION,\n          status: BackendTransactionStatus.Pending,\n          type: TransactionType.Output\n        }]\n      },\n      refuel: swap.swapResponse.refuel,\n      quoteIsLoading: false,\n      swapId: swap.swapResponse.swap.id,\n      swapModalOpen: false\n    }\n  }\n}",...LsTransferPending.parameters?.docs?.source}}},LsTransferPendingWithRefuel.parameters={...LsTransferPendingWithRefuel.parameters,docs:{...LsTransferPendingWithRefuel.parameters?.docs,source:{originalSource:"{\n  args: {\n    settings: Settings,\n    swapData: {\n      quoteError: undefined,\n      swapBasicData: {\n        destination_address: swap.swapResponse.swap.destination_address,\n        destination_network: swap.swapResponse.swap.destination_network,\n        destination_token: swap.swapResponse.swap.destination_token,\n        refuel: !!swap.swapResponse.refuel,\n        requested_amount: swap.swapResponse.swap.requested_amount,\n        source_network: swap.swapResponse.swap.source_network,\n        source_token: swap.swapResponse.swap.source_token,\n        use_deposit_address: swap.swapResponse.swap.use_deposit_address,\n        source_exchange: swap.swapResponse.swap.source_exchange\n      },\n      ...swap,\n      ...(swap.swapResponse as SwapResponse),\n      swapDetails: {\n        ...(swap.swapResponse.swap as SwapItem),\n        status: SwapStatus.LsTransferPending,\n        transactions: [{\n          ...DUMMY_TRANSACTION,\n          status: BackendTransactionStatus.Completed,\n          type: TransactionType.Input\n        }, {\n          ...DUMMY_TRANSACTION,\n          status: BackendTransactionStatus.Pending,\n          type: TransactionType.Output\n        }, {\n          ...DUMMY_TRANSACTION,\n          status: BackendTransactionStatus.Pending,\n          type: TransactionType.Refuel\n        }]\n      },\n      refuel: swap.swapResponse.refuel,\n      quoteIsLoading: false,\n      swapId: swap.swapResponse.swap.id,\n      swapModalOpen: false\n    }\n  }\n}",...LsTransferPendingWithRefuel.parameters?.docs?.source}}},LsTransferInitiated.parameters={...LsTransferInitiated.parameters,docs:{...LsTransferInitiated.parameters?.docs,source:{originalSource:"{\n  args: {\n    settings: Settings,\n    swapData: {\n      quoteError: undefined,\n      swapBasicData: {\n        destination_address: swap.swapResponse.swap.destination_address,\n        destination_network: swap.swapResponse.swap.destination_network,\n        destination_token: swap.swapResponse.swap.destination_token,\n        refuel: !!swap.swapResponse.refuel,\n        requested_amount: swap.swapResponse.swap.requested_amount,\n        source_network: swap.swapResponse.swap.source_network,\n        source_token: swap.swapResponse.swap.source_token,\n        use_deposit_address: swap.swapResponse.swap.use_deposit_address,\n        source_exchange: swap.swapResponse.swap.source_exchange\n      },\n      ...swap,\n      ...(swap.swapResponse as SwapResponse),\n      swapDetails: {\n        ...(swap.swapResponse.swap as SwapItem),\n        status: SwapStatus.LsTransferPending,\n        transactions: [{\n          ...DUMMY_TRANSACTION,\n          status: BackendTransactionStatus.Completed,\n          type: TransactionType.Input\n        }, {\n          ...DUMMY_TRANSACTION,\n          status: BackendTransactionStatus.Initiated,\n          type: TransactionType.Output,\n          confirmations: 2,\n          max_confirmations: 5\n        }, {\n          ...DUMMY_TRANSACTION,\n          status: BackendTransactionStatus.Initiated,\n          type: TransactionType.Refuel,\n          confirmations: 1,\n          max_confirmations: 5\n        }]\n      },\n      refuel: swap.swapResponse.refuel,\n      quoteIsLoading: false,\n      swapId: swap.swapResponse.swap.id,\n      swapModalOpen: false\n    }\n  }\n}",...LsTransferInitiated.parameters?.docs?.source}}},Completed.parameters={...Completed.parameters,docs:{...Completed.parameters?.docs,source:{originalSource:"{\n  args: {\n    settings: Settings,\n    swapData: {\n      quoteError: undefined,\n      swapBasicData: {\n        destination_address: swap.swapResponse.swap.destination_address,\n        destination_network: swap.swapResponse.swap.destination_network,\n        destination_token: swap.swapResponse.swap.destination_token,\n        refuel: !!swap.swapResponse.refuel,\n        requested_amount: swap.swapResponse.swap.requested_amount,\n        source_network: swap.swapResponse.swap.source_network,\n        source_token: swap.swapResponse.swap.source_token,\n        use_deposit_address: swap.swapResponse.swap.use_deposit_address,\n        source_exchange: swap.swapResponse.swap.source_exchange\n      },\n      ...swap,\n      ...(swap.swapResponse as SwapResponse),\n      swapDetails: {\n        ...(swap.swapResponse.swap as SwapItem),\n        status: SwapStatus.Completed,\n        transactions: [{\n          ...DUMMY_TRANSACTION,\n          status: BackendTransactionStatus.Completed,\n          type: TransactionType.Input\n        }, {\n          ...DUMMY_TRANSACTION,\n          status: BackendTransactionStatus.Completed,\n          type: TransactionType.Output\n        }, {\n          ...DUMMY_TRANSACTION,\n          status: BackendTransactionStatus.Completed,\n          type: TransactionType.Refuel\n        }]\n      },\n      refuel: swap.swapResponse.refuel,\n      quoteIsLoading: false,\n      swapId: swap.swapResponse.swap.id,\n      swapModalOpen: false\n    }\n  }\n}",...Completed.parameters?.docs?.source}}},OnlyRefuelCompleted.parameters={...OnlyRefuelCompleted.parameters,docs:{...OnlyRefuelCompleted.parameters?.docs,source:{originalSource:"{\n  args: {\n    settings: Settings,\n    swapData: {\n      quoteError: undefined,\n      swapBasicData: {\n        destination_address: swap.swapResponse.swap.destination_address,\n        destination_network: swap.swapResponse.swap.destination_network,\n        destination_token: swap.swapResponse.swap.destination_token,\n        refuel: !!swap.swapResponse.refuel,\n        requested_amount: swap.swapResponse.swap.requested_amount,\n        source_network: swap.swapResponse.swap.source_network,\n        source_token: swap.swapResponse.swap.source_token,\n        use_deposit_address: swap.swapResponse.swap.use_deposit_address,\n        source_exchange: swap.swapResponse.swap.source_exchange\n      },\n      ...swap,\n      ...(swap.swapResponse as SwapResponse),\n      swapDetails: {\n        ...(swap.swapResponse.swap as SwapItem),\n        status: SwapStatus.LsTransferPending,\n        transactions: [{\n          ...DUMMY_TRANSACTION,\n          status: BackendTransactionStatus.Completed,\n          type: TransactionType.Input\n        }, {\n          ...DUMMY_TRANSACTION,\n          status: BackendTransactionStatus.Pending,\n          type: TransactionType.Output\n        }, {\n          ...DUMMY_TRANSACTION,\n          status: BackendTransactionStatus.Completed,\n          type: TransactionType.Refuel\n        }]\n      },\n      refuel: swap.swapResponse.refuel,\n      quoteIsLoading: false,\n      swapId: swap.swapResponse.swap.id,\n      swapModalOpen: false\n    }\n  }\n}",...OnlyRefuelCompleted.parameters?.docs?.source}}},UserTransferDelayed.parameters={...UserTransferDelayed.parameters,docs:{...UserTransferDelayed.parameters?.docs,source:{originalSource:"{\n  args: {\n    settings: Settings,\n    swapData: {\n      quoteError: undefined,\n      swapBasicData: {\n        destination_address: swap.swapResponse.swap.destination_address,\n        destination_network: swap.swapResponse.swap.destination_network,\n        destination_token: swap.swapResponse.swap.destination_token,\n        refuel: !!swap.swapResponse.refuel,\n        requested_amount: swap.swapResponse.swap.requested_amount,\n        source_network: swap.swapResponse.swap.source_network,\n        source_token: swap.swapResponse.swap.source_token,\n        use_deposit_address: swap.swapResponse.swap.use_deposit_address,\n        source_exchange: swap.swapResponse.swap.source_exchange\n      },\n      ...swap,\n      ...(swap.swapResponse as SwapResponse),\n      swapDetails: {\n        ...(swap.swapResponse.swap as SwapItem),\n        status: SwapStatus.UserTransferDelayed,\n        transactions: [{\n          ...DUMMY_TRANSACTION,\n          status: BackendTransactionStatus.Pending,\n          type: TransactionType.Input\n        }]\n      },\n      refuel: swap.swapResponse.refuel,\n      quoteIsLoading: false,\n      swapId: swap.swapResponse.swap.id,\n      swapModalOpen: false\n    }\n  }\n}",...UserTransferDelayed.parameters?.docs?.source}}},Process_stories_Failed.parameters={...Process_stories_Failed.parameters,docs:{...Process_stories_Failed.parameters?.docs,source:{originalSource:"{\n  args: {\n    settings: Settings,\n    swapData: {\n      quoteError: undefined,\n      swapBasicData: {\n        destination_address: swap.swapResponse.swap.destination_address,\n        destination_network: swap.swapResponse.swap.destination_network,\n        destination_token: swap.swapResponse.swap.destination_token,\n        refuel: !!swap.swapResponse.refuel,\n        requested_amount: swap.swapResponse.swap.requested_amount,\n        source_network: swap.swapResponse.swap.source_network,\n        source_token: swap.swapResponse.swap.source_token,\n        use_deposit_address: swap.swapResponse.swap.use_deposit_address,\n        source_exchange: swap.swapResponse.swap.source_exchange\n      },\n      ...swap,\n      ...(swap.swapResponse as SwapResponse),\n      swapDetails: {\n        ...(swap.swapResponse.swap as SwapItem),\n        status: SwapStatus.Failed,\n        transactions: [{\n          ...DUMMY_TRANSACTION,\n          status: BackendTransactionStatus.Completed,\n          type: TransactionType.Input\n        }]\n      },\n      refuel: swap.swapResponse.refuel,\n      quoteIsLoading: false,\n      swapId: swap.swapResponse.swap.id,\n      swapModalOpen: false\n    }\n  }\n}",...Process_stories_Failed.parameters?.docs?.source}}},FailedInput.parameters={...FailedInput.parameters,docs:{...FailedInput.parameters?.docs,source:{originalSource:'{\n  args: {\n    settings: Settings,\n    swapData: {\n      quoteError: undefined,\n      swapBasicData: {\n        destination_address: swap.swapResponse.swap.destination_address,\n        destination_network: swap.swapResponse.swap.destination_network,\n        destination_token: swap.swapResponse.swap.destination_token,\n        refuel: !!swap.swapResponse.refuel,\n        requested_amount: swap.swapResponse.swap.requested_amount,\n        source_network: swap.swapResponse.swap.source_network,\n        source_token: swap.swapResponse.swap.source_token,\n        use_deposit_address: swap.swapResponse.swap.use_deposit_address,\n        source_exchange: swap.swapResponse.swap.source_exchange\n      },\n      ...swap,\n      ...(swap.swapResponse as SwapResponse),\n      swapDetails: {\n        ...(swap.swapResponse.swap as SwapItem),\n        status: SwapStatus.UserTransferPending,\n        transactions: [{\n          ...DUMMY_TRANSACTION,\n          status: BackendTransactionStatus.Failed,\n          type: TransactionType.Input\n        }, {\n          ...DUMMY_TRANSACTION,\n          status: BackendTransactionStatus.Pending,\n          type: TransactionType.Output\n        }]\n      },\n      refuel: swap.swapResponse.refuel,\n      quoteIsLoading: false,\n      swapId: swap.swapResponse.swap.id,\n      swapModalOpen: false\n    }\n  },\n  loaders: [async () => ({\n    A: window.localStorage.setItem("swapTransactions", `{"${swap.swapResponse.swap.id}": {"hash": "0x529ab89f4ed2ece53ca51f52d11e5123f5e5c43c09a9d054d243de0e0829d15f", "status":"failed"}}`)\n  })]\n}',...FailedInput.parameters?.docs?.source}}},FailedOutOfRangeAmount.parameters={...FailedOutOfRangeAmount.parameters,docs:{...FailedOutOfRangeAmount.parameters?.docs,source:{originalSource:"{\n  args: {\n    settings: Settings,\n    swapData: {\n      quoteError: undefined,\n      swapBasicData: {\n        destination_address: swap.swapResponse.swap.destination_address,\n        destination_network: swap.swapResponse.swap.destination_network,\n        destination_token: swap.swapResponse.swap.destination_token,\n        refuel: !!swap.swapResponse.refuel,\n        requested_amount: swap.swapResponse.swap.requested_amount,\n        source_network: swap.swapResponse.swap.source_network,\n        source_token: swap.swapResponse.swap.source_token,\n        use_deposit_address: swap.swapResponse.swap.use_deposit_address,\n        source_exchange: swap.swapResponse.swap.source_exchange\n      },\n      ...swap,\n      ...(swap.swapResponse as SwapResponse),\n      swapDetails: {\n        ...(swap.swapResponse.swap as SwapItem),\n        status: SwapStatus.Failed,\n        transactions: [{\n          ...DUMMY_TRANSACTION,\n          status: BackendTransactionStatus.Completed,\n          type: TransactionType.Input\n        }]\n      },\n      refuel: swap.swapResponse.refuel,\n      quoteIsLoading: false,\n      swapId: swap.swapResponse.swap.id,\n      swapModalOpen: false\n    }\n  }\n}",...FailedOutOfRangeAmount.parameters?.docs?.source}}},Cancelled.parameters={...Cancelled.parameters,docs:{...Cancelled.parameters?.docs,source:{originalSource:"{\n  args: {\n    settings: Settings,\n    swapData: {\n      quoteError: undefined,\n      swapBasicData: {\n        destination_address: swap.swapResponse.swap.destination_address,\n        destination_network: swap.swapResponse.swap.destination_network,\n        destination_token: swap.swapResponse.swap.destination_token,\n        refuel: !!swap.swapResponse.refuel,\n        requested_amount: swap.swapResponse.swap.requested_amount,\n        source_network: swap.swapResponse.swap.source_network,\n        source_token: swap.swapResponse.swap.source_token,\n        use_deposit_address: swap.swapResponse.swap.use_deposit_address,\n        source_exchange: swap.swapResponse.swap.source_exchange\n      },\n      ...swap,\n      ...(swap.swapResponse as SwapResponse),\n      swapDetails: {\n        ...(swap.swapResponse.swap as SwapItem),\n        status: SwapStatus.Cancelled,\n        transactions: []\n      },\n      refuel: swap.swapResponse.refuel,\n      quoteIsLoading: false,\n      swapId: swap.swapResponse.swap.id,\n      swapModalOpen: false\n    }\n  }\n}",...Cancelled.parameters?.docs?.source}}},Process_stories_Expired.parameters={...Process_stories_Expired.parameters,docs:{...Process_stories_Expired.parameters?.docs,source:{originalSource:"{\n  args: {\n    settings: Settings,\n    swapData: {\n      quoteError: undefined,\n      swapBasicData: {\n        destination_address: swap.swapResponse.swap.destination_address,\n        destination_network: swap.swapResponse.swap.destination_network,\n        destination_token: swap.swapResponse.swap.destination_token,\n        refuel: !!swap.swapResponse.refuel,\n        requested_amount: swap.swapResponse.swap.requested_amount,\n        source_network: swap.swapResponse.swap.source_network,\n        source_token: swap.swapResponse.swap.source_token,\n        use_deposit_address: swap.swapResponse.swap.use_deposit_address,\n        source_exchange: swap.swapResponse.swap.source_exchange\n      },\n      ...swap,\n      ...(swap.swapResponse as SwapResponse),\n      swapDetails: {\n        ...(swap.swapResponse.swap as SwapItem),\n        status: SwapStatus.Expired,\n        transactions: []\n      },\n      refuel: swap.swapResponse.refuel,\n      quoteIsLoading: false,\n      swapId: swap.swapResponse.swap.id,\n      swapModalOpen: false\n    }\n  }\n}",...Process_stories_Expired.parameters?.docs?.source}}},RefundPending.parameters={...RefundPending.parameters,docs:{...RefundPending.parameters?.docs,source:{originalSource:"{\n  args: {\n    settings: Settings,\n    swapData: {\n      quoteError: undefined,\n      swapBasicData: {\n        destination_address: swap.swapResponse.swap.destination_address,\n        destination_network: swap.swapResponse.swap.destination_network,\n        destination_token: swap.swapResponse.swap.destination_token,\n        refuel: !!swap.swapResponse.refuel,\n        requested_amount: swap.swapResponse.swap.requested_amount,\n        source_network: swap.swapResponse.swap.source_network,\n        source_token: swap.swapResponse.swap.source_token,\n        use_deposit_address: swap.swapResponse.swap.use_deposit_address,\n        source_exchange: swap.swapResponse.swap.source_exchange\n      },\n      ...swap,\n      ...(swap.swapResponse as SwapResponse),\n      swapDetails: {\n        ...(swap.swapResponse.swap as SwapItem),\n        status: SwapStatus.PendingRefund,\n        transactions: [{\n          ...DUMMY_TRANSACTION,\n          status: BackendTransactionStatus.Completed,\n          type: TransactionType.Input\n        }]\n      },\n      refuel: undefined // Remove refuel for refund cases\n      ,\n\n      quoteIsLoading: false,\n      swapId: swap.swapResponse.swap.id,\n      swapModalOpen: false\n    }\n  }\n}",...RefundPending.parameters?.docs?.source}}},RefundCompleted.parameters={...RefundCompleted.parameters,docs:{...RefundCompleted.parameters?.docs,source:{originalSource:"{\n  args: {\n    settings: Settings,\n    swapData: {\n      quoteError: undefined,\n      swapBasicData: {\n        destination_address: swap.swapResponse.swap.destination_address,\n        destination_network: swap.swapResponse.swap.destination_network,\n        destination_token: swap.swapResponse.swap.destination_token,\n        refuel: false,\n        // No refuel for refund cases\n        requested_amount: swap.swapResponse.swap.requested_amount,\n        source_network: swap.swapResponse.swap.source_network,\n        source_token: swap.swapResponse.swap.source_token,\n        use_deposit_address: swap.swapResponse.swap.use_deposit_address,\n        source_exchange: swap.swapResponse.swap.source_exchange\n      },\n      ...swap,\n      ...(swap.swapResponse as SwapResponse),\n      swapDetails: {\n        ...(swap.swapResponse.swap as SwapItem),\n        status: SwapStatus.Refunded,\n        transactions: [{\n          ...DUMMY_TRANSACTION,\n          status: BackendTransactionStatus.Completed,\n          type: TransactionType.Input\n        }]\n      },\n      refuel: undefined // Remove refuel for refund cases\n      ,\n\n      quoteIsLoading: false,\n      swapId: swap.swapResponse.swap.id,\n      swapModalOpen: false\n    }\n  }\n}",...RefundCompleted.parameters?.docs?.source}}}}}]);