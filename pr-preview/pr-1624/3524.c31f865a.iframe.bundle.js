/*! For license information please see 3524.c31f865a.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunklayerswap=self.webpackChunklayerswap||[]).push([[3524],{"./node_modules/starknetkit/dist/Modal-f68d2590.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{L:()=>Q,M:()=>wl,a:()=>R1,d:()=>I1,g:()=>bl});__webpack_require__("./node_modules/starknetkit/dist/connector-d58f0dd8.js"),__webpack_require__("./node_modules/starknet/dist/index.mjs"),__webpack_require__("./node_modules/starknetkit/dist/trpc-63ec2300.js");var _index_ae60a5dd_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/starknetkit/dist/index-ae60a5dd.js"),_argentX_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/starknetkit/dist/argentX.js"),_braavos_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/starknetkit/dist/braavos.js"),console=__webpack_require__("./node_modules/console-browserify/index.js"),process=__webpack_require__("./node_modules/process/browser.js"),_r=Object.defineProperty,Bt=(l,e,o)=>(((l,e,o)=>{e in l?_r(l,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):l[e]=o})(l,"symbol"!=typeof e?e+"":e,o),o),Q=(l=>(l.walletList="walletList",l.connecting="connecting",l.success="success",l.loginFailure="loginFailure",l.requestFailure="requestFailure",l.qrCode="qrCode",l.download="download",l.approval="approval",l))(Q||{});const bl=()=>{const l="starknetkit-modal-container",e=document.getElementById(l);if(e){if(e.shadowRoot)return e.shadowRoot;e.remove()}const o=document.createElement("div");o.id=l,document.body.appendChild(o);const r=o.attachShadow({mode:"open"}),a=document.createElement("style");return a.textContent='@import"https://fonts.googleapis.com/css2?family=Barlow:wght@500;600&display=swap";.visible{visibility:visible}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.sticky{position:sticky}.inset-0{inset:0}.left-0{left:0}.right-0{right:0}.top-0{top:0}.z-\\[9998\\]{z-index:9998}.z-\\[9999\\]{z-index:9999}.mx-6{margin-left:1.5rem;margin-right:1.5rem}.mb-4{margin-bottom:1rem}.ml-\\[-32px\\]{margin-left:-32px}.block{display:block}.inline-block{display:inline-block}.inline{display:inline}.flex{display:flex}.inline-flex{display:inline-flex}.table{display:table}.hidden{display:none}.h-12{height:3rem}.h-8{height:2rem}.h-\\[245px\\]{height:245px}.h-\\[32px\\]{height:32px}.h-\\[60px\\]{height:60px}.h-full{height:100%}.min-h-12{min-height:3rem}.min-h-8{min-height:2rem}.min-h-\\[26px\\]{min-height:26px}.min-h-\\[570px\\]{min-height:570px}.w-12{width:3rem}.w-8{width:2rem}.w-full{width:100%}.min-w-\\[140px\\]{min-width:140px}.max-w-\\[240px\\]{max-width:240px}.max-w-\\[32px\\]{max-width:32px}.max-w-\\[380px\\]{max-width:380px}.flex-shrink{flex-shrink:1}.flex-grow{flex-grow:1}.transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.cursor-pointer{cursor:pointer}.resize{resize:both}.flex-row{flex-direction:row}.flex-row-reverse{flex-direction:row-reverse}.flex-col{flex-direction:column}.items-end{align-items:flex-end}.items-center{align-items:center}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.gap-1{gap:.25rem}.gap-2{gap:.5rem}.gap-3{gap:.75rem}.gap-4{gap:1rem}.gap-8{gap:2rem}.overflow-hidden{overflow:hidden}.text-ellipsis{text-overflow:ellipsis}.whitespace-nowrap{white-space:nowrap}.rounded{border-radius:.25rem}.rounded-3xl{border-radius:1.5rem}.rounded-\\[12px\\]{border-radius:12px}.rounded-full{border-radius:9999px}.rounded-xl{border-radius:.75rem}.border{border-width:1px}.border-stroke-default{border-color:var(--color-stroke-default)}.border-stroke-focused{border-color:var(--color-stroke-focused)}.bg-black\\/25{background-color:#00000040}.bg-button-danger{background-color:var(--color-button-danger)}.bg-button-primary{background-color:var(--color-button-primary)}.bg-button-secondary{background-color:var(--color-button-secondary)}.bg-button-tertiary{background-color:var(--color-button-tertiary)}.bg-surface-default{background-color:var(--color-surface-default)}.bg-surface-elevated{background-color:var(--color-surface-elevated)}.bg-surface-elevated-web{background-color:var(--color-surface-elevated-web)}.stroke-brand{stroke:var(--color-text-brand)}.stroke-danger{stroke:var(--color-text-danger)}.stroke-subtle{stroke:var(--color-text-subtle)}.stroke-success{stroke:var(--color-text-success)}.stroke-warning{stroke:var(--color-text-warning)}.p-2{padding:.5rem}.p-5{padding:1.25rem}.p-6{padding:1.5rem}.px-3{padding-left:.75rem;padding-right:.75rem}.px-4{padding-left:1rem;padding-right:1rem}.px-8{padding-left:2rem;padding-right:2rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.text-left{text-align:left}.text-center{text-align:center}.text-\\[13px\\]{font-size:13px}.text-\\[15px\\]{font-size:15px}.text-\\[24px\\]{font-size:24px}.text-b1{font-size:1.125rem;line-height:1.125rem;font-weight:600}.text-b2{font-size:.9375rem;line-height:1rem;font-weight:600}.text-b3{font-size:.8125rem;line-height:.875rem;font-weight:600}.text-h4{font-size:1.375rem;line-height:1.5625rem;font-weight:700}.text-h5,.text-heading5{font-size:1.125rem;line-height:1.375rem;font-weight:600}.text-l1{font-size:.875rem;line-height:1.125rem;font-weight:400}.text-l2{font-size:.75rem;line-height:1rem;font-weight:400}.text-p3{font-size:1rem;line-height:1.3125rem;font-weight:400}.font-\\[400\\]{font-weight:400}.font-bold{font-weight:700}.font-semibold{font-weight:600}.capitalize{text-transform:capitalize}.text-adaptive{color:var(--color-text-adaptive)}.text-brand{color:var(--color-text-brand)}.text-danger{color:var(--color-text-danger)}.text-danger-accessible{color:var(--color-text-danger-accessible)}.text-info{color:var(--color-text-info)}.text-info-accessible{color:var(--color-text-info-accessible)}.text-link{color:var(--color-text-link)}.text-link-pressed{color:var(--color-text-link-pressed)}.text-primary{color:var(--color-text-primary)}.text-secondary{color:var(--color-text-secondary)}.text-secondary-web{color:var(--color-text-secondary-web)}.text-stable{color:var(--color-text-stable)}.text-subtle{color:var(--color-text-subtle)}.text-success{color:var(--color-text-success)}.text-success-accessible{color:var(--color-text-success-accessible)}.text-warning{color:var(--color-text-warning)}.text-warning-accessible{color:var(--color-text-warning-accessible)}.underline{text-decoration-line:underline}.line-through{text-decoration-line:line-through}.accent-brand{accent-color:var(--color-text-brand)}.shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-list-item{--tw-shadow: 0px 4px 12px 0px rgba(0, 0, 0, .06);--tw-shadow-colored: 0px 4px 12px 0px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-modal{--tw-shadow: 0px 4px 20px rgba(0, 0, 0, .5);--tw-shadow-colored: 0px 4px 20px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.outline{outline-style:solid}.blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.drop-shadow{--tw-drop-shadow: drop-shadow(0 1px 2px rgb(0 0 0 / .1)) drop-shadow(0 1px 1px rgb(0 0 0 / .06));filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.backdrop-blur-sm{--tw-backdrop-blur: blur(4px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-colors{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.duration-100{transition-duration:.1s}.ease-in{transition-timing-function:cubic-bezier(.4,0,1,1)}.ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}.ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)}.container{width:100%}@media (min-width: 640px){.container{max-width:640px}}@media (min-width: 768px){.container{max-width:768px}}@media (min-width: 1024px){.container{max-width:1024px}}@media (min-width: 1280px){.container{max-width:1280px}}@media (min-width: 1536px){.container{max-width:1536px}}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html,:host{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]:where(:not([hidden=until-found])){display:none}:root,:host{--color-black-0: 0, 0, 0, 0;--color-black-4: 0, 0, 0, .04;--color-black-6: 0, 0, 0, .06;--color-black-12: 0, 0, 0, .12;--color-black-30: 0, 0, 0, .3;--color-black-50: 0, 0, 0, .5;--color-black-100: 0 0 0;--color-deprecated-accent-accessible-green: 2 161 122;--color-deprecated-accent-accessible-sky-blue: 0 157 214;--color-deprecated-accent-accessible-yellow: 255 171 0;--color-deprecated-accent-blue: 0 120 164;--color-deprecated-accent-coral: 255 103 92;--color-deprecated-accent-green: 44 211 169;--color-deprecated-accent-hot-pink: 255 91 129;--color-deprecated-accent-light-orange: 255 168 92;--color-deprecated-accent-red-text-on-black: 219 59 78;--color-deprecated-accent-red-text-on-white: 193 32 38;--color-deprecated-accent-sky-blue: 41 197 255;--color-deprecated-accent-yellow: 255 191 61;--color-deprecated-black: 0 0 0;--color-deprecated-black-3: 0, 0, 0, .03;--color-deprecated-black-8: 0, 0, 0, .08;--color-deprecated-black-30: 0, 0, 0, .3;--color-deprecated-black-50: 0, 0, 0, .5;--color-deprecated-dark-green-shade: 55 129 118;--color-deprecated-darker-blue-shade: 33 83 112;--color-deprecated-darker-orange: 72 42 30;--color-deprecated-experimental-vault: 0 48 77;--color-deprecated-lighter-blue-shade: 232 242 246;--color-deprecated-lighter-sky-blue: 241 251 255;--color-deprecated-neutrals-100: 249 249 249;--color-deprecated-neutrals-200: 240 240 240;--color-deprecated-neutrals-300: 191 191 191;--color-deprecated-neutrals-400: 140 140 140;--color-deprecated-neutrals-500: 102 102 102;--color-deprecated-neutrals-600: 89 89 89;--color-deprecated-neutrals-700: 64 64 64;--color-deprecated-neutrals-800: 38 38 38;--color-deprecated-neutrals-900: 31 31 31;--color-deprecated-neutrals-1000: 15 15 15;--color-deprecated-primary-accessible-orange: 243 106 61;--color-deprecated-primary-orange: 255 135 91;--color-deprecated-white: 255 255 255;--color-deprecated-white-12: 255, 255, 255, .12;--color-deprecated-white-30: 255, 255, 255, .3;--color-deprecated-white-50: 255, 255, 255, .5;--color-neutrals-100: 249 249 249;--color-neutrals-200: 240 240 240;--color-neutrals-300: 191 191 191;--color-neutrals-400: 140 140 140;--color-neutrals-500: 102 102 102;--color-neutrals-600: 89 89 89;--color-neutrals-700: 64 64 64;--color-neutrals-800: 46 46 46;--color-neutrals-900: 36 36 36;--color-neutrals-1000: 23 23 23;--color-primary-blue-200: 203 241 255;--color-primary-blue-400: 41 197 255;--color-primary-blue-600: 0 157 214;--color-primary-blue-800: 0 120 164;--color-primary-blue-1000: 7 49 68;--color-primary-green-200: 206 255 243;--color-primary-green-400: 44 211 169;--color-primary-green-600: 2 161 122;--color-primary-green-800: 10 77 59;--color-primary-green-1000: 4 36 16;--color-primary-orange-6: 255, 135, 91, .06;--color-primary-orange-18: 255, 135, 91, .18;--color-primary-orange-200: 255 203 184;--color-primary-orange-300: 255 158 122;--color-primary-orange-400: 255 135 91;--color-primary-orange-600: 243 106 61;--color-primary-orange-800: 128 56 32;--color-primary-orange-1000: 55 23 9;--color-primary-red-200: 255 221 225;--color-primary-red-400: 233 95 114;--color-primary-red-600: 219 59 78;--color-primary-red-800: 99 9 21;--color-primary-red-1000: 75 1 7;--color-primary-red-dark: 193 32 38;--color-primary-yellow-200: 252 239 211;--color-primary-yellow-400: 255 191 61;--color-primary-yellow-600: 255 171 0;--color-primary-yellow-800: 233 129 1;--color-primary-yellow-1000: 63 45 12;--color-screen-border: 255, 255, 255, .2;--color-secondary-clementine: 255 168 92;--color-secondary-coral: 255 103 92;--color-secondary-hot-pink: 255 91 129;--color-secondary-sky-blue: 41 197 255;--color-white-0: 255, 255, 255, 0;--color-white-6: 255, 255, 255, .06;--color-white-12: 255, 255, 255, .12;--color-white-18: 255, 255, 255, .18;--color-white-30: 255, 255, 255, .3;--color-white-50: 255, 255, 255, .5;--color-white-100: 255 255 255;--color-accent-blue: rgba(var(--color-primary-blue-600));--color-accent-brand: rgba(var(--color-primary-orange-400));--color-accent-coral: rgba(var(--color-secondary-coral));--color-accent-green: rgba(var(--color-primary-green-400));--color-accent-hot-pink: rgba(var(--color-secondary-hot-pink));--color-accent-orange: rgba(var(--color-secondary-clementine));--color-accent-red: rgba(var(--color-primary-red-600));--color-accent-sky-blue: rgba(var(--color-secondary-sky-blue));--color-accent-yellow: rgba(var(--color-primary-yellow-400));--color-button-danger: rgba(var(--color-primary-red-600));--color-button-danger-hover: rgba(var(--color-primary-red-400));--color-button-info: rgba(var(--color-primary-blue-800));--color-button-info-hover: rgba(var(--color-primary-blue-600));--color-button-pressed-ghost-overlay: rgba(var(--color-black-12));--color-button-pressed-overlay: rgba(var(--color-black-12));--color-button-primary: rgba(var(--color-primary-orange-600));--color-button-primary-hover: rgba(var(--color-primary-orange-400));--color-button-secondary: rgba(var(--color-black-6));--color-button-secondary-hover: rgba(var(--color-black-12));--color-button-tertiary: rgba(var(--color-black-0));--color-button-tertiary-hover: rgba(var(--color-primary-orange-6));--color-button-tertiary-pressed: rgba(var(--color-primary-orange-18));--color-button-warning: rgba(var(--color-primary-yellow-800));--color-button-warning-hover: rgba(var(--color-primary-yellow-600));--color-icon-adaptive: rgba(var(--color-white-100));--color-icon-background: rgba(var(--color-black-6));--color-icon-background-brand: rgba(var(--color-primary-orange-400));--color-icon-brand: rgba(var(--color-primary-orange-600));--color-icon-danger: rgba(var(--color-primary-red-600));--color-icon-default: rgba(var(--color-neutrals-700));--color-icon-info: rgba(var(--color-primary-blue-600));--color-icon-secondary: rgba(var(--color-neutrals-400));--color-icon-stable: rgba(var(--color-white-100));--color-icon-subtle: rgba(var(--color-neutrals-300));--color-icon-success: rgba(var(--color-primary-green-600));--color-icon-warning: rgba(var(--color-primary-yellow-800));--color-ios-icon: rgb(80, 85, 92);--color-ios-keyboard-button: rgb(0, 122, 255);--color-ios-primary: rgb(0, 122, 255);--color-ios-surface-dark: rgb(172, 180, 190);--color-ios-surface-default: rgba(210, 213, 219, .9);--color-ios-surface-elevated: rgb(255, 255, 255);--color-ios-text: rgb(0, 0, 0);--color-ios-text-inverted: rgb(255, 255, 255);--color-shadow-default: rgba(var(--color-black-6));--color-shadow-medium: rgba(var(--color-black-12));--color-shadow-strong: rgba(var(--color-black-30));--color-stroke-brand: rgba(var(--color-primary-orange-600));--color-stroke-danger: rgba(var(--color-primary-red-600));--color-stroke-default: rgba(var(--color-neutrals-200));--color-stroke-default-web: rgba(var(--color-neutrals-200));--color-stroke-focused: rgba(var(--color-black-30));--color-stroke-subtle: rgba(var(--color-black-6));--color-stroke-success: rgba(var(--color-primary-green-600));--color-stroke-warning: rgba(var(--color-primary-yellow-800));--color-surface-brand: rgba(var(--color-primary-orange-400));--color-surface-danger-default: rgba(var(--color-primary-red-200));--color-surface-danger-vibrant: rgba(var(--color-primary-red-600));--color-surface-default: rgba(var(--color-neutrals-100));--color-surface-default-web: rgba(var(--color-neutrals-100));--color-surface-elevated: rgba(var(--color-white-100));--color-surface-elevated-web: rgba(var(--color-neutrals-200));--color-surface-info-default: rgba(var(--color-primary-blue-200));--color-surface-info-vibrant: rgba(var(--color-primary-blue-400));--color-surface-input: rgba(var(--color-black-4));--color-surface-inverted: rgba(var(--color-black-100));--color-surface-match-mode: rgba(var(--color-white-100));--color-surface-pressed-overlay: rgba(var(--color-black-12));--color-surface-scrimedge: rgb(219, 219, 219);--color-surface-stable-dark: rgba(var(--color-black-100));--color-surface-stable-light: rgba(var(--color-white-100));--color-surface-success-default: rgba(var(--color-primary-green-200));--color-surface-success-vibrant: rgba(var(--color-primary-green-600));--color-surface-sunken: rgba(var(--color-neutrals-200));--color-surface-text: rgba(var(--color-primary-orange-200));--color-surface-transparent: rgba(var(--color-black-6));--color-surface-warning-default: rgba(var(--color-primary-yellow-200));--color-surface-warning-vibrant: rgba(var(--color-primary-yellow-800));--color-text-adaptive: rgba(var(--color-white-100));--color-text-brand: rgba(var(--color-primary-orange-600));--color-text-danger: rgba(var(--color-primary-red-600));--color-text-danger-accessible: rgba(var(--color-primary-red-1000));--color-text-info: rgba(var(--color-primary-blue-600));--color-text-info-accessible: rgba(var(--color-primary-blue-1000));--color-text-link: rgba(var(--color-primary-blue-600));--color-text-link-pressed: rgba(var(--color-primary-blue-800));--color-text-primary: rgba(var(--color-neutrals-700));--color-text-secondary: rgba(var(--color-neutrals-400));--color-text-secondary-web: rgba(var(--color-neutrals-500));--color-text-stable: rgba(var(--color-white-100));--color-text-subtle: rgba(var(--color-neutrals-300));--color-text-success: rgba(var(--color-primary-green-600));--color-text-success-accessible: rgba(var(--color-primary-green-1000));--color-text-warning: rgba(var(--color-primary-yellow-800));--color-text-warning-accessible: rgba(var(--color-primary-yellow-1000))}.dark:root{--color-accent-blue: rgba(var(--color-primary-blue-600));--color-accent-brand: rgba(var(--color-primary-orange-600));--color-accent-coral: rgba(var(--color-secondary-coral));--color-accent-green: rgba(var(--color-primary-green-600));--color-accent-hot-pink: rgba(var(--color-secondary-hot-pink));--color-accent-orange: rgba(var(--color-secondary-clementine));--color-accent-red: rgba(var(--color-primary-red-dark));--color-accent-sky-blue: rgba(var(--color-primary-blue-400));--color-accent-yellow: rgba(var(--color-primary-yellow-600));--color-button-danger: rgba(var(--color-primary-red-600));--color-button-danger-hover: rgba(var(--color-primary-red-400));--color-button-info: rgba(var(--color-primary-blue-800));--color-button-info-hover: rgba(var(--color-primary-blue-600));--color-button-pressed-ghost-overlay: rgba(var(--color-white-12));--color-button-pressed-overlay: rgba(var(--color-black-30));--color-button-primary: rgba(var(--color-primary-orange-600));--color-button-primary-hover: rgba(var(--color-primary-orange-400));--color-button-secondary: rgba(var(--color-white-12));--color-button-secondary-hover: rgba(var(--color-white-18));--color-button-tertiary: rgba(var(--color-white-0));--color-button-tertiary-hover: rgba(var(--color-primary-orange-6));--color-button-tertiary-pressed: rgba(var(--color-primary-orange-18));--color-button-warning: rgba(var(--color-primary-yellow-800));--color-button-warning-hover: rgba(var(--color-primary-yellow-600));--color-icon-adaptive: rgba(var(--color-neutrals-1000));--color-icon-background: rgba(var(--color-white-12));--color-icon-background-brand: rgba(var(--color-primary-orange-600));--color-icon-brand: rgba(var(--color-primary-orange-400));--color-icon-danger: rgba(var(--color-primary-red-400));--color-icon-default: rgba(var(--color-white-100));--color-icon-info: rgba(var(--color-primary-blue-400));--color-icon-secondary: rgba(var(--color-neutrals-400));--color-icon-stable: rgba(var(--color-white-100));--color-icon-subtle: rgba(var(--color-neutrals-500));--color-icon-success: rgba(var(--color-primary-green-400));--color-icon-warning: rgba(var(--color-primary-yellow-600));--color-ios-icon: rgb(231, 231, 231);--color-ios-keyboard-button: rgb(36, 36, 36);--color-ios-primary: rgb(0, 122, 255);--color-ios-surface-dark: rgb(36, 36, 36);--color-ios-surface-default: rgba(32, 32, 32, .92);--color-ios-surface-elevated: rgb(67, 67, 67);--color-ios-text: rgb(255, 255, 255);--color-ios-text-inverted: rgb(255, 255, 255);--color-shadow-default: rgba(var(--color-black-30));--color-shadow-medium: rgba(var(--color-black-50));--color-shadow-strong: rgba(var(--color-black-100));--color-stroke-brand: rgba(var(--color-primary-orange-600));--color-stroke-danger: rgba(var(--color-primary-red-400));--color-stroke-default: rgba(var(--color-neutrals-1000));--color-stroke-default-web: rgba(var(--color-neutrals-700));--color-stroke-focused: rgba(var(--color-white-30));--color-stroke-subtle: rgba(var(--color-white-12));--color-stroke-success: rgba(var(--color-primary-green-400));--color-stroke-warning: rgba(var(--color-primary-yellow-600));--color-surface-brand: rgba(var(--color-primary-orange-600));--color-surface-danger-default: rgba(var(--color-primary-red-1000));--color-surface-danger-vibrant: rgba(var(--color-primary-red-600));--color-surface-default: rgba(var(--color-neutrals-1000));--color-surface-default-web: rgba(var(--color-black-100));--color-surface-elevated: rgba(var(--color-neutrals-900));--color-surface-elevated-web: rgba(var(--color-neutrals-900));--color-surface-info-default: rgba(var(--color-primary-blue-1000));--color-surface-info-vibrant: rgba(var(--color-primary-blue-400));--color-surface-input: rgba(var(--color-white-12));--color-surface-inverted: rgba(var(--color-white-100));--color-surface-match-mode: rgba(var(--color-black-100));--color-surface-pressed-overlay: rgba(var(--color-white-18));--color-surface-scrimedge: rgb(34, 34, 36);--color-surface-stable-dark: rgba(var(--color-black-100));--color-surface-stable-light: rgba(var(--color-white-100));--color-surface-success-default: rgba(var(--color-primary-green-800));--color-surface-success-vibrant: rgba(var(--color-primary-green-400));--color-surface-sunken: rgba(var(--color-black-100));--color-surface-text: rgba(var(--color-primary-orange-800));--color-surface-transparent: rgba(var(--color-white-12));--color-surface-warning-default: rgba(var(--color-primary-yellow-1000));--color-surface-warning-vibrant: rgba(var(--color-primary-yellow-600));--color-text-adaptive: rgba(var(--color-neutrals-1000));--color-text-brand: rgba(var(--color-primary-orange-400));--color-text-danger: rgba(var(--color-primary-red-400));--color-text-danger-accessible: rgba(var(--color-primary-red-200));--color-text-info: rgba(var(--color-primary-blue-400));--color-text-info-accessible: rgba(var(--color-primary-blue-200));--color-text-link: rgba(var(--color-primary-blue-400));--color-text-link-pressed: rgba(var(--color-primary-blue-600));--color-text-primary: rgba(var(--color-white-100));--color-text-secondary: rgba(var(--color-neutrals-400));--color-text-secondary-web: rgba(var(--color-neutrals-300));--color-text-stable: rgba(var(--color-white-100));--color-text-subtle: rgba(var(--color-neutrals-500));--color-text-success: rgba(var(--color-primary-green-400));--color-text-success-accessible: rgba(var(--color-primary-green-200));--color-text-warning: rgba(var(--color-primary-yellow-600));--color-text-warning-accessible: rgba(var(--color-primary-yellow-200))}.modal-font{font-family:Barlow,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;-webkit-text-size-adjust:100%;-moz-text-size-adjust:100%;text-size-adjust:100%;font-feature-settings:"kern"}.l2{color:#8c8c8c;font-size:12px;font-weight:500;line-height:14px;letter-spacing:0;text-align:left}.p{margin:0}.hover\\:bg-button-danger-hover:hover{background-color:var(--color-button-danger-hover)}.hover\\:bg-button-primary-hover:hover{background-color:var(--color-button-primary-hover)}.hover\\:bg-button-secondary-hover:hover{background-color:var(--color-button-secondary-hover)}.hover\\:bg-button-tertiary-hover:hover{background-color:var(--color-button-tertiary-hover)}.hover\\:bg-surface-elevated:hover{background-color:var(--color-surface-elevated)}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\\:ring-2:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-neutral-200:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(229 229 229 / var(--tw-ring-opacity, 1))}.focus-visible\\:outline-none:focus-visible{outline:2px solid transparent;outline-offset:2px}.focus-visible\\:ring-2:focus-visible{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus-visible\\:ring-offset-2:focus-visible{--tw-ring-offset-width: 2px}.disabled\\:pointer-events-none:disabled{pointer-events:none}.disabled\\:opacity-50:disabled{opacity:.5}.dark\\:shadow-none:is(.dark *){--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.dark\\:focus\\:ring-neutral-700:focus:is(.dark *){--tw-ring-opacity: 1;--tw-ring-color: rgb(64 64 64 / var(--tw-ring-opacity, 1))}\n',r.appendChild(a),r};function B(){}function xt(l,e){for(const o in e)l[o]=e[o];return l}function cr(l){return l()}function It(){return Object.create(null)}function ke(l){l.forEach(cr)}function me(l){return"function"==typeof l}function U(l,e){return l!=l?e==e:l!==e||l&&"object"==typeof l||"function"==typeof l}let _t;function be(l,e,o,r){if(l){const a=fr(l,e,o,r);return l[0](a)}}function fr(l,e,o,r){return l[1]&&r?xt(o.ctx.slice(),l[1](r(e))):o.ctx}function we(l,e,o,r){if(l[2]&&r){const a=l[2](r(o));if(void 0===e.dirty)return a;if("object"==typeof a){const n=[],s=Math.max(e.dirty.length,a.length);for(let f=0;f<s;f+=1)n[f]=e.dirty[f]|a[f];return n}return e.dirty|a}return e.dirty}function Ce(l,e,o,r,a,n){if(a){const s=fr(e,o,r,n);l.p(s,a)}}function ve(l){if(l.ctx.length>32){const e=[],o=l.ctx.length/32;for(let r=0;r<o;r++)e[r]=-1;return e}return-1}function i(l,e){l.appendChild(e)}function Zr(l,e,o){const r=function Ar(l){if(!l)return document;const e=l.getRootNode?l.getRootNode():l.ownerDocument;return e&&e.host?e:l.ownerDocument}(l);if(!r.getElementById(e)){const a=x("style");a.id=e,a.textContent=o,function zr(l,e){return i(l.head||l,e),e.sheet}(r,a)}}function $(l,e,o){l.insertBefore(e,o||null)}function M(l){l.parentNode&&l.parentNode.removeChild(l)}function x(l){return document.createElement(l)}function c(l){return document.createElementNS("http://www.w3.org/2000/svg",l)}function X(l){return document.createTextNode(l)}function K(){return X(" ")}function ye(){return X("")}function $e(l,e,o,r){return l.addEventListener(e,o,r),()=>l.removeEventListener(e,o,r)}function t(l,e,o){null==o?l.removeAttribute(e):l.getAttribute(e)!==o&&l.setAttribute(e,o)}const Ur=["width","height"];function Gr(l,e){const o=Object.getOwnPropertyDescriptors(l.__proto__);for(const r in e)null==e[r]?l.removeAttribute(r):"style"===r?l.style.cssText=e[r]:"__value"===r?l.value=l[r]=e[r]:o[r]&&o[r].set&&-1===Ur.indexOf(r)?l[r]=e[r]:t(l,r,e[r])}function Ir(l,e){Object.keys(e).forEach(o=>{!function Wr(l,e,o){const r=e.toLowerCase();r in l?l[r]="boolean"==typeof l[r]&&""===o||o:e in l?l[e]="boolean"==typeof l[e]&&""===o||o:t(l,e,o)}(l,o,e[o])})}function Ee(l){return/-/.test(l)?Ir:Gr}function ge(l,e){e=""+e,l.data!==e&&(l.data=e)}function xe(l,e,o,r){null==o?l.style.removeProperty(e):l.style.setProperty(e,o,r?"important":"")}function Wt(l,e){return new l(e)}let je;function We(l){je=l}function Vr(l){(function Dr(){if(!je)throw new Error("Function called outside component initialization");return je})().$$.on_mount.push(l)}const Me=[],Nt=[];let Se=[];const jt=[],Rr=Promise.resolve();let Zt=!1;function At(l){Se.push(l)}const Mt=new Set;let Be=0;function ur(){if(0!==Be)return;const l=je;do{try{for(;Be<Me.length;){const e=Me[Be];Be++,We(e),Hr(e.$$)}}catch(e){throw Me.length=0,Be=0,e}for(We(null),Me.length=0,Be=0;Nt.length;)Nt.pop()();for(let e=0;e<Se.length;e+=1){const o=Se[e];Mt.has(o)||(Mt.add(o),o())}Se.length=0}while(Me.length);for(;jt.length;)jt.pop()();Zt=!1,Mt.clear(),We(l)}function Hr(l){if(null!==l.fragment){l.update(),ke(l.before_update);const e=l.dirty;l.dirty=[-1],l.fragment&&l.fragment.p(l.ctx,e),l.after_update.forEach(At)}}const yt=new Set;let _e;function ce(){_e={r:0,c:[],p:_e}}function fe(){_e.r||ke(_e.c),_e=_e.p}function w(l,e){l&&l.i&&(yt.delete(l),l.i(e))}function C(l,e,o,r){if(l&&l.o){if(yt.has(l))return;yt.add(l),_e.c.push(()=>{yt.delete(l),r&&(o&&l.d(1),r())}),l.o(e)}else r&&r()}function Dt(l){return void 0!==l?.length?l:Array.from(l)}function zt(l,e){const o={},r={},a={$$scope:1};let n=l.length;for(;n--;){const s=l[n],f=e[n];if(f){for(const d in s)d in f||(r[d]=1);for(const d in f)a[d]||(o[d]=f[d],a[d]=1);l[n]=f}else for(const d in s)a[d]=1}for(const s in r)s in o||(o[s]=void 0);return o}function A(l){l&&l.c()}function N(l,e,o){const{fragment:r,after_update:a}=l.$$;r&&r.m(e,o),At(()=>{const n=l.$$.on_mount.map(cr).filter(me);l.$$.on_destroy?l.$$.on_destroy.push(...n):ke(n),l.$$.on_mount=[]}),a.forEach(At)}function Z(l,e){const o=l.$$;null!==o.fragment&&(function Kr(l){const e=[],o=[];Se.forEach(r=>-1===l.indexOf(r)?e.push(r):o.push(r)),o.forEach(r=>r()),Se=e}(o.after_update),ke(o.on_destroy),o.fragment&&o.fragment.d(e),o.on_destroy=o.fragment=null,o.ctx=[])}function Pr(l,e){-1===l.$$.dirty[0]&&(Me.push(l),function Tr(){Zt||(Zt=!0,Rr.then(ur))}(),l.$$.dirty.fill(0)),l.$$.dirty[e/31|0]|=1<<e%31}function W(l,e,o,r,a,n,s=null,f=[-1]){const d=je;We(l);const p=l.$$={fragment:null,ctx:[],props:n,update:B,not_equal:a,bound:It(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(d?d.$$.context:[])),callbacks:It(),dirty:f,skip_bound:!1,root:e.target||d.$$.root};s&&s(p.root);let h=!1;if(p.ctx=o?o(l,e.props||{},(u,g,...m)=>{const b=m.length?m[0]:g;return p.ctx&&a(p.ctx[u],p.ctx[u]=b)&&(!p.skip_bound&&p.bound[u]&&p.bound[u](b),h&&Pr(l,u)),g}):[],p.update(),h=!0,ke(p.before_update),p.fragment=!!r&&r(p.ctx),e.target){if(e.hydrate){const u=function jr(l){return Array.from(l.childNodes)}(e.target);p.fragment&&p.fragment.l(u),u.forEach(M)}else p.fragment&&p.fragment.c();e.intro&&w(l.$$.fragment),N(l,e.target,e.anchor),ur()}We(d)}class j{constructor(){Bt(this,"$$"),Bt(this,"$$set")}$destroy(){Z(this,1),this.$destroy=B}$on(e,o){if(!me(o))return B;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(o),()=>{const a=r.indexOf(o);-1!==a&&r.splice(a,1)}}$set(e){this.$$set&&!function Nr(l){return 0===Object.keys(l).length}(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function St(l){let e,o,r,a,n;const s=l[7].default,f=be(s,l,l[6],null);let d=[{href:l[0]},{class:o=`\n    p-2 cursor-pointer text-primary rounded-full bg-surface-elevated-web\n\t\tfocus:outline-none focus:ring-2 focus:ring-neutral-200 dark:focus:ring-neutral-700\n\t\ttransition-colors ${l[2]}\n  `},{rel:"noreferrer noopener"},{target:"_blank"},{role:"button"},{tabindex:"0"},{"aria-label":l[1]}],p={};for(let h=0;h<d.length;h+=1)p=xt(p,d[h]);return{c(){e=x(l[3]),f&&f.c(),Ee(l[3])(e,p)},m(h,u){$(h,e,u),f&&f.m(e,null),r=!0,a||(n=[$e(e,"click",function(){me(l[4])&&l[4].apply(this,arguments)}),$e(e,"keyup",function(){me(l[5])&&l[5].apply(this,arguments)})],a=!0)},p(h,u){l=h,f&&f.p&&(!r||64&u)&&Ce(f,s,l,l[6],r?we(s,l[6],u,null):ve(l[6]),null),Ee(l[3])(e,p=zt(d,[(!r||1&u)&&{href:l[0]},(!r||4&u&&o!==(o=`\n    p-2 cursor-pointer text-primary rounded-full bg-surface-elevated-web\n\t\tfocus:outline-none focus:ring-2 focus:ring-neutral-200 dark:focus:ring-neutral-700\n\t\ttransition-colors ${l[2]}\n  `))&&{class:o},{rel:"noreferrer noopener"},{target:"_blank"},{role:"button"},{tabindex:"0"},(!r||2&u)&&{"aria-label":l[1]}]))},i(h){r||(w(f,h),r=!0)},o(h){C(f,h),r=!1},d(h){h&&M(e),f&&f.d(h),a=!1,ke(n)}}}function Xr(l){let o,r,e=l[3],a=l[3]&&St(l);return{c(){a&&a.c(),o=ye()},m(n,s){a&&a.m(n,s),$(n,o,s),r=!0},p(n,[s]){n[3]?e?U(e,n[3])?(a.d(1),a=St(n),e=n[3],a.c(),a.m(o.parentNode,o)):a.p(n,s):(a=St(n),e=n[3],a.c(),a.m(o.parentNode,o)):e&&(a.d(1),a=null,e=n[3])},i(n){r||(w(a,n),r=!0)},o(n){C(a,n),r=!1},d(n){n&&M(o),a&&a.d(n)}}}function Qr(l,e,o){let{$$slots:r={},$$scope:a}=e,{href:n=""}=e,{ariaLabel:s}=e,{className:f}=e,{as:d="button"}=e,{handleClick:p=u=>console.log("click",u)}=e,{handleKeyup:h=u=>console.log("keyup",u)}=e;return l.$$set=u=>{"href"in u&&o(0,n=u.href),"ariaLabel"in u&&o(1,s=u.ariaLabel),"className"in u&&o(2,f=u.className),"as"in u&&o(3,d=u.as),"handleClick"in u&&o(4,p=u.handleClick),"handleKeyup"in u&&o(5,h=u.handleKeyup),"$$scope"in u&&o(6,a=u.$$scope)},[n,s,f,d,p,h,a,r]}typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add("4");class dr extends j{constructor(e){super(),W(this,e,Qr,Xr,U,{href:0,ariaLabel:1,className:2,as:3,handleClick:4,handleKeyup:5})}}function Yr(l){let e,o;return{c(){e=c("svg"),o=c("path"),t(o,"d","M9.77275 3.02275C9.99242 2.80308 9.99242 2.44692 9.77275 2.22725C9.55308 2.00758 9.19692 2.00758 8.97725 2.22725L6 5.20451L3.02275 2.22725C2.80308 2.00758 2.44692 2.00758 2.22725 2.22725C2.00758 2.44692 2.00758 2.80308 2.22725 3.02275L5.20451 6L2.22725 8.97725C2.00758 9.19692 2.00758 9.55308 2.22725 9.77275C2.44692 9.99242 2.80308 9.99242 3.02275 9.77275L6 6.79549L8.97725 9.77275C9.19692 9.99242 9.55308 9.99242 9.77275 9.77275C9.99242 9.55308 9.99242 9.19692 9.77275 8.97725L6.79549 6L9.77275 3.02275Z"),t(o,"fill","currentColor"),t(e,"width","12"),t(e,"height","12"),t(e,"viewBox","0 0 12 12"),t(e,"fill","none"),t(e,"xmlns","http://www.w3.org/2000/svg")},m(r,a){$(r,e,a),i(e,o)},p:B,i:B,o:B,d(r){r&&M(e)}}}class Jr extends j{constructor(e){super(),W(this,e,null,Yr,U,{})}}function e1(l){let e,o;return{c(){e=c("svg"),o=c("path"),t(o,"fill-rule","evenodd"),t(o,"clip-rule","evenodd"),t(o,"d","M8.55383 1.24376C8.83406 1.54808 8.81134 2.01905 8.50309 2.2957L4.37567 6L8.50309 9.7043C8.81134 9.98095 8.83406 10.4519 8.55383 10.7562C8.2736 11.0606 7.79654 11.083 7.48828 10.8063L2.74691 6.55102C2.58965 6.40989 2.5 6.20981 2.5 6C2.5 5.79019 2.58965 5.59012 2.74691 5.44898L7.48828 1.19367C7.79654 0.917013 8.2736 0.93944 8.55383 1.24376Z"),t(o,"fill","currentColor"),t(e,"xmlns","http://www.w3.org/2000/svg"),t(e,"width","12"),t(e,"height","12"),t(e,"viewBox","0 0 12 12"),t(e,"fill","none")},m(r,a){$(r,e,a),i(e,o)},p:B,i:B,o:B,d(r){r&&M(e)}}}class t1 extends j{constructor(e){super(),W(this,e,null,e1,U,{})}}function Vt(l){let e,o;return e=new dr({props:{handleClick:l[4],handleKeyup:l[6],ariaLabel:"Go back",className:"absolute top-0 left-0",$$slots:{default:[r1]},$$scope:{ctx:l}}}),{c(){A(e.$$.fragment)},m(r,a){N(e,r,a),o=!0},p(r,a){const n={};16&a&&(n.handleClick=r[4]),16&a&&(n.handleKeyup=r[6]),256&a&&(n.$$scope={dirty:a,ctx:r}),e.$set(n)},i(r){o||(w(e.$$.fragment,r),o=!0)},o(r){C(e.$$.fragment,r),o=!1},d(r){Z(e,r)}}}function r1(l){let e,o;return e=new t1({}),{c(){A(e.$$.fragment)},m(r,a){N(e,r,a),o=!0},i(r){o||(w(e.$$.fragment,r),o=!0)},o(r){C(e.$$.fragment,r),o=!1},d(r){Z(e,r)}}}function Rt(l){let e,o;return{c(){e=x("h1"),o=X(l[0]),t(e,"class","text-[24px] text-primary font-semibold max-w-[240px] overflow-hidden whitespace-nowrap text-ellipsis")},m(r,a){$(r,e,a),i(e,o)},p(r,a){1&a&&ge(o,r[0])},d(r){r&&M(e)}}}function Tt(l){let e,o;return e=new dr({props:{handleClick:l[5],handleKeyup:l[7],ariaLabel:"Close",className:"absolute top-0 right-0",$$slots:{default:[o1]},$$scope:{ctx:l}}}),{c(){A(e.$$.fragment)},m(r,a){N(e,r,a),o=!0},p(r,a){const n={};32&a&&(n.handleClick=r[5]),32&a&&(n.handleKeyup=r[7]),256&a&&(n.$$scope={dirty:a,ctx:r}),e.$set(n)},i(r){o||(w(e.$$.fragment,r),o=!0)},o(r){C(e.$$.fragment,r),o=!1},d(r){Z(e,r)}}}function o1(l){let e,o;return e=new Jr({}),{c(){A(e.$$.fragment)},m(r,a){N(e,r,a),o=!0},i(r){o||(w(e.$$.fragment,r),o=!0)},o(r){C(e.$$.fragment,r),o=!1},d(r){Z(e,r)}}}function l1(l){let e,o,r,a,n,s,f,d,p=l[2]&&Vt(l),h=!!l[0]&&Rt(l),u=l[3]&&Tt(l);return{c(){e=x("header"),p&&p.c(),o=K(),r=x("hgroup"),a=x("h2"),n=X(l[1]),s=K(),h&&h.c(),f=K(),u&&u.c(),t(a,"class","text-p3 text-secondary font-semibold"),t(e,"class","flex items-center justify-center flex-col relative")},m(g,m){$(g,e,m),p&&p.m(e,null),i(e,o),i(e,r),i(r,a),i(a,n),i(r,s),h&&h.m(r,null),i(e,f),u&&u.m(e,null),d=!0},p(g,[m]){g[2]?p?(p.p(g,m),4&m&&w(p,1)):(p=Vt(g),p.c(),w(p,1),p.m(e,o)):p&&(ce(),C(p,1,1,()=>{p=null}),fe()),(!d||2&m)&&ge(n,g[1]),g[0]?h?h.p(g,m):(h=Rt(g),h.c(),h.m(r,null)):h&&(h.d(1),h=null),g[3]?u?(u.p(g,m),8&m&&w(u,1)):(u=Tt(g),u.c(),w(u,1),u.m(e,null)):u&&(ce(),C(u,1,1,()=>{u=null}),fe())},i(g){d||(w(p),w(u),d=!0)},o(g){C(p),C(u),d=!1},d(g){g&&M(e),p&&p.d(),h&&h.d(),u&&u.d()}}}function a1(l,e,o){let{title:r}=e,{subtitle:a="Connect to"}=e,{showBackButton:n=!0}=e,{showCloseButton:s=!0}=e,{handleBack:f=()=>{}}=e,{handleClose:d=()=>{}}=e;return l.$$set=u=>{"title"in u&&o(0,r=u.title),"subtitle"in u&&o(1,a=u.subtitle),"showBackButton"in u&&o(2,n=u.showBackButton),"showCloseButton"in u&&o(3,s=u.showCloseButton),"handleBack"in u&&o(4,f=u.handleBack),"handleClose"in u&&o(5,d=u.handleClose)},[r,a,n,s,f,d,u=>{"Enter"===u.key&&f()},u=>{"Enter"===u.key&&d()}]}class n1 extends j{constructor(e){super(),W(this,e,a1,l1,U,{title:0,subtitle:1,showBackButton:2,showCloseButton:3,handleBack:4,handleClose:5})}}function $t(l){let e,o,r,a,n;const s=l[7].default,f=be(s,l,l[6],null);let d=[{href:l[0]},{rel:"noreferrer noopener"},{target:"_blank"},{role:"button"},{"aria-label":l[1]},{tabindex:"0"},{class:o=`\n\t\tflex justify-center items-center w-full px-3 h-[60px] rounded-[12px] cursor-pointer shadow-list-item\n\t\tdark:shadow-none bg-surface-elevated focus:outline-none focus:ring-2 text-primary\n\t\tfocus:ring-neutral-200 dark:focus:ring-neutral-700 transition-colors ${l[2]}\n\t`}],p={};for(let h=0;h<d.length;h+=1)p=xt(p,d[h]);return{c(){e=x(l[3]),f&&f.c(),Ee(l[3])(e,p)},m(h,u){$(h,e,u),f&&f.m(e,null),r=!0,a||(n=[$e(e,"click",function(){me(l[4])&&l[4].apply(this,arguments)}),$e(e,"keyup",function(){me(l[5])&&l[5].apply(this,arguments)})],a=!0)},p(h,u){l=h,f&&f.p&&(!r||64&u)&&Ce(f,s,l,l[6],r?we(s,l[6],u,null):ve(l[6]),null),Ee(l[3])(e,p=zt(d,[(!r||1&u)&&{href:l[0]},{rel:"noreferrer noopener"},{target:"_blank"},{role:"button"},(!r||2&u)&&{"aria-label":l[1]},{tabindex:"0"},(!r||4&u&&o!==(o=`\n\t\tflex justify-center items-center w-full px-3 h-[60px] rounded-[12px] cursor-pointer shadow-list-item\n\t\tdark:shadow-none bg-surface-elevated focus:outline-none focus:ring-2 text-primary\n\t\tfocus:ring-neutral-200 dark:focus:ring-neutral-700 transition-colors ${l[2]}\n\t`))&&{class:o}]))},i(h){r||(w(f,h),r=!0)},o(h){C(f,h),r=!1},d(h){h&&M(e),f&&f.d(h),a=!1,ke(n)}}}function i1(l){let o,r,e=l[3],a=l[3]&&$t(l);return{c(){a&&a.c(),o=ye()},m(n,s){a&&a.m(n,s),$(n,o,s),r=!0},p(n,[s]){n[3]?e?U(e,n[3])?(a.d(1),a=$t(n),e=n[3],a.c(),a.m(o.parentNode,o)):a.p(n,s):(a=$t(n),e=n[3],a.c(),a.m(o.parentNode,o)):e&&(a.d(1),a=null,e=n[3])},i(n){r||(w(a,n),r=!0)},o(n){C(a,n),r=!1},d(n){n&&M(o),a&&a.d(n)}}}function s1(l,e,o){let{$$slots:r={},$$scope:a}=e,{href:n=""}=e,{ariaLabel:s=""}=e,{className:f=""}=e,{as:d="button"}=e,{handleClick:p=u=>console.log("click",u)}=e,{handleKeyup:h=u=>console.log("keyup",u)}=e;return l.$$set=u=>{"href"in u&&o(0,n=u.href),"ariaLabel"in u&&o(1,s=u.ariaLabel),"className"in u&&o(2,f=u.className),"as"in u&&o(3,d=u.as),"handleClick"in u&&o(4,p=u.handleClick),"handleKeyup"in u&&o(5,h=u.handleKeyup),"$$scope"in u&&o(6,a=u.$$scope)},[n,s,f,d,p,h,a,r]}class Ot extends j{constructor(e){super(),W(this,e,s1,i1,U,{href:0,ariaLabel:1,className:2,as:3,handleClick:4,handleKeyup:5})}}function c1(l){let e,o;return{c(){e=x("img"),function Er(l,e){return l===e||(_t||(_t=document.createElement("a")),_t.href=e,l===_t.href)}(e.src,o=l[0])||t(e,"src",o),t(e,"class","w-8 h-8 rounded"),t(e,"alt","")},m(r,a){$(r,e,a)},p:B,d(r){r&&M(e)}}}function f1(l){let e;return{c(){e=x("div"),t(e,"class","flex flex-shrink items-center max-w-[32px]"),xe(e,"position","relative")},m(o,r){$(o,e,r),e.innerHTML=l[0]},p:B,d(o){o&&M(e)}}}function u1(l){let e;let a=function o(n,s){return n[0].trimStart()?.startsWith("<svg")?f1:c1}(l)(l);return{c(){a.c(),e=ye()},m(n,s){a.m(n,s),$(n,e,s)},p(n,[s]){a.p(n,s)},i:B,o:B,d(n){n&&M(e),a.d(n)}}}function d1(l,e,o){let{theme:r}=e,{icon:a}=e;const n="string"==typeof a?a:"dark"===r?a.dark:a.light;return l.$$set=s=>{"theme"in s&&o(1,r=s.theme),"icon"in s&&o(2,a=s.icon)},[n,r,a]}class pr extends j{constructor(e){super(),W(this,e,d1,u1,U,{theme:1,icon:2})}}function Ht(l){let e,r,o=l[0].subtitle+"";return{c(){e=x("p"),r=X(o),t(e,"class","text-l2 text-subtle"),xe(e,"text-align","center")},m(a,n){$(a,e,n),i(e,r)},p(a,n){1&n&&o!==(o=a[0].subtitle+"")&&ge(r,o)},d(a){a&&M(e)}}}function p1(l){let e,o,r,a,s,f,d,p,h,n=(l[0].title??l[0].name)+"",u=l[0].subtitle&&Ht(l);return p=new pr({props:{icon:l[0].icon,theme:l[1]}}),{c(){e=x("div"),o=x("div"),r=x("div"),a=x("p"),s=X(n),f=K(),u&&u.c(),d=K(),A(p.$$.fragment),t(a,"class","font-semibold text-[15px] text-primary"),t(r,"class","ml-[-32px]"),t(o,"class","flex flex-grow flex-col justify-center items-center"),t(e,"class","w-full flex flex-row-reverse justify-between")},m(g,m){$(g,e,m),i(e,o),i(o,r),i(r,a),i(a,s),i(r,f),u&&u.m(r,null),i(e,d),N(p,e,null),h=!0},p(g,m){(!h||1&m)&&n!==(n=(g[0].title??g[0].name)+"")&&ge(s,n),g[0].subtitle?u?u.p(g,m):(u=Ht(g),u.c(),u.m(r,null)):u&&(u.d(1),u=null);const b={};1&m&&(b.icon=g[0].icon),2&m&&(b.theme=g[1]),p.$set(b)},i(g){h||(w(p.$$.fragment,g),h=!0)},o(g){C(p.$$.fragment,g),h=!1},d(g){g&&M(e),u&&u.d(),Z(p)}}}function h1(l){let e,o;return e=new Ot({props:{handleClick:l[3],handleKeyup:l[4],$$slots:{default:[p1]},$$scope:{ctx:l}}}),{c(){A(e.$$.fragment)},m(r,a){N(e,r,a),o=!0},p(r,[a]){const n={};5&a&&(n.handleClick=r[3]),5&a&&(n.handleKeyup=r[4]),35&a&&(n.$$scope={dirty:a,ctx:r}),e.$set(n)},i(r){o||(w(e.$$.fragment,r),o=!0)},o(r){C(e.$$.fragment,r),o=!1},d(r){Z(e,r)}}}function g1(l,e,o){let{wallet:r}=e,{theme:a}=e,{callback:n=async()=>{}}=e;return l.$$set=d=>{"wallet"in d&&o(0,r=d.wallet),"theme"in d&&o(1,a=d.theme),"callback"in d&&o(2,n=d.callback)},[r,a,n,()=>n(r),d=>{"Enter"===d.key&&n(r)}]}class m1 extends j{constructor(e){super(),W(this,e,g1,h1,U,{wallet:0,theme:1,callback:2})}}function Kt(l,e,o){const r=l.slice();return r[3]=e[o],r}function Pt(l){let e,o,r;return o=new m1({props:{wallet:l[3],theme:l[0],callback:l[1]}}),{c(){e=x("li"),A(o.$$.fragment)},m(a,n){$(a,e,n),N(o,e,null),r=!0},p(a,n){const s={};4&n&&(s.wallet=a[3]),1&n&&(s.theme=a[0]),2&n&&(s.callback=a[1]),o.$set(s)},i(a){r||(w(o.$$.fragment,a),r=!0)},o(a){C(o.$$.fragment,a),r=!1},d(a){a&&M(e),Z(o)}}}function b1(l){let e,o,r,a=Dt(l[2]),n=[];for(let f=0;f<a.length;f+=1)n[f]=Pt(Kt(l,a,f));const s=f=>C(n[f],1,1,()=>{n[f]=null});return{c(){e=x("section"),o=x("ul");for(let f=0;f<n.length;f+=1)n[f].c();t(o,"class","flex flex-col gap-3")},m(f,d){$(f,e,d),i(e,o);for(let p=0;p<n.length;p+=1)n[p]&&n[p].m(o,null);r=!0},p(f,[d]){if(7&d){let p;for(a=Dt(f[2]),p=0;p<a.length;p+=1){const h=Kt(f,a,p);n[p]?(n[p].p(h,d),w(n[p],1)):(n[p]=Pt(h),n[p].c(),w(n[p],1),n[p].m(o,null))}for(ce(),p=a.length;p<n.length;p+=1)s(p);fe()}},i(f){if(!r){for(let d=0;d<a.length;d+=1)w(n[d]);r=!0}},o(f){n=n.filter(Boolean);for(let d=0;d<n.length;d+=1)C(n[d]);r=!1},d(f){f&&M(e),function Or(l,e){for(let o=0;o<l.length;o+=1)l[o]&&l[o].d(e)}(n,f)}}}function w1(l,e,o){let{theme:r}=e,{callback:a=async()=>{}}=e,{walletList:n}=e;return l.$$set=s=>{"theme"in s&&o(0,r=s.theme),"callback"in s&&o(1,a=s.callback),"walletList"in s&&o(2,n=s.walletList)},[r,a,n]}class C1 extends j{constructor(e){super(),W(this,e,w1,b1,U,{theme:0,callback:1,walletList:2})}}function v1(l){let e,o;return{c(){e=x("hr"),t(e,"class",o=`border-stroke-default w-full ${l[0]}`)},m(r,a){$(r,e,a)},p(r,[a]){1&a&&o!==(o=`border-stroke-default w-full ${r[0]}`)&&t(e,"class",o)},i:B,o:B,d(r){r&&M(e)}}}function k1(l,e,o){let{className:r=""}=e;return l.$$set=a=>{"className"in a&&o(0,r=a.className)},[r]}class Ut extends j{constructor(e){super(),W(this,e,k1,v1,U,{className:0})}}function _1(l){let e;return{c(){e=x("div"),e.innerHTML='<span class="text-primary">Connect to Ready mobile instead</span> <svg xmlns="http://www.w3.org/2000/svg" width="27" height="48" viewBox="0 0 27 48" fill="none"><path d="M10.9682 45.7174L3.14321 13.0668C2.75958 11.4692 3.43225 9.79803 4.82488 8.91515L15.5876 2.07812C16.2077 1.68398 16.9539 1.72077 17.5162 2.06761C16.3548 0.81687 14.8098 0.795849 14.1319 1.33714L2.86994 8.48948C1.26184 9.50899 0.484071 11.4377 0.925509 13.2875L8.40368 44.5034C8.78205 46.0905 12.014 47.6303 13.3751 46.7264V46.7159C12.4449 47.2782 11.2257 46.779 10.9682 45.7069V45.7174Z" fill="#8C8C8C" stroke="#0F0F0F" stroke-width="0.262761" stroke-miterlimit="10"></path><path d="M12.8282 43.2841L14.0632 46.164L13.3748 46.7315C12.0137 47.6354 8.78696 46.0957 8.40333 44.5086L7.67285 41.4658L12.8282 43.2841Z" fill="#0F0F0F" stroke="#0F0F0F" stroke-width="0.315313" stroke-miterlimit="10"></path><path d="M26.0828 35.1019L18.3313 3.18697C18.037 1.97827 16.6391 1.41596 15.5881 2.07812L4.82542 8.91515C3.43805 9.79802 2.76012 11.4639 3.14375 13.0668L10.9635 45.7174C11.2263 46.8105 12.4928 47.3097 13.4335 46.6896L24.3958 39.4111C25.8095 38.4705 26.4822 36.752 26.0828 35.1019Z" fill="#8C8C8C" stroke="#0F0F0F" stroke-width="0.262761" stroke-miterlimit="10"></path><path d="M25.3354 34.6552L18.1252 4.10667C17.852 2.95052 16.5644 2.40398 15.6027 3.03986L14.2627 3.92274L13.7739 5.66747C13.6846 5.98803 13.4849 6.26131 13.2064 6.44524L8.79724 9.39867C8.4031 9.66143 7.90386 9.70872 7.47293 9.51954L6.44291 9.0781L5.72294 9.55632C4.44593 10.3972 3.83106 11.9895 4.18842 13.524L11.4669 44.782C11.7139 45.8278 12.8805 46.3113 13.7424 45.7174L23.8061 38.7858C25.1042 37.8924 25.719 36.2423 25.3459 34.6657L25.3354 34.6552Z" fill="#FF875B" stroke="#0F0F0F" stroke-width="0.315313" stroke-miterlimit="10"></path><path d="M9.23809 7.71168C9.26962 7.80627 9.37998 7.82729 9.48508 7.75372L12.6802 5.60434C12.7854 5.53602 12.8432 5.39938 12.8116 5.30479C12.7801 5.2102 12.6697 5.18917 12.5646 5.26275L9.36947 7.41213C9.26436 7.48045 9.20655 7.61708 9.23809 7.71168Z" fill="#0F0F0F"></path><path d="M8.51836 8.563C8.68127 8.55249 8.80214 8.38432 8.78637 8.19513C8.77061 8.00069 8.62872 7.85354 8.47106 7.86406C8.30815 7.87457 8.18728 8.04273 8.20304 8.23192C8.21881 8.42636 8.3607 8.57351 8.51836 8.563Z" fill="#0F0F0F"></path><path d="M8.93919 33.951L10.6629 8.14795L8.79204 9.39869C8.4452 9.62992 8.01427 9.69298 7.62013 9.57737L6.46924 23.3723L8.93393 33.9563L8.93919 33.951Z" fill="#FFCBB8"></path><path d="M5.69775 20.0089L5.97103 21.1755L7.01681 9.31975L6.68048 9.17261L5.69775 20.0036V20.0089Z" fill="#FFCBB8"></path><path d="M25.3354 34.6552L18.1252 4.10667C17.852 2.95052 16.5644 2.40398 15.6027 3.03986L14.2627 3.92274L13.7739 5.66747C13.6846 5.98803 13.4849 6.26131 13.2064 6.44524L8.79724 9.39867C8.4031 9.66143 7.90385 9.70872 7.47293 9.51954L6.44291 9.0781L5.72294 9.55632C4.44593 10.3972 3.83106 11.9895 4.18842 13.524L11.4669 44.782C11.7139 45.8278 12.8805 46.3113 13.7424 45.7174L23.8061 38.7858C25.1042 37.8924 25.719 36.2423 25.3459 34.6657L25.3354 34.6552Z" stroke="#0F0F0F" stroke-width="0.262761" stroke-miterlimit="10"></path><path d="M7.28408 39.5635L9.71724 40.2257L3.94702 16.4038L1.56641 15.9729L7.28408 39.5688V39.5635Z" fill="#0F0F0F" stroke="#0F0F0F" stroke-width="0.315313" stroke-miterlimit="10"></path><path d="M2.99527 13.1299C2.6747 11.7741 3.01629 10.3447 4.1304 9.25683L2.51705 8.94678C1.32411 9.93476 0.824868 11.4167 1.00355 12.8514L2.99527 13.1299Z" fill="#F8F8F8"></path><path d="M14.7094 20.855L13.5585 21.4804C13.5217 21.5014 13.5007 21.5592 13.5165 21.6065C13.9422 23.0149 13.7898 24.6492 13.0698 26.1207C13.0488 26.168 13.0593 26.2258 13.0961 26.2573L14.2207 27.0929C14.2575 27.1192 14.31 27.1087 14.3363 27.0614C14.783 26.147 15.0563 25.1748 15.1509 24.2026C15.7867 24.7911 16.5487 25.2273 17.3948 25.4796C17.4369 25.4901 17.4789 25.4585 17.4894 25.406L17.7259 23.8347C17.7312 23.7821 17.7049 23.7296 17.6629 23.7191C16.3385 23.3092 15.3033 22.2949 14.8145 20.9075C14.7988 20.8602 14.7515 20.834 14.7147 20.855H14.7094Z" fill="white"></path></svg>',t(e,"class","flex flex-row-reverse items-center gap-2")},m(o,r){$(o,e,r)},p:B,d(o){o&&M(e)}}}function y1(l){let e,o,r,a,n;return o=new Ut({}),a=new Ot({props:{handleClick:l[0],handleKeyup:l[1],$$slots:{default:[_1]},$$scope:{ctx:l}}}),{c(){e=x("footer"),A(o.$$.fragment),r=K(),A(a.$$.fragment),t(e,"class","flex flex-col gap-4 w-full")},m(s,f){$(s,e,f),N(o,e,null),i(e,r),N(a,e,null),n=!0},p(s,[f]){const d={};1&f&&(d.handleClick=s[0]),1&f&&(d.handleKeyup=s[1]),4&f&&(d.$$scope={dirty:f,ctx:s}),a.$set(d)},i(s){n||(w(o.$$.fragment,s),w(a.$$.fragment,s),n=!0)},o(s){C(o.$$.fragment,s),C(a.$$.fragment,s),n=!1},d(s){s&&M(e),Z(o),Z(a)}}}function x1(l,e,o){let{handleClick:r=()=>{}}=e;return l.$$set=n=>{"handleClick"in n&&o(0,r=n.handleClick)},[r,n=>{"Enter"===n.key&&r()}]}class hr extends j{constructor(e){super(),W(this,e,x1,y1,U,{handleClick:0})}}function qt(l){let e,o;return e=new hr({props:{handleClick:l[2]}}),{c(){A(e.$$.fragment)},m(r,a){N(e,r,a),o=!0},p(r,a){const n={};4&a&&(n.handleClick=r[2]),e.$set(n)},i(r){o||(w(e.$$.fragment,r),o=!0)},o(r){C(e.$$.fragment,r),o=!1},d(r){Z(e,r)}}}function F1(l){let e,o,r,a,n,s,f,d,p,h;const u=l[4].default,g=be(u,l,l[3],null);let m=l[1]&&qt(l);return{c(){e=x("section"),o=x("div"),r=x("div"),g&&g.c(),a=K(),n=x("h3"),s=X("Connecting to "),f=X(l[0]),d=X("..."),p=K(),m&&m.c(),t(r,"class","bg-button-secondary rounded-full p-5"),t(n,"class","text-primary text-h4 font-bold"),t(o,"class","flex flex-col h-full justify-center items-center gap-4 w-full flex-grow"),t(e,"class","flex flex-col justify-center items-center flex-grow")},m(b,v){$(b,e,v),i(e,o),i(o,r),g&&g.m(r,null),i(o,a),i(o,n),i(n,s),i(n,f),i(n,d),i(e,p),m&&m.m(e,null),h=!0},p(b,[v]){g&&g.p&&(!h||8&v)&&Ce(g,u,b,b[3],h?we(u,b[3],v,null):ve(b[3]),null),(!h||1&v)&&ge(f,b[0]),b[1]?m?(m.p(b,v),2&v&&w(m,1)):(m=qt(b),m.c(),w(m,1),m.m(e,null)):m&&(ce(),C(m,1,1,()=>{m=null}),fe())},i(b){h||(w(g,b),w(m),h=!0)},o(b){C(g,b),C(m),h=!1},d(b){b&&M(e),g&&g.d(b),m&&m.d()}}}function L1(l,e,o){let{$$slots:r={},$$scope:a}=e,{walletName:n=""}=e,{showFallback:s=!1}=e,{handleFallback:f=async()=>{}}=e;return l.$$set=d=>{"walletName"in d&&o(0,n=d.walletName),"showFallback"in d&&o(1,s=d.showFallback),"handleFallback"in d&&o(2,f=d.handleFallback),"$$scope"in d&&o(3,a=d.$$scope)},[n,s,f,a,r]}class B1 extends j{constructor(e){super(),W(this,e,L1,F1,U,{walletName:0,showFallback:1,handleFallback:2})}}function M1(l){let e;return{c(){e=x("section"),e.innerHTML='<div class="flex flex-col h-full justify-center items-center gap-8 w-full flex-grow"><div><svg width="140" height="141" viewBox="0 0 140 141" fill="none" xmlns="http://www.w3.org/2000/svg"><mask id="mask0_82_210" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="140" height="141"><path d="M69.9639 140.094C108.42 140.094 139.595 108.92 139.595 70.4639C139.595 32.008 108.42 0.833313 69.9639 0.833313C31.508 0.833313 0.333344 32.008 0.333344 70.4639C0.333344 108.92 31.508 140.094 69.9639 140.094Z" fill="#BFBFBF"></path></mask><g mask="url(#mask0_82_210)"><path d="M69.9639 140.094C108.42 140.094 139.595 108.92 139.595 70.4639C139.595 32.008 108.42 0.833313 69.9639 0.833313C31.508 0.833313 0.333344 32.008 0.333344 70.4639C0.333344 108.92 31.508 140.094 69.9639 140.094Z" fill="#BFBFBF" fill-opacity="0.2"></path><circle opacity="0.5" cx="69.6835" cy="70.1833" r="28.5" stroke="#FF7A52" stroke-width="0.633333"></circle><circle opacity="0.4" cx="69.6835" cy="70.1833" r="36.1" stroke="#FF7A52" stroke-width="0.633333"></circle><circle opacity="0.2" cx="69.6834" cy="70.1833" r="50.0333" stroke="#FF7A52" stroke-width="0.633333"></circle><path d="M71.63 64.1667H68.3704C68.2614 64.1667 68.1742 64.2607 68.1718 64.3775C68.1059 67.6613 66.5044 70.7781 63.7479 72.9857C63.6603 73.0557 63.6404 73.1874 63.7044 73.2823L65.6115 76.1111C65.6764 76.2074 65.8028 76.2291 65.8918 76.1584C67.6154 74.7871 69.0018 73.1327 70.0002 71.2991C70.9985 73.1327 72.385 74.7871 74.1086 76.1584C74.1975 76.2291 74.3239 76.2074 74.3889 76.1111L76.296 73.2823C76.3599 73.1874 76.34 73.0557 76.2525 72.9857C73.4959 70.7781 71.8944 67.6613 71.8286 64.3775C71.8262 64.2607 71.7389 64.1667 71.63 64.1667Z" fill="#FF875B"></path><path d="M42.2656 41.1541L97.3366 41.1541C102.578 41.1541 106.827 45.4032 106.827 50.6448L106.827 170.156C106.827 175.398 102.578 179.647 97.3366 179.647L42.2656 179.647C37.0241 179.647 32.775 175.398 32.775 170.156L32.775 50.6447C32.775 45.4032 37.0241 41.1541 42.2656 41.1541Z" fill="#FF875B" stroke="black" stroke-width="3.51504"></path><path d="M44.6111 139.224L38.2837 139.224L31.9568 139.224L32.6599 47.1296L37.5617 41.0012L94.5247 40.803L44.6111 139.224Z" fill="white" fill-opacity="0.3"></path><path d="M42.266 41.1541L97.337 41.1541C102.578 41.1541 106.828 45.4032 106.828 50.6448L106.828 170.156C106.828 175.398 102.578 179.647 97.3369 179.647L42.2659 179.647C37.0244 179.647 32.7753 175.398 32.7753 170.156L32.7753 50.6447C32.7753 45.4032 37.0244 41.1541 42.266 41.1541Z" stroke="black" stroke-width="3.51504"></path><path d="M53.6909 39.3966L87.1044 39.3966L87.1044 40.9326C87.1044 44.0387 84.5865 46.5567 81.4804 46.5567L59.3149 46.5567C56.2088 46.5567 53.6909 44.0387 53.6909 40.9326L53.6909 39.3966Z" fill="black"></path><path d="M73.0967 82.5333H66.9034C66.6965 82.5333 66.5307 82.7164 66.5262 82.9439C66.401 89.3387 63.3581 95.4081 58.1207 99.7072C57.9544 99.8436 57.9165 100.1 58.0381 100.285L61.6616 105.793C61.7849 105.981 62.0251 106.023 62.1942 105.886C65.469 103.215 68.1031 99.9935 70 96.4228C71.897 99.9935 74.5312 103.215 77.8061 105.886C77.975 106.023 78.2152 105.981 78.3386 105.793L81.9622 100.285C82.0836 100.1 82.0457 99.8436 81.8796 99.7072C76.642 95.4081 73.5991 89.3387 73.4741 82.9439C73.4696 82.7164 73.3036 82.5333 73.0967 82.5333Z" fill="white"></path></g></svg></div> <hgroup class="flex flex-col gap-1"><h3 class="text-primary text-h4 font-bold">Approve the transaction</h3> <h4 class="text-primary text-p3">Open Ready on your phone to <br/> approve the transaction</h4></hgroup></div>',t(e,"class","flex flex-col justify-center items-center flex-grow")},m(o,r){$(o,e,r)},p:B,i:B,o:B,d(o){o&&M(e)}}}function S1(l){return[]}class $1 extends j{constructor(e){super(),W(this,e,S1,M1,U,{})}}var Xt=globalThis&&globalThis.__spreadArray||function(l,e,o){if(o||2===arguments.length)for(var n,r=0,a=e.length;r<a;r++)(n||!(r in e))&&(n||(n=Array.prototype.slice.call(e,0,r)),n[r]=e[r]);return l.concat(n||Array.prototype.slice.call(e))},E1=function l(e,o,r){this.name=e,this.version=o,this.os=r,this.type="browser"},N1=function l(e){this.version=e,this.type="node",this.name="node",this.os=process.platform},Z1=function l(e,o,r,a){this.name=e,this.version=o,this.os=r,this.bot=a,this.type="bot-device"},A1=function l(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},z1=function l(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},U1=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,Qt=3,G1=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],Yt=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function I1(l){return l?Jt(l):typeof document>"u"&&typeof navigator<"u"&&"ReactNative"===navigator.product?new z1:typeof navigator<"u"?Jt(navigator.userAgent):function D1(){var l=typeof process<"u"&&process.version;return l?new N1(process.version.slice(1)):null}()}function Jt(l){var e=function W1(l){return""!==l&&G1.reduce(function(e,o){var r=o[0],a=o[1];if(e)return e;var n=a.exec(l);return!!n&&[r,n]},!1)}(l);if(!e)return null;var o=e[0],r=e[1];if("searchbot"===o)return new A1;var a=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);a?a.length<Qt&&(a=Xt(Xt([],a,!0),function V1(l){for(var e=[],o=0;o<l;o++)e.push("0");return e}(Qt-a.length),!0)):a=[];var n=a.join("."),s=function j1(l){for(var e=0,o=Yt.length;e<o;e++){var r=Yt[e],a=r[0];if(r[1].exec(l))return a}return null}(l),f=U1.exec(l);return f&&f[1]?new Z1(o,n,s,f[1]):new E1(o,n,s)}const R1=()=>{const e=I1()?.os?.toLowerCase();return e?.includes("android")?"android":e?.toLowerCase().includes("ios")||e?.toLowerCase().includes("mac")&&navigator.maxTouchPoints>1?"ios":"desktop"};function T1(l){let e,o,r,a,n,s,f,d,p,h,u,g,m,b,v,F,O,z,L,k,y,S,G,_,E,R,D;return{c(){e=c("svg"),o=c("path"),r=c("path"),a=c("path"),n=c("path"),s=c("defs"),f=c("linearGradient"),d=c("stop"),p=c("stop"),h=c("stop"),u=c("stop"),g=c("stop"),m=c("stop"),b=c("linearGradient"),v=c("stop"),F=c("stop"),O=c("stop"),z=c("stop"),L=c("linearGradient"),k=c("stop"),y=c("stop"),S=c("linearGradient"),G=c("stop"),_=c("stop"),E=c("stop"),R=c("stop"),D=c("stop"),t(o,"d","M0.467777 0.822764C0.216151 1.08602 0.0705566 1.49585 0.0705566 2.02664V20.9585C0.0705566 21.4892 0.216151 21.8991 0.467777 22.1623L0.529877 22.2201L11.1456 11.6156V11.3652L0.529877 0.760742L0.467777 0.822764Z"),t(o,"fill","url(#paint0_linear_6328_20701)"),t(r,"d","M14.6806 15.1527L11.146 11.6161V11.3657L14.6849 7.8291L14.7642 7.87512L18.9551 10.2582C20.1512 10.9345 20.1512 12.0474 18.9551 12.728L14.7642 15.1067L14.6806 15.1527Z"),t(r,"fill","url(#paint1_linear_6328_20701)"),t(a,"d","M14.7646 15.1065L11.1464 11.4907L0.468628 22.1626C0.865912 22.58 1.51368 22.6302 2.25039 22.2129L14.7646 15.1065Z"),t(a,"fill","url(#paint2_linear_6328_20701)"),t(n,"d","M14.7646 7.87514L2.25039 0.768742C1.51368 0.355689 0.865912 0.405984 0.468628 0.823338L11.1464 11.4909L14.7646 7.87514Z"),t(n,"fill","url(#paint3_linear_6328_20701)"),t(d,"stop-color","#00A0FF"),t(p,"offset","0.0066"),t(p,"stop-color","#00A1FF"),t(h,"offset","0.2601"),t(h,"stop-color","#00BEFF"),t(u,"offset","0.5122"),t(u,"stop-color","#00D2FF"),t(g,"offset","0.7604"),t(g,"stop-color","#00DFFF"),t(m,"offset","1"),t(m,"stop-color","#00E3FF"),t(f,"id","paint0_linear_6328_20701"),t(f,"x1","10.2031"),t(f,"y1","21.1557"),t(f,"x2","-4.16375"),t(f,"y2","6.77945"),t(f,"gradientUnits","userSpaceOnUse"),t(v,"stop-color","#FFE000"),t(F,"offset","0.4087"),t(F,"stop-color","#FFBD00"),t(O,"offset","0.7754"),t(O,"stop-color","#FFA500"),t(z,"offset","1"),t(z,"stop-color","#FF9C00"),t(b,"id","paint1_linear_6328_20701"),t(b,"x1","20.5126"),t(b,"y1","11.4897"),t(b,"x2","-0.214967"),t(b,"y2","11.4897"),t(b,"gradientUnits","userSpaceOnUse"),t(k,"stop-color","#FF3A44"),t(y,"offset","1"),t(y,"stop-color","#C31162"),t(L,"id","paint2_linear_6328_20701"),t(L,"x1","12.7972"),t(L,"y1","9.52511"),t(L,"x2","-6.68541"),t(L,"y2","-9.97016"),t(L,"gradientUnits","userSpaceOnUse"),t(G,"stop-color","#32A071"),t(_,"offset","0.0685"),t(_,"stop-color","#2DA771"),t(E,"offset","0.4762"),t(E,"stop-color","#15CF74"),t(R,"offset","0.8009"),t(R,"stop-color","#06E775"),t(D,"offset","1"),t(D,"stop-color","#00F076"),t(S,"id","paint3_linear_6328_20701"),t(S,"x1","-2.2192"),t(S,"y1","28.4614"),t(S,"x2","6.48066"),t(S,"y2","19.756"),t(S,"gradientUnits","userSpaceOnUse"),t(e,"xmlns","http://www.w3.org/2000/svg"),t(e,"width","20"),t(e,"height","23"),t(e,"viewBox","0 0 20 23"),t(e,"fill","none")},m(T,q){$(T,e,q),i(e,o),i(e,r),i(e,a),i(e,n),i(e,s),i(s,f),i(f,d),i(f,p),i(f,h),i(f,u),i(f,g),i(f,m),i(s,b),i(b,v),i(b,F),i(b,O),i(b,z),i(s,L),i(L,k),i(L,y),i(s,S),i(S,G),i(S,_),i(S,E),i(S,R),i(S,D)},p:B,i:B,o:B,d(T){T&&M(e)}}}class gr extends j{constructor(e){super(),W(this,e,null,T1,U,{})}}function H1(l){let e,o,r,a,n,s,f,d,p;return{c(){e=c("svg"),o=c("mask"),r=c("path"),a=c("g"),n=c("path"),s=c("path"),f=c("path"),d=c("path"),p=c("path"),t(r,"d","M0.147583 10.7547C0.147583 4.81908 4.97505 0.00732422 10.93 0.00732422C16.885 0.00732422 21.7125 4.81908 21.7125 10.7547C21.7125 16.6903 16.885 21.502 10.93 21.502C4.97505 21.502 0.147583 16.6903 0.147583 10.7547Z"),t(r,"fill","#F1F1F1"),t(o,"id","mask0_6328_20691"),xe(o,"mask-type","alpha"),t(o,"maskUnits","userSpaceOnUse"),t(o,"x","0"),t(o,"y","0"),t(o,"width",l[0]),t(o,"height",l[0]),t(n,"d","M1.85962 0.00787449V13.1973H6.68474L10.9296 5.86942H21.712V0.00787449H1.85962ZM1.85962 0.00787449V13.1973H6.68474L10.9296 5.86942H21.712V0.00787449H1.85962Z"),t(n,"fill","#EA4335"),t(s,"d","M0.147583 21.502H10.4107L15.1749 16.7533V13.1981L6.68507 13.1967L0.147583 2.02082V21.502ZM0.147583 21.502H10.4107L15.1749 16.7533V13.1981L6.68507 13.1967L0.147583 2.02082V21.502Z"),t(s,"fill","#34A853"),t(f,"d","M10.9289 5.86867L15.1738 13.1965L10.411 21.502H21.7113V5.86867H10.9289ZM10.9289 5.86867L15.1738 13.1965L10.411 21.502H21.7113V5.86867H10.9289Z"),t(f,"fill","#FBBC05"),t(d,"d","M10.9297 5.86791C13.6369 5.86791 15.8314 8.05549 15.8314 10.7537C15.8314 13.4521 13.6369 15.6396 10.9297 15.6396C8.22245 15.6396 6.02795 13.4521 6.02795 10.7537C6.02795 8.05549 8.22245 5.86791 10.9297 5.86791Z"),t(d,"fill","#F1F1F1"),t(p,"d","M10.9286 6.84588C13.0943 6.84588 14.8499 8.59581 14.8499 10.7545C14.8499 12.9132 13.0943 14.6631 10.9286 14.6631C8.76284 14.6631 7.0072 12.9132 7.0072 10.7545C7.0072 8.59581 8.76284 6.84588 10.9286 6.84588Z"),t(p,"fill","#4285F4"),t(a,"mask","url(#mask0_6328_20691)"),t(e,"xmlns","http://www.w3.org/2000/svg"),t(e,"width",l[0]),t(e,"height",l[0]),t(e,"viewBox","0 0 22 22"),t(e,"fill","none")},m(h,u){$(h,e,u),i(e,o),i(o,r),i(e,a),i(a,n),i(a,s),i(a,f),i(a,d),i(a,p)},p(h,[u]){1&u&&t(o,"width",h[0]),1&u&&t(o,"height",h[0]),1&u&&t(e,"width",h[0]),1&u&&t(e,"height",h[0])},i:B,o:B,d(h){h&&M(e)}}}function K1(l,e,o){let{size:r="22"}=e;return l.$$set=a=>{"size"in a&&o(0,r=a.size)},[r]}class mr extends j{constructor(e){super(),W(this,e,K1,H1,U,{size:0})}}function P1(l){let e,o,r;return{c(){e=c("svg"),o=c("path"),r=c("path"),t(o,"d","M17.71 13.7971C17.6815 10.6387 20.296 9.10219 20.4156 9.03069C18.9349 6.87185 16.6399 6.57692 15.8334 6.5534C13.9059 6.35052 12.0362 7.70675 11.0543 7.70675C10.0528 7.70675 8.54067 6.573 6.91107 6.60632C4.814 6.63862 2.85216 7.8528 1.77619 9.7382C-0.444353 13.5825 1.21174 19.2319 3.33916 22.3392C4.40337 23.8611 5.64695 25.5603 7.27459 25.5005C8.86703 25.4349 9.46182 24.4853 11.3835 24.4853C13.2875 24.4853 13.8461 25.5005 15.5061 25.4623C17.2151 25.4349 18.2911 23.9336 19.318 22.398C20.5479 20.6537 21.0418 18.9359 21.0614 18.8477C21.0212 18.834 17.7423 17.5826 17.71 13.7971Z"),t(o,"fill","currentColor"),t(r,"d","M14.5762 4.5089C15.4327 3.43787 16.0187 1.98066 15.856 0.501953C14.6164 0.55683 13.0662 1.3594 12.1734 2.40697C11.3836 3.33007 10.678 4.8431 10.8603 6.26597C12.2528 6.36984 13.6825 5.56332 14.5762 4.5089Z"),t(r,"fill","currentColor"),t(e,"xmlns","http://www.w3.org/2000/svg"),t(e,"width","22"),t(e,"height","26"),t(e,"viewBox","0 0 22 26"),t(e,"fill","none")},m(a,n){$(a,e,n),i(e,o),i(e,r)},p:B,i:B,o:B,d(a){a&&M(e)}}}class br extends j{constructor(e){super(),W(this,e,null,P1,U,{})}}function q1(l){let e,o,r,a,n,s,f,d,p,h;return n=new mr({}),f=new br({}),p=new gr({}),{c(){e=x("div"),o=x("p"),o.textContent="Get it",r=K(),a=x("div"),A(n.$$.fragment),s=K(),A(f.$$.fragment),d=K(),A(p.$$.fragment),t(o,"class","font-semibold text-p3 text-primary"),t(a,"class","flex gap-3 items-end"),xe(a,"position","relative"),t(e,"class","flex flex-row-reverse justify-center items-center gap-2")},m(u,g){$(u,e,g),i(e,o),i(e,r),i(e,a),N(n,a,null),i(a,s),N(f,a,null),i(a,d),N(p,a,null),h=!0},p:B,i(u){h||(w(n.$$.fragment,u),w(f.$$.fragment,u),w(p.$$.fragment,u),h=!0)},o(u){C(n.$$.fragment,u),C(f.$$.fragment,u),C(p.$$.fragment,u),h=!1},d(u){u&&M(e),Z(n),Z(f),Z(p)}}}function X1(l){let e,o,r,a,n,s,f,d,p,h;return o=new Ut({}),p=new Ot({props:{handleClick:l[1],handleKeyup:l[2],$$slots:{default:[q1]},$$scope:{ctx:l}}}),{c(){e=x("footer"),A(o.$$.fragment),r=K(),a=x("p"),n=X("Don't have "),s=X(l[0]),f=X("?"),d=K(),A(p.$$.fragment),t(a,"class","text-h5 text-primary"),t(e,"class","flex flex-col gap-4")},m(u,g){$(u,e,g),N(o,e,null),i(e,r),i(e,a),i(a,n),i(a,s),i(a,f),i(e,d),N(p,e,null),h=!0},p(u,[g]){(!h||1&g)&&ge(s,u[0]);const m={};2&g&&(m.handleClick=u[1]),2&g&&(m.handleKeyup=u[2]),8&g&&(m.$$scope={dirty:g,ctx:u}),p.$set(m)},i(u){h||(w(o.$$.fragment,u),w(p.$$.fragment,u),h=!0)},o(u){C(o.$$.fragment,u),C(p.$$.fragment,u),h=!1},d(u){u&&M(e),Z(o),Z(p)}}}function Q1(l,e,o){let{walletName:r=""}=e,{handleClick:a=()=>{}}=e;return l.$$set=s=>{"walletName"in s&&o(0,r=s.walletName),"handleClick"in s&&o(1,a=s.handleClick)},[r,a,s=>{"Enter"===s.key&&a()}]}class Y1 extends j{constructor(e){super(),W(this,e,Q1,X1,U,{walletName:0,handleClick:1})}}function J1(l){Zr(l,"svelte-roekpq","@keyframes svelte-roekpq-dash{0%{stroke-dashoffset:187}50%{stroke-dashoffset:46.75;transform:rotate(135deg)}100%{stroke-dashoffset:187;transform:rotate(450deg)}}@keyframes svelte-roekpq-rotator{0%{transform:rotate(0deg)}100%{transform:rotate(270deg)}}.spinner.svelte-roekpq.svelte-roekpq{color:#ff875b;animation:svelte-roekpq-rotator 1.4s linear infinite}.spinner.svelte-roekpq circle.svelte-roekpq{stroke:currentColor;stroke-dasharray:187;stroke-dashoffset:0;transform-origin:center;animation:svelte-roekpq-dash 1.4s ease-in-out infinite}")}function eo(l){let e;return{c(){e=x("h3"),e.innerHTML="Connect Ready mobile by<br/>scanning QR code:",t(e,"class","mb-4 text-h5 text-primary font-semibold")},m(o,r){$(o,e,r)},d(o){o&&M(e)}}}function to(l){let e;return{c(){e=x("h3"),e.textContent="Connecting to Ready mobile...",t(e,"class","mb-4 text-h5 text-primary font-semibold")},m(o,r){$(o,e,r)},d(o){o&&M(e)}}}function ro(l){let e,o,r,a,n,s,f;let h=function d(u,g){return u[1]?to:eo}(l)(l);return s=new Y1({props:{walletName:"Ready",handleClick:l[0]}}),{c(){e=x("section"),o=x("div"),h.c(),r=K(),a=x("div"),a.innerHTML='<svg class="spinner svelte-roekpq" viewBox="0 0 66 66" width="100px" height="100px" xmlns="http://www.w3.org/2000/svg"><circle fill="none" stroke-width="6" stroke-linecap="round" cx="33" cy="33" r="30" class="svelte-roekpq"></circle></svg>',n=K(),A(s.$$.fragment),t(a,"class","w-full flex justify-center items-center qr-code-slot h-[245px]"),t(e,"class","flex flex-col gap-4")},m(u,g){$(u,e,g),i(e,o),h.m(o,null),i(o,r),i(o,a),i(e,n),N(s,e,null),f=!0},p(u,[g]){const m={};1&g&&(m.handleClick=u[0]),s.$set(m)},i(u){f||(w(s.$$.fragment,u),f=!0)},o(u){C(s.$$.fragment,u),f=!1},d(u){u&&M(e),h.d(),Z(s)}}}function oo(l,e,o){const r=R1(),a=["android","ios"].includes(r);let{handleInstallClick:n=()=>{}}=e;return l.$$set=s=>{"handleInstallClick"in s&&o(0,n=s.handleInstallClick)},[n,a,r]}class lo extends j{constructor(e){super(),W(this,e,oo,ro,U,{device:2,handleInstallClick:0},J1)}get device(){return this.$$.ctx[2]}}function ao(l){let e,o;return{c(){e=c("svg"),o=c("path"),t(o,"d","M37.5407 29.0784L23.8767 5.34867C23.4809 4.67181 22.9148 4.11038 22.2347 3.72021C21.5546 3.33005 20.7842 3.12476 20.0001 3.12476C19.216 3.12476 18.4456 3.33005 17.7655 3.72021C17.0854 4.11038 16.5193 4.67181 16.1235 5.34867L2.45947 29.0784C2.07544 29.7352 1.87305 30.4823 1.87305 31.2432C1.87305 32.0041 2.07544 32.7512 2.45947 33.408C2.85086 34.0883 3.41618 34.6521 4.09741 35.0418C4.77865 35.4314 5.55128 35.6328 6.33604 35.6252H33.6642C34.4484 35.6322 35.2204 35.4306 35.901 35.041C36.5817 34.6514 37.1465 34.0878 37.5376 33.408C37.9221 32.7515 38.125 32.0045 38.1256 31.2436C38.1261 30.4828 37.9243 29.7355 37.5407 29.0784ZM34.2907 31.5315C34.2272 31.6398 34.1356 31.7289 34.0255 31.7894C33.9155 31.8499 33.7912 31.8795 33.6657 31.8752H6.33604C6.21055 31.8795 6.08624 31.8499 5.97622 31.7894C5.86621 31.7289 5.77458 31.6398 5.71104 31.5315C5.65713 31.4438 5.6286 31.343 5.6286 31.2401C5.6286 31.1372 5.65713 31.0363 5.71104 30.9487L19.3751 7.21898C19.4428 7.11483 19.5354 7.02925 19.6445 6.96999C19.7537 6.91074 19.8759 6.87971 20.0001 6.87971C20.1243 6.87971 20.2465 6.91074 20.3557 6.96999C20.4648 7.02925 20.5574 7.11483 20.6251 7.21898L34.2876 30.9487C34.342 31.036 34.3711 31.1367 34.3716 31.2396C34.3722 31.3425 34.3442 31.4436 34.2907 31.5315ZM18.1251 21.2502V16.2502C18.1251 15.753 18.3226 15.276 18.6743 14.9244C19.0259 14.5728 19.5028 14.3752 20.0001 14.3752C20.4974 14.3752 20.9743 14.5728 21.3259 14.9244C21.6776 15.276 21.8751 15.753 21.8751 16.2502V21.2502C21.8751 21.7475 21.6776 22.2244 21.3259 22.5761C20.9743 22.9277 20.4974 23.1252 20.0001 23.1252C19.5028 23.1252 19.0259 22.9277 18.6743 22.5761C18.3226 22.2244 18.1251 21.7475 18.1251 21.2502ZM22.5001 27.5002C22.5001 27.9947 22.3535 28.478 22.0788 28.8892C21.8041 29.3003 21.4136 29.6207 20.9568 29.8099C20.5 29.9991 19.9973 30.0487 19.5124 29.9522C19.0274 29.8557 18.582 29.6176 18.2323 29.268C17.8827 28.9184 17.6446 28.4729 17.5481 27.988C17.4517 27.503 17.5012 27.0003 17.6904 26.5435C17.8796 26.0867 18.2001 25.6963 18.6112 25.4216C19.0223 25.1469 19.5056 25.0002 20.0001 25.0002C20.6631 25.0002 21.299 25.2636 21.7679 25.7325C22.2367 26.2013 22.5001 26.8372 22.5001 27.5002Z"),t(o,"fill","#DB3B4E"),t(e,"xmlns","http://www.w3.org/2000/svg"),t(e,"width","40"),t(e,"height","40"),t(e,"viewBox","0 0 40 40"),t(e,"fill","none")},m(r,a){$(r,e,a),i(e,o)},p:B,i:B,o:B,d(r){r&&M(e)}}}class wr extends j{constructor(e){super(),W(this,e,null,ao,U,{})}}function Et(l){let e,o,r,a;const n=l[6].default,s=be(n,l,l[5],null);let f=[{class:l[0]},{href:l[1]},{rel:"noreferrer noopener"},{target:"_blank"},{role:"button"},{tabindex:"0"}],d={};for(let p=0;p<f.length;p+=1)d=xt(d,f[p]);return{c(){e=x(l[2]),s&&s.c(),Ee(l[2])(e,d)},m(p,h){$(p,e,h),s&&s.m(e,null),o=!0,r||(a=[$e(e,"click",function(){me(l[3])&&l[3].apply(this,arguments)}),$e(e,"keyup",function(){me(l[4])&&l[4].apply(this,arguments)})],r=!0)},p(p,h){l=p,s&&s.p&&(!o||32&h)&&Ce(s,n,l,l[5],o?we(n,l[5],h,null):ve(l[5]),null),Ee(l[2])(e,d=zt(f,[(!o||1&h)&&{class:l[0]},(!o||2&h)&&{href:l[1]},{rel:"noreferrer noopener"},{target:"_blank"},{role:"button"},{tabindex:"0"}]))},i(p){o||(w(s,p),o=!0)},o(p){C(s,p),o=!1},d(p){p&&M(e),s&&s.d(p),r=!1,ke(a)}}}function no(l){let o,r,e=l[2],a=l[2]&&Et(l);return{c(){a&&a.c(),o=ye()},m(n,s){a&&a.m(n,s),$(n,o,s),r=!0},p(n,[s]){n[2]?e?U(e,n[2])?(a.d(1),a=Et(n),e=n[2],a.c(),a.m(o.parentNode,o)):a.p(n,s):(a=Et(n),e=n[2],a.c(),a.m(o.parentNode,o)):e&&(a.d(1),a=null,e=n[2])},i(n){r||(w(a,n),r=!0)},o(n){C(a,n),r=!1},d(n){n&&M(o),a&&a.d(n)}}}function io(l,e,o){let{$$slots:r={},$$scope:a}=e,{className:n}=e,{href:s}=e,{as:f="a"}=e,{handleClick:d}=e,{handleKeyup:p}=e;return l.$$set=h=>{"className"in h&&o(0,n=h.className),"href"in h&&o(1,s=h.href),"as"in h&&o(2,f=h.as),"handleClick"in h&&o(3,d=h.handleClick),"handleKeyup"in h&&o(4,p=h.handleKeyup),"$$scope"in h&&o(5,a=h.$$scope)},[n,s,f,d,p,a,r]}class Cr extends j{constructor(e){super(),W(this,e,io,no,U,{className:0,href:1,as:2,handleClick:3,handleKeyup:4})}}function so(l){let e;const o=l[7].default,r=be(o,l,l[8],null);return{c(){r&&r.c()},m(a,n){r&&r.m(a,n),e=!0},p(a,n){r&&r.p&&(!e||256&n)&&Ce(r,o,a,a[8],e?we(o,a[8],n,null):ve(a[8]),null)},i(a){e||(w(r,a),e=!0)},o(a){C(r,a),e=!1},d(a){r&&r.d(a)}}}function co(l){let e,o;return e=new Cr({props:{handleClick:l[3],handleKeyup:l[4],as:l[2],href:l[1],className:`\n        ${l[0]} ${l[5]} px-4\n        bg-button-secondary text-primary hover:bg-button-secondary-hover flex\n        min-w-[140px] text-b3 rounded-3xl justify-center items-center\n    `,$$slots:{default:[so]},$$scope:{ctx:l}}}),{c(){A(e.$$.fragment)},m(r,a){N(e,r,a),o=!0},p(r,[a]){const n={};8&a&&(n.handleClick=r[3]),16&a&&(n.handleKeyup=r[4]),4&a&&(n.as=r[2]),2&a&&(n.href=r[1]),1&a&&(n.className=`\n        ${r[0]} ${r[5]} px-4\n        bg-button-secondary text-primary hover:bg-button-secondary-hover flex\n        min-w-[140px] text-b3 rounded-3xl justify-center items-center\n    `),256&a&&(n.$$scope={dirty:a,ctx:r}),e.$set(n)},i(r){o||(w(e.$$.fragment,r),o=!0)},o(r){C(e.$$.fragment,r),o=!1},d(r){Z(e,r)}}}function fo(l,e,o){let{$$slots:r={},$$scope:a}=e,{className:n=""}=e,{href:s}=e,{as:f="button"}=e,{isLarge:d=!1}=e;const p=d?"min-h-12":"min-h-8";let{handleClick:h=g=>console.log("click",g)}=e,{handleKeyup:u=g=>console.log("keyup",g)}=e;return l.$$set=g=>{"className"in g&&o(0,n=g.className),"href"in g&&o(1,s=g.href),"as"in g&&o(2,f=g.as),"isLarge"in g&&o(6,d=g.isLarge),"handleClick"in g&&o(3,h=g.handleClick),"handleKeyup"in g&&o(4,u=g.handleKeyup),"$$scope"in g&&o(8,a=g.$$scope)},[n,s,f,h,u,p,d,r,a]}class vr extends j{constructor(e){super(),W(this,e,fo,co,U,{className:0,href:1,as:2,isLarge:6,handleClick:3,handleKeyup:4})}}function uo(l){let e,o;return{c(){e=c("svg"),o=c("path"),t(o,"d","M15.25 3.50011V6.50011C15.25 6.69902 15.171 6.88979 15.0303 7.03044C14.8897 7.17109 14.6989 7.25011 14.5 7.25011H11.5C11.3011 7.25011 11.1103 7.17109 10.9697 7.03044C10.829 6.88979 10.75 6.69902 10.75 6.50011C10.75 6.3012 10.829 6.11043 10.9697 5.96978C11.1103 5.82913 11.3011 5.75011 11.5 5.75011H12.5687L11.3812 4.66386C11.3731 4.65636 11.365 4.64886 11.3575 4.64074C10.8069 4.09046 10.1295 3.68394 9.38483 3.45695C8.64022 3.22996 7.85122 3.18945 7.08728 3.33899C6.32333 3.48853 5.60784 3.82353 5.00377 4.31452C4.39969 4.80552 3.92555 5.43745 3.62305 6.15472C3.32055 6.87199 3.19898 7.65261 3.26902 8.4279C3.33906 9.20319 3.59857 9.94938 4.02471 10.6008C4.45086 11.2523 5.03058 11.789 5.71287 12.1638C6.39516 12.5386 7.1591 12.7399 7.93748 12.7501H7.99998C9.21243 12.753 10.3795 12.2893 11.2594 11.4551C11.404 11.3184 11.597 11.2448 11.7959 11.2504C11.9948 11.2561 12.1833 11.3405 12.32 11.4851C12.4566 11.6297 12.5303 11.8227 12.5246 12.0216C12.519 12.2205 12.4346 12.4091 12.29 12.5457C11.1318 13.6435 9.59575 14.2537 7.99998 14.2501H7.91436C6.89126 14.2357 5.88735 13.9703 4.99078 13.4773C4.09421 12.9842 3.3324 12.2786 2.77224 11.4224C2.21208 10.5661 1.87071 9.58543 1.7781 8.56644C1.68548 7.54744 1.84447 6.52129 2.24108 5.57809C2.63769 4.63489 3.25981 3.80349 4.05281 3.15688C4.8458 2.51028 5.78541 2.06826 6.78915 1.86963C7.79288 1.671 8.83003 1.72184 9.80952 2.01768C10.789 2.31352 11.6809 2.84531 12.4069 3.56636L13.75 4.79511V3.50011C13.75 3.3012 13.829 3.11043 13.9697 2.96978C14.1103 2.82913 14.3011 2.75011 14.5 2.75011C14.6989 2.75011 14.8897 2.82913 15.0303 2.96978C15.171 3.11043 15.25 3.3012 15.25 3.50011Z"),t(o,"fill","currentColor"),t(e,"xmlns","http://www.w3.org/2000/svg"),t(e,"width","16"),t(e,"height","16"),t(e,"viewBox","0 0 16 16"),t(e,"fill","none")},m(r,a){$(r,e,a),i(e,o)},p:B,i:B,o:B,d(r){r&&M(e)}}}class po extends j{constructor(e){super(),W(this,e,null,uo,U,{})}}function ho(l){let e,o,r,a,n;return o=new po({}),{c(){e=x("div"),A(o.$$.fragment),r=X(" Retry connecting to "),a=X(l[0]),t(e,"class","flex gap-2")},m(s,f){$(s,e,f),N(o,e,null),i(e,r),i(e,a),n=!0},p(s,f){(!n||1&f)&&ge(a,s[0])},i(s){n||(w(o.$$.fragment,s),n=!0)},o(s){C(o.$$.fragment,s),n=!1},d(s){s&&M(e),Z(o)}}}function er(l){let e,o;return e=new hr({props:{handleClick:l[3]}}),{c(){A(e.$$.fragment)},m(r,a){N(e,r,a),o=!0},p(r,a){const n={};8&a&&(n.handleClick=r[3]),e.$set(n)},i(r){o||(w(e.$$.fragment,r),o=!0)},o(r){C(e.$$.fragment,r),o=!1},d(r){Z(e,r)}}}function go(l){let e,o,r,a,n,s,f,d,p,h;a=new wr({}),d=new vr({props:{handleClick:l[2],handleKeyup:l[4],isLarge:!0,$$slots:{default:[ho]},$$scope:{ctx:l}}});let u=l[1]&&er(l);return{c(){e=x("section"),o=x("div"),r=x("div"),A(a.$$.fragment),n=K(),s=x("div"),s.innerHTML='<h3 class="text-primary text-h4 font-bold">Couldn&#39;t connect</h3> <p class="text-primary text-p3 font-[400]">Please try connecting again.</p>',f=K(),A(d.$$.fragment),p=K(),u&&u.c(),t(r,"class","bg-button-secondary rounded-full p-5"),t(o,"class","flex flex-col h-full justify-center items-center gap-4 w-full flex-grow"),t(e,"class","flex flex-col justify-center items-center flex-grow")},m(g,m){$(g,e,m),i(e,o),i(o,r),N(a,r,null),i(o,n),i(o,s),i(o,f),N(d,o,null),i(e,p),u&&u.m(e,null),h=!0},p(g,[m]){const b={};4&m&&(b.handleClick=g[2]),4&m&&(b.handleKeyup=g[4]),33&m&&(b.$$scope={dirty:m,ctx:g}),d.$set(b),g[1]?u?(u.p(g,m),2&m&&w(u,1)):(u=er(g),u.c(),w(u,1),u.m(e,null)):u&&(ce(),C(u,1,1,()=>{u=null}),fe())},i(g){h||(w(a.$$.fragment,g),w(d.$$.fragment,g),w(u),h=!0)},o(g){C(a.$$.fragment,g),C(d.$$.fragment,g),C(u),h=!1},d(g){g&&M(e),Z(a),Z(d),u&&u.d()}}}function mo(l,e,o){let{walletName:r=""}=e,{showFallback:a=!1}=e,{handleCallback:n=async()=>{}}=e,{handleFallback:s=async()=>{}}=e;return l.$$set=d=>{"walletName"in d&&o(0,r=d.walletName),"showFallback"in d&&o(1,a=d.showFallback),"handleCallback"in d&&o(2,n=d.handleCallback),"handleFallback"in d&&o(3,s=d.handleFallback)},[r,a,n,s,d=>{"Enter"===d.key&&n()}]}class bo extends j{constructor(e){super(),W(this,e,mo,go,U,{walletName:0,showFallback:1,handleCallback:2,handleFallback:3})}}function wo(l){let e,o,r;return{c(){e=c("svg"),o=c("path"),r=c("path"),t(o,"d","M28.7868 15.1583C29.5186 13.9874 29.1627 12.445 27.9918 11.7133C26.821 10.9815 25.2786 11.3374 24.5468 12.5083L17.656 23.5335L13.1668 20.1666C12.0622 19.3382 10.4952 19.562 9.66681 20.6666C8.83839 21.7712 9.06224 23.3382 10.1668 24.1666L16.8335 29.1666C17.3934 29.5865 18.1037 29.7525 18.7917 29.6242C19.4798 29.4959 20.0825 29.0851 20.4535 28.4916L28.7868 15.1583Z"),t(o,"fill","#02A17A"),t(r,"fill-rule","evenodd"),t(r,"clip-rule","evenodd"),t(r,"d","M40 20.5C40 31.5457 31.0457 40.5 20 40.5C8.9543 40.5 0 31.5457 0 20.5C0 9.4543 8.9543 0.5 20 0.5C31.0457 0.5 40 9.4543 40 20.5ZM36.6667 20.5C36.6667 29.7047 29.2047 37.1667 20 37.1667C10.7953 37.1667 3.33333 29.7047 3.33333 20.5C3.33333 11.2953 10.7953 3.83333 20 3.83333C29.2047 3.83333 36.6667 11.2953 36.6667 20.5Z"),t(r,"fill","#02A17A"),t(e,"xmlns","http://www.w3.org/2000/svg"),t(e,"width","40"),t(e,"height","41"),t(e,"viewBox","0 0 40 41"),t(e,"fill","none")},m(a,n){$(a,e,n),i(e,o),i(e,r)},p:B,i:B,o:B,d(a){a&&M(e)}}}class Co extends j{constructor(e){super(),W(this,e,null,wo,U,{})}}function vo(l){let e,o,r,a,n,s;return r=new Co({}),{c(){e=x("section"),o=x("div"),A(r.$$.fragment),a=K(),n=x("h3"),n.textContent="Success!",t(o,"class","bg-button-secondary rounded-full p-5"),t(n,"class","text-primary text-h4 font-bold"),t(e,"class","flex flex-col justify-center items-center gap-4 flex-grow")},m(f,d){$(f,e,d),i(e,o),N(r,o,null),i(e,a),i(e,n),s=!0},p:B,i(f){s||(w(r.$$.fragment,f),s=!0)},o(f){C(r.$$.fragment,f),s=!1},d(f){f&&M(e),Z(r)}}}class ko extends j{constructor(e){super(),W(this,e,null,vo,U,{})}}function _o(l){let e,o,r,a,n,s,f,d,p,h,u,g,m,b,v,F,O,z,L,k,y,S,G,_,E,R,D,T,q,I,P,V,Y;return{c(){e=c("svg"),o=c("path"),r=c("path"),a=c("path"),n=c("path"),s=c("path"),f=c("path"),d=c("defs"),p=c("linearGradient"),h=c("stop"),u=c("stop"),g=c("radialGradient"),m=c("stop"),b=c("stop"),v=c("stop"),F=c("linearGradient"),O=c("stop"),z=c("stop"),L=c("stop"),k=c("stop"),y=c("radialGradient"),S=c("stop"),G=c("stop"),_=c("stop"),E=c("radialGradient"),R=c("stop"),D=c("stop"),T=c("stop"),q=c("stop"),I=c("stop"),P=c("radialGradient"),V=c("stop"),Y=c("stop"),t(o,"d","M18.9432 15.0009C18.6742 15.1415 18.3969 15.2653 18.1127 15.3717C17.208 15.7099 16.2497 15.8822 15.2839 15.8803C11.5552 15.8803 8.30719 13.3178 8.30719 10.0294C8.31196 9.58835 8.43446 9.15656 8.66205 8.77861C8.88963 8.40066 9.21405 8.09024 9.60182 7.87939C6.22931 8.0211 5.36255 11.5323 5.36255 13.5894C5.36255 19.4056 10.7278 19.9953 11.8838 19.9953C12.5071 19.9953 13.4471 19.8142 14.0113 19.6363L14.1145 19.6017C16.2856 18.8518 18.1364 17.3858 19.3624 15.4449C19.3999 15.3858 19.4167 15.3159 19.41 15.2462C19.4034 15.1765 19.3736 15.111 19.3256 15.0601C19.2775 15.0092 19.2138 14.9757 19.1445 14.965C19.0753 14.9543 19.0044 14.9669 18.9432 15.0009Z"),t(o,"fill","url(#paint0_linear_6297_45099)"),t(r,"opacity","0.35"),t(r,"d","M18.9432 15.0009C18.6742 15.1415 18.3969 15.2653 18.1127 15.3717C17.208 15.7099 16.2497 15.8822 15.2839 15.8803C11.5552 15.8803 8.30719 13.3178 8.30719 10.0294C8.31196 9.58835 8.43446 9.15656 8.66205 8.77861C8.88963 8.40066 9.21405 8.09024 9.60182 7.87939C6.22931 8.0211 5.36255 11.5323 5.36255 13.5894C5.36255 19.4056 10.7278 19.9953 11.8838 19.9953C12.5071 19.9953 13.4471 19.8142 14.0113 19.6363L14.1145 19.6017C16.2856 18.8518 18.1364 17.3858 19.3624 15.4449C19.3999 15.3858 19.4167 15.3159 19.41 15.2462C19.4034 15.1765 19.3736 15.111 19.3256 15.0601C19.2775 15.0092 19.2138 14.9757 19.1445 14.965C19.0753 14.9543 19.0044 14.9669 18.9432 15.0009Z"),t(r,"fill","url(#paint1_radial_6297_45099)"),t(a,"d","M9.06695 19.0054C8.36414 18.5696 7.75505 17.9985 7.27511 17.3254C6.7281 16.5766 6.35167 15.7174 6.17224 14.8078C5.99281 13.8983 6.01472 12.9606 6.23643 12.0605C6.45815 11.1603 6.8743 10.3195 7.45569 9.59705C8.03708 8.87459 8.76964 8.28797 9.60198 7.87832C9.84783 7.7626 10.2678 7.55319 10.8265 7.56342C11.2201 7.56628 11.6077 7.66017 11.9589 7.83773C12.3101 8.01529 12.6154 8.2717 12.8508 8.58685C13.169 9.01133 13.3444 9.5256 13.3519 10.0559C13.3519 10.0393 15.2793 3.78931 7.04818 3.78931C3.589 3.78931 0.74443 7.06902 0.74443 9.94645C0.730785 11.4686 1.05676 12.9746 1.69866 14.3551C2.7477 16.5914 4.5822 18.3649 6.85378 19.3388C9.12536 20.3128 11.6758 20.4194 14.0209 19.6384C13.1998 19.897 12.3323 19.9747 11.4783 19.8659C10.6243 19.7572 9.80398 19.4647 9.07405 19.0086L9.06695 19.0054Z"),t(a,"fill","url(#paint2_linear_6297_45099)"),t(n,"opacity","0.41"),t(n,"d","M9.06695 19.0054C8.36414 18.5696 7.75505 17.9985 7.27511 17.3254C6.7281 16.5766 6.35167 15.7174 6.17224 14.8078C5.99281 13.8983 6.01472 12.9606 6.23643 12.0605C6.45815 11.1603 6.8743 10.3195 7.45569 9.59705C8.03708 8.87459 8.76964 8.28797 9.60198 7.87832C9.84783 7.7626 10.2678 7.55319 10.8265 7.56342C11.2201 7.56628 11.6077 7.66017 11.9589 7.83773C12.3101 8.01529 12.6154 8.2717 12.8508 8.58685C13.169 9.01133 13.3444 9.5256 13.3519 10.0559C13.3519 10.0393 15.2793 3.78931 7.04818 3.78931C3.589 3.78931 0.74443 7.06902 0.74443 9.94645C0.730785 11.4686 1.05676 12.9746 1.69866 14.3551C2.7477 16.5914 4.5822 18.3649 6.85378 19.3388C9.12536 20.3128 11.6758 20.4194 14.0209 19.6384C13.1998 19.897 12.3323 19.9747 11.4783 19.8659C10.6243 19.7572 9.80398 19.4647 9.07405 19.0086L9.06695 19.0054Z"),t(n,"fill","url(#paint3_radial_6297_45099)"),t(s,"d","M12.7387 11.7191C12.6749 11.8018 12.4787 11.9159 12.4787 12.1647C12.4787 12.3702 12.6126 12.5678 12.8506 12.7339C13.9837 13.5211 16.1199 13.4172 16.1254 13.4172C16.965 13.4152 17.7887 13.1882 18.5106 12.7599C19.2388 12.335 19.8432 11.7273 20.2639 10.9971C20.6845 10.2668 20.9067 9.43939 20.9084 8.59685C20.9289 6.83261 20.278 5.6596 20.0148 5.14001C18.3451 1.87682 14.741 4.93329e-08 10.8216 4.93329e-08C8.17102 -0.000261808 5.62686 1.04193 3.7394 2.90118C1.85193 4.76042 0.772869 7.28727 0.735596 9.93519C0.773418 7.05855 3.63532 4.73535 7.03935 4.73535C7.31513 4.73535 8.88792 4.76212 10.3488 5.52812C11.6364 6.20359 12.3109 7.01919 12.7797 7.8277C13.2667 8.66771 13.3533 9.72893 13.3533 10.1517C13.3533 10.5744 13.1374 11.2011 12.7387 11.7191Z"),t(s,"fill","url(#paint4_radial_6297_45099)"),t(f,"d","M12.7387 11.7191C12.6749 11.8018 12.4787 11.9159 12.4787 12.1647C12.4787 12.3702 12.6126 12.5678 12.8506 12.7339C13.9837 13.5211 16.1199 13.4172 16.1254 13.4172C16.965 13.4152 17.7887 13.1882 18.5106 12.7599C19.2388 12.335 19.8432 11.7273 20.2639 10.9971C20.6845 10.2668 20.9067 9.43939 20.9084 8.59685C20.9289 6.83261 20.278 5.6596 20.0148 5.14001C18.3451 1.87682 14.741 4.93329e-08 10.8216 4.93329e-08C8.17102 -0.000261808 5.62686 1.04193 3.7394 2.90118C1.85193 4.76042 0.772869 7.28727 0.735596 9.93519C0.773418 7.05855 3.63532 4.73535 7.03935 4.73535C7.31513 4.73535 8.88792 4.76212 10.3488 5.52812C11.6364 6.20359 12.3109 7.01919 12.7797 7.8277C13.2667 8.66771 13.3533 9.72893 13.3533 10.1517C13.3533 10.5744 13.1374 11.2011 12.7387 11.7191Z"),t(f,"fill","url(#paint5_radial_6297_45099)"),t(h,"stop-color","#0C59A4"),t(u,"offset","1"),t(u,"stop-color","#114A8B"),t(p,"id","paint0_linear_6297_45099"),t(p,"x1","5.36255"),t(p,"y1","13.9389"),t(p,"x2","19.4152"),t(p,"y2","13.9389"),t(p,"gradientUnits","userSpaceOnUse"),t(m,"offset","0.72"),t(m,"stop-opacity","0"),t(b,"offset","0.95"),t(b,"stop-opacity","0.53"),t(v,"offset","1"),t(g,"id","paint1_radial_6297_45099"),t(g,"cx","0"),t(g,"cy","0"),t(g,"r","1"),t(g,"gradientUnits","userSpaceOnUse"),t(g,"gradientTransform","translate(13.124 14.0496) scale(7.51564 7.13342)"),t(O,"stop-color","#1B9DE2"),t(z,"offset","0.16"),t(z,"stop-color","#1595DF"),t(L,"offset","0.67"),t(L,"stop-color","#0680D7"),t(k,"offset","1"),t(k,"stop-color","#0078D4"),t(F,"id","paint2_linear_6297_45099"),t(F,"x1","12.7712"),t(F,"y1","7.84762"),t(F,"x2","4.00261"),t(F,"y2","17.4073"),t(F,"gradientUnits","userSpaceOnUse"),t(S,"offset","0.76"),t(S,"stop-opacity","0"),t(G,"offset","0.95"),t(G,"stop-opacity","0.5"),t(_,"offset","1"),t(y,"id","paint3_radial_6297_45099"),t(y,"cx","0"),t(y,"cy","0"),t(y,"r","1"),t(y,"gradientUnits","userSpaceOnUse"),t(y,"gradientTransform","translate(6.29839 15.6665) rotate(-81.3767) scale(11.2916 9.13031)"),t(R,"stop-color","#35C1F1"),t(D,"offset","0.11"),t(D,"stop-color","#34C1ED"),t(T,"offset","0.23"),t(T,"stop-color","#2FC2DF"),t(q,"offset","0.31"),t(q,"stop-color","#2BC3D2"),t(I,"offset","0.67"),t(I,"stop-color","#36C752"),t(E,"id","paint4_radial_6297_45099"),t(E,"cx","0"),t(E,"cy","0"),t(E,"r","1"),t(E,"gradientUnits","userSpaceOnUse"),t(E,"gradientTransform","translate(2.77348 3.72978) rotate(92.2927) scale(15.9492 33.9991)"),t(V,"stop-color","#66EB6E"),t(Y,"offset","1"),t(Y,"stop-color","#66EB6E"),t(Y,"stop-opacity","0"),t(P,"id","paint5_radial_6297_45099"),t(P,"cx","0"),t(P,"cy","0"),t(P,"r","1"),t(P,"gradientUnits","userSpaceOnUse"),t(P,"gradientTransform","translate(19.6525 6.09385) rotate(73.7259) scale(7.66371 6.23687)"),t(e,"xmlns","http://www.w3.org/2000/svg"),t(e,"width",l[0]),t(e,"height",l[0]),t(e,"viewBox","0 0 21 21"),t(e,"fill","none")},m(H,J){$(H,e,J),i(e,o),i(e,r),i(e,a),i(e,n),i(e,s),i(e,f),i(e,d),i(d,p),i(p,h),i(p,u),i(d,g),i(g,m),i(g,b),i(g,v),i(d,F),i(F,O),i(F,z),i(F,L),i(F,k),i(d,y),i(y,S),i(y,G),i(y,_),i(d,E),i(E,R),i(E,D),i(E,T),i(E,q),i(E,I),i(d,P),i(P,V),i(P,Y)},p(H,[J]){1&J&&t(e,"width",H[0]),1&J&&t(e,"height",H[0])},i:B,o:B,d(H){H&&M(e)}}}function yo(l,e,o){let{size:r="21"}=e;return l.$$set=a=>{"size"in a&&o(0,r=a.size)},[r]}class xo extends j{constructor(e){super(),W(this,e,yo,_o,U,{size:0})}}function Fo(l){let e,o,r,a,n,s,f,d,p,h,u,g,m,b,v,F,O,z,L,k,y,S,G,_,E,R,D,T,q,I,P,V,Y,H,J,oe,ee,le,ae,te,Fe,De,Ve,Re,ue,Te,He,Ke,Pe,de,Ne,Ze,Ae,ze,ne,Ft,qe,Xe,Qe,Ye,Je,ie,et,tt,rt,ot,lt,re,Lt,at,nt,it,st,ct,ft,ut,se,dt,pt,ht,gt,mt,pe,bt,wt,Ct,vt,he,Oe,Ue,Ge,Ie;return{c(){e=c("svg"),o=c("path"),r=c("path"),a=c("path"),n=c("path"),s=c("path"),f=c("path"),d=c("path"),p=c("path"),h=c("path"),u=c("path"),g=c("path"),m=c("path"),b=c("defs"),v=c("linearGradient"),F=c("stop"),O=c("stop"),z=c("stop"),L=c("stop"),k=c("stop"),y=c("stop"),S=c("stop"),G=c("stop"),_=c("radialGradient"),E=c("stop"),R=c("stop"),D=c("stop"),T=c("stop"),q=c("stop"),I=c("stop"),P=c("stop"),V=c("stop"),Y=c("stop"),H=c("radialGradient"),J=c("stop"),oe=c("stop"),ee=c("stop"),le=c("stop"),ae=c("stop"),te=c("radialGradient"),Fe=c("stop"),De=c("stop"),Ve=c("stop"),Re=c("stop"),ue=c("radialGradient"),Te=c("stop"),He=c("stop"),Ke=c("stop"),Pe=c("stop"),de=c("radialGradient"),Ne=c("stop"),Ze=c("stop"),Ae=c("stop"),ze=c("stop"),ne=c("radialGradient"),Ft=c("stop"),qe=c("stop"),Xe=c("stop"),Qe=c("stop"),Ye=c("stop"),Je=c("stop"),ie=c("radialGradient"),et=c("stop"),tt=c("stop"),rt=c("stop"),ot=c("stop"),lt=c("stop"),re=c("radialGradient"),Lt=c("stop"),at=c("stop"),nt=c("stop"),it=c("stop"),st=c("stop"),ct=c("stop"),ft=c("stop"),ut=c("stop"),se=c("radialGradient"),dt=c("stop"),pt=c("stop"),ht=c("stop"),gt=c("stop"),mt=c("stop"),pe=c("radialGradient"),bt=c("stop"),wt=c("stop"),Ct=c("stop"),vt=c("stop"),he=c("linearGradient"),Oe=c("stop"),Ue=c("stop"),Ge=c("stop"),Ie=c("stop"),t(o,"d","M19.0292 6.76185C18.6047 5.74052 17.7437 4.63778 17.0694 4.28919C17.5504 5.22056 17.8841 6.22082 18.0588 7.25436L18.0605 7.27075C16.956 4.51705 15.083 3.40675 13.5533 0.989041C13.4759 0.866794 13.3985 0.744296 13.3232 0.614992C13.2801 0.54114 13.2455 0.474597 13.2155 0.413348C13.1521 0.290485 13.1032 0.160639 13.0698 0.0264442C13.0699 0.0202518 13.0677 0.0142596 13.0636 0.0096107C13.0595 0.00496183 13.0538 0.00198167 13.0477 0.00123872C13.0416 -0.000412908 13.0353 -0.000412908 13.0293 0.00123872C13.028 0.00123872 13.026 0.00350722 13.0245 0.00401132C13.023 0.00451543 13.0197 0.00678392 13.0174 0.00779214L13.0212 0.00123872C10.5674 1.43795 9.73491 4.09763 9.65828 5.42798C8.67837 5.49533 7.7415 5.85643 6.96987 6.46417C6.88936 6.39598 6.80522 6.3322 6.71781 6.27311C6.49522 5.494 6.48573 4.66943 6.69034 3.8854C5.78923 4.32194 4.98854 4.94076 4.33892 5.70271H4.33439C3.94723 5.21196 3.97445 3.59377 3.99663 3.25577C3.8821 3.3018 3.77277 3.35984 3.67047 3.42893C3.3287 3.67286 3.00919 3.94657 2.71569 4.24685C2.38124 4.58594 2.07578 4.95245 1.8025 5.34253V5.34404V5.34228C1.17444 6.23267 0.728971 7.23866 0.491813 8.30216L0.478706 8.36668C0.460306 8.45263 0.394016 8.88314 0.382674 8.97665C0.382674 8.98396 0.381161 8.99077 0.380405 8.99808C0.294893 9.44254 0.241905 9.89264 0.221863 10.3448L0.221863 10.3952C0.224005 12.8412 1.14363 15.1974 2.799 16.9982C4.45436 18.799 6.72502 19.9132 9.16221 20.1208C11.5994 20.3284 14.0258 19.6141 15.9618 18.1193C17.8979 16.6244 19.2027 14.4576 19.6185 12.0472C19.6349 11.9212 19.6482 11.7964 19.6628 11.6691C19.864 10.0061 19.6462 8.31919 19.0292 6.76185ZM7.76989 14.4087C7.81551 14.4306 7.85836 14.4543 7.90524 14.4752L7.91205 14.4795C7.86466 14.4568 7.81728 14.4332 7.76989 14.4087ZM18.0613 7.27302V7.26369L18.063 7.27402L18.0613 7.27302Z"),t(o,"fill","url(#paint0_linear_6297_45086)"),t(r,"d","M19.029 6.76123C18.6045 5.7399 17.7435 4.63717 17.0693 4.28857C17.5502 5.21995 17.8839 6.2202 18.0586 7.25374V7.26307L18.0603 7.2734C18.8133 9.42808 18.7044 11.7904 17.7564 13.8667C16.6367 16.269 13.9266 18.7313 9.68457 18.6116C5.10095 18.4818 1.0643 15.0805 0.309647 10.6257C0.172277 9.92326 0.309647 9.5671 0.37871 8.9962C0.284499 9.43966 0.231927 9.89095 0.22168 10.3442L0.22168 10.3946C0.223821 12.8406 1.14345 15.1968 2.79882 16.9976C4.45418 18.7983 6.72484 19.9126 9.16203 20.1202C11.5992 20.3278 14.0256 19.6135 15.9616 18.1186C17.8977 16.6237 19.2025 14.457 19.6183 12.0466C19.6347 11.9205 19.648 11.7958 19.6627 11.6685C19.8639 10.0055 19.646 8.31857 19.029 6.76123Z"),t(r,"fill","url(#paint1_radial_6297_45086)"),t(a,"d","M19.029 6.76123C18.6045 5.7399 17.7435 4.63717 17.0693 4.28857C17.5502 5.21995 17.8839 6.2202 18.0586 7.25374V7.26307L18.0603 7.2734C18.8133 9.42808 18.7044 11.7904 17.7564 13.8667C16.6367 16.269 13.9266 18.7313 9.68457 18.6116C5.10095 18.4818 1.0643 15.0805 0.309647 10.6257C0.172277 9.92326 0.309647 9.5671 0.37871 8.9962C0.284499 9.43966 0.231927 9.89095 0.22168 10.3442L0.22168 10.3946C0.223821 12.8406 1.14345 15.1968 2.79882 16.9976C4.45418 18.7983 6.72484 19.9126 9.16203 20.1202C11.5992 20.3278 14.0256 19.6135 15.9616 18.1186C17.8977 16.6237 19.2025 14.457 19.6183 12.0466C19.6347 11.9205 19.648 11.7958 19.6627 11.6685C19.8639 10.0055 19.646 8.31857 19.029 6.76123Z"),t(a,"fill","url(#paint2_radial_6297_45086)"),t(n,"d","M14.2817 7.91068C14.3029 7.92555 14.3225 7.94042 14.3425 7.95529C14.0971 7.52017 13.7916 7.12179 13.4351 6.7719C10.3988 3.73514 12.6393 0.187473 13.0172 0.00725419L13.0209 0.00170898C10.5672 1.43842 9.73464 4.0981 9.65802 5.42844C9.77195 5.42063 9.88487 5.41105 10.0013 5.41105C10.872 5.41265 11.7267 5.64477 12.4785 6.08382C13.2303 6.52287 13.8525 7.15319 14.2817 7.91068Z"),t(n,"fill","url(#paint3_radial_6297_45086)"),t(s,"d","M10.0075 8.5172C9.9914 8.76018 9.1329 9.59826 8.8327 9.59826C6.05481 9.59826 5.60388 11.2787 5.60388 11.2787C5.72688 12.6937 6.71292 13.8592 7.90489 14.4758C7.95933 14.504 8.01453 14.5295 8.06973 14.5544C8.16535 14.5968 8.26096 14.6359 8.35657 14.6719C8.76565 14.8166 9.19411 14.8993 9.62768 14.9171C14.4966 15.1455 15.4398 9.09466 11.9262 7.33885C12.7551 7.23099 13.5945 7.43481 14.2816 7.91076C13.8524 7.15327 13.2302 6.52295 12.4784 6.0839C11.7266 5.64485 10.8719 5.41273 10.0012 5.41113C9.88528 5.41113 9.77186 5.42071 9.65793 5.42852C8.67802 5.49588 7.74115 5.85698 6.96951 6.46472C7.11848 6.59075 7.2866 6.75912 7.64074 7.10822C8.30364 7.76129 10.0037 8.4378 10.0075 8.5172Z"),t(s,"fill","url(#paint4_radial_6297_45086)"),t(f,"d","M10.0075 8.5172C9.9914 8.76018 9.1329 9.59826 8.8327 9.59826C6.05481 9.59826 5.60388 11.2787 5.60388 11.2787C5.72688 12.6937 6.71292 13.8592 7.90489 14.4758C7.95933 14.504 8.01453 14.5295 8.06973 14.5544C8.16535 14.5968 8.26096 14.6359 8.35657 14.6719C8.76565 14.8166 9.19411 14.8993 9.62768 14.9171C14.4966 15.1455 15.4398 9.09466 11.9262 7.33885C12.7551 7.23099 13.5945 7.43481 14.2816 7.91076C13.8524 7.15327 13.2302 6.52295 12.4784 6.0839C11.7266 5.64485 10.8719 5.41273 10.0012 5.41113C9.88528 5.41113 9.77186 5.42071 9.65793 5.42852C8.67802 5.49588 7.74115 5.85698 6.96951 6.46472C7.11848 6.59075 7.2866 6.75912 7.64074 7.10822C8.30364 7.76129 10.0037 8.4378 10.0075 8.5172Z"),t(f,"fill","url(#paint5_radial_6297_45086)"),t(d,"d","M6.51447 6.1401C6.59361 6.19051 6.65889 6.23437 6.71611 6.27394C6.49352 5.49483 6.48403 4.67026 6.68864 3.88623C5.78753 4.32277 4.98683 4.94159 4.33722 5.70354C4.38486 5.70228 5.80191 5.67683 6.51447 6.1401Z"),t(d,"fill","url(#paint6_radial_6297_45086)"),t(p,"d","M0.310452 10.6269C1.06435 15.0817 5.10176 18.4829 9.68537 18.6127C13.9275 18.7327 16.6375 16.2701 17.7572 13.8678C18.7052 11.7915 18.8141 9.4292 18.0611 7.27452V7.2652C18.0611 7.25789 18.0596 7.2536 18.0611 7.25587L18.0629 7.27225C18.4095 9.53495 17.2586 11.7271 15.4594 13.2094L15.4539 13.222C11.9483 16.077 8.59347 14.9445 7.91443 14.4823C7.86705 14.4596 7.81966 14.436 7.77228 14.4115C5.72837 13.4345 4.88398 11.5723 5.06496 9.97529C4.57978 9.98245 4.10294 9.84875 3.6922 9.59039C3.28147 9.33204 2.95448 8.96011 2.75084 8.51967C3.28737 8.19098 3.89913 8.00516 4.52783 7.97992C5.15653 7.95468 5.78122 8.09087 6.34237 8.3755C7.49926 8.90069 8.81572 8.95244 10.0103 8.51967C10.0065 8.44028 8.30638 7.76351 7.64348 7.11069C7.28934 6.76159 7.12122 6.59347 6.97226 6.46719C6.89175 6.399 6.80761 6.33522 6.7202 6.27614C6.66223 6.23656 6.59695 6.19371 6.51856 6.14229C5.806 5.67902 4.38895 5.70448 4.34207 5.70574H4.33753C3.95037 5.21499 3.97759 3.59679 3.99978 3.25879C3.88524 3.30482 3.77591 3.36286 3.67362 3.43195C3.33184 3.67588 3.01233 3.94959 2.71883 4.24987C2.38319 4.58801 2.07645 4.95367 1.80186 5.34303V5.34454V5.34278C1.1738 6.23317 0.728333 7.23916 0.491175 8.30265C0.486386 8.32257 0.139307 9.83994 0.310452 10.6269Z"),t(p,"fill","url(#paint7_radial_6297_45086)"),t(h,"d","M13.435 6.77143C13.7917 7.12171 14.0972 7.52052 14.3424 7.95608C14.3961 7.99666 14.4463 8.03699 14.4889 8.07606C16.7037 10.1177 15.5432 13.0037 15.4568 13.2092C17.2559 11.7268 18.4058 9.5347 18.0603 7.27201C16.9552 4.51705 15.0822 3.40675 13.5525 0.989041C13.4751 0.866794 13.3977 0.744296 13.3224 0.614992C13.2793 0.54114 13.2447 0.474597 13.2148 0.413348C13.1513 0.290485 13.1024 0.160639 13.0691 0.0264442C13.0691 0.0202518 13.0669 0.0142596 13.0628 0.0096107C13.0587 0.00496183 13.053 0.00198167 13.0469 0.00123872C13.0409 -0.000412908 13.0345 -0.000412908 13.0285 0.00123872C13.0272 0.00123872 13.0252 0.00350721 13.0237 0.00401132C13.0222 0.00451543 13.0189 0.00678392 13.0166 0.00779214C12.6388 0.187003 10.3983 3.73467 13.435 6.77143Z"),t(h,"fill","url(#paint8_radial_6297_45086)"),t(u,"d","M14.488 8.07354C14.4454 8.03447 14.3952 7.99414 14.3415 7.95356C14.3216 7.93869 14.302 7.92382 14.2808 7.90895C13.5936 7.433 12.7542 7.22919 11.9253 7.33704C15.439 9.09386 14.4963 15.1437 9.62685 14.9153C9.19327 14.8975 8.76481 14.8148 8.35573 14.6701C8.26012 14.6343 8.16451 14.5951 8.0689 14.5526C8.0137 14.5274 7.9585 14.5022 7.90405 14.474L7.91086 14.4782C8.58989 14.9418 11.9437 16.0743 15.4503 13.218L15.4559 13.2054C15.5433 13.0012 16.7038 10.1144 14.488 8.07354Z"),t(u,"fill","url(#paint9_radial_6297_45086)"),t(g,"d","M5.60413 11.2781C5.60413 11.2781 6.05506 9.59766 8.83295 9.59766C9.13315 9.59766 9.9924 8.75958 10.0078 8.51659C8.81323 8.94936 7.49677 8.89761 6.33988 8.37242C5.77873 8.08779 5.15404 7.9516 4.52534 7.97684C3.89664 8.00208 3.28488 8.1879 2.74835 8.51659C2.95199 8.95703 3.27898 9.32896 3.68971 9.58731C4.10044 9.84567 4.57729 9.97937 5.06247 9.97221C4.88149 11.5695 5.72587 13.4317 7.76978 14.4084C7.81541 14.4303 7.85825 14.454 7.90514 14.4749C6.71216 13.8586 5.72713 12.6931 5.60413 11.2781Z"),t(g,"fill","url(#paint10_radial_6297_45086)"),t(m,"d","M19.0292 6.76185C18.6047 5.74052 17.7437 4.63778 17.0694 4.28919C17.5504 5.22056 17.8841 6.22082 18.0588 7.25436L18.0605 7.27075C16.956 4.51705 15.083 3.40675 13.5533 0.989041C13.4759 0.866794 13.3985 0.744296 13.3232 0.614992C13.2801 0.54114 13.2455 0.474597 13.2155 0.413348C13.1521 0.290485 13.1032 0.160639 13.0698 0.0264442C13.0699 0.0202518 13.0677 0.0142596 13.0636 0.0096107C13.0595 0.00496183 13.0538 0.00198167 13.0477 0.00123872C13.0416 -0.000412908 13.0353 -0.000412908 13.0293 0.00123872C13.028 0.00123872 13.026 0.00350722 13.0245 0.00401132C13.023 0.00451543 13.0197 0.00678392 13.0174 0.00779214L13.0212 0.00123872C10.5674 1.43795 9.73491 4.09763 9.65828 5.42798C9.77221 5.42016 9.88513 5.41058 10.0016 5.41058C10.8722 5.41218 11.7269 5.6443 12.4788 6.08335C13.2306 6.5224 13.8527 7.15272 14.282 7.91021C13.5948 7.43426 12.7554 7.23044 11.9265 7.3383C15.4402 9.09512 14.4975 15.1449 9.62804 14.9166C9.19446 14.8988 8.766 14.8161 8.35693 14.6713C8.26131 14.6355 8.1657 14.5964 8.07009 14.5539C8.01489 14.5287 7.95969 14.5035 7.90524 14.4752L7.91205 14.4795C7.86466 14.4568 7.81728 14.4332 7.76989 14.4087C7.81551 14.4306 7.85836 14.4543 7.90524 14.4752C6.71227 13.8587 5.72724 12.6932 5.60424 11.2782C5.60424 11.2782 6.05516 9.59772 8.83306 9.59772C9.13325 9.59772 9.99251 8.75963 10.0079 8.51665C10.0041 8.43726 8.30399 7.76049 7.64109 7.10767C7.28695 6.75857 7.11883 6.59045 6.96987 6.46417C6.88936 6.39598 6.80522 6.3322 6.71781 6.27311C6.49522 5.494 6.48573 4.66943 6.69034 3.8854C5.78923 4.32194 4.98854 4.94076 4.33892 5.70271H4.33439C3.94723 5.21196 3.97445 3.59377 3.99663 3.25577C3.8821 3.3018 3.77277 3.35984 3.67047 3.42893C3.3287 3.67286 3.00919 3.94657 2.71569 4.24685C2.38124 4.58594 2.07578 4.95245 1.8025 5.34253V5.34404V5.34228C1.17444 6.23267 0.728971 7.23866 0.491813 8.30216L0.478706 8.36668C0.460306 8.45263 0.377885 8.88919 0.366038 8.98295C0.366038 8.97565 0.366038 8.99001 0.366038 8.98295C0.290651 9.43359 0.242505 9.88837 0.221863 10.3448L0.221863 10.3952C0.224005 12.8412 1.14363 15.1974 2.799 16.9982C4.45436 18.799 6.72502 19.9132 9.16221 20.1208C11.5994 20.3284 14.0258 19.6141 15.9618 18.1193C17.8979 16.6244 19.2027 14.4576 19.6185 12.0472C19.6349 11.9212 19.6482 11.7964 19.6628 11.6691C19.864 10.0061 19.6462 8.31919 19.0292 6.76185ZM18.06 7.26369L18.0618 7.27402L18.06 7.26369Z"),t(m,"fill","url(#paint11_linear_6297_45086)"),t(F,"offset","0.048"),t(F,"stop-color","#FFF44F"),t(O,"offset","0.111"),t(O,"stop-color","#FFE847"),t(z,"offset","0.225"),t(z,"stop-color","#FFC830"),t(L,"offset","0.368"),t(L,"stop-color","#FF980E"),t(k,"offset","0.401"),t(k,"stop-color","#FF8B16"),t(y,"offset","0.462"),t(y,"stop-color","#FF672A"),t(S,"offset","0.534"),t(S,"stop-color","#FF3647"),t(G,"offset","0.705"),t(G,"stop-color","#E31587"),t(v,"id","paint0_linear_6297_45086"),t(v,"x1","17.7361"),t(v,"y1","3.12268"),t(v,"x2","1.51918"),t(v,"y2","18.769"),t(v,"gradientUnits","userSpaceOnUse"),t(E,"offset","0.129"),t(E,"stop-color","#FFBD4F"),t(R,"offset","0.186"),t(R,"stop-color","#FFAC31"),t(D,"offset","0.247"),t(D,"stop-color","#FF9D17"),t(T,"offset","0.283"),t(T,"stop-color","#FF980E"),t(q,"offset","0.403"),t(q,"stop-color","#FF563B"),t(I,"offset","0.467"),t(I,"stop-color","#FF3750"),t(P,"offset","0.71"),t(P,"stop-color","#F5156C"),t(V,"offset","0.782"),t(V,"stop-color","#EB0878"),t(Y,"offset","0.86"),t(Y,"stop-color","#E50080"),t(_,"id","paint1_radial_6297_45086"),t(_,"cx","0"),t(_,"cy","0"),t(_,"r","1"),t(_,"gradientUnits","userSpaceOnUse"),t(_,"gradientTransform","translate(16.9866 2.23629) scale(20.3653 20.3653)"),t(J,"offset","0.3"),t(J,"stop-color","#960E18"),t(oe,"offset","0.351"),t(oe,"stop-color","#B11927"),t(oe,"stop-opacity","0.74"),t(ee,"offset","0.435"),t(ee,"stop-color","#DB293D"),t(ee,"stop-opacity","0.343"),t(le,"offset","0.497"),t(le,"stop-color","#F5334B"),t(le,"stop-opacity","0.094"),t(ae,"offset","0.53"),t(ae,"stop-color","#FF3750"),t(ae,"stop-opacity","0"),t(H,"id","paint2_radial_6297_45086"),t(H,"cx","0"),t(H,"cy","0"),t(H,"r","1"),t(H,"gradientUnits","userSpaceOnUse"),t(H,"gradientTransform","translate(9.54495 10.5622) scale(20.3653 20.3653)"),t(Fe,"offset","0.132"),t(Fe,"stop-color","#FFF44F"),t(De,"offset","0.252"),t(De,"stop-color","#FFDC3E"),t(Ve,"offset","0.506"),t(Ve,"stop-color","#FF9D12"),t(Re,"offset","0.526"),t(Re,"stop-color","#FF980E"),t(te,"id","paint3_radial_6297_45086"),t(te,"cx","0"),t(te,"cy","0"),t(te,"r","1"),t(te,"gradientUnits","userSpaceOnUse"),t(te,"gradientTransform","translate(12.0001 -2.38427) scale(14.7538 14.7538)"),t(Te,"offset","0.353"),t(Te,"stop-color","#3A8EE6"),t(He,"offset","0.472"),t(He,"stop-color","#5C79F0"),t(Ke,"offset","0.669"),t(Ke,"stop-color","#9059FF"),t(Pe,"offset","1"),t(Pe,"stop-color","#C139E6"),t(ue,"id","paint4_radial_6297_45086"),t(ue,"cx","0"),t(ue,"cy","0"),t(ue,"r","1"),t(ue,"gradientUnits","userSpaceOnUse"),t(ue,"gradientTransform","translate(7.29217 15.8829) scale(9.6968 9.69679)"),t(Ne,"offset","0.206"),t(Ne,"stop-color","#9059FF"),t(Ne,"stop-opacity","0"),t(Ze,"offset","0.278"),t(Ze,"stop-color","#8C4FF3"),t(Ze,"stop-opacity","0.064"),t(Ae,"offset","0.747"),t(Ae,"stop-color","#7716A8"),t(Ae,"stop-opacity","0.45"),t(ze,"offset","0.975"),t(ze,"stop-color","#6E008B"),t(ze,"stop-opacity","0.6"),t(de,"id","paint5_radial_6297_45086"),t(de,"cx","0"),t(de,"cy","0"),t(de,"r","1"),t(de,"gradientUnits","userSpaceOnUse"),t(de,"gradientTransform","translate(10.6576 8.89437) rotate(-13.5916) scale(5.14118 6.01904)"),t(Ft,"stop-color","#FFE226"),t(qe,"offset","0.121"),t(qe,"stop-color","#FFDB27"),t(Xe,"offset","0.295"),t(Xe,"stop-color","#FFC82A"),t(Qe,"offset","0.502"),t(Qe,"stop-color","#FFA930"),t(Ye,"offset","0.732"),t(Ye,"stop-color","#FF7E37"),t(Je,"offset","0.792"),t(Je,"stop-color","#FF7139"),t(ne,"id","paint6_radial_6297_45086"),t(ne,"cx","0"),t(ne,"cy","0"),t(ne,"r","1"),t(ne,"gradientUnits","userSpaceOnUse"),t(ne,"gradientTransform","translate(9.28808 1.40453) scale(6.97586)"),t(et,"offset","0.113"),t(et,"stop-color","#FFF44F"),t(tt,"offset","0.456"),t(tt,"stop-color","#FF980E"),t(rt,"offset","0.622"),t(rt,"stop-color","#FF5634"),t(ot,"offset","0.716"),t(ot,"stop-color","#FF3647"),t(lt,"offset","0.904"),t(lt,"stop-color","#E31587"),t(ie,"id","paint7_radial_6297_45086"),t(ie,"cx","0"),t(ie,"cy","0"),t(ie,"r","1"),t(ie,"gradientUnits","userSpaceOnUse"),t(ie,"gradientTransform","translate(14.7705 -3.02052) scale(29.7629 29.7629)"),t(Lt,"stop-color","#FFF44F"),t(at,"offset","0.06"),t(at,"stop-color","#FFE847"),t(nt,"offset","0.168"),t(nt,"stop-color","#FFC830"),t(it,"offset","0.304"),t(it,"stop-color","#FF980E"),t(st,"offset","0.356"),t(st,"stop-color","#FF8B16"),t(ct,"offset","0.455"),t(ct,"stop-color","#FF672A"),t(ft,"offset","0.57"),t(ft,"stop-color","#FF3647"),t(ut,"offset","0.737"),t(ut,"stop-color","#E31587"),t(re,"id","paint8_radial_6297_45086"),t(re,"cx","0"),t(re,"cy","0"),t(re,"r","1"),t(re,"gradientUnits","userSpaceOnUse"),t(re,"gradientTransform","translate(12.262 -1.36605) rotate(83.976) scale(21.8139 14.3163)"),t(dt,"offset","0.137"),t(dt,"stop-color","#FFF44F"),t(pt,"offset","0.48"),t(pt,"stop-color","#FF980E"),t(ht,"offset","0.592"),t(ht,"stop-color","#FF5634"),t(gt,"offset","0.655"),t(gt,"stop-color","#FF3647"),t(mt,"offset","0.904"),t(mt,"stop-color","#E31587"),t(se,"id","paint9_radial_6297_45086"),t(se,"cx","0"),t(se,"cy","0"),t(se,"r","1"),t(se,"gradientUnits","userSpaceOnUse"),t(se,"gradientTransform","translate(9.12354 3.98625) scale(18.5815 18.5815)"),t(bt,"offset","0.094"),t(bt,"stop-color","#FFF44F"),t(wt,"offset","0.231"),t(wt,"stop-color","#FFE141"),t(Ct,"offset","0.509"),t(Ct,"stop-color","#FFAF1E"),t(vt,"offset","0.626"),t(vt,"stop-color","#FF980E"),t(pe,"id","paint10_radial_6297_45086"),t(pe,"cx","0"),t(pe,"cy","0"),t(pe,"r","1"),t(pe,"gradientUnits","userSpaceOnUse"),t(pe,"gradientTransform","translate(14.0286 5.07494) scale(20.3373 20.3373)"),t(Oe,"offset","0.167"),t(Oe,"stop-color","#FFF44F"),t(Oe,"stop-opacity","0.8"),t(Ue,"offset","0.266"),t(Ue,"stop-color","#FFF44F"),t(Ue,"stop-opacity","0.634"),t(Ge,"offset","0.489"),t(Ge,"stop-color","#FFF44F"),t(Ge,"stop-opacity","0.217"),t(Ie,"offset","0.6"),t(Ie,"stop-color","#FFF44F"),t(Ie,"stop-opacity","0"),t(he,"id","paint11_linear_6297_45086"),t(he,"x1","17.5413"),t(he,"y1","3.039"),t(he,"x2","3.74231"),t(he,"y2","16.8377"),t(he,"gradientUnits","userSpaceOnUse"),t(e,"xmlns","http://www.w3.org/2000/svg"),t(e,"width",l[0]),t(e,"height",l[0]),t(e,"viewBox","0 0 20 21"),t(e,"fill","none")},m(Le,kt){$(Le,e,kt),i(e,o),i(e,r),i(e,a),i(e,n),i(e,s),i(e,f),i(e,d),i(e,p),i(e,h),i(e,u),i(e,g),i(e,m),i(e,b),i(b,v),i(v,F),i(v,O),i(v,z),i(v,L),i(v,k),i(v,y),i(v,S),i(v,G),i(b,_),i(_,E),i(_,R),i(_,D),i(_,T),i(_,q),i(_,I),i(_,P),i(_,V),i(_,Y),i(b,H),i(H,J),i(H,oe),i(H,ee),i(H,le),i(H,ae),i(b,te),i(te,Fe),i(te,De),i(te,Ve),i(te,Re),i(b,ue),i(ue,Te),i(ue,He),i(ue,Ke),i(ue,Pe),i(b,de),i(de,Ne),i(de,Ze),i(de,Ae),i(de,ze),i(b,ne),i(ne,Ft),i(ne,qe),i(ne,Xe),i(ne,Qe),i(ne,Ye),i(ne,Je),i(b,ie),i(ie,et),i(ie,tt),i(ie,rt),i(ie,ot),i(ie,lt),i(b,re),i(re,Lt),i(re,at),i(re,nt),i(re,it),i(re,st),i(re,ct),i(re,ft),i(re,ut),i(b,se),i(se,dt),i(se,pt),i(se,ht),i(se,gt),i(se,mt),i(b,pe),i(pe,bt),i(pe,wt),i(pe,Ct),i(pe,vt),i(b,he),i(he,Oe),i(he,Ue),i(he,Ge),i(he,Ie)},p(Le,[kt]){1&kt&&t(e,"width",Le[0]),1&kt&&t(e,"height",Le[0])},i:B,o:B,d(Le){Le&&M(e)}}}function Lo(l,e,o){let{size:r="21"}=e;return l.$$set=a=>{"size"in a&&o(0,r=a.size)},[r]}class Bo extends j{constructor(e){super(),W(this,e,Lo,Fo,U,{size:0})}}function Mo(l){let e,o,r,a,n,s,f,d,p,h,u,g,m,b,v,F,O,z,L,k,y;return{c(){e=c("svg"),o=c("g"),r=c("mask"),a=c("circle"),n=c("g"),s=c("path"),f=c("path"),d=c("path"),p=c("path"),h=c("path"),u=c("path"),g=c("path"),m=c("path"),b=c("path"),v=c("path"),F=c("path"),O=c("path"),z=c("path"),L=c("defs"),k=c("clipPath"),y=c("rect"),t(a,"cx","59.2004"),t(a,"cy","53.9996"),t(a,"r","53.9"),t(a,"fill","#F2F2F2"),t(r,"id","mask0_6297_45055"),xe(r,"mask-type","alpha"),t(r,"maskUnits","userSpaceOnUse"),t(r,"x","5"),t(r,"y","0"),t(r,"width","109"),t(r,"height","108"),t(s,"d","M59.4166 107.844C89.1694 107.844 113.289 83.7244 113.289 53.9717C113.289 24.219 89.1694 0.0996094 59.4166 0.0996094C29.6639 0.0996094 5.54456 24.219 5.54456 53.9717C5.54456 83.7244 29.6639 107.844 59.4166 107.844Z"),t(s,"fill","#BFBFBF"),t(s,"fill-opacity","0.2"),t(n,"mask","url(#mask0_6297_45055)"),t(f,"d","M54.8457 95.6447L39.8764 33.1839C39.1425 30.1277 40.4294 26.9308 43.0935 25.2418L63.6825 12.1625C64.8688 11.4086 66.2964 11.4789 67.3721 12.1424C65.1503 9.74977 62.1946 9.70956 60.8978 10.745L39.3537 24.4275C36.2774 26.3778 34.7895 30.0674 35.634 33.6061L49.9397 93.3224C50.6636 96.3585 56.8463 99.3041 59.4501 97.5749V97.5548C57.6707 98.6305 55.3383 97.6754 54.8457 95.6246V95.6447Z"),t(f,"fill","#8C8C8C"),t(f,"stroke","#0F0F0F"),t(f,"stroke-width","0.502662"),t(f,"stroke-miterlimit","10"),t(d,"d","M58.4029 90.9901L60.7654 96.4993L59.4484 97.5851C56.8446 99.3142 50.6719 96.3686 49.938 93.3325L48.5406 87.5117L58.4029 90.9901Z"),t(d,"fill","#0F0F0F"),t(d,"stroke","#0F0F0F"),t(d,"stroke-width","0.603195"),t(d,"stroke-miterlimit","10"),t(p,"d","M83.7591 75.3371L68.9305 14.2838C68.3676 11.9715 65.6934 10.8958 63.6827 12.1625L43.0937 25.2418C40.4396 26.9307 39.1428 30.1176 39.8767 33.1839L54.8359 95.6447C55.3385 97.7357 57.7614 98.6908 59.5609 97.5045L80.532 83.5808C83.2363 81.7812 84.5231 78.4938 83.7591 75.3371Z"),t(p,"fill","#8C8C8C"),t(p,"stroke","#0F0F0F"),t(p,"stroke-width","0.502662"),t(p,"stroke-miterlimit","10"),t(h,"d","M82.3298 74.4824L68.5367 16.0429C68.014 13.8312 65.5509 12.7857 63.7112 14.0021L61.1476 15.6911L60.2127 19.0288C60.0418 19.642 59.6597 20.1648 59.1269 20.5166L50.6922 26.1666C49.9382 26.6692 48.9832 26.7597 48.1588 26.3978L46.1884 25.5533L44.8111 26.4682C42.3681 28.0767 41.1919 31.1228 41.8755 34.0584L55.7993 93.855C56.2718 95.8556 58.5036 96.7805 60.1523 95.6445L79.4043 82.3843C81.8875 80.6752 83.0637 77.5185 82.3499 74.5026L82.3298 74.4824Z"),t(h,"fill","#FF875B"),t(h,"stroke","#0F0F0F"),t(h,"stroke-width","0.603195"),t(h,"stroke-miterlimit","10"),t(u,"d","M51.5376 22.9399C51.5979 23.1208 51.809 23.161 52.0101 23.0203L58.1224 18.9085C58.3235 18.7778 58.4341 18.5164 58.3738 18.3355C58.3134 18.1545 58.1023 18.1143 57.9013 18.255L51.7889 22.3668C51.5878 22.4975 51.4772 22.7589 51.5376 22.9399Z"),t(u,"fill","#0F0F0F"),t(g,"d","M50.1602 24.5681C50.4718 24.548 50.703 24.2263 50.6729 23.8643C50.6427 23.4924 50.3713 23.2109 50.0697 23.231C49.758 23.2511 49.5268 23.5728 49.557 23.9347C49.5871 24.3067 49.8586 24.5882 50.1602 24.5681Z"),t(g,"fill","#0F0F0F"),t(m,"d","M50.9649 73.1354L54.2624 23.7739L50.6834 26.1666C50.0199 26.6089 49.1955 26.7296 48.4415 26.5084L46.2399 52.8982L50.9548 73.1454L50.9649 73.1354Z"),t(m,"fill","#FFCBB8"),t(b,"d","M44.7614 46.4642L45.2841 48.696L47.2847 26.0159L46.6413 25.7344L44.7614 46.4541V46.4642Z"),t(b,"fill","#FFCBB8"),t(v,"d","M82.3298 74.4824L68.5367 16.0429C68.014 13.8312 65.5509 12.7857 63.7112 14.0021L61.1476 15.6911L60.2127 19.0288C60.0418 19.642 59.6597 20.1648 59.1269 20.5166L50.6922 26.1666C49.9382 26.6692 48.9832 26.7597 48.1588 26.3978L46.1884 25.5533L44.8111 26.4682C42.3681 28.0767 41.1919 31.1228 41.8755 34.0584L55.7993 93.8551C56.2718 95.8556 58.5036 96.7805 60.1523 95.6445L79.4043 82.3843C81.8875 80.6752 83.0637 77.5185 82.3499 74.5026L82.3298 74.4824Z"),t(v,"stroke","#0F0F0F"),t(v,"stroke-width","0.502662"),t(v,"stroke-miterlimit","10"),t(F,"d","M47.7989 83.8722L52.4535 85.1389L41.4151 39.5675L36.861 38.7432L47.7989 83.8822V83.8722Z"),t(F,"fill","#0F0F0F"),t(F,"stroke","#0F0F0F"),t(F,"stroke-width","0.603195"),t(F,"stroke-miterlimit","10"),t(O,"d","M39.5939 33.3041C38.9806 30.7104 39.6341 27.9759 41.7654 25.8949L38.679 25.3018C36.3969 27.1918 35.4419 30.0268 35.7837 32.7713L39.5939 33.3041Z"),t(O,"fill","#F8F8F8"),t(z,"d","M62.0044 48.0829L59.8027 49.2792C59.7324 49.3194 59.6921 49.43 59.7223 49.5205C60.5366 52.2147 60.2451 55.3413 58.8678 58.1562C58.8276 58.2467 58.8477 58.3573 58.9181 58.4176L61.0694 60.0161C61.1398 60.0663 61.2404 60.0462 61.2906 59.9557C62.1451 58.2065 62.6679 56.3466 62.8489 54.4868C64.0653 55.6127 65.523 56.4472 67.1416 56.9297C67.222 56.9498 67.3025 56.8895 67.3226 56.789L67.775 53.783C67.785 53.6825 67.7347 53.582 67.6543 53.5619C65.1209 52.7777 63.1404 50.8374 62.2055 48.1834C62.1753 48.0929 62.0848 48.0426 62.0145 48.0829H62.0044Z"),t(z,"fill","white"),t(o,"clip-path","url(#clip0_6297_45055)"),t(y,"width","117.6"),t(y,"height","107.8"),t(y,"fill","white"),t(y,"transform","translate(0.400024 0.100098)"),t(k,"id","clip0_6297_45055"),t(e,"xmlns","http://www.w3.org/2000/svg"),t(e,"width","118"),t(e,"height","108"),t(e,"viewBox","0 0 118 108"),t(e,"fill","none")},m(S,G){$(S,e,G),i(e,o),i(o,r),i(r,a),i(o,n),i(n,s),i(o,f),i(o,d),i(o,p),i(o,h),i(o,u),i(o,g),i(o,m),i(o,b),i(o,v),i(o,F),i(o,O),i(o,z),i(e,L),i(L,k),i(k,y)},p:B,i:B,o:B,d(S){S&&M(e)}}}class So extends j{constructor(e){super(),W(this,e,null,Mo,U,{})}}function $o(l){let e,o,r,a,n,s,f,d,p,h,u,g,m,b,v,F,O,z,L,k,y,S,G,_,E,R,D,T,q,I,P,V,Y,H,J,oe,ee,le,ae;return{c(){e=c("svg"),o=c("mask"),r=c("ellipse"),a=c("g"),n=c("path"),s=c("rect"),f=c("ellipse"),d=c("rect"),p=c("rect"),h=c("rect"),u=c("rect"),g=c("rect"),m=c("rect"),b=c("path"),v=c("g"),F=c("path"),O=c("path"),z=c("rect"),L=c("rect"),k=c("path"),y=c("rect"),S=c("rect"),G=c("rect"),_=c("path"),E=c("rect"),R=c("rect"),D=c("rect"),T=c("rect"),q=c("path"),I=c("path"),P=c("defs"),V=c("filter"),Y=c("feFlood"),H=c("feColorMatrix"),J=c("feOffset"),oe=c("feGaussianBlur"),ee=c("feColorMatrix"),le=c("feBlend"),ae=c("feBlend"),t(r,"cx","59.2004"),t(r,"cy","55.0779"),t(r,"rx","53.9"),t(r,"ry","54.2667"),t(r,"fill","#F2F2F2"),t(o,"id","mask0_6297_45112"),xe(o,"mask-type","alpha"),t(o,"maskUnits","userSpaceOnUse"),t(o,"x","5"),t(o,"y","0"),t(o,"width","109"),t(o,"height","110"),t(n,"d","M59.4166 109.288C89.1694 109.288 113.289 85.005 113.289 55.0498C113.289 25.0947 89.1694 0.811279 59.4166 0.811279C29.6639 0.811279 5.54456 25.0947 5.54456 55.0498C5.54456 85.005 29.6639 109.288 59.4166 109.288Z"),t(n,"fill","#BFBFBF"),t(n,"fill-opacity","0.2"),t(s,"x","21.4704"),t(s,"y","22.5181"),t(s,"width","75.46"),t(s,"height","105.573"),t(s,"rx","4.9"),t(s,"fill","black"),t(f,"opacity","0.4"),t(f,"cx","59.2004"),t(f,"cy","45.2112"),t(f,"rx","9.31"),t(f,"ry","9.37333"),t(f,"fill","#FF875B"),t(d,"x","54.7904"),t(d,"y","44.2246"),t(d,"width","5.39"),t(d,"height","1.97333"),t(d,"rx","0.986666"),t(d,"fill","#8C8C8C"),t(p,"x","61.65"),t(p,"y","44.2244"),t(p,"width","1.96"),t(p,"height","1.97333"),t(p,"rx","0.98"),t(p,"fill","#8C8C8C"),t(h,"x","54.3004"),t(h,"y","28.438"),t(h,"width","10.29"),t(h,"height","1.48"),t(h,"rx","0.74"),t(h,"fill","#595959"),t(u,"x","26.3708"),t(u,"y","70.3047"),t(u,"width","65.66"),t(u,"height","11.76"),t(u,"rx","1.96"),t(u,"fill","#595959"),t(g,"x","36.1716"),t(g,"y","74.2246"),t(g,"width","18.62"),t(g,"height","1.47"),t(g,"rx","0.735"),t(g,"fill","#F9F9F9"),t(m,"x","36.1716"),t(m,"y","76.6748"),t(m,"width","34.3"),t(m,"height","1.47"),t(m,"rx","0.735"),t(m,"fill","#8C8C8C"),t(b,"fill-rule","evenodd"),t(b,"clip-rule","evenodd"),t(b,"d","M88.5198 76.1844C88.5198 74.8313 87.4229 73.7344 86.0698 73.7344H83.2114C81.8583 73.7344 80.7614 74.8313 80.7614 76.1844C80.7614 77.5375 81.8583 78.6344 83.2114 78.6344H86.0698C87.4229 78.6344 88.5198 77.5375 88.5198 76.1844Z"),t(b,"fill","#FF875B"),t(F,"fill-rule","evenodd"),t(F,"clip-rule","evenodd"),t(F,"d","M86.0698 78.2262C84.9422 78.2262 84.0281 77.3121 84.0281 76.1845C84.0281 75.0569 84.9422 74.1428 86.0698 74.1428C87.1974 74.1428 88.1115 75.0569 88.1115 76.1845C88.1115 77.3121 87.1974 78.2262 86.0698 78.2262Z"),t(F,"fill","black"),t(v,"filter","url(#filter0_d_6297_45112)"),t(O,"d","M29.8866 74.895C29.9417 74.8416 30.0165 74.8115 30.0945 74.8115H32.4465C32.5244 74.8115 32.5992 74.8416 32.6544 74.895C32.7095 74.9485 32.7405 75.021 32.7405 75.0966V75.9334C32.7405 77.2483 31.5889 77.6834 31.365 77.7557C31.3038 77.7768 31.2371 77.7768 31.176 77.7557C30.952 77.6834 29.8005 77.2483 29.8005 75.9334V75.0966C29.8005 75.021 29.8315 74.9485 29.8866 74.895Z"),t(O,"fill","white"),t(z,"x","26.3708"),t(z,"y","87.9446"),t(z,"width","65.66"),t(z,"height","6.86"),t(z,"rx","1.96"),t(z,"fill","#262626"),t(L,"x","35.6814"),t(L,"y","90.8845"),t(L,"width","34.79"),t(L,"height","1.47"),t(L,"rx","0.735"),t(L,"fill","#595959"),t(k,"d","M86.1501 90.3948L87.1301 91.3748L86.1501 92.3548"),t(k,"stroke","#595959"),t(k,"stroke-width","0.98"),t(k,"stroke-linecap","round"),t(k,"stroke-linejoin","round"),t(y,"x","30.7809"),t(y,"y","90.3945"),t(y,"width","2.45"),t(y,"height","2.45"),t(y,"rx","0.49"),t(y,"fill","#595959"),t(S,"x","26.3708"),t(S,"y","97.7446"),t(S,"width","65.66"),t(S,"height","6.86"),t(S,"rx","1.96"),t(S,"fill","#262626"),t(G,"x","35.6814"),t(G,"y","100.685"),t(G,"width","34.79"),t(G,"height","1.47"),t(G,"rx","0.735"),t(G,"fill","#595959"),t(_,"d","M86.1501 100.195L87.1301 101.175L86.1501 102.155"),t(_,"stroke","#595959"),t(_,"stroke-width","0.98"),t(_,"stroke-linecap","round"),t(_,"stroke-linejoin","round"),t(E,"x","30.7809"),t(E,"y","100.195"),t(E,"width","2.45"),t(E,"height","2.45"),t(E,"rx","0.49"),t(E,"fill","#595959"),t(R,"x","26.3707"),t(R,"y","60.5046"),t(R,"width","65.66"),t(R,"height","6.86"),t(R,"rx","1.96"),t(R,"fill","#0F0F0F"),t(D,"x","44.0114"),t(D,"y","63.4446"),t(D,"width","30.87"),t(D,"height","1.47"),t(D,"rx","0.735"),t(D,"fill","#595959"),t(T,"x","85.1715"),t(T,"y","62.9548"),t(T,"width","2.45"),t(T,"height","2.45"),t(T,"rx","0.49"),t(T,"fill","#595959"),t(a,"mask","url(#mask0_6297_45112)"),t(q,"d","M27.8414 29.7214L26.8614 28.7414L27.8414 27.7614"),t(q,"stroke","#595959"),t(q,"stroke-width","0.98"),t(q,"stroke-linecap","round"),t(q,"stroke-linejoin","round"),t(I,"d","M27.3512 28.7415L29.5562 28.7415"),t(I,"stroke","#595959"),t(I,"stroke-width","0.98"),t(I,"stroke-linecap","round"),t(Y,"flood-opacity","0"),t(Y,"result","BackgroundImageFix"),t(H,"in","SourceAlpha"),t(H,"type","matrix"),t(H,"values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"),t(H,"result","hardAlpha"),t(J,"dy","0.326667"),t(oe,"stdDeviation","0.163333"),t(ee,"type","matrix"),t(ee,"values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"),t(le,"mode","normal"),t(le,"in2","BackgroundImageFix"),t(le,"result","effect1_dropShadow_6297_45112"),t(ae,"mode","normal"),t(ae,"in","SourceGraphic"),t(ae,"in2","effect1_dropShadow_6297_45112"),t(ae,"result","shape"),t(V,"id","filter0_d_6297_45112"),t(V,"x","83.7014"),t(V,"y","74.1428"),t(V,"width","4.73671"),t(V,"height","4.73659"),t(V,"filterUnits","userSpaceOnUse"),t(V,"color-interpolation-filters","sRGB"),t(e,"width","118"),t(e,"height","110"),t(e,"viewBox","0 0 118 110"),t(e,"fill","none"),t(e,"xmlns","http://www.w3.org/2000/svg")},m(te,Fe){$(te,e,Fe),i(e,o),i(o,r),i(e,a),i(a,n),i(a,s),i(a,f),i(a,d),i(a,p),i(a,h),i(a,u),i(a,g),i(a,m),i(a,b),i(a,v),i(v,F),i(a,O),i(a,z),i(a,L),i(a,k),i(a,y),i(a,S),i(a,G),i(a,_),i(a,E),i(a,R),i(a,D),i(a,T),i(e,q),i(e,I),i(e,P),i(P,V),i(V,Y),i(V,H),i(V,J),i(V,oe),i(V,ee),i(V,le),i(V,ae)},p:B,i:B,o:B,d(te){te&&M(e)}}}class Eo extends j{constructor(e){super(),W(this,e,null,$o,U,{})}}function No(l){let e,o,r,a,n,s,f,d,p,h,u,g,m,b,v,F,O,z,L,k,y,S,G,_,E,R,D,T,q,I,P,V,Y,H,J,oe,ee;return{c(){e=c("svg"),o=c("mask"),r=c("ellipse"),a=c("g"),n=c("path"),s=c("rect"),f=c("ellipse"),d=c("rect"),p=c("rect"),h=c("rect"),u=c("rect"),g=c("rect"),m=c("rect"),b=c("path"),v=c("g"),F=c("path"),O=c("path"),z=c("rect"),L=c("rect"),k=c("path"),y=c("rect"),S=c("rect"),G=c("rect"),_=c("path"),E=c("rect"),R=c("rect"),D=c("rect"),T=c("rect"),q=c("defs"),I=c("filter"),P=c("feFlood"),V=c("feColorMatrix"),Y=c("feOffset"),H=c("feGaussianBlur"),J=c("feColorMatrix"),oe=c("feBlend"),ee=c("feBlend"),t(r,"cx","54.201"),t(r,"cy","54.2667"),t(r,"rx","53.9"),t(r,"ry","54.2667"),t(r,"fill","#F2F2F2"),t(o,"id","mask0_697_1274"),xe(o,"mask-type","alpha"),t(o,"maskUnits","userSpaceOnUse"),t(o,"x","0"),t(o,"y","0"),t(o,"width","109"),t(o,"height","109"),t(n,"d","M54.4182 108.477C84.171 108.477 108.29 84.1937 108.29 54.2386C108.29 24.2834 84.171 0 54.4182 0C24.6655 0 0.546143 24.2834 0.546143 54.2386C0.546143 84.1937 24.6655 108.477 54.4182 108.477Z"),t(n,"fill","#BFBFBF"),t(n,"fill-opacity","0.2"),t(s,"x","16.4709"),t(s,"y","21.7067"),t(s,"width","75.46"),t(s,"height","105.573"),t(s,"rx","4.9"),t(s,"fill","black"),t(f,"opacity","0.4"),t(f,"cx","54.2011"),t(f,"cy","44.3999"),t(f,"rx","9.31"),t(f,"ry","9.37333"),t(f,"fill","#6D6D6D"),t(d,"x","49.791"),t(d,"y","43.4133"),t(d,"width","5.39"),t(d,"height","1.97333"),t(d,"rx","0.986666"),t(d,"fill","#8C8C8C"),t(p,"x","56.6511"),t(p,"y","43.4133"),t(p,"width","1.96"),t(p,"height","1.97333"),t(p,"rx","0.98"),t(p,"fill","#8C8C8C"),t(h,"x","49.301"),t(h,"y","27.6266"),t(h,"width","10.29"),t(h,"height","1.48"),t(h,"rx","0.74"),t(h,"fill","#595959"),t(u,"x","21.3711"),t(u,"y","69.4933"),t(u,"width","65.66"),t(u,"height","11.76"),t(u,"rx","1.96"),t(u,"fill","#3A3A3A"),t(g,"x","31.1711"),t(g,"y","73.4133"),t(g,"width","18.62"),t(g,"height","1.47"),t(g,"rx","0.735"),t(g,"fill","#CDCDCD"),t(m,"x","31.1711"),t(m,"y","75.8633"),t(m,"width","34.3"),t(m,"height","1.47"),t(m,"rx","0.735"),t(m,"fill","#8C8C8C"),t(b,"fill-rule","evenodd"),t(b,"clip-rule","evenodd"),t(b,"d","M83.52 75.373C83.52 74.0199 82.4231 72.923 81.07 72.923H78.2117C76.8586 72.923 75.7617 74.0199 75.7617 75.373C75.7617 76.7261 76.8586 77.823 78.2117 77.823H81.07C82.4231 77.823 83.52 76.7261 83.52 75.373Z"),t(b,"fill","#919191"),t(F,"fill-rule","evenodd"),t(F,"clip-rule","evenodd"),t(F,"d","M81.0701 77.4147C79.9426 77.4147 79.0285 76.5006 79.0285 75.373C79.0285 74.2454 79.9426 73.3314 81.0701 73.3314C82.1977 73.3314 83.1118 74.2454 83.1118 75.373C83.1118 76.5006 82.1977 77.4147 81.0701 77.4147Z"),t(F,"fill","#CDCDCD"),t(v,"filter","url(#filter0_d_697_1274)"),t(O,"d","M24.8874 74.0835C24.9425 74.03 25.0173 74 25.0953 74H27.4473C27.5252 74 27.6 74.03 27.6552 74.0835C27.7103 74.137 27.7413 74.2095 27.7413 74.2851V75.1219C27.7413 76.4368 26.5897 76.8719 26.3658 76.9442C26.3046 76.9653 26.2379 76.9653 26.1768 76.9442C25.9528 76.8719 24.8013 76.4368 24.8013 75.1219V74.2851C24.8013 74.2095 24.8322 74.137 24.8874 74.0835Z"),t(O,"fill","#CDCDCD"),t(z,"x","21.3711"),t(z,"y","87.1334"),t(z,"width","65.66"),t(z,"height","6.86"),t(z,"rx","1.96"),t(z,"fill","#262626"),t(L,"x","30.6812"),t(L,"y","90.0734"),t(L,"width","34.79"),t(L,"height","1.47"),t(L,"rx","0.735"),t(L,"fill","#595959"),t(k,"d","M81.1511 89.5834L82.1311 90.5634L81.1511 91.5434"),t(k,"stroke","#595959"),t(k,"stroke-width","0.98"),t(k,"stroke-linecap","round"),t(k,"stroke-linejoin","round"),t(y,"x","25.7812"),t(y,"y","89.5834"),t(y,"width","2.45"),t(y,"height","2.45"),t(y,"rx","0.49"),t(y,"fill","#595959"),t(S,"x","21.3711"),t(S,"y","96.9333"),t(S,"width","65.66"),t(S,"height","6.86"),t(S,"rx","1.96"),t(S,"fill","#262626"),t(G,"x","30.6812"),t(G,"y","99.8734"),t(G,"width","34.79"),t(G,"height","1.47"),t(G,"rx","0.735"),t(G,"fill","#595959"),t(_,"d","M81.1511 99.3834L82.1311 100.363L81.1511 101.343"),t(_,"stroke","#595959"),t(_,"stroke-width","0.98"),t(_,"stroke-linecap","round"),t(_,"stroke-linejoin","round"),t(E,"x","25.7812"),t(E,"y","99.3834"),t(E,"width","2.45"),t(E,"height","2.45"),t(E,"rx","0.49"),t(E,"fill","#595959"),t(R,"x","21.3711"),t(R,"y","59.6934"),t(R,"width","65.66"),t(R,"height","6.86"),t(R,"rx","1.96"),t(R,"fill","#0F0F0F"),t(D,"x","39.0112"),t(D,"y","62.6334"),t(D,"width","30.87"),t(D,"height","1.47"),t(D,"rx","0.735"),t(D,"fill","#595959"),t(T,"x","80.1711"),t(T,"y","62.1434"),t(T,"width","2.45"),t(T,"height","2.45"),t(T,"rx","0.49"),t(T,"fill","#595959"),t(a,"mask","url(#mask0_697_1274)"),t(P,"flood-opacity","0"),t(P,"result","BackgroundImageFix"),t(V,"in","SourceAlpha"),t(V,"type","matrix"),t(V,"values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"),t(V,"result","hardAlpha"),t(Y,"dy","0.326667"),t(H,"stdDeviation","0.163333"),t(J,"type","matrix"),t(J,"values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"),t(oe,"mode","normal"),t(oe,"in2","BackgroundImageFix"),t(oe,"result","effect1_dropShadow_697_1274"),t(ee,"mode","normal"),t(ee,"in","SourceGraphic"),t(ee,"in2","effect1_dropShadow_697_1274"),t(ee,"result","shape"),t(I,"id","filter0_d_697_1274"),t(I,"x","78.7019"),t(I,"y","73.3314"),t(I,"width","4.73659"),t(I,"height","4.73665"),t(I,"filterUnits","userSpaceOnUse"),t(I,"color-interpolation-filters","sRGB"),t(e,"width","109"),t(e,"height","109"),t(e,"viewBox","0 0 109 109"),t(e,"fill","none"),t(e,"xmlns","http://www.w3.org/2000/svg")},m(le,ae){$(le,e,ae),i(e,o),i(o,r),i(e,a),i(a,n),i(a,s),i(a,f),i(a,d),i(a,p),i(a,h),i(a,u),i(a,g),i(a,m),i(a,b),i(a,v),i(v,F),i(a,O),i(a,z),i(a,L),i(a,k),i(a,y),i(a,S),i(a,G),i(a,_),i(a,E),i(a,R),i(a,D),i(a,T),i(e,q),i(q,I),i(I,P),i(I,V),i(I,Y),i(I,H),i(I,J),i(I,oe),i(I,ee)},p:B,i:B,o:B,d(le){le&&M(e)}}}class Zo extends j{constructor(e){super(),W(this,e,null,No,U,{})}}const Ao=l=>({}),tr=l=>({}),zo=l=>({}),rr=l=>({}),Oo=l=>({}),or=l=>({});function Uo(l){let e;const o=l[4].button,r=be(o,l,l[6],rr);return{c(){r&&r.c()},m(a,n){r&&r.m(a,n),e=!0},p(a,n){r&&r.p&&(!e||64&n)&&Ce(r,o,a,a[6],e?we(o,a[6],n,zo):ve(a[6]),rr)},i(a){e||(w(r,a),e=!0)},o(a){C(r,a),e=!1},d(a){r&&r.d(a)}}}function Go(l){let e,o,r,a,n,s,f,d,p,h,u,g,m,b,v;const F=l[4].icons,O=be(F,l,l[6],or);g=new vr({props:{as:l[3]?"button":"a",href:l[2],handleClick:l[3],handleKeyup:l[5],className:"bg-button-secondary text-primary hover:bg-button-secondary-hover flex w-full h-[32px] text-b3 rounded-3xl justify-center items-center",$$slots:{default:[Uo]},$$scope:{ctx:l}}});const z=l[4].graphic,L=be(z,l,l[6],tr);return{c(){e=x("div"),o=x("div"),r=x("div"),a=x("h4"),n=X(l[0]),s=K(),f=x("p"),d=X(l[1]),p=K(),h=x("div"),O&&O.c(),u=K(),A(g.$$.fragment),m=K(),b=x("div"),L&&L.c(),t(a,"class","text-heading5 text-primary capitalize"),t(f,"class","text-l1 text-secondary-web"),t(r,"class","flex flex-col gap-1 text-left"),t(h,"class","flex gap-3 text-primary"),t(o,"class","flex flex-col gap-3"),t(b,"class","flex items-center"),t(e,"class","flex flex-row gap-3 px-4 py-3 rounded-xl bg-surface-elevated")},m(k,y){$(k,e,y),i(e,o),i(o,r),i(r,a),i(a,n),i(r,s),i(r,f),i(f,d),i(o,p),i(o,h),O&&O.m(h,null),i(o,u),N(g,o,null),i(e,m),i(e,b),L&&L.m(b,null),v=!0},p(k,[y]){(!v||1&y)&&ge(n,k[0]),(!v||2&y)&&ge(d,k[1]),O&&O.p&&(!v||64&y)&&Ce(O,F,k,k[6],v?we(F,k[6],y,Oo):ve(k[6]),or);const S={};8&y&&(S.as=k[3]?"button":"a"),4&y&&(S.href=k[2]),8&y&&(S.handleClick=k[3]),8&y&&(S.handleKeyup=k[5]),64&y&&(S.$$scope={dirty:y,ctx:k}),g.$set(S),L&&L.p&&(!v||64&y)&&Ce(L,z,k,k[6],v?we(z,k[6],y,Ao):ve(k[6]),tr)},i(k){v||(w(O,k),w(g.$$.fragment,k),w(L,k),v=!0)},o(k){C(O,k),C(g.$$.fragment,k),C(L,k),v=!1},d(k){k&&M(e),O&&O.d(k),Z(g),L&&L.d(k)}}}function Io(l,e,o){let{$$slots:r={},$$scope:a}=e,{title:n}=e,{subtitle:s}=e,{link:f}=e,{handleClick:d}=e;return l.$$set=h=>{"title"in h&&o(0,n=h.title),"subtitle"in h&&o(1,s=h.subtitle),"link"in h&&o(2,f=h.link),"handleClick"in h&&o(3,d=h.handleClick),"$$scope"in h&&o(6,a=h.$$scope)},[n,s,f,d,r,h=>{d&&"Enter"===h.key&&d()},a]}class kr extends j{constructor(e){super(),W(this,e,Io,Go,U,{title:0,subtitle:1,link:2,handleClick:3})}}function lr(l){let e,o;return e=new kr({props:{title:"Ready mobile",subtitle:"Download Ready wallet on your mobile.",link:"https://www.argent.xyz/app",$$slots:{graphic:[Do],button:[jo],icons:[Wo]},$$scope:{ctx:l}}}),{c(){A(e.$$.fragment)},m(r,a){N(e,r,a),o=!0},i(r){o||(w(e.$$.fragment,r),o=!0)},o(r){C(e.$$.fragment,r),o=!1},d(r){Z(e,r)}}}function Wo(l){let e,o,r,a;return e=new br({}),r=new gr({}),{c(){A(e.$$.fragment),o=K(),A(r.$$.fragment)},m(n,s){N(e,n,s),$(n,o,s),N(r,n,s),a=!0},i(n){a||(w(e.$$.fragment,n),w(r.$$.fragment,n),a=!0)},o(n){C(e.$$.fragment,n),C(r.$$.fragment,n),a=!1},d(n){n&&M(o),Z(e,n),Z(r,n)}}}function jo(l){let e;return{c(){e=X("Download")},m(o,r){$(o,e,r)},d(o){o&&M(e)}}}function Do(l){let e,o;return e=new So({}),{c(){A(e.$$.fragment)},m(r,a){N(e,r,a),o=!0},i(r){o||(w(e.$$.fragment,r),o=!0)},o(r){C(e.$$.fragment,r),o=!1},d(r){Z(e,r)}}}function ar(l){let e,o;return e=new kr({props:{title:l[1],subtitle:`Install ${l[1]} extension.`,link:l[3],$$slots:{graphic:[Ho],button:[Vo]},$$scope:{ctx:l}}}),{c(){A(e.$$.fragment)},m(r,a){N(e,r,a),o=!0},p(r,a){const n={};2&a&&(n.title=r[1]),2&a&&(n.subtitle=`Install ${r[1]} extension.`),8&a&&(n.link=r[3]),37&a&&(n.$$scope={dirty:a,ctx:r}),e.$set(n)},i(r){o||(w(e.$$.fragment,r),o=!0)},o(r){C(e.$$.fragment,r),o=!1},d(r){Z(e,r)}}}function Vo(l){let e,o,r,n,s,a=l[4][l[2]].name+"";var f=l[4][l[2]].icon;return f&&(o=Wt(f,{})),{c(){e=x("div"),o&&A(o.$$.fragment),r=X(" Install for "),n=X(a),t(e,"class","flex gap-1 items-center whitespace-nowrap")},m(p,h){$(p,e,h),o&&N(o,e,null),i(e,r),i(e,n),s=!0},p(p,h){if(4&h&&f!==(f=p[4][p[2]].icon)){if(o){ce();const u=o;C(u.$$.fragment,1,0,()=>{Z(u,1)}),fe()}f?(o=Wt(f,{}),A(o.$$.fragment),w(o.$$.fragment,1),N(o,e,r)):o=null}(!s||4&h)&&a!==(a=p[4][p[2]].name+"")&&ge(n,a)},i(p){s||(o&&w(o.$$.fragment,p),s=!0)},o(p){o&&C(o.$$.fragment,p),s=!1},d(p){p&&M(e),o&&Z(o)}}}function Ro(l){let e,o;return e=new Zo({}),{c(){A(e.$$.fragment)},m(r,a){N(e,r,a),o=!0},i(r){o||(w(e.$$.fragment,r),o=!0)},o(r){C(e.$$.fragment,r),o=!1},d(r){Z(e,r)}}}function To(l){let e,o;return e=new Eo({}),{c(){A(e.$$.fragment)},m(r,a){N(e,r,a),o=!0},i(r){o||(w(e.$$.fragment,r),o=!0)},o(r){C(e.$$.fragment,r),o=!1},d(r){Z(e,r)}}}function Ho(l){let e,o,r,a;const n=[To,Ro],s=[];function f(d,p){return d[0]?0:1}return e=f(l),o=s[e]=n[e](l),{c(){o.c(),r=ye()},m(d,p){s[e].m(d,p),$(d,r,p),a=!0},p(d,p){let h=e;e=f(d),e!==h&&(ce(),C(s[h],1,1,()=>{s[h]=null}),fe(),o=s[e],o||(o=s[e]=n[e](d),o.c()),w(o,1),o.m(r.parentNode,r))},i(d){a||(w(o),a=!0)},o(d){C(o),a=!1},d(d){d&&M(r),s[e].d(d)}}}function nr(l){let e,o,r,a,n,s;return e=new Ut({}),n=new Cr({props:{as:"a",className:"text-brand",href:"https://www.ready.co/",$$slots:{default:[Ko]},$$scope:{ctx:l}}}),{c(){A(e.$$.fragment),o=K(),r=x("p"),a=X("If you want to learn more about Ready visit our site:\n        "),A(n.$$.fragment),t(r,"class","text-[13px] text-secondary")},m(f,d){N(e,f,d),$(f,o,d),$(f,r,d),i(r,a),N(n,r,null),s=!0},i(f){s||(w(e.$$.fragment,f),w(n.$$.fragment,f),s=!0)},o(f){C(e.$$.fragment,f),C(n.$$.fragment,f),s=!1},d(f){f&&(M(o),M(r)),Z(e,f),Z(n)}}}function Ko(l){let e;return{c(){e=X("www.ready.co")},m(o,r){$(o,e,r)},d(o){o&&M(e)}}}function Po(l){let e,o,r,a,n,s,f=l[0]&&lr(l),d=l[2]&&l[3]&&ar(l),p=l[0]&&nr(l);return{c(){e=x("section"),o=x("div"),f&&f.c(),r=K(),d&&d.c(),a=K(),n=x("footer"),p&&p.c(),t(o,"class","flex flex-col gap-2"),t(n,"class","flex flex-col gap-4"),t(e,"class","flex flex-col flex-grow justify-between")},m(h,u){$(h,e,u),i(e,o),f&&f.m(o,null),i(o,r),d&&d.m(o,null),i(e,a),i(e,n),p&&p.m(n,null),s=!0},p(h,[u]){h[0]?f?1&u&&w(f,1):(f=lr(h),f.c(),w(f,1),f.m(o,r)):f&&(ce(),C(f,1,1,()=>{f=null}),fe()),h[2]&&h[3]?d?(d.p(h,u),12&u&&w(d,1)):(d=ar(h),d.c(),w(d,1),d.m(o,null)):d&&(ce(),C(d,1,1,()=>{d=null}),fe()),h[0]?p?1&u&&w(p,1):(p=nr(h),p.c(),w(p,1),p.m(n,null)):p&&(ce(),C(p,1,1,()=>{p=null}),fe())},i(h){s||(w(f),w(d),w(p),s=!0)},o(h){C(f),C(d),C(p),s=!1},d(h){h&&M(e),f&&f.d(),d&&d.d(),p&&p.d()}}}function qo(l,e,o){let{isArgent:r=!1}=e,{extensionName:a=""}=e,{store:n}=e,{storeLink:s}=e;const f={chrome:{name:"Chrome",icon:mr},edge:{name:"Edge",icon:xo},firefox:{name:"Firefox",icon:Bo}};return l.$$set=d=>{"isArgent"in d&&o(0,r=d.isArgent),"extensionName"in d&&o(1,a=d.extensionName),"store"in d&&o(2,n=d.store),"storeLink"in d&&o(3,s=d.storeLink)},[r,a,n,s,f]}class Xo extends j{constructor(e){super(),W(this,e,qo,Po,U,{isArgent:0,extensionName:1,store:2,storeLink:3})}}function Qo(l){let e,o,r,a,n,s,f;return a=new wr({}),{c(){e=x("section"),o=x("div"),r=x("div"),A(a.$$.fragment),n=K(),s=x("div"),s.innerHTML='<h3 class="text-primary text-h4 font-bold">Couldn&#39;t perform the action</h3> <p class="text-primary text-p3 font-[400]">Please try again.</p>',t(r,"class","bg-button-secondary rounded-full p-5"),t(o,"class","flex flex-col h-full justify-center items-center gap-4 w-full flex-grow"),t(e,"class","flex flex-col justify-center items-center flex-grow")},m(d,p){$(d,e,p),i(e,o),i(o,r),N(a,r,null),i(o,n),i(o,s),f=!0},p:B,i(d){f||(w(a.$$.fragment,d),f=!0)},o(d){C(a.$$.fragment,d),f=!1},d(d){d&&M(e),Z(a)}}}class Yo extends j{constructor(e){super(),W(this,e,null,Qo,U,{})}}function ir(l){let e,o,r,a,n,s,f,d,p;r=new n1({props:{handleBack:l[14],handleClose:l[15],title:l[2],showBackButton:l[5]&&![Q.walletList,Q.success].includes(l[0])}});const h=[nl,al,ll,ol,rl,tl,el,Jo],u=[];function g(m,b){return m[0]===Q.walletList?0:m[0]===Q.connecting?1:m[0]===Q.success?2:m[0]===Q.loginFailure?3:m[0]===Q.requestFailure?4:m[0]===Q.qrCode?5:m[0]===Q.approval?6:m[0]===Q.download?7:-1}return~(n=g(l))&&(s=u[n]=h[n](l)),{c(){e=x("div"),o=x("main"),A(r.$$.fragment),a=K(),s&&s.c(),t(o,"role","dialog"),t(o,"class",f=`\n        rounded-3xl bg-surface-default shadow-modal dark:shadow-none flex flex-col\n        z-[9999] w-full max-w-[380px] mx-6 p-6 text-center gap-8\n        ${l[0]!==Q.walletList?"min-h-[570px]":""}\n      `),t(e,"part","starknetkit-modal"),t(e,"class",d=`${l[1]} modal-font fixed inset-0 z-[9998] flex items-center justify-center backdrop-blur-sm bg-black/25`)},m(m,b){$(m,e,b),i(e,o),N(r,o,null),i(o,a),~n&&u[n].m(o,null),l[20](e),p=!0},p(m,b){const v={};128&b&&(v.handleClose=m[15]),4&b&&(v.title=m[2]),33&b&&(v.showBackButton=m[5]&&![Q.walletList,Q.success].includes(m[0])),r.$set(v);let F=n;n=g(m),n===F?~n&&u[n].p(m,b):(s&&(ce(),C(u[F],1,1,()=>{u[F]=null}),fe()),~n?(s=u[n],s?s.p(m,b):(s=u[n]=h[n](m),s.c()),w(s,1),s.m(o,null)):s=null),(!p||1&b&&f!==(f=`\n        rounded-3xl bg-surface-default shadow-modal dark:shadow-none flex flex-col\n        z-[9999] w-full max-w-[380px] mx-6 p-6 text-center gap-8\n        ${m[0]!==Q.walletList?"min-h-[570px]":""}\n      `))&&t(o,"class",f),(!p||2&b&&d!==(d=`${m[1]} modal-font fixed inset-0 z-[9998] flex items-center justify-center backdrop-blur-sm bg-black/25`))&&t(e,"class",d)},i(m){p||(w(r.$$.fragment,m),w(s),p=!0)},o(m){C(r.$$.fragment,m),C(s),p=!1},d(m){m&&M(e),Z(r),~n&&u[n].d(),l[20](null)}}}function Jo(l){let e,o;return e=new Xo({props:{store:(0,_index_ae60a5dd_js__WEBPACK_IMPORTED_MODULE_3__.g)(),isArgent:!(!l[9]||"argentMobile"!==l[9]?.id&&"argentX"!==l[9]?.id),storeLink:l[4]?.download,extensionName:l[4]?.name.includes("Ready")?"Ready Wallet (formerly Argent)":l[9]?.name}}),{c(){A(e.$$.fragment)},m(r,a){N(e,r,a),o=!0},p(r,a){const n={};512&a&&(n.isArgent=!(!r[9]||"argentMobile"!==r[9]?.id&&"argentX"!==r[9]?.id)),16&a&&(n.storeLink=r[4]?.download),528&a&&(n.extensionName=r[4]?.name.includes("Ready")?"Ready Wallet (formerly Argent)":r[9]?.name),e.$set(n)},i(r){o||(w(e.$$.fragment,r),o=!0)},o(r){C(e.$$.fragment,r),o=!1},d(r){Z(e,r)}}}function el(l){let e,o;return e=new $1({}),{c(){A(e.$$.fragment)},m(r,a){N(e,r,a),o=!0},p:B,i(r){o||(w(e.$$.fragment,r),o=!0)},o(r){C(e.$$.fragment,r),o=!1},d(r){Z(e,r)}}}function tl(l){let e,o;return e=new lo({props:{handleInstallClick:l[19]}}),{c(){A(e.$$.fragment)},m(r,a){N(e,r,a),o=!0},p:B,i(r){o||(w(e.$$.fragment,r),o=!0)},o(r){C(e.$$.fragment,r),o=!1},d(r){Z(e,r)}}}function rl(l){let e,o;return e=new Yo({}),{c(){A(e.$$.fragment)},m(r,a){N(e,r,a),o=!0},p:B,i(r){o||(w(e.$$.fragment,r),o=!0)},o(r){C(e.$$.fragment,r),o=!1},d(r){Z(e,r)}}}function ol(l){let e,o;return e=new bo({props:{walletName:l[9]?.name,handleCallback:l[17],showFallback:l[8],handleFallback:l[18]}}),{c(){A(e.$$.fragment)},m(r,a){N(e,r,a),o=!0},p(r,a){const n={};512&a&&(n.walletName=r[9]?.name),80&a&&(n.handleCallback=r[17]),256&a&&(n.showFallback=r[8]),80&a&&(n.handleFallback=r[18]),e.$set(n)},i(r){o||(w(e.$$.fragment,r),o=!0)},o(r){C(e.$$.fragment,r),o=!1},d(r){Z(e,r)}}}function ll(l){let e,o;return e=new ko({}),{c(){A(e.$$.fragment)},m(r,a){N(e,r,a),o=!0},p:B,i(r){o||(w(e.$$.fragment,r),o=!0)},o(r){C(e.$$.fragment,r),o=!1},d(r){Z(e,r)}}}function al(l){let e,o;return e=new B1({props:{walletName:l[9]?.name,showFallback:l[8],handleFallback:l[16],$$slots:{default:[il]},$$scope:{ctx:l}}}),{c(){A(e.$$.fragment)},m(r,a){N(e,r,a),o=!0},p(r,a){const n={};512&a&&(n.walletName=r[9]?.name),256&a&&(n.showFallback=r[8]),80&a&&(n.handleFallback=r[16]),2097666&a&&(n.$$scope={dirty:a,ctx:r}),e.$set(n)},i(r){o||(w(e.$$.fragment,r),o=!0)},o(r){C(e.$$.fragment,r),o=!1},d(r){Z(e,r)}}}function nl(l){let e,o;return e=new C1({props:{walletList:l[3],theme:l[1],callback:l[6]}}),{c(){A(e.$$.fragment)},m(r,a){N(e,r,a),o=!0},p(r,a){const n={};8&a&&(n.walletList=r[3]),2&a&&(n.theme=r[1]),64&a&&(n.callback=r[6]),e.$set(n)},i(r){o||(w(e.$$.fragment,r),o=!0)},o(r){C(e.$$.fragment,r),o=!1},d(r){Z(e,r)}}}function sr(l){let e,o;return e=new pr({props:{icon:l[9].icon,theme:l[1]}}),{c(){A(e.$$.fragment)},m(r,a){N(e,r,a),o=!0},p(r,a){const n={};512&a&&(n.icon=r[9].icon),2&a&&(n.theme=r[1]),e.$set(n)},i(r){o||(w(e.$$.fragment,r),o=!0)},o(r){C(e.$$.fragment,r),o=!1},d(r){Z(e,r)}}}function il(l){let e,o,r=l[9]?.icon&&sr(l);return{c(){r&&r.c(),e=ye()},m(a,n){r&&r.m(a,n),$(a,e,n),o=!0},p(a,n){a[9]?.icon?r?(r.p(a,n),512&n&&w(r,1)):(r=sr(a),r.c(),w(r,1),r.m(e.parentNode,e)):r&&(ce(),C(r,1,1,()=>{r=null}),fe())},i(a){o||(w(r),o=!0)},o(a){C(r),o=!1},d(a){a&&M(e),r&&r.d(a)}}}function sl(l){let e,o,r=!l[11]&&(l[0]!==Q.walletList||l[3].length>1)&&ir(l);return{c(){r&&r.c(),e=ye()},m(a,n){r&&r.m(a,n),$(a,e,n),o=!0},p(a,[n]){!a[11]&&(a[0]!==Q.walletList||a[3].length>1)?r?(r.p(a,n),9&n&&w(r,1)):(r=ir(a),r.c(),w(r,1),r.m(e.parentNode,e)):r&&(ce(),C(r,1,1,()=>{r=null}),fe())},i(a){o||(w(r),o=!0)},o(a){C(r),o=!1},d(a){a&&M(e),r&&r.d(a)}}}function cl(l,e,o){let r,a,n,{dappName:s=window?.document.title??""}=e,{layout:f=Q.walletList}=e;function d(_){o(0,f=_)}let{modalWallets:h=[]}=e,{selectedWallet:u=null}=e,{showBackButton:g=!0}=e,{callback:m=async()=>{}}=e,b=(0,_index_ae60a5dd_js__WEBPACK_IMPORTED_MODULE_3__.a)(),{theme:v="dark"}=e,{darkModeControlClass:F=("dark"===v?"dark":"")}=e;Vr(async()=>{if("dark"===v||null==v&&window.matchMedia("(prefers-color-scheme: dark)").matches?o(1,F="dark"):o(1,F="light"),b)try{setTimeout(()=>{m((0,_index_ae60a5dd_js__WEBPACK_IMPORTED_MODULE_3__.b)(new _argentX_js__WEBPACK_IMPORTED_MODULE_4__.q))})}catch(E){console.error(E)}else if(navigator?.userAgent?.toLowerCase()?.includes("braavos")&&window?.starknet_braavos)try{setTimeout(()=>{m((0,_index_ae60a5dd_js__WEBPACK_IMPORTED_MODULE_3__.b)(new _braavos_js__WEBPACK_IMPORTED_MODULE_5__.D))})}catch(E){console.error(E)}else if(1===h.length)try{await m(h[0])}catch(E){console.error(E)}});return l.$$set=_=>{"dappName"in _&&o(2,s=_.dappName),"layout"in _&&o(0,f=_.layout),"modalWallets"in _&&o(3,h=_.modalWallets),"selectedWallet"in _&&o(4,u=_.selectedWallet),"showBackButton"in _&&o(5,g=_.showBackButton),"callback"in _&&o(6,m=_.callback),"theme"in _&&o(13,v=_.theme),"darkModeControlClass"in _&&o(1,F=_.darkModeControlClass)},l.$$.update=()=>{16&l.$$.dirty&&o(9,r=u?.connector&&(0,_index_ae60a5dd_js__WEBPACK_IMPORTED_MODULE_3__.e)(u.connector)),16&l.$$.dirty&&o(8,a=!!(u&&(0,_index_ae60a5dd_js__WEBPACK_IMPORTED_MODULE_3__.i)(u?.connector)&&u?.connector?.fallbackConnector))},[f,F,s,h,u,g,m,n,a,r,d,b,function p(){return f},v,()=>d(Q.walletList),()=>n?.parentNode?.removeChild(n),()=>m(u,!0),()=>m(u),()=>m(u,!0),()=>d(Q.download),function G(_){Nt[_?"unshift":"push"](()=>{n=_,o(7,n)})}]}class wl extends j{constructor(e){super(),W(this,e,cl,sl,U,{dappName:2,layout:0,getLayout:12,modalWallets:3,selectedWallet:4,showBackButton:5,callback:6,theme:13,darkModeControlClass:1})}get getLayout(){return this.$$.ctx[12]}}},"./node_modules/starknetkit/dist/braavos.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{D:()=>i});var _index_0c3fdab2_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/starknetkit/dist/index-0c3fdab2.js");__webpack_require__("./node_modules/starknet/dist/index.mjs"),__webpack_require__("./node_modules/starknetkit/dist/connector-d58f0dd8.js"),__webpack_require__("./node_modules/starknetkit/dist/lastConnected-c0cae438.js");class i extends _index_0c3fdab2_js__WEBPACK_IMPORTED_MODULE_0__.I{constructor(o){super({options:{id:"braavos",...o}})}}},"./node_modules/starknetkit/dist/index-3533a280.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{H:()=>Ew,a:()=>wa,b:()=>hw,c:()=>YD,d:()=>GD,e:()=>hs,f:()=>ZD,g:()=>QD,i:()=>nS,r:()=>JD,t:()=>Qu,w:()=>_w});var Ur,_connector_d58f0dd8_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/starknetkit/dist/connector-d58f0dd8.js"),_Modal_f68d2590_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/starknetkit/dist/Modal-f68d2590.js"),starknet__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/starknet/dist/index.mjs"),_index_ae60a5dd_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/starknetkit/dist/index-ae60a5dd.js"),console=__webpack_require__("./node_modules/console-browserify/index.js"),Buffer=__webpack_require__("./node_modules/buffer/index.js").Buffer,process=__webpack_require__("./node_modules/process/browser.js"),$h=Object.defineProperty,V=(t,e,i)=>(((t,e,i)=>{e in t?$h(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i})(t,"symbol"!=typeof e?e+"":e,i),i),Hn={exports:{}},_i="object"==typeof Reflect?Reflect:null,Oo=_i&&"function"==typeof _i.apply?_i.apply:function(e,i,r){return Function.prototype.apply.call(e,i,r)};Ur=_i&&"function"==typeof _i.ownKeys?_i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var Qc=Number.isNaN||function(e){return e!=e};function te(){te.init.call(this)}Hn.exports=te,Hn.exports.once=function Mh(t,e){return new Promise(function(i,r){function s(o){t.removeListener(e,n),r(o)}function n(){"function"==typeof t.removeListener&&t.removeListener("error",s),i([].slice.call(arguments))}nu(t,e,n,{once:!0}),"error"!==e&&function qh(t,e,i){"function"==typeof t.on&&nu(t,"error",e,i)}(t,s,{once:!0})})},te.EventEmitter=te,te.prototype._events=void 0,te.prototype._eventsCount=0,te.prototype._maxListeners=void 0;var xo=10;function ns(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function Xc(t){return void 0===t._maxListeners?te.defaultMaxListeners:t._maxListeners}function eu(t,e,i,r){var s,n,o;if(ns(i),void 0===(n=t._events)?(n=t._events=Object.create(null),t._eventsCount=0):(void 0!==n.newListener&&(t.emit("newListener",e,i.listener?i.listener:i),n=t._events),o=n[e]),void 0===o)o=n[e]=i,++t._eventsCount;else if("function"==typeof o?o=n[e]=r?[i,o]:[o,i]:r?o.unshift(i):o.push(i),(s=Xc(t))>0&&o.length>s&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=o.length,function Lh(t){console&&console.warn&&console.warn(t)}(a)}return t}function Bh(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function tu(t,e,i){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:i},s=Bh.bind(r);return s.listener=i,r.wrapFn=s,s}function iu(t,e,i){var r=t._events;if(void 0===r)return[];var s=r[e];return void 0===s?[]:"function"==typeof s?i?[s.listener||s]:[s]:i?function kh(t){for(var e=new Array(t.length),i=0;i<e.length;++i)e[i]=t[i].listener||t[i];return e}(s):su(s,s.length)}function ru(t){var e=this._events;if(void 0!==e){var i=e[t];if("function"==typeof i)return 1;if(void 0!==i)return i.length}return 0}function su(t,e){for(var i=new Array(e),r=0;r<e;++r)i[r]=t[r];return i}function nu(t,e,i,r){if("function"==typeof t.on)r.once?t.once(e,i):t.on(e,i);else{if("function"!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,function s(n){r.once&&t.removeEventListener(e,s),i(n)})}}Object.defineProperty(te,"defaultMaxListeners",{enumerable:!0,get:function(){return xo},set:function(t){if("number"!=typeof t||t<0||Qc(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");xo=t}}),te.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},te.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||Qc(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},te.prototype.getMaxListeners=function(){return Xc(this)},te.prototype.emit=function(e){for(var i=[],r=1;r<arguments.length;r++)i.push(arguments[r]);var s="error"===e,n=this._events;if(void 0!==n)s=s&&void 0===n.error;else if(!s)return!1;if(s){var o;if(i.length>0&&(o=i[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=n[e];if(void 0===c)return!1;if("function"==typeof c)Oo(c,this,i);else{var u=c.length,l=su(c,u);for(r=0;r<u;++r)Oo(l[r],this,i)}return!0},te.prototype.addListener=function(e,i){return eu(this,e,i,!1)},te.prototype.on=te.prototype.addListener,te.prototype.prependListener=function(e,i){return eu(this,e,i,!0)},te.prototype.once=function(e,i){return ns(i),this.on(e,tu(this,e,i)),this},te.prototype.prependOnceListener=function(e,i){return ns(i),this.prependListener(e,tu(this,e,i)),this},te.prototype.removeListener=function(e,i){var r,s,n,o,a;if(ns(i),void 0===(s=this._events))return this;if(void 0===(r=s[e]))return this;if(r===i||r.listener===i)0===--this._eventsCount?this._events=Object.create(null):(delete s[e],s.removeListener&&this.emit("removeListener",e,r.listener||i));else if("function"!=typeof r){for(n=-1,o=r.length-1;o>=0;o--)if(r[o]===i||r[o].listener===i){a=r[o].listener,n=o;break}if(n<0)return this;0===n?r.shift():function Uh(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(r,n),1===r.length&&(s[e]=r[0]),void 0!==s.removeListener&&this.emit("removeListener",e,a||i)}return this},te.prototype.off=te.prototype.removeListener,te.prototype.removeAllListeners=function(e){var i,r,s;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var o,n=Object.keys(r);for(s=0;s<n.length;++s)"removeListener"!==(o=n[s])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(i=r[e]))this.removeListener(e,i);else if(void 0!==i)for(s=i.length-1;s>=0;s--)this.removeListener(e,i[s]);return this},te.prototype.listeners=function(e){return iu(this,e,!0)},te.prototype.rawListeners=function(e){return iu(this,e,!1)},te.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):ru.call(t,e)},te.prototype.listenerCount=ru,te.prototype.eventNames=function(){return this._eventsCount>0?Ur(this._events):[]};var Ge=Hn.exports;const ou=(0,_connector_d58f0dd8_js__WEBPACK_IMPORTED_MODULE_0__.d)(Ge);var T={},ln=function(t,e){return(ln=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var s in r)r.hasOwnProperty(s)&&(i[s]=r[s])})(t,e)};var hn=function(){return hn=Object.assign||function(e){for(var i,r=1,s=arguments.length;r<s;r++)for(var n in i=arguments[r])Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n]);return e},hn.apply(this,arguments)};function dn(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],r=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function au(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var s,o,r=i.call(t),n=[];try{for(;(void 0===e||e-- >0)&&!(s=r.next()).done;)n.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(i=r.return)&&i.call(r)}finally{if(o)throw o.error}}return n}function ir(t){return this instanceof ir?(this.v=t,this):new ir(t)}const ad=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return hn},__asyncDelegator:function ed(t){var e,i;return e={},r("next"),r("throw",function(s){throw s}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(s,n){e[s]=t[s]?function(o){return(i=!i)?{value:ir(t[s](o)),done:"return"===s}:n?n(o):o}:n}},__asyncGenerator:function Xh(t,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s,r=i.apply(t,e||[]),n=[];return s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s;function o(d){r[d]&&(s[d]=function(f){return new Promise(function(p,g){n.push([d,f,p,g])>1||a(d,f)})})}function a(d,f){try{!function c(d){d.value instanceof ir?Promise.resolve(d.value.v).then(u,l):h(n[0][2],d)}(r[d](f))}catch(p){h(n[0][3],p)}}function u(d){a("next",d)}function l(d){a("throw",d)}function h(d,f){d(f),n.shift(),n.length&&a(n[0][0],n[0][1])}},__asyncValues:function td(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,e=t[Symbol.asyncIterator];return e?e.call(t):(t=dn(t),i={},r("next"),r("throw"),r("return"),i[Symbol.asyncIterator]=function(){return this},i);function r(n){i[n]=t[n]&&function(o){return new Promise(function(a,c){(function s(n,o,a,c){Promise.resolve(c).then(function(u){n({value:u,done:a})},o)})(a,c,(o=t[n](o)).done,o.value)})}}},__await:ir,__awaiter:function Wh(t,e,i,r){return new(i||(i=Promise))(function(n,o){function a(l){try{u(r.next(l))}catch(h){o(h)}}function c(l){try{u(r.throw(l))}catch(h){o(h)}}function u(l){l.done?n(l.value):function s(n){return n instanceof i?n:new i(function(o){o(n)})}(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})},__classPrivateFieldGet:function nd(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)},__classPrivateFieldSet:function od(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i},__createBinding:function Yh(t,e,i,r){void 0===r&&(r=i),t[r]=e[i]},__decorate:function Vh(t,e,i,r){var o,s=arguments.length,n=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(t,e,i,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(n=(s<3?o(n):s>3?o(e,i,n):o(e,i))||n);return s>3&&n&&Object.defineProperty(e,i,n),n},__exportStar:function Jh(t,e){for(var i in t)"default"!==i&&!e.hasOwnProperty(i)&&(e[i]=t[i])},__extends:function jh(t,e){function i(){this.constructor=t}ln(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},__generator:function Gh(t,e){var r,s,n,o,i={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(l){return function c(u){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,s&&(n=2&u[0]?s.return:u[0]?s.throw||((n=s.return)&&n.call(s),0):s.next)&&!(n=n.call(s,u[1])).done)return n;switch(s=0,n&&(u=[2&u[0],n.value]),u[0]){case 0:case 1:n=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,s=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(n=(n=i.trys).length>0&&n[n.length-1])&&(6===u[0]||2===u[0])){i=0;continue}if(3===u[0]&&(!n||u[1]>n[0]&&u[1]<n[3])){i.label=u[1];break}if(6===u[0]&&i.label<n[1]){i.label=n[1],n=u;break}if(n&&i.label<n[2]){i.label=n[2],i.ops.push(u);break}n[2]&&i.ops.pop(),i.trys.pop();continue}u=e.call(t,i)}catch(l){u=[6,l],s=0}finally{r=n=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,l])}}},__importDefault:function sd(t){return t&&t.__esModule?t:{default:t}},__importStar:function rd(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e},__makeTemplateObject:function id(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},__metadata:function Hh(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},__param:function Kh(t,e){return function(i,r){e(i,r,t)}},__read:au,__rest:function zh(t,e){var i={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(i[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(i[r[s]]=t[r[s]])}return i},__spread:function Zh(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(au(arguments[e]));return t},__spreadArrays:function Qh(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var r=Array(t),s=0;for(e=0;e<i;e++)for(var n=arguments[e],o=0,a=n.length;o<a;o++,s++)r[s]=n[o];return r},__values:dn},Symbol.toStringTag,{value:"Module"})),hr=(0,_connector_d58f0dd8_js__WEBPACK_IMPORTED_MODULE_0__.g)(ad);var Ao,Ss={},ki={};var Po,Mt={},$s={},qt={};var Co,Ro,To,No,Os={};function cu(){return Ro||(Ro=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=hr;e.__exportStar(function ud(){return Po||(Po=1,Object.defineProperty(qt,"__esModule",{value:!0}),qt.ONE_THOUSAND=qt.ONE_HUNDRED=void 0,qt.ONE_HUNDRED=100,qt.ONE_THOUSAND=1e3),qt}(),t),e.__exportStar(function ld(){return Co||(Co=1,t=Os,Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=5*t.ONE_MINUTE,t.TEN_MINUTES=10*t.ONE_MINUTE,t.THIRTY_MINUTES=30*t.ONE_MINUTE,t.SIXTY_MINUTES=60*t.ONE_MINUTE,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=3*t.ONE_HOUR,t.SIX_HOURS=6*t.ONE_HOUR,t.TWELVE_HOURS=12*t.ONE_HOUR,t.TWENTY_FOUR_HOURS=24*t.ONE_HOUR,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=3*t.ONE_DAY,t.FIVE_DAYS=5*t.ONE_DAY,t.SEVEN_DAYS=7*t.ONE_DAY,t.THIRTY_DAYS=30*t.ONE_DAY,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=2*t.ONE_WEEK,t.THREE_WEEKS=3*t.ONE_WEEK,t.FOUR_WEEKS=4*t.ONE_WEEK,t.ONE_YEAR=365*t.ONE_DAY),Os;var t}(),t)}($s)),$s}function dd(){return No||(No=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=hr;e.__exportStar(function cd(){return Ao||(Ao=1,Object.defineProperty(ki,"__esModule",{value:!0}),ki.delay=void 0,ki.delay=function t(e){return new Promise(i=>{setTimeout(()=>{i(!0)},e)})}),ki}(),t),e.__exportStar(function hd(){if(To)return Mt;To=1,Object.defineProperty(Mt,"__esModule",{value:!0}),Mt.fromMiliseconds=Mt.toMiliseconds=void 0;const t=cu();return Mt.toMiliseconds=function e(r){return r*t.ONE_THOUSAND},Mt.fromMiliseconds=function i(r){return Math.floor(r/t.ONE_THOUSAND)},Mt}(),t)}(Ss)),Ss}var Fo,hi={};var Lo,Bo,xs={},Mi={};function gd(){return Bo||(Bo=1,t=xs,Object.defineProperty(t,"__esModule",{value:!0}),hr.__exportStar(function fd(){return Lo||(Lo=1,Object.defineProperty(Mi,"__esModule",{value:!0}),Mi.IWatch=void 0,Mi.IWatch=class t{}),Mi}(),t)),xs;var t}!function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=hr;e.__exportStar(dd(),t),e.__exportStar(function pd(){if(Fo)return hi;Fo=1,Object.defineProperty(hi,"__esModule",{value:!0}),hi.Watch=void 0;class t{constructor(){this.timestamps=new Map}start(i){if(this.timestamps.has(i))throw new Error(`Watch already started for label: ${i}`);this.timestamps.set(i,{started:Date.now()})}stop(i){const r=this.get(i);if(typeof r.elapsed<"u")throw new Error(`Watch already stopped for label: ${i}`);const s=Date.now()-r.started;this.timestamps.set(i,{started:r.started,elapsed:s})}get(i){const r=this.timestamps.get(i);if(typeof r>"u")throw new Error(`No timestamp found for label: ${i}`);return r}elapsed(i){const r=this.get(i);return r.elapsed||Date.now()-r.started}}return hi.Watch=t,hi.default=t,hi}(),t),e.__exportStar(gd(),t),e.__exportStar(cu(),t)}(T);class ni{}let yd=class extends ni{constructor(e){super()}};const Uo=T.FIVE_SECONDS,Ci_pulse="heartbeat_pulse";let wd=class uu extends yd{constructor(e){super(e),this.events=new Ge.EventEmitter,this.interval=Uo,this.interval=e?.interval||Uo}static async init(e){const i=new uu(e);return await i.init(),i}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,i){this.events.on(e,i)}once(e,i){this.events.once(e,i)}off(e,i){this.events.off(e,i)}removeListener(e,i){this.events.removeListener(e,i)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),T.toMiliseconds(this.interval))}pulse(){this.events.emit(Ci_pulse)}};const md=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,bd=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,vd=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function Ed(t,e){if(!("__proto__"===t||"constructor"===t&&e&&"object"==typeof e&&"prototype"in e))return e;(function _d(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)})(t)}function $r(t,e={}){if("string"!=typeof t)return t;if('"'===t[0]&&'"'===t[t.length-1]&&-1===t.indexOf("\\"))return t.slice(1,-1);const i=t.trim();if(i.length<=9)switch(i.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!vd.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(md.test(t)||bd.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,Ed)}return JSON.parse(t)}catch(r){if(e.strict)throw r;return t}}function we(t,...e){try{return function Id(t){return t&&"function"==typeof t.then?t:Promise.resolve(t)}(t(...e))}catch(i){return Promise.reject(i)}}function kr(t){if(function Dd(t){const e=typeof t;return null===t||"object"!==e&&"function"!==e}(t))return String(t);if(function Sd(t){const e=Object.getPrototypeOf(t);return!e||e.isPrototypeOf(Object)}(t)||Array.isArray(t))return JSON.stringify(t);if("function"==typeof t.toJSON)return kr(t.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const pn="base64:";function $d(t){return"string"==typeof t?t:pn+function Ad(t){return globalThis.Buffer?Buffer.from(t).toString("base64"):globalThis.btoa(String.fromCodePoint(...t))}(t)}function Od(t){return"string"==typeof t&&t.startsWith(pn)?function xd(t){return globalThis.Buffer?Buffer.from(t,"base64"):Uint8Array.from(globalThis.atob(t),e=>e.codePointAt(0))}(t.slice(7)):t}function Ue(t){return t&&t.split("?")[0]?.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,"")||""}function Pd(...t){return Ue(t.join(":"))}function Or(t){return(t=Ue(t))?t+":":""}const Nd=()=>{const t=new Map;return{name:"memory",getInstance:()=>t,hasItem:e=>t.has(e),getItem:e=>t.get(e)??null,getItemRaw:e=>t.get(e)??null,setItem(e,i){t.set(e,i)},setItemRaw(e,i){t.set(e,i)},removeItem(e){t.delete(e)},getKeys:()=>[...t.keys()],clear(){t.clear()},dispose(){t.clear()}}};function Fd(t={}){const e={mounts:{"":t.driver||Nd()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},i=u=>{for(const l of e.mountpoints)if(u.startsWith(l))return{base:l,relativeKey:u.slice(l.length),driver:e.mounts[l]};return{base:"",relativeKey:u,driver:e.mounts[""]}},r=(u,l)=>e.mountpoints.filter(h=>h.startsWith(u)||l&&u.startsWith(h)).map(h=>({relativeBase:u.length>h.length?u.slice(h.length):void 0,mountpoint:h,driver:e.mounts[h]})),s=(u,l)=>{if(e.watching){l=Ue(l);for(const h of e.watchListeners)h(u,l)}},o=async()=>{if(e.watching){for(const u in e.unwatch)await e.unwatch[u]();e.unwatch={},e.watching=!1}},a=(u,l,h)=>{const d=new Map,f=p=>{let g=d.get(p.base);return g||(g={driver:p.driver,base:p.base,items:[]},d.set(p.base,g)),g};for(const p of u){const g="string"==typeof p,y=Ue(g?p:p.key),m=g?void 0:p.value,w=g||!p.options?l:{...l,...p.options},b=i(y);f(b).items.push({key:y,value:m,relativeKey:b.relativeKey,options:w})}return Promise.all([...d.values()].map(p=>h(p))).then(p=>p.flat())},c={hasItem(u,l={}){u=Ue(u);const{relativeKey:h,driver:d}=i(u);return we(d.hasItem,h,l)},getItem(u,l={}){u=Ue(u);const{relativeKey:h,driver:d}=i(u);return we(d.getItem,h,l).then(f=>$r(f))},getItems:(u,l={})=>a(u,l,h=>h.driver.getItems?we(h.driver.getItems,h.items.map(d=>({key:d.relativeKey,options:d.options})),l).then(d=>d.map(f=>({key:Pd(h.base,f.key),value:$r(f.value)}))):Promise.all(h.items.map(d=>we(h.driver.getItem,d.relativeKey,d.options).then(f=>({key:d.key,value:$r(f)}))))),getItemRaw(u,l={}){u=Ue(u);const{relativeKey:h,driver:d}=i(u);return d.getItemRaw?we(d.getItemRaw,h,l):we(d.getItem,h,l).then(f=>Od(f))},async setItem(u,l,h={}){if(void 0===l)return c.removeItem(u);u=Ue(u);const{relativeKey:d,driver:f}=i(u);f.setItem&&(await we(f.setItem,d,kr(l),h),f.watch||s("update",u))},async setItems(u,l){await a(u,l,async h=>{if(h.driver.setItems)return we(h.driver.setItems,h.items.map(d=>({key:d.relativeKey,value:kr(d.value),options:d.options})),l);h.driver.setItem&&await Promise.all(h.items.map(d=>we(h.driver.setItem,d.relativeKey,kr(d.value),d.options)))})},async setItemRaw(u,l,h={}){if(void 0===l)return c.removeItem(u,h);u=Ue(u);const{relativeKey:d,driver:f}=i(u);if(f.setItemRaw)await we(f.setItemRaw,d,l,h);else{if(!f.setItem)return;await we(f.setItem,d,$d(l),h)}f.watch||s("update",u)},async removeItem(u,l={}){"boolean"==typeof l&&(l={removeMeta:l}),u=Ue(u);const{relativeKey:h,driver:d}=i(u);d.removeItem&&(await we(d.removeItem,h,l),(l.removeMeta||l.removeMata)&&await we(d.removeItem,h+"$",l),d.watch||s("remove",u))},async getMeta(u,l={}){"boolean"==typeof l&&(l={nativeOnly:l}),u=Ue(u);const{relativeKey:h,driver:d}=i(u),f=Object.create(null);if(d.getMeta&&Object.assign(f,await we(d.getMeta,h,l)),!l.nativeOnly){const p=await we(d.getItem,h+"$",l).then(g=>$r(g));p&&"object"==typeof p&&("string"==typeof p.atime&&(p.atime=new Date(p.atime)),"string"==typeof p.mtime&&(p.mtime=new Date(p.mtime)),Object.assign(f,p))}return f},setMeta(u,l,h={}){return this.setItem(u+"$",l,h)},removeMeta(u,l={}){return this.removeItem(u+"$",l)},async getKeys(u,l={}){u=Or(u);const h=r(u,!0);let d=[];const f=[];let p=!0;for(const y of h){y.driver.flags?.maxDepth||(p=!1);const m=await we(y.driver.getKeys,y.relativeBase,l);for(const w of m){const b=y.mountpoint+Ue(w);d.some(E=>b.startsWith(E))||f.push(b)}d=[y.mountpoint,...d.filter(w=>!w.startsWith(y.mountpoint))]}const g=void 0!==l.maxDepth&&!p;return f.filter(y=>(!g||function Cd(t,e){if(void 0===e)return!0;let i=0,r=t.indexOf(":");for(;r>-1;)i++,r=t.indexOf(":",r+1);return i<=e}(y,l.maxDepth))&&function Rd(t,e){return e?t.startsWith(e)&&"$"!==t[t.length-1]:"$"!==t[t.length-1]}(y,u))},async clear(u,l={}){u=Or(u),await Promise.all(r(u,!1).map(async h=>{if(h.driver.clear)return we(h.driver.clear,h.relativeBase,l);if(h.driver.removeItem){const d=await h.driver.getKeys(h.relativeBase||"",l);return Promise.all(d.map(f=>h.driver.removeItem(f,l)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(u=>Mo(u)))},watch:async u=>(await(async()=>{if(!e.watching){e.watching=!0;for(const u in e.mounts)e.unwatch[u]=await ko(e.mounts[u],s,u)}})(),e.watchListeners.push(u),async()=>{e.watchListeners=e.watchListeners.filter(l=>l!==u),0===e.watchListeners.length&&await o()}),async unwatch(){e.watchListeners=[],await o()},mount(u,l){if((u=Or(u))&&e.mounts[u])throw new Error(`already mounted at ${u}`);return u&&(e.mountpoints.push(u),e.mountpoints.sort((h,d)=>d.length-h.length)),e.mounts[u]=l,e.watching&&Promise.resolve(ko(l,s,u)).then(h=>{e.unwatch[u]=h}).catch(console.error),c},async unmount(u,l=!0){(u=Or(u))&&e.mounts[u]&&(e.watching&&u in e.unwatch&&(e.unwatch[u]?.(),delete e.unwatch[u]),l&&await Mo(e.mounts[u]),e.mountpoints=e.mountpoints.filter(h=>h!==u),delete e.mounts[u])},getMount(u=""){u=Ue(u)+":";const l=i(u);return{driver:l.driver,base:l.base}},getMounts:(u="",l={})=>(u=Ue(u),r(u,l.parents).map(d=>({driver:d.driver,base:d.mountpoint}))),keys:(u,l={})=>c.getKeys(u,l),get:(u,l={})=>c.getItem(u,l),set:(u,l,h={})=>c.setItem(u,l,h),has:(u,l={})=>c.hasItem(u,l),del:(u,l={})=>c.removeItem(u,l),remove:(u,l={})=>c.removeItem(u,l)};return c}function ko(t,e,i){return t.watch?t.watch((r,s)=>e(r,i+s)):()=>{}}async function Mo(t){"function"==typeof t.dispose&&await we(t.dispose)}function oi(t){return new Promise((e,i)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>i(t.error)})}function lu(t,e){let i;return(s,n)=>(()=>{if(i)return i;const s=indexedDB.open(t);return s.onupgradeneeded=()=>s.result.createObjectStore(e),i=oi(s),i.then(n=>{n.onclose=()=>i=void 0},()=>{}),i})().then(o=>n(o.transaction(e,s).objectStore(e)))}let As;function dr(){return As||(As=lu("keyval-store","keyval")),As}function qo(t,e=dr()){return e("readonly",i=>oi(i.get(t)))}function Md(t=dr()){return t("readonly",e=>{if(e.getAllKeys)return oi(e.getAllKeys());const i=[];return function kd(t,e){return t.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},oi(t.transaction)}(e,r=>i.push(r.key)).then(()=>i)})}function Ii(t){if("string"!=typeof t)throw new Error("Cannot safe json parse value of type "+typeof t);try{return(t=>{const i=t.replace(/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,'$1"$2n"$3');return JSON.parse(i,(r,s)=>"string"==typeof s&&s.match(/^\d+n$/)?BigInt(s.substring(0,s.length-1)):s)})(t)}catch{return t}}function ei(t){return"string"==typeof t?t:(t=>JSON.stringify(t,(e,i)=>"bigint"==typeof i?i.toString()+"n":i))(t)||""}var Vd=(t={})=>{const e=t.base&&t.base.length>0?`${t.base}:`:"",i=s=>e+s;let r;return t.dbName&&t.storeName&&(r=lu(t.dbName,t.storeName)),{name:"idb-keyval",options:t,hasItem:async s=>!(typeof await qo(i(s),r)>"u"),getItem:async s=>await qo(i(s),r)??null,setItem:(s,n)=>function Ld(t,e,i=dr()){return i("readwrite",r=>(r.put(e,t),oi(r.transaction)))}(i(s),n,r),removeItem:s=>function Bd(t,e=dr()){return e("readwrite",i=>(i.delete(t),oi(i.transaction)))}(i(s),r),getKeys:()=>Md(r),clear:()=>function Ud(t=dr()){return t("readwrite",e=>(e.clear(),oi(e.transaction)))}(r)}};let Wd=class{constructor(){this.indexedDb=Fd({driver:Vd({dbName:"WALLET_CONNECT_V2_INDEXED_DB",storeName:"keyvaluestorage"})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){const i=await this.indexedDb.getItem(e);if(null!==i)return i}async setItem(e,i){await this.indexedDb.setItem(e,ei(i))}async removeItem(e){await this.indexedDb.removeItem(e)}};var Ps=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof __webpack_require__.g<"u"?__webpack_require__.g:typeof self<"u"?self:{},Mr={exports:{}};function Gd(t){var e;return[t[0],Ii(null!=(e=t[1])?e:"")]}!function(){let t;function e(){}t=e,t.prototype.getItem=function(i){return this.hasOwnProperty(i)?String(this[i]):null},t.prototype.setItem=function(i,r){this[i]=String(r)},t.prototype.removeItem=function(i){delete this[i]},t.prototype.clear=function(){const i=this;Object.keys(i).forEach(function(r){i[r]=void 0,delete i[r]})},t.prototype.key=function(i){return i=i||0,Object.keys(this)[i]},t.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof Ps<"u"&&Ps.localStorage?Mr.exports=Ps.localStorage:typeof window<"u"&&window.localStorage?Mr.exports=window.localStorage:Mr.exports=new e}();let Yd=class{constructor(){this.localStorage=Mr.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(Gd)}async getItem(e){const i=this.localStorage.getItem(e);if(null!==i)return Ii(i)}async setItem(e,i){this.localStorage.setItem(e,ei(i))}async removeItem(e){this.localStorage.removeItem(e)}};const Qd=async(t,e)=>{e.length&&e.forEach(async i=>{await t.removeItem(i)})};let Xd=class{constructor(){this.initialized=!1,this.setInitialized=i=>{this.storage=i,this.initialized=!0};const e=new Yd;this.storage=e;try{(async(t,e,i)=>{const r="wc_storage_version",s=await e.getItem(r);if(s&&s>=1)return void i(e);const n=await t.getKeys();if(!n.length)return void i(e);const o=[];for(;n.length;){const a=n.shift();if(!a)continue;const c=a.toLowerCase();if(c.includes("wc@")||c.includes("walletconnect")||c.includes("wc_")||c.includes("wallet_connect")){const u=await t.getItem(a);await e.setItem(a,u),o.push(a)}}await e.setItem(r,1),i(e),Qd(t,o)})(e,new Wd,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,i){return await this.initialize(),this.storage.setItem(e,i)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{const i=setInterval(()=>{this.initialized&&(clearInterval(i),e())},20)})}};function ep(t){try{return JSON.stringify(t)}catch{return'"[Circular]"'}}var tp=function ip(t,e,i){var r=i&&i.stringify||ep;if("object"==typeof t&&null!==t){var n=e.length+1;if(1===n)return t;var o=new Array(n);o[0]=r(t);for(var a=1;a<n;a++)o[a]=r(e[a]);return o.join(" ")}if("string"!=typeof t)return t;var c=e.length;if(0===c)return t;for(var u="",l=0,h=-1,d=t&&t.length||0,f=0;f<d;){if(37===t.charCodeAt(f)&&f+1<d){switch(h=h>-1?h:0,t.charCodeAt(f+1)){case 100:case 102:if(l>=c||null==e[l])break;h<f&&(u+=t.slice(h,f)),u+=Number(e[l]),h=f+2,f++;break;case 105:if(l>=c||null==e[l])break;h<f&&(u+=t.slice(h,f)),u+=Math.floor(Number(e[l])),h=f+2,f++;break;case 79:case 111:case 106:if(l>=c||void 0===e[l])break;h<f&&(u+=t.slice(h,f));var p=typeof e[l];if("string"===p){u+="'"+e[l]+"'",h=f+2,f++;break}if("function"===p){u+=e[l].name||"<anonymous>",h=f+2,f++;break}u+=r(e[l]),h=f+2,f++;break;case 115:if(l>=c)break;h<f&&(u+=t.slice(h,f)),u+=String(e[l]),h=f+2,f++;break;case 37:h<f&&(u+=t.slice(h,f)),u+="%",h=f+2,f++,l--}++l}++f}return-1===h?t:(h<d&&(u+=t.slice(h)),u)};const zo=tp;var vi=yt;const rr=function dp(){function t(e){return typeof e<"u"&&e}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return t(self)||t(window)||t(this)||{}}}().console||{},rp={mapHttpRequest:xr,mapHttpResponse:xr,wrapRequestSerializer:Cs,wrapResponseSerializer:Cs,wrapErrorSerializer:Cs,req:xr,res:xr,err:function cp(t){const e={type:t.constructor.name,msg:t.message,stack:t.stack};for(const i in t)void 0===e[i]&&(e[i]=t[i]);return e}};function yt(t){(t=t||{}).browser=t.browser||{};const e=t.browser.transmit;if(e&&"function"!=typeof e.send)throw Error("pino: transmit option must have a send function");const i=t.browser.write||rr;t.browser.write&&(t.browser.asObject=!0);const r=t.serializers||{},s=function sp(t,e){return Array.isArray(t)?t.filter(function(r){return"!stdSerializers.err"!==r}):!0===t&&Object.keys(e)}(t.browser.serialize,r);let n=t.browser.serialize;Array.isArray(t.browser.serialize)&&t.browser.serialize.indexOf("!stdSerializers.err")>-1&&(n=!1);"function"==typeof i&&(i.error=i.fatal=i.warn=i.info=i.debug=i.trace=i),!1===t.enabled&&(t.level="silent");const a=t.level||"info",c=Object.create(i);c.log||(c.log=sr),Object.defineProperty(c,"levelVal",{get:function l(){return"silent"===this.level?1/0:this.levels.values[this.level]}}),Object.defineProperty(c,"level",{get:function h(){return this._level},set:function d(p){if("silent"!==p&&!this.levels.values[p])throw Error("unknown level "+p);this._level=p,di(u,c,"error","log"),di(u,c,"fatal","error"),di(u,c,"warn","error"),di(u,c,"info","log"),di(u,c,"debug","log"),di(u,c,"trace","log")}});const u={transmit:e,serialize:s,asObject:t.browser.asObject,levels:["error","fatal","warn","info","debug","trace"],timestamp:up(t)};return c.levels=yt.levels,c.level=a,c.setMaxListeners=c.getMaxListeners=c.emit=c.addListener=c.on=c.prependListener=c.once=c.prependOnceListener=c.removeListener=c.removeAllListeners=c.listeners=c.listenerCount=c.eventNames=c.write=c.flush=sr,c.serializers=r,c._serialize=s,c._stdErrSerialize=n,c.child=function f(p,g){if(!p)throw new Error("missing bindings for child Pino");g=g||{},s&&p.serializers&&(g.serializers=p.serializers);const y=g.serializers;if(s&&y){var m=Object.assign({},r,y),w=!0===t.browser.serialize?Object.keys(m):s;delete p.serializers,os([p],w,m,this._stdErrSerialize)}function b(E){this._childLevel=1+(0|E._childLevel),this.error=pi(E,p,"error"),this.fatal=pi(E,p,"fatal"),this.warn=pi(E,p,"warn"),this.info=pi(E,p,"info"),this.debug=pi(E,p,"debug"),this.trace=pi(E,p,"trace"),m&&(this.serializers=m,this._serialize=w),e&&(this._logEvent=fn([].concat(E._logEvent.bindings,p)))}return b.prototype=this,new b(this)},e&&(c._logEvent=fn()),c}function di(t,e,i,r){const s=Object.getPrototypeOf(e);e[i]=e.levelVal>e.levels.values[i]?sr:s[i]?s[i]:rr[i]||rr[r]||sr,function np(t,e,i){!t.transmit&&e[i]===sr||(e[i]=function(r){return function(){const n=t.timestamp(),o=new Array(arguments.length),a=Object.getPrototypeOf&&Object.getPrototypeOf(this)===rr?rr:this;for(var c=0;c<o.length;c++)o[c]=arguments[c];if(t.serialize&&!t.asObject&&os(o,this._serialize,this.serializers,this._stdErrSerialize),t.asObject?r.call(a,function op(t,e,i,r){t._serialize&&os(i,t._serialize,t.serializers,t._stdErrSerialize);const s=i.slice();let n=s[0];const o={};r&&(o.time=r),o.level=yt.levels.values[e];let a=1+(0|t._childLevel);if(a<1&&(a=1),null!==n&&"object"==typeof n){for(;a--&&"object"==typeof s[0];)Object.assign(o,s.shift());n=s.length?zo(s.shift(),s):void 0}else"string"==typeof n&&(n=zo(s.shift(),s));return void 0!==n&&(o.msg=n),o}(this,i,o,n)):r.apply(a,o),t.transmit){const u=t.transmit.level||e.level,l=yt.levels.values[u],h=yt.levels.values[i];if(h<l)return;!function ap(t,e,i){const r=e.send,s=e.ts,n=e.methodLevel,o=e.methodValue,a=e.val,c=t._logEvent.bindings;os(i,t._serialize||Object.keys(t.serializers),t.serializers,void 0===t._stdErrSerialize||t._stdErrSerialize),t._logEvent.ts=s,t._logEvent.messages=i.filter(function(u){return-1===c.indexOf(u)}),t._logEvent.level.label=n,t._logEvent.level.value=o,r(n,t._logEvent,a),t._logEvent=fn(c)}(this,{ts:n,methodLevel:i,methodValue:h,transmitLevel:u,transmitValue:yt.levels.values[t.transmit.level||e.level],send:t.transmit.send,val:e.levelVal},o)}}}(e[i]))}(t,e,i)}function os(t,e,i,r){for(const s in t)if(r&&t[s]instanceof Error)t[s]=yt.stdSerializers.err(t[s]);else if("object"==typeof t[s]&&!Array.isArray(t[s]))for(const n in t[s])e&&e.indexOf(n)>-1&&n in i&&(t[s][n]=i[n](t[s][n]))}function pi(t,e,i){return function(){const r=new Array(1+arguments.length);r[0]=e;for(var s=1;s<r.length;s++)r[s]=arguments[s-1];return t[i].apply(this,r)}}function fn(t){return{ts:0,messages:[],bindings:t||[],level:{label:"",value:0}}}function up(t){return"function"==typeof t.timestamp?t.timestamp:!1===t.timestamp?hu:du}function xr(){return{}}function Cs(t){return t}function sr(){}function hu(){return!1}function du(){return Date.now()}yt.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},yt.stdSerializers=rp,yt.stdTimeFunctions=Object.assign({},{nullTime:hu,epochTime:du,unixTime:function lp(){return Math.round(Date.now()/1e3)},isoTime:function hp(){return new Date(Date.now()).toISOString()}});const as=(0,_connector_d58f0dd8_js__WEBPACK_IMPORTED_MODULE_0__.d)(vi),pp_level="info",pr="custom_context",Wn=1024e3;let fp=class{constructor(e){this.nodeValue=e,this.sizeInBytes=(new TextEncoder).encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},Vo=class{constructor(e){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const i=new fp(e);if(i.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${i.size}`);for(;this.size+i.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=i),this.tail=i):(this.head=i,this.tail=i),this.lengthInNodes++,this.sizeInBytes+=i.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let i=this.head;for(;null!==i;)e.push(i.value),i=i.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const i=e.value;return e=e.next,{done:!1,value:i}}}}},pu=class{constructor(e,i=Wn){this.level=e??"error",this.levelValue=vi.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=i,this.logs=new Vo(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,i){i===vi.levels.values.error?console.error(e):i===vi.levels.values.warn?console.warn(e):i===vi.levels.values.debug?console.debug(e):i===vi.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(ei({timestamp:(new Date).toISOString(),log:e}));const i="string"==typeof e?JSON.parse(e).level:e.level;i>=this.levelValue&&this.forwardToConsole(e,i)}getLogs(){return this.logs}clearLogs(){this.logs=new Vo(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const i=this.getLogArray();return i.push(ei({extraMetadata:e})),new Blob(i,{type:"application/json"})}},gp=class{constructor(e,i=Wn){this.baseChunkLogger=new pu(e,i)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const i=URL.createObjectURL(this.logsToBlob(e)),r=document.createElement("a");r.href=i,r.download=`walletconnect-logs-${(new Date).toISOString()}.txt`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(i)}},yp=class{constructor(e,i=Wn){this.baseChunkLogger=new pu(e,i)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}};var wp=Object.defineProperty,mp=Object.defineProperties,bp=Object.getOwnPropertyDescriptors,Ko=Object.getOwnPropertySymbols,vp=Object.prototype.hasOwnProperty,Ep=Object.prototype.propertyIsEnumerable,Ho=(t,e,i)=>e in t?wp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,Wr=(t,e)=>{for(var i in e||(e={}))vp.call(e,i)&&Ho(t,i,e[i]);if(Ko)for(var i of Ko(e))Ep.call(e,i)&&Ho(t,i,e[i]);return t},Gr=(t,e)=>mp(t,bp(e));function Gn(t){return Gr(Wr({},t),{level:t?.level||pp_level})}function je(t,e=pr){let i="";return i=typeof t.bindings>"u"?function _p(t,e=pr){return t[e]||""}(t,e):t.bindings().context||"",i}function Fe(t,e,i=pr){const r=function Dp(t,e,i=pr){const r=je(t,i);return r.trim()?`${r}/${e}`:e}(t,e,i);return function Ip(t,e,i=pr){return t[i]=e,t}(t.child({context:r}),r,i)}function Op(t){return typeof t.loggerOverride<"u"&&"string"!=typeof t.loggerOverride?{logger:t.loggerOverride,chunkLoggerController:null}:typeof window<"u"?function Sp(t){var e,i;const r=new gp(null==(e=t.opts)?void 0:e.level,t.maxSizeInBytes);return{logger:as(Gr(Wr({},t.opts),{level:"trace",browser:Gr(Wr({},null==(i=t.opts)?void 0:i.browser),{write:s=>r.write(s)})})),chunkLoggerController:r}}(t):function $p(t){var e;const i=new yp(null==(e=t.opts)?void 0:e.level,t.maxSizeInBytes);return{logger:as(Gr(Wr({},t.opts),{level:"trace"}),i),chunkLoggerController:i}}(t)}var xp=Object.defineProperty,Wo=(t,e,i)=>((t,e,i)=>e in t?xp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i)(t,"symbol"!=typeof e?e+"":e,i);let Pp=class extends ni{constructor(e){super(),this.opts=e,Wo(this,"protocol","wc"),Wo(this,"version",2)}};var Cp=Object.defineProperty,Tp=(t,e,i)=>((t,e,i)=>e in t?Cp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i)(t,"symbol"!=typeof e?e+"":e,i);class Np extends ni{constructor(e,i){super(),this.core=e,this.logger=i,Tp(this,"records",new Map)}}let Fp=class{constructor(e,i){this.logger=e,this.core=i}};class Lp extends ni{constructor(e,i){super(),this.relayer=e,this.logger=i}}let Bp=class extends ni{constructor(e){super()}},Up=class{constructor(e,i,r,s){this.core=e,this.logger=i,this.name=r}},kp=class extends ni{constructor(e,i){super(),this.relayer=e,this.logger=i}},Mp=class extends ni{constructor(e,i){super(),this.core=e,this.logger=i}},qp=class{constructor(e,i,r){this.core=e,this.logger=i,this.store=r}};class jp{constructor(e,i){this.projectId=e,this.logger=i}}let zp=class{constructor(e,i,r){this.core=e,this.logger=i,this.telemetryEnabled=r}};var Vp=Object.defineProperty,Go=(t,e,i)=>((t,e,i)=>e in t?Vp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i)(t,"symbol"!=typeof e?e+"":e,i);let Hp=class{constructor(e){this.opts=e,Go(this,"protocol","wc"),Go(this,"version",2)}},Wp=class{constructor(e){this.client=e}};function fu(t,...e){if(!function Gp(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&"Uint8Array"===t.constructor.name}(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function Yo(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}const fi="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,Rs=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);function gu(t){return"string"==typeof t&&(t=function Jp(t){if("string"!=typeof t)throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array((new TextEncoder).encode(t))}(t)),fu(t),t}let Zp=class{clone(){return this._cloneInto()}};function yu(t=32){if(fi&&"function"==typeof fi.getRandomValues)return fi.getRandomValues(new Uint8Array(t));if(fi&&"function"==typeof fi.randomBytes)return fi.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}let ef=class extends Zp{constructor(e,i,r,s){super(),this.blockLen=e,this.outputLen=i,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Rs(this.buffer)}update(e){Yo(this);const{view:i,buffer:r,blockLen:s}=this,n=(e=gu(e)).length;for(let o=0;o<n;){const a=Math.min(s-this.pos,n-o);if(a===s){const c=Rs(e);for(;s<=n-o;o+=s)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(i,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Yo(this),function Yp(t,e){fu(t);const i=e.outputLen;if(t.length<i)throw new Error("digestInto() expects output buffer of length at least "+i)}(e,this),this.finished=!0;const{buffer:i,view:r,blockLen:s,isLE:n}=this;let{pos:o}=this;i[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(r,0),o=0);for(let h=o;h<s;h++)i[h]=0;(function Xp(t,e,i,r){if("function"==typeof t.setBigUint64)return t.setBigUint64(e,i,r);const s=BigInt(32),n=BigInt(4294967295),o=Number(i>>s&n),a=Number(i&n),c=r?4:0,u=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+u,a,r)})(r,s-8,BigInt(8*this.length),n),this.process(r,0);const a=Rs(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<u;h++)a.setUint32(4*h,l[h],n)}digest(){const{buffer:e,outputLen:i}=this;this.digestInto(e);const r=e.slice(0,i);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:i,buffer:r,length:s,finished:n,destroyed:o,pos:a}=this;return e.length=s,e.pos=a,e.finished=n,e.destroyed=o,s%i&&e.buffer.set(r),e}};const Ar=BigInt(2**32-1),gn=BigInt(32);function wu(t,e=!1){return e?{h:Number(t&Ar),l:Number(t>>gn&Ar)}:{h:0|Number(t>>gn&Ar),l:0|Number(t&Ar)}}const K={fromBig:wu,split:function tf(t,e=!1){let i=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let s=0;s<t.length;s++){const{h:n,l:o}=wu(t[s],e);[i[s],r[s]]=[n,o]}return[i,r]},toBig:(t,e)=>BigInt(t>>>0)<<gn|BigInt(e>>>0),shrSH:(t,e,i)=>t>>>i,shrSL:(t,e,i)=>t<<32-i|e>>>i,rotrSH:(t,e,i)=>t>>>i|e<<32-i,rotrSL:(t,e,i)=>t<<32-i|e>>>i,rotrBH:(t,e,i)=>t<<64-i|e>>>i-32,rotrBL:(t,e,i)=>t>>>i-32|e<<64-i,rotr32H:(t,e)=>e,rotr32L:(t,e)=>t,rotlSH:(t,e,i)=>t<<i|e>>>32-i,rotlSL:(t,e,i)=>e<<i|t>>>32-i,rotlBH:(t,e,i)=>e<<i-32|t>>>64-i,rotlBL:(t,e,i)=>t<<i-32|e>>>64-i,add:function yf(t,e,i,r){const s=(e>>>0)+(r>>>0);return{h:t+i+(s/2**32|0)|0,l:0|s}},add3L:(t,e,i)=>(t>>>0)+(e>>>0)+(i>>>0),add3H:(t,e,i,r)=>e+i+r+(t/2**32|0)|0,add4L:(t,e,i,r)=>(t>>>0)+(e>>>0)+(i>>>0)+(r>>>0),add4H:(t,e,i,r,s)=>e+i+r+s+(t/2**32|0)|0,add5H:(t,e,i,r,s,n)=>e+i+r+s+n+(t/2**32|0)|0,add5L:(t,e,i,r,s)=>(t>>>0)+(e>>>0)+(i>>>0)+(r>>>0)+(s>>>0)},[If,Df]=K.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Pt=new Uint32Array(80),Ct=new Uint32Array(80);let Sf=class extends ef{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:i,Bh:r,Bl:s,Ch:n,Cl:o,Dh:a,Dl:c,Eh:u,El:l,Fh:h,Fl:d,Gh:f,Gl:p,Hh:g,Hl:y}=this;return[e,i,r,s,n,o,a,c,u,l,h,d,f,p,g,y]}set(e,i,r,s,n,o,a,c,u,l,h,d,f,p,g,y){this.Ah=0|e,this.Al=0|i,this.Bh=0|r,this.Bl=0|s,this.Ch=0|n,this.Cl=0|o,this.Dh=0|a,this.Dl=0|c,this.Eh=0|u,this.El=0|l,this.Fh=0|h,this.Fl=0|d,this.Gh=0|f,this.Gl=0|p,this.Hh=0|g,this.Hl=0|y}process(e,i){for(let b=0;b<16;b++,i+=4)Pt[b]=e.getUint32(i),Ct[b]=e.getUint32(i+=4);for(let b=16;b<80;b++){const E=0|Pt[b-15],O=0|Ct[b-15],S=K.rotrSH(E,O,1)^K.rotrSH(E,O,8)^K.shrSH(E,O,7),$=K.rotrSL(E,O,1)^K.rotrSL(E,O,8)^K.shrSL(E,O,7),A=0|Pt[b-2],I=0|Ct[b-2],M=K.rotrSH(A,I,19)^K.rotrBH(A,I,61)^K.shrSH(A,I,6),L=K.rotrSL(A,I,19)^K.rotrBL(A,I,61)^K.shrSL(A,I,6),U=K.add4L($,L,Ct[b-7],Ct[b-16]),q=K.add4H(U,S,M,Pt[b-7],Pt[b-16]);Pt[b]=0|q,Ct[b]=0|U}let{Ah:r,Al:s,Bh:n,Bl:o,Ch:a,Cl:c,Dh:u,Dl:l,Eh:h,El:d,Fh:f,Fl:p,Gh:g,Gl:y,Hh:m,Hl:w}=this;for(let b=0;b<80;b++){const E=K.rotrSH(h,d,14)^K.rotrSH(h,d,18)^K.rotrBH(h,d,41),O=K.rotrSL(h,d,14)^K.rotrSL(h,d,18)^K.rotrBL(h,d,41),S=h&f^~h&g,$=d&p^~d&y,A=K.add5L(w,O,$,Df[b],Ct[b]),I=K.add5H(A,m,E,S,If[b],Pt[b]),M=0|A,L=K.rotrSH(r,s,28)^K.rotrBH(r,s,34)^K.rotrBH(r,s,39),U=K.rotrSL(r,s,28)^K.rotrBL(r,s,34)^K.rotrBL(r,s,39),q=r&n^r&a^n&a,C=s&o^s&c^o&c;m=0|g,w=0|y,g=0|f,y=0|p,f=0|h,p=0|d,({h,l:d}=K.add(0|u,0|l,0|I,0|M)),u=0|a,l=0|c,a=0|n,c=0|o,n=0|r,o=0|s;const _=K.add3L(M,U,C);r=K.add3H(_,I,L,q),s=0|_}({h:r,l:s}=K.add(0|this.Ah,0|this.Al,0|r,0|s)),({h:n,l:o}=K.add(0|this.Bh,0|this.Bl,0|n,0|o)),({h:a,l:c}=K.add(0|this.Ch,0|this.Cl,0|a,0|c)),({h:u,l}=K.add(0|this.Dh,0|this.Dl,0|u,0|l)),({h,l:d}=K.add(0|this.Eh,0|this.El,0|h,0|d)),({h:f,l:p}=K.add(0|this.Fh,0|this.Fl,0|f,0|p)),({h:g,l:y}=K.add(0|this.Gh,0|this.Gl,0|g,0|y)),({h:m,l:w}=K.add(0|this.Hh,0|this.Hl,0|m,0|w)),this.set(r,s,n,o,a,c,u,l,h,d,f,p,g,y,m,w)}roundClean(){Pt.fill(0),Ct.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const $f=function Qp(t){const e=r=>t().update(gu(r)).digest(),i=t();return e.outputLen=i.outputLen,e.blockLen=i.blockLen,e.create=()=>t(),e}(()=>new Sf),Yn=BigInt(0),mu=BigInt(1),Of=BigInt(2);function Jn(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&"Uint8Array"===t.constructor.name}function Zn(t){if(!Jn(t))throw new Error("Uint8Array expected")}function Ts(t,e){if("boolean"!=typeof e)throw new Error(t+" boolean expected, got "+e)}const xf=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Qn(t){Zn(t);let e="";for(let i=0;i<t.length;i++)e+=xf[t[i]];return e}function bu(t){if("string"!=typeof t)throw new Error("hex string expected, got "+typeof t);return""===t?Yn:BigInt("0x"+t)}const bt__0=48,bt__9=57,bt_A=65,bt_F=70,bt_a=97,bt_f=102;function Jo(t){return t>=bt__0&&t<=bt__9?t-bt__0:t>=bt_A&&t<=bt_F?t-(bt_A-10):t>=bt_a&&t<=bt_f?t-(bt_a-10):void 0}function vu(t){if("string"!=typeof t)throw new Error("hex string expected, got "+typeof t);const e=t.length,i=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(i);for(let s=0,n=0;s<i;s++,n+=2){const o=Jo(t.charCodeAt(n)),a=Jo(t.charCodeAt(n+1));if(void 0===o||void 0===a){const c=t[n]+t[n+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+n)}r[s]=16*o+a}return r}function qr(t){return Zn(t),bu(Qn(Uint8Array.from(t).reverse()))}function Eu(t,e){return vu(t.toString(16).padStart(2*e,"0"))}function yn(t,e){return Eu(t,e).reverse()}function vt(t,e,i){let r;if("string"==typeof e)try{r=vu(e)}catch(n){throw new Error(t+" must be hex string or Uint8Array, cause: "+n)}else{if(!Jn(e))throw new Error(t+" must be hex string or Uint8Array");r=Uint8Array.from(e)}const s=r.length;if("number"==typeof i&&s!==i)throw new Error(t+" of length "+i+" expected, got "+s);return r}function Zo(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];Zn(s),e+=s.length}const i=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const n=t[r];i.set(n,s),s+=n.length}return i}const Ns=t=>"bigint"==typeof t&&Yn<=t;function qi(t,e,i,r){if(!function Pf(t,e,i){return Ns(t)&&Ns(e)&&Ns(i)&&e<=t&&t<i}(e,i,r))throw new Error("expected valid "+t+": "+i+" <= n < "+r+", got "+e)}const Rf=t=>(Of<<BigInt(t-1))-mu,Tf={bigint:t=>"bigint"==typeof t,function:t=>"function"==typeof t,boolean:t=>"boolean"==typeof t,string:t=>"string"==typeof t,stringOrUint8Array:t=>"string"==typeof t||Jn(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>"function"==typeof t&&Number.isSafeInteger(t.outputLen)};function Xn(t,e,i={}){const r=(s,n,o)=>{const a=Tf[n];if("function"!=typeof a)throw new Error("invalid validator function");const c=t[s];if(!(o&&void 0===c||a(c,t)))throw new Error("param "+String(s)+" is invalid. Expected "+n+", got "+c)};for(const[s,n]of Object.entries(e))r(s,n,!1);for(const[s,n]of Object.entries(i))r(s,n,!0);return t}function Qo(t){const e=new WeakMap;return(i,...r)=>{const s=e.get(i);if(void 0!==s)return s;const n=t(i,...r);return e.set(i,n),n}}const ve=BigInt(0),ue=BigInt(1),Wt=BigInt(2),Nf=BigInt(3),wn=BigInt(4),Xo=BigInt(5),ea=BigInt(8);function fe(t,e){const i=t%e;return i>=ve?i:e+i}function Ff(t,e,i){if(e<ve)throw new Error("invalid exponent, negatives unsupported");if(i<=ve)throw new Error("invalid modulus");if(i===ue)return ve;let r=ue;for(;e>ve;)e&ue&&(r=r*t%i),t=t*t%i,e>>=ue;return r}function at(t,e,i){let r=t;for(;e-- >ve;)r*=r,r%=i;return r}function ta(t,e){if(t===ve)throw new Error("invert: expected non-zero number");if(e<=ve)throw new Error("invert: expected positive modulus, got "+e);let i=fe(t,e),r=e,s=ve,n=ue;for(;i!==ve;){const a=r%i,c=s-n*(r/i);r=i,i=a,s=n,n=c}if(r!==ue)throw new Error("invert: does not exist");return fe(s,e)}function Bf(t){if(t%wn===Nf){const e=(t+ue)/wn;return function(i,r){const s=i.pow(r,e);if(!i.eql(i.sqr(s),r))throw new Error("Cannot find square root");return s}}if(t%ea===Xo){const e=(t-Xo)/ea;return function(i,r){const s=i.mul(r,Wt),n=i.pow(s,e),o=i.mul(r,n),a=i.mul(i.mul(o,Wt),n),c=i.mul(o,i.sub(a,i.ONE));if(!i.eql(i.sqr(c),r))throw new Error("Cannot find square root");return c}}return function Lf(t){const e=(t-ue)/Wt;let i,r,s;for(i=t-ue,r=0;i%Wt===ve;i/=Wt,r++);for(s=Wt;s<t&&Ff(s,e,t)!==t-ue;s++)if(s>1e3)throw new Error("Cannot find square root: likely non-prime P");if(1===r){const o=(t+ue)/wn;return function(a,c){const u=a.pow(c,o);if(!a.eql(a.sqr(u),c))throw new Error("Cannot find square root");return u}}const n=(i+ue)/Wt;return function(o,a){if(o.pow(a,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let c=r,u=o.pow(o.mul(o.ONE,s),i),l=o.pow(a,n),h=o.pow(a,i);for(;!o.eql(h,o.ONE);){if(o.eql(h,o.ZERO))return o.ZERO;let d=1;for(let p=o.sqr(h);d<c&&!o.eql(p,o.ONE);d++)p=o.sqr(p);const f=o.pow(u,ue<<BigInt(c-d-1));u=o.sqr(f),l=o.mul(l,f),h=o.mul(h,u),c=d}return l}}(t)}const kf=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function _u(t,e){const i=void 0!==e?e:t.toString(2).length;return{nBitLength:i,nByteLength:Math.ceil(i/8)}}function Iu(t,e,i=!1,r={}){if(t<=ve)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:s,nByteLength:n}=_u(t,e);if(n>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:i,BITS:s,BYTES:n,MASK:Rf(s),ZERO:ve,ONE:ue,create:c=>fe(c,t),isValid:c=>{if("bigint"!=typeof c)throw new Error("invalid field element: expected bigint, got "+typeof c);return ve<=c&&c<t},is0:c=>c===ve,isOdd:c=>(c&ue)===ue,neg:c=>fe(-c,t),eql:(c,u)=>c===u,sqr:c=>fe(c*c,t),add:(c,u)=>fe(c+u,t),sub:(c,u)=>fe(c-u,t),mul:(c,u)=>fe(c*u,t),pow:(c,u)=>function qf(t,e,i){if(i<ve)throw new Error("invalid exponent, negatives unsupported");if(i===ve)return t.ONE;if(i===ue)return e;let r=t.ONE,s=e;for(;i>ve;)i&ue&&(r=t.mul(r,s)),s=t.sqr(s),i>>=ue;return r}(a,c,u),div:(c,u)=>fe(c*ta(u,t),t),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>ta(c,t),sqrt:r.sqrt||(c=>(o||(o=Bf(t)),o(a,c))),invertBatch:c=>function jf(t,e){const i=new Array(e.length),r=e.reduce((n,o,a)=>t.is0(o)?n:(i[a]=n,t.mul(n,o)),t.ONE),s=t.inv(r);return e.reduceRight((n,o,a)=>t.is0(o)?n:(i[a]=t.mul(n,i[a]),t.mul(n,o)),s),i}(a,c),cmov:(c,u,l)=>l?u:c,toBytes:c=>i?yn(c,n):Eu(c,n),fromBytes:c=>{if(c.length!==n)throw new Error("Field.fromBytes: expected "+n+" bytes, got "+c.length);return i?qr(c):function Af(t){return bu(Qn(t))}(c)}});return Object.freeze(a)}const ia=BigInt(0),Pr=BigInt(1);function Fs(t,e){const i=e.negate();return t?i:e}function Du(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function Ls(t,e){Du(t,e);return{windows:Math.ceil(e/t)+1,windowSize:2**(t-1)}}const Bs=new WeakMap,Su=new WeakMap;function Us(t){return Su.get(t)||1}function Hf(t,e,i,r){if(function zf(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((i,r)=>{if(!(i instanceof e))throw new Error("invalid point at index "+r)})}(i,t),function Vf(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((i,r)=>{if(!e.isValid(i))throw new Error("invalid scalar at index "+r)})}(r,e),i.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const s=t.ZERO,n=function Cf(t){let e;for(e=0;t>Yn;t>>=mu,e+=1);return e}(BigInt(i.length)),o=n>12?n-3:n>4?n-2:n?2:1,a=(1<<o)-1,c=new Array(a+1).fill(s);let l=s;for(let h=Math.floor((e.BITS-1)/o)*o;h>=0;h-=o){c.fill(s);for(let f=0;f<r.length;f++){const p=r[f],g=Number(p>>BigInt(h)&BigInt(a));c[g]=c[g].add(i[f])}let d=s;for(let f=c.length-1,p=s;f>0;f--)p=p.add(c[f]),d=d.add(p);if(l=l.add(d),0!==h)for(let f=0;f<o;f++)l=l.double()}return l}function Wf(t){return function Mf(t){return Xn(t,kf.reduce((r,s)=>(r[s]="function",r),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"}))}(t.Fp),Xn(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({..._u(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}const et=BigInt(0),Le=BigInt(1),Cr=BigInt(2),Gf=BigInt(8),Yf={zip215:!0};function Zf(t){const e=function Jf(t){const e=Wf(t);return Xn(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}(t),{Fp:i,n:r,prehash:s,hash:n,randomBytes:o,nByteLength:a,h:c}=e,u=Cr<<BigInt(8*a)-Le,l=i.create,h=Iu(e.n,e.nBitLength),d=e.uvRatio||((_,v)=>{try{return{isValid:!0,value:i.sqrt(_*i.inv(v))}}catch{return{isValid:!1,value:et}}}),f=e.adjustScalarBytes||(_=>_),p=e.domain||((_,v,x)=>{if(Ts("phflag",x),v.length||x)throw new Error("Contexts/pre-hash are not supported");return _});function g(_,v){qi("coordinate "+_,v,et,u)}function y(_){if(!(_ instanceof b))throw new Error("ExtendedPoint expected")}const m=Qo((_,v)=>{const{ex:x,ey:P,ez:D}=_,N=_.is0();null==v&&(v=N?Gf:i.inv(D));const B=l(x*v),k=l(P*v),j=l(D*v);if(N)return{x:et,y:Le};if(j!==Le)throw new Error("invZ was invalid");return{x:B,y:k}}),w=Qo(_=>{const{a:v,d:x}=e;if(_.is0())throw new Error("bad point: ZERO");const{ex:P,ey:D,ez:N,et:B}=_,k=l(P*P),j=l(D*D),z=l(N*N),H=l(z*z),Y=l(k*v);if(l(z*l(Y+j))!==l(H+l(x*l(k*j))))throw new Error("bad point: equation left != right (1)");if(l(P*D)!==l(N*B))throw new Error("bad point: equation left != right (2)");return!0});class b{constructor(v,x,P,D){this.ex=v,this.ey=x,this.ez=P,this.et=D,g("x",v),g("y",x),g("z",P),g("t",D),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(v){if(v instanceof b)throw new Error("extended point not allowed");const{x,y:P}=v||{};return g("x",x),g("y",P),new b(x,P,Le,l(x*P))}static normalizeZ(v){const x=i.invertBatch(v.map(P=>P.ez));return v.map((P,D)=>P.toAffine(x[D])).map(b.fromAffine)}static msm(v,x){return Hf(b,h,v,x)}_setWindowSize(v){S.setWindowSize(this,v)}assertValidity(){w(this)}equals(v){y(v);const{ex:x,ey:P,ez:D}=this,{ex:N,ey:B,ez:k}=v,j=l(x*k),z=l(N*D),H=l(P*k),Y=l(B*D);return j===z&&H===Y}is0(){return this.equals(b.ZERO)}negate(){return new b(l(-this.ex),this.ey,this.ez,l(-this.et))}double(){const{a:v}=e,{ex:x,ey:P,ez:D}=this,N=l(x*x),B=l(P*P),k=l(Cr*l(D*D)),j=l(v*N),z=x+P,H=l(l(z*z)-N-B),Y=j+B,ne=Y-k,ee=j-B,J=l(H*ne),Pe=l(Y*ee),_e=l(H*ee),Re=l(ne*Y);return new b(J,Pe,Re,_e)}add(v){y(v);const{a:x,d:P}=e,{ex:D,ey:N,ez:B,et:k}=this,{ex:j,ey:z,ez:H,et:Y}=v;if(x===BigInt(-1)){const vo=l((N-D)*(z+j)),Eo=l((N+D)*(z-j)),Ds=l(Eo-vo);if(Ds===et)return this.double();const _o=l(B*Cr*Y),Io=l(k*Cr*H),Do=Io+_o,So=Eo+vo,$o=Io-_o,_h=l(Do*Ds),Ih=l(So*$o),Dh=l(Do*$o),Sh=l(Ds*So);return new b(_h,Ih,Sh,Dh)}const ne=l(D*j),ee=l(N*z),J=l(k*P*Y),Pe=l(B*H),_e=l((D+N)*(j+z)-ne-ee),Re=Pe-J,Ye=Pe+J,mt=l(ee-x*ne),ui=l(_e*Re),bh=l(Ye*mt),vh=l(_e*mt),Eh=l(Re*Ye);return new b(ui,bh,Eh,vh)}subtract(v){return this.add(v.negate())}wNAF(v){return S.wNAFCached(this,v,b.normalizeZ)}multiply(v){const x=v;qi("scalar",x,Le,r);const{p:P,f:D}=this.wNAF(x);return b.normalizeZ([P,D])[0]}multiplyUnsafe(v,x=b.ZERO){const P=v;return qi("scalar",P,et,r),P===et?O:this.is0()||P===Le?this:S.wNAFCachedUnsafe(this,P,b.normalizeZ,x)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return S.unsafeLadder(this,r).is0()}toAffine(v){return m(this,v)}clearCofactor(){const{h:v}=e;return v===Le?this:this.multiplyUnsafe(v)}static fromHex(v,x=!1){const{d:P,a:D}=e,N=i.BYTES;v=vt("pointHex",v,N),Ts("zip215",x);const B=v.slice(),k=v[N-1];B[N-1]=-129&k;const j=qr(B),z=x?u:i.ORDER;qi("pointHex.y",j,et,z);const H=l(j*j),Y=l(H-Le),ne=l(P*H-D);let{isValid:ee,value:J}=d(Y,ne);if(!ee)throw new Error("Point.fromHex: invalid y coordinate");const Pe=(J&Le)===Le,_e=!!(128&k);if(!x&&J===et&&_e)throw new Error("Point.fromHex: x=0 and x_0=1");return _e!==Pe&&(J=l(-J)),b.fromAffine({x:J,y:j})}static fromPrivateKey(v){return I(v).point}toRawBytes(){const{x:v,y:x}=this.toAffine(),P=yn(x,i.BYTES);return P[P.length-1]|=v&Le?128:0,P}toHex(){return Qn(this.toRawBytes())}}b.BASE=new b(e.Gx,e.Gy,Le,l(e.Gx*e.Gy)),b.ZERO=new b(et,Le,Le,et);const{BASE:E,ZERO:O}=b,S=function Kf(t,e){return{constTimeNegate:Fs,hasPrecomputes:i=>1!==Us(i),unsafeLadder(i,r,s=t.ZERO){let n=i;for(;r>ia;)r&Pr&&(s=s.add(n)),n=n.double(),r>>=Pr;return s},precomputeWindow(i,r){const{windows:s,windowSize:n}=Ls(r,e),o=[];let a=i,c=a;for(let u=0;u<s;u++){c=a,o.push(c);for(let l=1;l<n;l++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(i,r,s){const{windows:n,windowSize:o}=Ls(i,e);let a=t.ZERO,c=t.BASE;const u=BigInt(2**i-1),l=2**i,h=BigInt(i);for(let d=0;d<n;d++){const f=d*o;let p=Number(s&u);s>>=h,p>o&&(p-=l,s+=Pr);const g=f,y=f+Math.abs(p)-1,m=d%2!=0,w=p<0;0===p?c=c.add(Fs(m,r[g])):a=a.add(Fs(w,r[y]))}return{p:a,f:c}},wNAFUnsafe(i,r,s,n=t.ZERO){const{windows:o,windowSize:a}=Ls(i,e),c=BigInt(2**i-1),u=2**i,l=BigInt(i);for(let h=0;h<o;h++){const d=h*a;if(s===ia)break;let f=Number(s&c);if(s>>=l,f>a&&(f-=u,s+=Pr),0===f)continue;let p=r[d+Math.abs(f)-1];f<0&&(p=p.negate()),n=n.add(p)}return n},getPrecomputes(i,r,s){let n=Bs.get(r);return n||(n=this.precomputeWindow(r,i),1!==i&&Bs.set(r,s(n))),n},wNAFCached(i,r,s){const n=Us(i);return this.wNAF(n,this.getPrecomputes(n,i,s),r)},wNAFCachedUnsafe(i,r,s,n){const o=Us(i);return 1===o?this.unsafeLadder(i,r,n):this.wNAFUnsafe(o,this.getPrecomputes(o,i,s),r,n)},setWindowSize(i,r){Du(r,e),Su.set(i,r),Bs.delete(i)}}}(b,8*a);function $(_){return fe(_,r)}function A(_){return $(qr(_))}function I(_){const v=i.BYTES;_=vt("private key",_,v);const x=vt("hashed private key",n(_),2*v),P=f(x.slice(0,v)),D=x.slice(v,2*v),N=A(P),B=E.multiply(N),k=B.toRawBytes();return{head:P,prefix:D,scalar:N,point:B,pointBytes:k}}function L(_=new Uint8Array,...v){const x=Zo(...v);return A(n(p(x,vt("context",_),!!s)))}const q=Yf;return E._setWindowSize(8),{CURVE:e,getPublicKey:function M(_){return I(_).pointBytes},sign:function U(_,v,x={}){_=vt("message",_),s&&(_=s(_));const{prefix:P,scalar:D,pointBytes:N}=I(v),B=L(x.context,P,_),k=E.multiply(B).toRawBytes(),z=$(B+L(x.context,k,N,_)*D);return qi("signature.s",z,et,r),vt("result",Zo(k,yn(z,i.BYTES)),2*i.BYTES)},verify:function C(_,v,x,P=q){const{context:D,zip215:N}=P,B=i.BYTES;_=vt("signature",_,2*B),v=vt("message",v),x=vt("publicKey",x,B),void 0!==N&&Ts("zip215",N),s&&(v=s(v));const k=qr(_.slice(B,2*B));let j,z,H;try{j=b.fromHex(x,N),z=b.fromHex(_.slice(0,B),N),H=E.multiplyUnsafe(k)}catch{return!1}if(!N&&j.isSmallOrder())return!1;const Y=L(D,z.toRawBytes(),j.toRawBytes(),v);return z.add(j.multiplyUnsafe(Y)).subtract(H).clearCofactor().equals(b.ZERO)},ExtendedPoint:b,utils:{getExtendedPublicKey:I,randomPrivateKey:()=>o(i.BYTES),precompute:(_=8,v=b.BASE)=>(v._setWindowSize(_),v.multiply(BigInt(3)),v)}}}BigInt(0),BigInt(1);const eo=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),ra=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const Qf=BigInt(1),sa=BigInt(2);BigInt(3);const Xf=BigInt(5),eg=BigInt(8);function ig(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function rg(t,e){const i=eo,r=fe(e*e*e,i),n=function tg(t){const e=BigInt(10),i=BigInt(20),r=BigInt(40),s=BigInt(80),n=eo,o=t*t%n*t%n,a=at(o,sa,n)*o%n,c=at(a,Qf,n)*t%n,u=at(c,Xf,n)*c%n,l=at(u,e,n)*u%n,h=at(l,i,n)*l%n,d=at(h,r,n)*h%n,f=at(d,s,n)*d%n,p=at(f,s,n)*d%n,g=at(p,e,n)*u%n;return{pow_p_5_8:at(g,sa,n)*t%n,b2:o}}(t*fe(r*r*e,i)).pow_p_5_8;let o=fe(t*r*n,i);const a=fe(e*o*o,i),c=o,u=fe(o*ra,i),l=a===t,h=a===fe(-t,i),d=a===fe(-t*ra,i);return l&&(o=c),(h||d)&&(o=u),((t,e)=>(fe(t,e)&ue)===ue)(o,i)&&(o=fe(-o,i)),{isValid:l||h,value:o}}const sg=Iu(eo,void 0,!0),$u=Zf({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:sg,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:eg,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:$f,randomBytes:yu,adjustScalarBytes:ig,uvRatio:rg}),cs="base64url",ug="did",lg="key",na="base58btc";function to(t){return null!=globalThis.Buffer?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function Au(t=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?to(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function Pu(t,e){e||(e=t.reduce((s,n)=>s+n.length,0));const i=Au(e);let r=0;for(const s of t)i.set(s,r),r+=s.length;return to(i)}var gg=function fg(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var i=new Uint8Array(256),r=0;r<i.length;r++)i[r]=255;for(var s=0;s<t.length;s++){var n=t.charAt(s),o=n.charCodeAt(0);if(255!==i[o])throw new TypeError(n+" is ambiguous");i[o]=s}var a=t.length,c=t.charAt(0),u=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function d(p){if("string"!=typeof p)throw new TypeError("Expected String");if(0===p.length)return new Uint8Array;var g=0;if(" "!==p[g]){for(var y=0,m=0;p[g]===c;)y++,g++;for(var w=(p.length-g)*u+1>>>0,b=new Uint8Array(w);p[g];){var E=i[p.charCodeAt(g)];if(255===E)return;for(var O=0,S=w-1;(0!==E||O<m)&&-1!==S;S--,O++)E+=a*b[S]>>>0,b[S]=E%256>>>0,E=E/256>>>0;if(0!==E)throw new Error("Non-zero carry");m=O,g++}if(" "!==p[g]){for(var $=w-m;$!==w&&0===b[$];)$++;for(var A=new Uint8Array(y+(w-$)),I=y;$!==w;)A[I++]=b[$++];return A}}}return{encode:function h(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===p.length)return"";for(var g=0,y=0,m=0,w=p.length;m!==w&&0===p[m];)m++,g++;for(var b=(w-m)*l+1>>>0,E=new Uint8Array(b);m!==w;){for(var O=p[m],S=0,$=b-1;(0!==O||S<y)&&-1!==$;$--,S++)O+=256*E[$]>>>0,E[$]=O%a>>>0,O=O/a>>>0;if(0!==O)throw new Error("Non-zero carry");y=S,m++}for(var A=b-y;A!==b&&0===E[A];)A++;for(var I=c.repeat(g);A<b;++A)I+=t.charAt(E[A]);return I},decodeUnsafe:d,decode:function f(p){var g=d(p);if(g)return g;throw new Error(`Non-${e} character`)}}},yg=gg;const Cu=t=>{if(t instanceof Uint8Array&&"Uint8Array"===t.constructor.name)return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")};let bg=class{constructor(e,i,r){this.name=e,this.prefix=i,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},vg=class{constructor(e,i,r){if(this.name=e,this.prefix=i,void 0===i.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=i.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return Ru(this,e)}},Eg=class{constructor(e){this.decoders=e}or(e){return Ru(this,e)}decode(e){const i=e[0],r=this.decoders[i];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const Ru=(t,e)=>new Eg({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let _g=class{constructor(e,i,r,s){this.name=e,this.prefix=i,this.baseEncode=r,this.baseDecode=s,this.encoder=new bg(e,i,r),this.decoder=new vg(e,i,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const us=({name:t,prefix:e,encode:i,decode:r})=>new _g(t,e,i,r),fr=({prefix:t,name:e,alphabet:i})=>{const{encode:r,decode:s}=yg(i,e);return us({prefix:t,name:e,encode:r,decode:n=>Cu(s(n))})},Oe=({name:t,prefix:e,bitsPerChar:i,alphabet:r})=>us({prefix:e,name:t,encode:s=>((t,e,i)=>{const r="="===e[e.length-1],s=(1<<i)-1;let n="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>i;)o-=i,n+=e[s&a>>o];if(o&&(n+=e[s&a<<i-o]),r)for(;n.length*i&7;)n+="=";return n})(s,r,i),decode:s=>((t,e,i,r)=>{const s={};for(let l=0;l<e.length;++l)s[e[l]]=l;let n=t.length;for(;"="===t[n-1];)--n;const o=new Uint8Array(n*i/8|0);let a=0,c=0,u=0;for(let l=0;l<n;++l){const h=s[t[l]];if(void 0===h)throw new SyntaxError(`Non-${r} character`);c=c<<i|h,a+=i,a>=8&&(a-=8,o[u++]=255&c>>a)}if(a>=i||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o})(s,r,i,t)}),Sg=us({prefix:"\0",name:"identity",encode:t=>(t=>(new TextDecoder).decode(t))(t),decode:t=>(t=>(new TextEncoder).encode(t))(t)});var $g=Object.freeze({__proto__:null,identity:Sg});const Og=Oe({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var xg=Object.freeze({__proto__:null,base2:Og});const Ag=Oe({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Pg=Object.freeze({__proto__:null,base8:Ag});const Cg=fr({prefix:"9",name:"base10",alphabet:"0123456789"});var Rg=Object.freeze({__proto__:null,base10:Cg});const Tg=Oe({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Ng=Oe({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Fg=Object.freeze({__proto__:null,base16:Tg,base16upper:Ng});const Lg=Oe({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Bg=Oe({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Ug=Oe({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),kg=Oe({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Mg=Oe({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),qg=Oe({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),jg=Oe({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),zg=Oe({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Vg=Oe({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var Kg=Object.freeze({__proto__:null,base32:Lg,base32upper:Bg,base32pad:Ug,base32padupper:kg,base32hex:Mg,base32hexupper:qg,base32hexpad:jg,base32hexpadupper:zg,base32z:Vg});const Hg=fr({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Wg=fr({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Gg=Object.freeze({__proto__:null,base36:Hg,base36upper:Wg});const Yg=fr({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Jg=fr({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Zg=Object.freeze({__proto__:null,base58btc:Yg,base58flickr:Jg});const Qg=Oe({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Xg=Oe({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),ey=Oe({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),ty=Oe({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var iy=Object.freeze({__proto__:null,base64:Qg,base64pad:Xg,base64url:ey,base64urlpad:ty});const Tu=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),ry=Tu.reduce((t,e,i)=>(t[i]=e,t),[]),sy=Tu.reduce((t,e,i)=>(t[e.codePointAt(0)]=i,t),[]);const ay=us({prefix:"🚀",name:"base256emoji",encode:function ny(t){return t.reduce((e,i)=>e+=ry[i],"")},decode:function oy(t){const e=[];for(const i of t){const r=sy[i.codePointAt(0)];if(void 0===r)throw new Error(`Non-base256emoji character: ${i}`);e.push(r)}return new Uint8Array(e)}});var cy=Object.freeze({__proto__:null,base256emoji:ay}),uy=function Nu(t,e,i){e=e||[];for(var r=i=i||0;t>=dy;)e[i++]=255&t|oa,t/=128;for(;t&hy;)e[i++]=255&t|oa,t>>>=7;return e[i]=0|t,Nu.bytes=i-r+1,e},oa=128,hy=-128,dy=Math.pow(2,31);var py=function mn(t,r){var o,i=0,s=0,n=r=r||0,a=t.length;do{if(n>=a)throw mn.bytes=0,new RangeError("Could not decode varint");o=t[n++],i+=s<28?(o&aa)<<s:(o&aa)*Math.pow(2,s),s+=7}while(o>=fy);return mn.bytes=n-r,i},fy=128,aa=127;var gy=Math.pow(2,7),yy=Math.pow(2,14),wy=Math.pow(2,21),my=Math.pow(2,28),by=Math.pow(2,35),vy=Math.pow(2,42),Ey=Math.pow(2,49),_y=Math.pow(2,56),Iy=Math.pow(2,63),Sy={encode:uy,decode:py,encodingLength:function(t){return t<gy?1:t<yy?2:t<wy?3:t<my?4:t<by?5:t<vy?6:t<Ey?7:t<_y?8:t<Iy?9:10}},Fu=Sy;const ca=(t,e,i=0)=>(Fu.encode(t,e,i),e),ua=t=>Fu.encodingLength(t),bn=(t,e)=>{const i=e.byteLength,r=ua(t),s=r+ua(i),n=new Uint8Array(s+i);return ca(t,n,0),ca(i,n,r),n.set(e,s),new $y(t,i,e,n)};let $y=class{constructor(e,i,r,s){this.code=e,this.size=i,this.digest=r,this.bytes=s}};const Lu=({name:t,code:e,encode:i})=>new Oy(t,e,i);let Oy=class{constructor(e,i,r){this.name=e,this.code=i,this.encode=r}digest(e){if(e instanceof Uint8Array){const i=this.encode(e);return i instanceof Uint8Array?bn(this.code,i):i.then(r=>bn(this.code,r))}throw Error("Unknown type, must be binary type")}};const Bu=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),xy=Lu({name:"sha2-256",code:18,encode:Bu("SHA-256")}),Ay=Lu({name:"sha2-512",code:19,encode:Bu("SHA-512")});Object.freeze({__proto__:null,sha256:xy,sha512:Ay});const ku=Cu,Ty={code:0,name:"identity",encode:ku,digest:t=>bn(0,ku(t))};Object.freeze({__proto__:null,identity:Ty});new TextEncoder,new TextDecoder;const la={...$g,...xg,...Pg,...Rg,...Fg,...Kg,...Gg,...Zg,...iy,...cy};function Mu(t,e,i,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:i},decoder:{decode:r}}}const ha=Mu("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>(new TextEncoder).encode(t.substring(1))),ks=Mu("ascii","a",t=>{let e="a";for(let i=0;i<t.length;i++)e+=String.fromCharCode(t[i]);return e},t=>{const e=Au((t=t.substring(1)).length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}),qu={utf8:ha,"utf-8":ha,hex:la.base16,latin1:ks,ascii:ks,binary:ks,...la};function ls(t,e="utf8"){const i=qu[e];if(!i)throw new Error(`Unsupported encoding "${e}"`);return"utf8"!==e&&"utf-8"!==e||null==globalThis.Buffer||null==globalThis.Buffer.from?i.encoder.encode(t).substring(1):globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8")}function Ri(t,e="utf8"){const i=qu[e];if(!i)throw new Error(`Unsupported encoding "${e}"`);return"utf8"!==e&&"utf-8"!==e||null==globalThis.Buffer||null==globalThis.Buffer.from?i.decoder.decode(`${i.prefix}${t}`):to(globalThis.Buffer.from(t,"utf-8"))}function da(t){return Ii(ls(Ri(t,cs),"utf8"))}function Jr(t){return ls(Ri(ei(t),"utf8"),cs)}function ju(t){const i="z"+ls(Pu([Ri("K36",na),t]),na);return[ug,lg,i].join(":")}function Fy(t){return ls(t,cs)}function vn(t){const e=t.split("."),i=da(e[0]),r=da(e[1]),s=function Ly(t){return Ri(t,cs)}(e[2]);return{header:i,payload:r,signature:s,data:Ri(e.slice(0,2).join("."),"utf8")}}function pa(t=yu(32)){const e=$u.getPublicKey(t);return{secretKey:Pu([t,e]),publicKey:e}}async function ky(t,e,i,r,s=T.fromMiliseconds(Date.now())){const n={alg:"EdDSA",typ:"JWT"},c={iss:ju(r.publicKey),sub:t,aud:e,iat:s,exp:s+i},u=function By(t){return Ri([Jr(t.header),Jr(t.payload)].join("."),"utf8")}({header:n,payload:c});return function Uy(t){return[Jr(t.header),Jr(t.payload),Fy(t.signature)].join(".")}({header:n,payload:c,signature:$u.sign(u,r.secretKey.slice(0,32))})}var ae={};function ai(t){let e;return typeof window<"u"&&typeof window[t]<"u"&&(e=window[t]),e}function Ti(t){const e=ai(t);if(!e)throw new Error(`${t} is not defined in Window`);return e}Object.defineProperty(ae,"__esModule",{value:!0}),ae.getLocalStorage=ae.getLocalStorageOrThrow=ae.getCrypto=ae.getCryptoOrThrow=zu=ae.getLocation=ae.getLocationOrThrow=io=ae.getNavigator=ae.getNavigatorOrThrow=gr=ae.getDocument=ae.getDocumentOrThrow=ae.getFromWindowOrThrow=ae.getFromWindow=void 0,ae.getFromWindow=ai,ae.getFromWindowOrThrow=Ti,ae.getDocumentOrThrow=function My(){return Ti("document")};var gr=ae.getDocument=function qy(){return ai("document")};ae.getNavigatorOrThrow=function jy(){return Ti("navigator")};var io=ae.getNavigator=function zy(){return ai("navigator")};ae.getLocationOrThrow=function Vy(){return Ti("location")};var zu=ae.getLocation=function Ky(){return ai("location")};ae.getCryptoOrThrow=function Hy(){return Ti("crypto")},ae.getCrypto=function Wy(){return ai("crypto")},ae.getLocalStorageOrThrow=function Gy(){return Ti("localStorage")},ae.getLocalStorage=function Yy(){return ai("localStorage")};var ro={};Object.defineProperty(ro,"__esModule",{value:!0});var Vu=ro.getWindowMetadata=void 0;const fa=ae;function nr(t,{strict:e=!0}={}){return!(!t||"string"!=typeof t)&&(e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x"))}function ga(t){return nr(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}Vu=ro.getWindowMetadata=function Jy(){let t,e;try{t=fa.getDocumentOrThrow(),e=fa.getLocationOrThrow()}catch{return null}function r(...h){const d=t.getElementsByTagName("meta");for(let f=0;f<d.length;f++){const p=d[f],g=["itemprop","property","name"].map(y=>p.getAttribute(y)).filter(y=>!!y&&h.includes(y));if(g.length&&g){const y=p.getAttribute("content");if(y)return y}}return""}const o=function s(){let h=r("name","og:site_name","og:title","twitter:title");return h||(h=t.title),h}();return{description:function n(){return r("description","og:description","twitter:description","keywords")}(),url:e.origin,icons:function i(){const h=t.getElementsByTagName("link"),d=[];for(let f=0;f<h.length;f++){const p=h[f],g=p.getAttribute("rel");if(g&&g.toLowerCase().indexOf("icon")>-1){const y=p.getAttribute("href");if(y)if(-1===y.toLowerCase().indexOf("https:")&&-1===y.toLowerCase().indexOf("http:")&&0!==y.indexOf("//")){let m=e.protocol+"//"+e.host;if(0===y.indexOf("/"))m+=y;else{const w=e.pathname.split("/");w.pop();m+=w.join("/")+"/"+y}d.push(m)}else if(0===y.indexOf("//")){const m=e.protocol+y;d.push(m)}else d.push(y)}}return d}(),name:o}};let Ms_getDocsUrl=({docsBaseUrl:t,docsPath:e="",docsSlug:i})=>e?`${t??"https://viem.sh"}${e}${i?`#${i}`:""}`:void 0,Ms_version="viem@2.23.2";class ti extends Error{constructor(e,i={}){const r=i.cause instanceof ti?i.cause.details:i.cause?.message?i.cause.message:i.details,s=i.cause instanceof ti&&i.cause.docsPath||i.docsPath,n=Ms_getDocsUrl?.({...i,docsPath:s});super([e||"An error occurred.","",...i.metaMessages?[...i.metaMessages,""]:[],...n?[`Docs: ${n}`]:[],...r?[`Details: ${r}`]:[],...Ms_version?[`Version: ${Ms_version}`]:[]].join("\n"),i.cause?{cause:i.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=s,this.metaMessages=i.metaMessages,this.name=i.name??this.name,this.shortMessage=e,this.version="2.23.2"}walk(e){return Hu(this,e)}}function Hu(t,e){return e?.(t)?t:t&&"object"==typeof t&&"cause"in t&&void 0!==t.cause?Hu(t.cause,e):e?null:t}class Wu extends ti{constructor({size:e,targetSize:i,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${i}).`,{name:"SizeExceedsPaddingSizeError"})}}function Ni(t,{dir:e,size:i=32}={}){return"string"==typeof t?function Zy(t,{dir:e,size:i=32}={}){if(null===i)return t;const r=t.replace("0x","");if(r.length>2*i)throw new Wu({size:Math.ceil(r.length/2),targetSize:i,type:"hex"});return`0x${r["right"===e?"padEnd":"padStart"](2*i,"0")}`}(t,{dir:e,size:i}):function Qy(t,{dir:e,size:i=32}={}){if(null===i)return t;if(t.length>i)throw new Wu({size:t.length,targetSize:i,type:"bytes"});const r=new Uint8Array(i);for(let s=0;s<i;s++){const n="right"===e;r[n?s:i-s-1]=t[n?s:t.length-s-1]}return r}(t,{dir:e,size:i})}class Xy extends ti{constructor({max:e,min:i,signed:r,size:s,value:n}){super(`Number "${n}" is not in safe ${s?`${8*s}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${i} to ${e})`:`(above ${i})`}`,{name:"IntegerOutOfRangeError"})}}class ew extends ti{constructor({givenSize:e,maxSize:i}){super(`Size cannot exceed ${i} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}function Fi(t,{size:e}){if(ga(t)>e)throw new ew({givenSize:ga(t),maxSize:e})}function En(t,e={}){const{signed:i}=e;e.size&&Fi(t,{size:e.size});const r=BigInt(t);if(!i)return r;const s=(t.length-2)/2;return r<=(1n<<8n*BigInt(s)-1n)-1n?r:r-BigInt(`0x${"f".padStart(2*s,"f")}`)-1n}const iw=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function _n(t,e={}){return"number"==typeof t||"bigint"==typeof t?Yu(t,e):"string"==typeof t?function nw(t,e={}){const i=sw.encode(t);return Gu(i,e)}(t,e):"boolean"==typeof t?function rw(t,e={}){const i=`0x${Number(t)}`;return"number"==typeof e.size?(Fi(i,{size:e.size}),Ni(i,{size:e.size})):i}(t,e):Gu(t,e)}function Gu(t,e={}){let i="";for(let s=0;s<t.length;s++)i+=iw[t[s]];const r=`0x${i}`;return"number"==typeof e.size?(Fi(r,{size:e.size}),Ni(r,{dir:"right",size:e.size})):r}function Yu(t,e={}){const{signed:i,size:r}=e,s=BigInt(t);let n;r?n=i?(1n<<8n*BigInt(r)-1n)-1n:2n**(8n*BigInt(r))-1n:"number"==typeof t&&(n=BigInt(Number.MAX_SAFE_INTEGER));const o="bigint"==typeof n&&i?-n-1n:0;if(n&&s>n||s<o){const c="bigint"==typeof t?"n":"";throw new Xy({max:n?`${n}${c}`:void 0,min:`${o}${c}`,signed:i,size:r,value:`${t}${c}`})}const a=`0x${(i&&s<0?(1n<<BigInt(8*r))+BigInt(s):s).toString(16)}`;return r?Ni(a,{size:r}):a}const sw=new TextEncoder;const ow=new TextEncoder;function aw(t,e={}){return"number"==typeof t||"bigint"==typeof t?function uw(t,e){const i=Yu(t,e);return Ju(i)}(t,e):"boolean"==typeof t?function cw(t,e={}){const i=new Uint8Array(1);return i[0]=Number(t),"number"==typeof e.size?(Fi(i,{size:e.size}),Ni(i,{size:e.size})):i}(t,e):nr(t)?Ju(t,e):Zu(t,e)}const Et={zero:48,nine:57,A:65,F:70,a:97,f:102};function ya(t){return t>=Et.zero&&t<=Et.nine?t-Et.zero:t>=Et.A&&t<=Et.F?t-(Et.A-10):t>=Et.a&&t<=Et.f?t-(Et.a-10):void 0}function Ju(t,e={}){let i=t;e.size&&(Fi(i,{size:e.size}),i=Ni(i,{dir:"right",size:e.size}));let r=i.slice(2);r.length%2&&(r=`0${r}`);const s=r.length/2,n=new Uint8Array(s);for(let o=0,a=0;o<s;o++){const c=ya(r.charCodeAt(a++)),u=ya(r.charCodeAt(a++));if(void 0===c||void 0===u)throw new ti(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);n[o]=16*c+u}return n}function Zu(t,e={}){const i=ow.encode(t);return"number"==typeof e.size?(Fi(i,{size:e.size}),Ni(i,{dir:"right",size:e.size})):i}function Zr(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function hs(t,...e){if(!function lw(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&"Uint8Array"===t.constructor.name}(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function GD(t){if("function"!=typeof t||"function"!=typeof t.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");Zr(t.outputLen),Zr(t.blockLen)}function wa(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function hw(t,e){hs(t);const i=e.outputLen;if(t.length<i)throw new Error("digestInto() expects output buffer of length at least "+i)}const Rr=BigInt(2**32-1),ma=BigInt(32);function dw(t,e=!1){return e?{h:Number(t&Rr),l:Number(t>>ma&Rr)}:{h:0|Number(t>>ma&Rr),l:0|Number(t&Rr)}}function pw(t,e=!1){let i=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let s=0;s<t.length;s++){const{h:n,l:o}=dw(t[s],e);[i[s],r[s]]=[n,o]}return[i,r]}const gi="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;function YD(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function JD(t,e){return t<<32-e|t>>>e}const ba=(()=>68===new Uint8Array(new Uint32Array([287454020]).buffer)[0])();function bw(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function va(t){for(let e=0;e<t.length;e++)t[e]=bw(t[e])}function Qu(t){return"string"==typeof t&&(t=function vw(t){if("string"!=typeof t)throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array((new TextEncoder).encode(t))}(t)),hs(t),t}function ZD(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];hs(s),e+=s.length}const i=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const n=t[r];i.set(n,s),s+=n.length}return i}class Ew{clone(){return this._cloneInto()}}function _w(t){const e=r=>t().update(Qu(r)).digest(),i=t();return e.outputLen=i.outputLen,e.blockLen=i.blockLen,e.create=()=>t(),e}function QD(t=32){if(gi&&"function"==typeof gi.getRandomValues)return gi.getRandomValues(new Uint8Array(t));if(gi&&"function"==typeof gi.randomBytes)return gi.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}const Xu=[],el=[],tl=[],Iw=BigInt(0),ji=BigInt(1),Dw=BigInt(2),Sw=BigInt(7),$w=BigInt(256),Ow=BigInt(113);for(let t=0,e=ji,i=1,r=0;t<24;t++){[i,r]=[r,(2*i+3*r)%5],Xu.push(2*(5*r+i)),el.push((t+1)*(t+2)/2%64);let s=Iw;for(let n=0;n<7;n++)e=(e<<ji^(e>>Sw)*Ow)%$w,e&Dw&&(s^=ji<<(ji<<BigInt(n))-ji);tl.push(s)}const[xw,Aw]=pw(tl,!0),Ea=(t,e,i)=>i>32?((t,e,i)=>e<<i-32|t>>>64-i)(t,e,i):((t,e,i)=>t<<i|e>>>32-i)(t,e,i),_a=(t,e,i)=>i>32?((t,e,i)=>t<<i-32|e>>>64-i)(t,e,i):((t,e,i)=>e<<i|t>>>32-i)(t,e,i);class so extends Ew{constructor(e,i,r,s=!1,n=24){if(super(),this.blockLen=e,this.suffix=i,this.outputLen=r,this.enableXOF=s,this.rounds=n,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Zr(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=function mw(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}(this.state)}keccak(){ba||va(this.state32),function Pw(t,e=24){const i=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)i[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,u=i[c],l=i[c+1],h=Ea(u,l,1)^i[a],d=_a(u,l,1)^i[a+1];for(let f=0;f<50;f+=10)t[o+f]^=h,t[o+f+1]^=d}let s=t[2],n=t[3];for(let o=0;o<24;o++){const a=el[o],c=Ea(s,n,a),u=_a(s,n,a),l=Xu[o];s=t[l],n=t[l+1],t[l]=c,t[l+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)i[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~i[(a+2)%10]&i[(a+4)%10]}t[0]^=xw[r],t[1]^=Aw[r]}i.fill(0)}(this.state32,this.rounds),ba||va(this.state32),this.posOut=0,this.pos=0}update(e){wa(this);const{blockLen:i,state:r}=this,s=(e=Qu(e)).length;for(let n=0;n<s;){const o=Math.min(i-this.pos,s-n);for(let a=0;a<o;a++)r[this.pos++]^=e[n++];this.pos===i&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:i,pos:r,blockLen:s}=this;e[r]^=i,128&i&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){wa(this,!1),hs(e),this.finish();const i=this.state,{blockLen:r}=this;for(let s=0,n=e.length;s<n;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,n-s);e.set(i.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Zr(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(hw(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:i,suffix:r,outputLen:s,rounds:n,enableXOF:o}=this;return e||(e=new so(i,r,s,o,n)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=n,e.suffix=r,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}}const Cw=(t,e,i)=>_w(()=>new so(e,t,i)),Rw=Cw(1,136,32);function il(t,e){const i=e||"hex",r=Rw(nr(t,{strict:!1})?aw(t):t);return"bytes"===i?r:_n(r)}class Tw extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const i=super.get(e);return super.has(e)&&void 0!==i&&(this.delete(e),super.set(e,i)),i}set(e,i){if(super.set(e,i),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const qs=new Tw(8192);function Fw(t){return function Nw(t,e){if(qs.has(`${t}.${e}`))return qs.get(`${t}.${e}`);const i=e?`${e}${t.toLowerCase()}`:t.substring(2).toLowerCase(),r=il(Zu(i),"bytes"),s=(e?i.substring(`${e}0x`.length):i).split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&s[o]&&(s[o]=s[o].toUpperCase()),(15&r[o>>1])>=8&&s[o+1]&&(s[o+1]=s[o+1].toUpperCase());const n=`0x${s.join("")}`;return qs.set(`${t}.${e}`,n),n}(`0x${il(`0x${t.substring(4)}`).substring(26)}`)}async function Lw({hash:t,signature:e}){const i=nr(t)?t:_n(t),{secp256k1:r}=await __webpack_require__.e(4722).then(__webpack_require__.bind(__webpack_require__,"./node_modules/starknetkit/dist/secp256k1-bf520fb8.js"));return`0x${(()=>{if("object"==typeof e&&"r"in e&&"s"in e){const{r:u,s:l,v:h,yParity:d}=e,p=Ia(Number(d??h));return new r.Signature(En(u),En(l)).addRecoveryBit(p)}const o=nr(e)?e:_n(e),a=function tw(t,e={}){return Number(En(t,e))}(`0x${o.slice(130)}`),c=Ia(a);return r.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(i.substring(2)).toHex(!1)}`}function Ia(t){if(0===t||1===t)return t;if(27===t)return 0;if(28===t)return 1;throw new Error("Invalid yParityOrV value")}const Mw=function Uw(t){if(t.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let u=0;u<e.length;u++)e[u]=255;for(let u=0;u<t.length;u++){const l=t.charAt(u),h=l.charCodeAt(0);if(255!==e[h])throw new TypeError(l+" is ambiguous");e[h]=u}const i=t.length,r=t.charAt(0),s=Math.log(i)/Math.log(256),n=Math.log(256)/Math.log(i);function a(u){if("string"!=typeof u)throw new TypeError("Expected String");if(0===u.length)return new Uint8Array;let l=0,h=0,d=0;for(;u[l]===r;)h++,l++;const f=(u.length-l)*s+1>>>0,p=new Uint8Array(f);for(;l<u.length;){const w=u.charCodeAt(l);if(w>255)return;let b=e[w];if(255===b)return;let E=0;for(let O=f-1;(0!==b||E<d)&&-1!==O;O--,E++)b+=i*p[O]>>>0,p[O]=b%256>>>0,b=b/256>>>0;if(0!==b)throw new Error("Non-zero carry");d=E,l++}let g=f-d;for(;g!==f&&0===p[g];)g++;const y=new Uint8Array(h+(f-g));let m=h;for(;g!==f;)y[m++]=p[g++];return y}return{encode:function o(u){if(u instanceof Uint8Array||(ArrayBuffer.isView(u)?u=new Uint8Array(u.buffer,u.byteOffset,u.byteLength):Array.isArray(u)&&(u=Uint8Array.from(u))),!(u instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===u.length)return"";let l=0,h=0,d=0;const f=u.length;for(;d!==f&&0===u[d];)d++,l++;const p=(f-d)*n+1>>>0,g=new Uint8Array(p);for(;d!==f;){let w=u[d],b=0;for(let E=p-1;(0!==w||b<h)&&-1!==E;E--,b++)w+=256*g[E]>>>0,g[E]=w%i>>>0,w=w/i>>>0;if(0!==w)throw new Error("Non-zero carry");h=b,d++}let y=p-h;for(;y!==p&&0===g[y];)y++;let m=r.repeat(l);for(;y<p;++y)m+=t.charAt(g[y]);return m},decodeUnsafe:a,decode:function c(u){const l=a(u);if(l)return l;throw new Error("Non-base"+i+" character")}}}("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");function rl(t=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?globalThis.Buffer.allocUnsafe(t):new Uint8Array(t)}function Zi(t,e){e||(e=t.reduce((s,n)=>s+n.length,0));const i=rl(e);let r=0;for(const s of t)i.set(s,r),r+=s.length;return i}var jw=function qw(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var i=new Uint8Array(256),r=0;r<i.length;r++)i[r]=255;for(var s=0;s<t.length;s++){var n=t.charAt(s),o=n.charCodeAt(0);if(255!==i[o])throw new TypeError(n+" is ambiguous");i[o]=s}var a=t.length,c=t.charAt(0),u=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function d(p){if("string"!=typeof p)throw new TypeError("Expected String");if(0===p.length)return new Uint8Array;var g=0;if(" "!==p[g]){for(var y=0,m=0;p[g]===c;)y++,g++;for(var w=(p.length-g)*u+1>>>0,b=new Uint8Array(w);p[g];){var E=i[p.charCodeAt(g)];if(255===E)return;for(var O=0,S=w-1;(0!==E||O<m)&&-1!==S;S--,O++)E+=a*b[S]>>>0,b[S]=E%256>>>0,E=E/256>>>0;if(0!==E)throw new Error("Non-zero carry");m=O,g++}if(" "!==p[g]){for(var $=w-m;$!==w&&0===b[$];)$++;for(var A=new Uint8Array(y+(w-$)),I=y;$!==w;)A[I++]=b[$++];return A}}}return{encode:function h(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===p.length)return"";for(var g=0,y=0,m=0,w=p.length;m!==w&&0===p[m];)m++,g++;for(var b=(w-m)*l+1>>>0,E=new Uint8Array(b);m!==w;){for(var O=p[m],S=0,$=b-1;(0!==O||S<y)&&-1!==$;$--,S++)O+=256*E[$]>>>0,E[$]=O%a>>>0,O=O/a>>>0;if(0!==O)throw new Error("Non-zero carry");y=S,m++}for(var A=b-y;A!==b&&0===E[A];)A++;for(var I=c.repeat(g);A<b;++A)I+=t.charAt(E[A]);return I},decodeUnsafe:d,decode:function f(p){var g=d(p);if(g)return g;throw new Error(`Non-${e} character`)}}},zw=jw;class Ww{constructor(e,i,r){this.name=e,this.prefix=i,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class Gw{constructor(e,i,r){if(this.name=e,this.prefix=i,void 0===i.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=i.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return sl(this,e)}}class Yw{constructor(e){this.decoders=e}or(e){return sl(this,e)}decode(e){const i=e[0],r=this.decoders[i];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const sl=(t,e)=>new Yw({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class Jw{constructor(e,i,r,s){this.name=e,this.prefix=i,this.baseEncode=r,this.baseDecode=s,this.encoder=new Ww(e,i,r),this.decoder=new Gw(e,i,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const ds=({name:t,prefix:e,encode:i,decode:r})=>new Jw(t,e,i,r),yr=({prefix:t,name:e,alphabet:i})=>{const{encode:r,decode:s}=zw(i,e);return ds({prefix:t,name:e,encode:r,decode:n=>(t=>{if(t instanceof Uint8Array&&"Uint8Array"===t.constructor.name)return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")})(s(n))})},xe=({name:t,prefix:e,bitsPerChar:i,alphabet:r})=>ds({prefix:e,name:t,encode:s=>((t,e,i)=>{const r="="===e[e.length-1],s=(1<<i)-1;let n="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>i;)o-=i,n+=e[s&a>>o];if(o&&(n+=e[s&a<<i-o]),r)for(;n.length*i&7;)n+="=";return n})(s,r,i),decode:s=>((t,e,i,r)=>{const s={};for(let l=0;l<e.length;++l)s[e[l]]=l;let n=t.length;for(;"="===t[n-1];)--n;const o=new Uint8Array(n*i/8|0);let a=0,c=0,u=0;for(let l=0;l<n;++l){const h=s[t[l]];if(void 0===h)throw new SyntaxError(`Non-${r} character`);c=c<<i|h,a+=i,a>=8&&(a-=8,o[u++]=255&c>>a)}if(a>=i||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o})(s,r,i,t)}),Xw=ds({prefix:"\0",name:"identity",encode:t=>(t=>(new TextDecoder).decode(t))(t),decode:t=>(t=>(new TextEncoder).encode(t))(t)}),em=Object.freeze(Object.defineProperty({__proto__:null,identity:Xw},Symbol.toStringTag,{value:"Module"})),tm=xe({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),im=Object.freeze(Object.defineProperty({__proto__:null,base2:tm},Symbol.toStringTag,{value:"Module"})),rm=xe({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),sm=Object.freeze(Object.defineProperty({__proto__:null,base8:rm},Symbol.toStringTag,{value:"Module"})),nm=yr({prefix:"9",name:"base10",alphabet:"0123456789"}),om=Object.freeze(Object.defineProperty({__proto__:null,base10:nm},Symbol.toStringTag,{value:"Module"})),am=xe({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),cm=xe({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),um=Object.freeze(Object.defineProperty({__proto__:null,base16:am,base16upper:cm},Symbol.toStringTag,{value:"Module"})),lm=xe({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),hm=xe({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),dm=xe({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),pm=xe({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),fm=xe({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),gm=xe({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),ym=xe({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),wm=xe({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),mm=xe({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),bm=Object.freeze(Object.defineProperty({__proto__:null,base32:lm,base32hex:fm,base32hexpad:ym,base32hexpadupper:wm,base32hexupper:gm,base32pad:dm,base32padupper:pm,base32upper:hm,base32z:mm},Symbol.toStringTag,{value:"Module"})),vm=yr({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Em=yr({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),_m=Object.freeze(Object.defineProperty({__proto__:null,base36:vm,base36upper:Em},Symbol.toStringTag,{value:"Module"})),Im=yr({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Dm=yr({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),Sm=Object.freeze(Object.defineProperty({__proto__:null,base58btc:Im,base58flickr:Dm},Symbol.toStringTag,{value:"Module"})),$m=xe({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Om=xe({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),xm=xe({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Am=xe({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),Pm=Object.freeze(Object.defineProperty({__proto__:null,base64:$m,base64pad:Om,base64url:xm,base64urlpad:Am},Symbol.toStringTag,{value:"Module"})),nl=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),Cm=nl.reduce((t,e,i)=>(t[i]=e,t),[]),Rm=nl.reduce((t,e,i)=>(t[e.codePointAt(0)]=i,t),[]);const Fm=ds({prefix:"🚀",name:"base256emoji",encode:function Tm(t){return t.reduce((e,i)=>e+=Cm[i],"")},decode:function Nm(t){const e=[];for(const i of t){const r=Rm[i.codePointAt(0)];if(void 0===r)throw new Error(`Non-base256emoji character: ${i}`);e.push(r)}return new Uint8Array(e)}}),Lm=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:Fm},Symbol.toStringTag,{value:"Module"}));new TextEncoder,new TextDecoder;const Da={...em,...im,...sm,...om,...um,...bm,..._m,...Sm,...Pm,...Lm};function ol(t,e,i,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:i},decoder:{decode:r}}}const Sa=ol("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>(new TextEncoder).encode(t.substring(1))),js=ol("ascii","a",t=>{let e="a";for(let i=0;i<t.length;i++)e+=String.fromCharCode(t[i]);return e},t=>{const e=rl((t=t.substring(1)).length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}),al={utf8:Sa,"utf-8":Sa,hex:Da.base16,latin1:js,ascii:js,binary:js,...Da};function Xe(t,e="utf8"){const i=al[e];if(!i)throw new Error(`Unsupported encoding "${e}"`);return"utf8"!==e&&"utf-8"!==e||null==globalThis.Buffer||null==globalThis.Buffer.from?i.decoder.decode(`${i.prefix}${t}`):globalThis.Buffer.from(t,"utf8")}function qe(t,e="utf8"){const i=al[e];if(!i)throw new Error(`Unsupported encoding "${e}"`);return"utf8"!==e&&"utf-8"!==e||null==globalThis.Buffer||null==globalThis.Buffer.from?i.encoder.encode(t).substring(1):globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8")}const Bm={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}};function jr(t){const[e,i]=t.split(":");return{namespace:e,reference:i}}function qm(t){const{namespace:e,reference:i}=function km(t){const[e,i,r]=t.split(":");return{namespace:e,reference:i,address:r}}(t);return function Um(t){const{namespace:e,reference:i}=t;return[e,i].join(":")}({namespace:e,reference:i})}function cl(t,e=[]){const i=[];return Object.keys(t).forEach(r=>{if(e.length&&!e.includes(r))return;const s=t[r];i.push(...s.accounts)}),i}function ul(t,e=[]){const i=[];return Object.keys(t).forEach(r=>{if(e.length&&!e.includes(r))return;const s=t[r];i.push(...function jm(t){return function Mm(t,e){const i=[];return t.forEach(r=>{const s=e(r);i.includes(s)||i.push(s)}),i}(t,qm)}(s.accounts))}),i}function oo(t,e){return t.includes(":")?[t]:e.chains||[]}var Vm=Object.defineProperty,Km=Object.defineProperties,Hm=Object.getOwnPropertyDescriptors,$a=Object.getOwnPropertySymbols,Wm=Object.prototype.hasOwnProperty,Gm=Object.prototype.propertyIsEnumerable,Oa=(t,e,i)=>e in t?Vm(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,xa=(t,e)=>{for(var i in e||(e={}))Wm.call(e,i)&&Oa(t,i,e[i]);if($a)for(var i of $a(e))Gm.call(e,i)&&Oa(t,i,e[i]);return t};const We_reactNative="react-native",We_node="node",We_browser="browser",We_unknown="unknown",Zm="js";function Qr(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function Ut(){return!gr()&&!!io()&&"ReactNative"===navigator.product}function wr(){return!Qr()&&!!io()&&!!gr()}function mr(){return Ut()?We_reactNative:Qr()?We_node:wr()?We_browser:We_unknown}function Aa(){var t;try{return Ut()&&typeof __webpack_require__.g<"u"&&typeof(null==__webpack_require__.g?void 0:__webpack_require__.g.Application)<"u"?null==(t=__webpack_require__.g.Application)?void 0:t.applicationId:void 0}catch{return}}function tb(t){var e,i;const r=ll();try{return null!=t&&t.url&&r.url&&t.url!==r.url&&(console.warn(`The configured WalletConnect 'metadata.url':${t.url} differs from the actual page url:${r.url}. This is probably unintended and can lead to issues.`),t.url=r.url),null!=(e=t?.icons)&&e.length&&t.icons.length>0&&(t.icons=t.icons.filter(s=>""!==s)),((t,e)=>Km(t,Hm(e)))(xa(xa({},r),t),{url:t?.url||r.url,name:t?.name||r.name,description:t?.description||r.description,icons:null!=(i=t?.icons)&&i.length&&t.icons.length>0?t.icons:r.icons})}catch(s){return console.warn("Error populating app metadata",s),t||r}}function ll(){return Vu()||{name:"",description:"",url:"",icons:[""]}}function hl(t,e,i){const r=function ib(){if(mr()===We_reactNative&&typeof __webpack_require__.g<"u"&&typeof(null==__webpack_require__.g?void 0:__webpack_require__.g.Platform)<"u"){const{OS:i,Version:r}=__webpack_require__.g.Platform;return[i,r].join("-")}const t=(0,_Modal_f68d2590_js__WEBPACK_IMPORTED_MODULE_1__.d)();if(null===t)return"unknown";const e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return"browser"===t.type?[e,t.name,t.version].join("-"):[e,t.version].join("-")}(),s=function rb(){var t;const e=mr();return e===We_browser?[e,(null==(t=zu())?void 0:t.host)||"unknown"].join(":"):e}();return[[t,e].join("-"),[Zm,i].join("-"),r,s].join("/")}function sb({protocol:t,version:e,relayUrl:i,sdkVersion:r,auth:s,projectId:n,useOnCloseEvent:o,bundleId:a,packageName:c}){const u=i.split("?"),h={auth:s,ua:hl(t,e,r),projectId:n,useOnCloseEvent:o||void 0,packageName:c||void 0,bundleId:a||void 0},d=function eb(t,e){const i=new URLSearchParams(t);for(const r of Object.keys(e).sort())if(e.hasOwnProperty(r)){const s=e[r];void 0!==s&&i.set(r,s)}return i.toString()}(u[1]||"",h);return u[0]+"?"+d}function Jt(t,e){return t.filter(i=>e.includes(i)).length===t.length}function In(t){return Object.fromEntries(t.entries())}function Dn(t){return new Map(Object.entries(t))}function Ht(t=T.FIVE_MINUTES,e){const i=T.toMiliseconds(t||T.FIVE_MINUTES);let r,s,n,o;return{resolve:a=>{n&&r&&(clearTimeout(n),r(a),o=Promise.resolve(a))},reject:a=>{n&&s&&(clearTimeout(n),s(a))},done:()=>new Promise((a,c)=>{if(o)return a(o);n=setTimeout(()=>{const u=new Error(e);o=Promise.reject(u),c(u)},i),r=a,s=c})}}function Lt(t,e,i){return new Promise(async(r,s)=>{const n=setTimeout(()=>s(new Error(i)),e);try{r(await t)}catch(o){s(o)}clearTimeout(n)})}function dl(t,e){if("string"==typeof e&&e.startsWith(`${t}:`))return e;if("topic"===t.toLowerCase()){if("string"!=typeof e)throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}if("id"===t.toLowerCase()){if("number"!=typeof e)throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function pl(t){const[e,i]=t.split(":"),r={id:void 0,topic:void 0};if("topic"===e&&"string"==typeof i)r.topic=i;else{if("id"!==e||!Number.isInteger(Number(i)))throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${i}`);r.id=Number(i)}return r}function pe(t,e){return T.fromMiliseconds((e||Date.now())+T.toMiliseconds(t))}function Nt(t){return Date.now()>=T.toMiliseconds(t)}function X(t,e){return`${t}${e?`:${e}`:""}`}function ab(t=[],e=[]){return[...new Set([...t,...e])]}async function cb({id:t,topic:e,wcDeepLink:i}){var r;try{if(!i)return;const s="string"==typeof i?JSON.parse(i):i,n=s?.href;if("string"!=typeof n)return;const o=function ub(t,e,i){const r=`requestId=${e}&sessionTopic=${i}`;t.endsWith("/")&&(t=t.slice(0,-1));let s=`${t}`;if(t.startsWith("https://t.me")){s=`${s}${t.includes("?")?"&startapp=":"?startapp="}${function fb(t,e=!1){const i=Buffer.from(t).toString("base64");return e?i.replace(/[=]/g,""):i}(r,!0)}`}else s=`${s}/wc?${r}`;return s}(n,t,e),a=mr();if(a===We_browser){if(null==(r=gr())||!r.hasFocus())return void console.warn("Document does not have focus, skipping deeplink.");!function lb(t){let e="_self";!function pb(){try{return window.self!==window.top}catch{return!1}}()?(function db(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}()||t.startsWith("https://")||t.startsWith("http://"))&&(e="_blank"):e="_top",window.open(t,e,"noreferrer noopener")}(o)}else a===We_reactNative&&typeof(null==__webpack_require__.g?void 0:__webpack_require__.g.Linking)<"u"&&await __webpack_require__.g.Linking.openURL(o)}catch(s){console.error(s)}}function Pa(t,e){if(!t.includes(e))return null;const i=t.split(/([&,?,=])/),r=i.indexOf(e);return i[r+2]}function Ca(){return typeof crypto<"u"&&null!=crypto&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})}function ao(){return typeof process<"u"&&"true"===process.env.IS_VITEST}function fl(t){return Buffer.from(t,"base64").toString("utf-8")}function or(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function br(t,...e){if(!function yb(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&"Uint8Array"===t.constructor.name}(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function co(t){if("function"!=typeof t||"function"!=typeof t.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");or(t.outputLen),or(t.blockLen)}function Di(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function gl(t,e){br(t);const i=e.outputLen;if(t.length<i)throw new Error("digestInto() expects output buffer of length at least "+i)}const Tr=BigInt(2**32-1),Ra=BigInt(32);function wb(t,e=!1){return e?{h:Number(t&Tr),l:Number(t>>Ra&Tr)}:{h:0|Number(t>>Ra&Tr),l:0|Number(t&Tr)}}const yi="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;function zs(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function ct(t,e){return t<<32-e|t>>>e}const Ta=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0];function Db(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function Na(t){for(let e=0;e<t.length;e++)t[e]=Db(t[e])}function Si(t){return"string"==typeof t&&(t=function Sb(t){if("string"!=typeof t)throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array((new TextEncoder).encode(t))}(t)),br(t),t}class uo{clone(){return this._cloneInto()}}function yl(t){const e=r=>t().update(Si(r)).digest(),i=t();return e.outputLen=i.outputLen,e.blockLen=i.blockLen,e.create=()=>t(),e}function Li(t=32){if(yi&&"function"==typeof yi.getRandomValues)return yi.getRandomValues(new Uint8Array(t));if(yi&&"function"==typeof yi.randomBytes)return yi.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}const wl=[],ml=[],bl=[],Ob=BigInt(0),zi=BigInt(1),xb=BigInt(2),Ab=BigInt(7),Pb=BigInt(256),Cb=BigInt(113);for(let t=0,e=zi,i=1,r=0;t<24;t++){[i,r]=[r,(2*i+3*r)%5],wl.push(2*(5*r+i)),ml.push((t+1)*(t+2)/2%64);let s=Ob;for(let n=0;n<7;n++)e=(e<<zi^(e>>Ab)*Cb)%Pb,e&xb&&(s^=zi<<(zi<<BigInt(n))-zi);bl.push(s)}const[Rb,Tb]=function mb(t,e=!1){let i=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let s=0;s<t.length;s++){const{h:n,l:o}=wb(t[s],e);[i[s],r[s]]=[n,o]}return[i,r]}(bl,!0),Fa=(t,e,i)=>i>32?((t,e,i)=>e<<i-32|t>>>64-i)(t,e,i):((t,e,i)=>t<<i|e>>>32-i)(t,e,i),La=(t,e,i)=>i>32?((t,e,i)=>t<<i-32|e>>>64-i)(t,e,i):((t,e,i)=>e<<i|t>>>32-i)(t,e,i);let Fb=class vl extends uo{constructor(e,i,r,s=!1,n=24){if(super(),this.blockLen=e,this.suffix=i,this.outputLen=r,this.enableXOF=s,this.rounds=n,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,or(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=function Ib(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}(this.state)}keccak(){Ta||Na(this.state32),function Nb(t,e=24){const i=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)i[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,u=i[c],l=i[c+1],h=Fa(u,l,1)^i[a],d=La(u,l,1)^i[a+1];for(let f=0;f<50;f+=10)t[o+f]^=h,t[o+f+1]^=d}let s=t[2],n=t[3];for(let o=0;o<24;o++){const a=ml[o],c=Fa(s,n,a),u=La(s,n,a),l=wl[o];s=t[l],n=t[l+1],t[l]=c,t[l+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)i[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~i[(a+2)%10]&i[(a+4)%10]}t[0]^=Rb[r],t[1]^=Tb[r]}i.fill(0)}(this.state32,this.rounds),Ta||Na(this.state32),this.posOut=0,this.pos=0}update(e){Di(this);const{blockLen:i,state:r}=this,s=(e=Si(e)).length;for(let n=0;n<s;){const o=Math.min(i-this.pos,s-n);for(let a=0;a<o;a++)r[this.pos++]^=e[n++];this.pos===i&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:i,pos:r,blockLen:s}=this;e[r]^=i,128&i&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){Di(this,!1),br(e),this.finish();const i=this.state,{blockLen:r}=this;for(let s=0,n=e.length;s<n;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,n-s);e.set(i.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return or(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(gl(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:i,suffix:r,outputLen:s,rounds:n,enableXOF:o}=this;return e||(e=new vl(i,r,s,o,n)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=n,e.suffix=r,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}};const Bb=(t=1,e=136,i=32,yl(()=>new Fb(e,t,i))),Ub="https://rpc.walletconnect.org/v1";var t,e,i;function El(t){const e=`Ethereum Signed Message:\n${t.length}`,i=(new TextEncoder).encode(e+t);return"0x"+Buffer.from(Bb(i)).toString("hex")}async function kb(t,e,i,r,s,n){switch(i.t){case"eip191":return await async function Mb(t,e,i){return(await async function Bw({hash:t,signature:e}){return Fw(await Lw({hash:t,signature:e}))}({hash:El(e),signature:i})).toLowerCase()===t.toLowerCase()}(t,e,i.s);case"eip1271":return await async function qb(t,e,i,r,s,n){const o=jr(r);if(!o.namespace||!o.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${r}`);try{const a="0x1626ba7e",c="0000000000000000000000000000000000000000000000000000000000000040",u="0000000000000000000000000000000000000000000000000000000000000041",l=i.substring(2),d=a+El(e).substring(2)+c+u+l,f=await fetch(`${n||Ub}/?chainId=${r}&projectId=${s}`,{method:"POST",body:JSON.stringify({id:jb(),jsonrpc:"2.0",method:"eth_call",params:[{to:t,data:d},"latest"]})}),{result:p}=await f.json();return!!p&&p.slice(0,a.length).toLowerCase()===a.toLowerCase()}catch(a){return console.error("isValidEip1271Signature: ",a),!1}}(t,e,i.s,r,s,n);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${i.t}`)}}function jb(){return Date.now()+Math.floor(1e3*Math.random())}var Vb=Object.defineProperty,Kb=Object.defineProperties,Hb=Object.getOwnPropertyDescriptors,Ba=Object.getOwnPropertySymbols,Wb=Object.prototype.hasOwnProperty,Gb=Object.prototype.propertyIsEnumerable,Ua=(t,e,i)=>e in t?Vb(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i;const lo=t=>t?.split(":"),Sn=t=>{const e=t&&lo(t);if(e)return e[2]+":"+e[3]},Xr=t=>{const e=t&&lo(t);if(e)return e.pop()};async function ka(t){const{cacao:e,projectId:i}=t,{s:r,p:s}=e,n=_l(s,s.iss),o=Xr(s.iss);return await kb(o,n,r,Sn(s.iss),i)}const _l=(t,e)=>{const i=`${t.domain} wants you to sign in with your Ethereum account:`,r=Xr(e);if(!t.aud&&!t.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let s=t.statement||void 0;const n=`URI: ${t.aud||t.uri}`,o=`Version: ${t.version}`,a=`Chain ID: ${(t=>{const e=t&&lo(t);if(e)return t.includes("did:pkh:")?e[3]:e[1]})(e)}`,c=`Nonce: ${t.nonce}`,u=`Issued At: ${t.iat}`,l=t.exp?`Expiration Time: ${t.exp}`:void 0,h=t.nbf?`Not Before: ${t.nbf}`:void 0,d=t.requestId?`Request ID: ${t.requestId}`:void 0,f=t.resources?`Resources:${t.resources.map(g=>`\n- ${g}`).join("")}`:void 0,p=zr(t.resources);if(p){s=function a1(t="",e){ii(e);const i="I further authorize the stated URI to perform the following actions on my behalf: ";if(t.includes(i))return t;const r=[];let s=0;Object.keys(e.att).forEach(a=>{const c=Object.keys(e.att[a]).map(h=>({ability:h.split("/")[0],action:h.split("/")[1]}));c.sort((h,d)=>h.action.localeCompare(d.action));const u={};c.forEach(h=>{u[h.ability]||(u[h.ability]=[]),u[h.ability].push(h.action)});const l=Object.keys(u).map(h=>(s++,`(${s}) '${h}': '${u[h].join("', '")}' for '${a}'.`));r.push(l.join(", ").replace(".,","."))});const n=r.join(" "),o=`${i}${n}`;return`${t?t+" ":""}${o}`}(s,ar(p))}return[i,r,"",s,"",n,o,a,c,u,l,h,d,f].filter(g=>null!=g).join("\n")};function ii(t){if(!t)throw new Error("No recap provided, value is undefined");if(!t.att)throw new Error("No `att` property found");const e=Object.keys(t.att);if(null==e||!e.length)throw new Error("No resources found in `att` property");e.forEach(i=>{const r=t.att[i];if(Array.isArray(r))throw new Error(`Resource must be an object: ${i}`);if("object"!=typeof r)throw new Error(`Resource must be an object: ${i}`);if(!Object.keys(r).length)throw new Error(`Resource object is empty: ${i}`);Object.keys(r).forEach(s=>{const n=r[s];if(!Array.isArray(n))throw new Error(`Ability limits ${s} must be an array of objects, found: ${n}`);if(!n.length)throw new Error(`Value of ${s} is empty array, must be an array with objects`);n.forEach(o=>{if("object"!=typeof o)throw new Error(`Ability limits (${s}) must be an array of objects, found: ${o}`)})})})}function i1(t,e,i={}){e=e?.sort((s,n)=>s.localeCompare(n));const r=e.map(s=>({[`${t}/${s}`]:[i]}));return Object.assign({},...r)}function Il(t){return ii(t),`urn:recap:${function Xb(t){return Buffer.from(JSON.stringify(t)).toString("base64")}(t).replace(/=/g,"")}`}function ar(t){const e=function e1(t){return JSON.parse(Buffer.from(t,"base64").toString("utf-8"))}(t.replace("urn:recap:",""));return ii(e),e}function r1(t,e,i){const r=function t1(t,e,i,r={}){return i?.sort((s,n)=>s.localeCompare(n)),{att:{[t]:i1(e,i,r)}}}(t,e,i);return Il(r)}function n1(t,e){const s=function o1(t,e){ii(t),ii(e);const i=Object.keys(t.att).concat(Object.keys(e.att)).sort((s,n)=>s.localeCompare(n)),r={att:{}};return i.forEach(s=>{var n,o;Object.keys((null==(n=t.att)?void 0:n[s])||{}).concat(Object.keys((null==(o=e.att)?void 0:o[s])||{})).sort((a,c)=>a.localeCompare(c)).forEach(a=>{var c,u;r.att[s]=((t,e)=>Kb(t,Hb(e)))(((t,e)=>{for(var i in e||(e={}))Wb.call(e,i)&&Ua(t,i,e[i]);if(Ba)for(var i of Ba(e))Gb.call(e,i)&&Ua(t,i,e[i]);return t})({},r.att[s]),{[a]:(null==(c=t.att[s])?void 0:c[a])||(null==(u=e.att[s])?void 0:u[a])})})}),r}(ar(t),ar(e));return Il(s)}function Ma(t){var e;const i=ar(t);ii(i);const r=null==(e=i.att)?void 0:e.eip155;return r?Object.keys(r).map(s=>s.split("/")[1]):[]}function qa(t){const e=ar(t);ii(e);const i=[];return Object.values(e.att).forEach(r=>{Object.values(r).forEach(s=>{var n;null!=(n=s?.[0])&&n.chains&&i.push(s[0].chains)})}),[...new Set(i.flat())]}function zr(t){if(!t)return;const e=t?.[t.length-1];return function s1(t){return t&&t.includes("urn:recap:")}(e)?e:void 0}function Vs(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Dl(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&"Uint8Array"===t.constructor.name}function He(t,...e){if(!Dl(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function ja(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function za(t){if("boolean"!=typeof t)throw new Error(`boolean expected, not ${t}`)}const Bt=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4));if(!(68===new Uint8Array(new Uint32Array([287454020]).buffer)[0]))throw new Error("Non little-endian hardware is not supported");function $n(t){if("string"==typeof t)t=function h1(t){if("string"!=typeof t)throw new Error("string expected");return new Uint8Array((new TextEncoder).encode(t))}(t);else{if(!Dl(t))throw new Error("Uint8Array expected, got "+typeof t);t=On(t)}return t}function Va(t,e,i=!0){if(void 0===e)return new Uint8Array(t);if(e.length!==t)throw new Error("invalid output length, expected "+t+", got: "+e.length);if(i&&!function g1(t){return t.byteOffset%4==0}(e))throw new Error("invalid output, must be aligned");return e}function Ka(t,e,i,r){if("function"==typeof t.setBigUint64)return t.setBigUint64(e,i,r);const s=BigInt(32),n=BigInt(4294967295),o=Number(i>>s&n),a=Number(i&n),c=r?4:0,u=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+u,a,r)}function On(t){return Uint8Array.from(t)}function $i(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}const Sl=t=>Uint8Array.from(t.split("").map(e=>e.charCodeAt(0))),y1=Sl("expand 16-byte k"),w1=Sl("expand 32-byte k"),m1=Bt(y1),b1=Bt(w1);function Z(t,e){return t<<e|t>>>32-e}function xn(t){return t.byteOffset%4==0}const $l=2**32-1,Ha=new Uint32Array;const Ie=(t,e)=>255&t[e++]|(255&t[e++])<<8;class I1{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,He(e=$n(e),32);const i=Ie(e,0),r=Ie(e,2),s=Ie(e,4),n=Ie(e,6),o=Ie(e,8),a=Ie(e,10),c=Ie(e,12),u=Ie(e,14);this.r[0]=8191&i,this.r[1]=8191&(i>>>13|r<<3),this.r[2]=7939&(r>>>10|s<<6),this.r[3]=8191&(s>>>7|n<<9),this.r[4]=255&(n>>>4|o<<12),this.r[5]=o>>>1&8190,this.r[6]=8191&(o>>>14|a<<2),this.r[7]=8065&(a>>>11|c<<5),this.r[8]=8191&(c>>>8|u<<8),this.r[9]=u>>>5&127;for(let l=0;l<8;l++)this.pad[l]=Ie(e,16+2*l)}process(e,i,r=!1){const s=r?0:2048,{h:n,r:o}=this,a=o[0],c=o[1],u=o[2],l=o[3],h=o[4],d=o[5],f=o[6],p=o[7],g=o[8],y=o[9],m=Ie(e,i+0),w=Ie(e,i+2),b=Ie(e,i+4),E=Ie(e,i+6),O=Ie(e,i+8),S=Ie(e,i+10),$=Ie(e,i+12),A=Ie(e,i+14);let I=n[0]+(8191&m),M=n[1]+(8191&(m>>>13|w<<3)),L=n[2]+(8191&(w>>>10|b<<6)),U=n[3]+(8191&(b>>>7|E<<9)),q=n[4]+(8191&(E>>>4|O<<12)),C=n[5]+(O>>>1&8191),_=n[6]+(8191&(O>>>14|S<<2)),v=n[7]+(8191&(S>>>11|$<<5)),x=n[8]+(8191&($>>>8|A<<8)),P=n[9]+(A>>>5|s),D=0,N=D+I*a+M*(5*y)+L*(5*g)+U*(5*p)+q*(5*f);D=N>>>13,N&=8191,N+=C*(5*d)+_*(5*h)+v*(5*l)+x*(5*u)+P*(5*c),D+=N>>>13,N&=8191;let B=D+I*c+M*a+L*(5*y)+U*(5*g)+q*(5*p);D=B>>>13,B&=8191,B+=C*(5*f)+_*(5*d)+v*(5*h)+x*(5*l)+P*(5*u),D+=B>>>13,B&=8191;let k=D+I*u+M*c+L*a+U*(5*y)+q*(5*g);D=k>>>13,k&=8191,k+=C*(5*p)+_*(5*f)+v*(5*d)+x*(5*h)+P*(5*l),D+=k>>>13,k&=8191;let j=D+I*l+M*u+L*c+U*a+q*(5*y);D=j>>>13,j&=8191,j+=C*(5*g)+_*(5*p)+v*(5*f)+x*(5*d)+P*(5*h),D+=j>>>13,j&=8191;let z=D+I*h+M*l+L*u+U*c+q*a;D=z>>>13,z&=8191,z+=C*(5*y)+_*(5*g)+v*(5*p)+x*(5*f)+P*(5*d),D+=z>>>13,z&=8191;let H=D+I*d+M*h+L*l+U*u+q*c;D=H>>>13,H&=8191,H+=C*a+_*(5*y)+v*(5*g)+x*(5*p)+P*(5*f),D+=H>>>13,H&=8191;let Y=D+I*f+M*d+L*h+U*l+q*u;D=Y>>>13,Y&=8191,Y+=C*c+_*a+v*(5*y)+x*(5*g)+P*(5*p),D+=Y>>>13,Y&=8191;let ne=D+I*p+M*f+L*d+U*h+q*l;D=ne>>>13,ne&=8191,ne+=C*u+_*c+v*a+x*(5*y)+P*(5*g),D+=ne>>>13,ne&=8191;let ee=D+I*g+M*p+L*f+U*d+q*h;D=ee>>>13,ee&=8191,ee+=C*l+_*u+v*c+x*a+P*(5*y),D+=ee>>>13,ee&=8191;let J=D+I*y+M*g+L*p+U*f+q*d;D=J>>>13,J&=8191,J+=C*h+_*l+v*u+x*c+P*a,D+=J>>>13,J&=8191,D=(D<<2)+D|0,D=D+N|0,N=8191&D,D>>>=13,B+=D,n[0]=N,n[1]=B,n[2]=k,n[3]=j,n[4]=z,n[5]=H,n[6]=Y,n[7]=ne,n[8]=ee,n[9]=J}finalize(){const{h:e,pad:i}=this,r=new Uint16Array(10);let s=e[1]>>>13;e[1]&=8191;for(let a=2;a<10;a++)e[a]+=s,s=e[a]>>>13,e[a]&=8191;e[0]+=5*s,s=e[0]>>>13,e[0]&=8191,e[1]+=s,s=e[1]>>>13,e[1]&=8191,e[2]+=s,r[0]=e[0]+5,s=r[0]>>>13,r[0]&=8191;for(let a=1;a<10;a++)r[a]=e[a]+s,s=r[a]>>>13,r[a]&=8191;r[9]-=8192;let n=(1^s)-1;for(let a=0;a<10;a++)r[a]&=n;n=~n;for(let a=0;a<10;a++)e[a]=e[a]&n|r[a];e[0]=65535&(e[0]|e[1]<<13),e[1]=65535&(e[1]>>>3|e[2]<<10),e[2]=65535&(e[2]>>>6|e[3]<<7),e[3]=65535&(e[3]>>>9|e[4]<<4),e[4]=65535&(e[4]>>>12|e[5]<<1|e[6]<<14),e[5]=65535&(e[6]>>>2|e[7]<<11),e[6]=65535&(e[7]>>>5|e[8]<<8),e[7]=65535&(e[8]>>>8|e[9]<<5);let o=e[0]+i[0];e[0]=65535&o;for(let a=1;a<8;a++)o=(e[a]+i[a]|0)+(o>>>16)|0,e[a]=65535&o;$i(r)}update(e){ja(this);const{buffer:i,blockLen:r}=this,s=(e=$n(e)).length;for(let n=0;n<s;){const o=Math.min(r-this.pos,s-n);if(o!==r)i.set(e.subarray(n,n+o),this.pos),this.pos+=o,n+=o,this.pos===r&&(this.process(i,0,!1),this.pos=0);else for(;r<=s-n;n+=r)this.process(e,n)}return this}destroy(){$i(this.h,this.r,this.buffer,this.pad)}digestInto(e){ja(this),function c1(t,e){He(t);const i=e.outputLen;if(t.length<i)throw new Error("digestInto() expects output buffer of length at least "+i)}(e,this),this.finished=!0;const{buffer:i,h:r}=this;let{pos:s}=this;if(s){for(i[s++]=1;s<16;s++)i[s]=0;this.process(i,0,!0)}this.finalize();let n=0;for(let o=0;o<8;o++)e[n++]=r[o]>>>0,e[n++]=r[o]>>>8;return e}digest(){const{buffer:e,outputLen:i}=this;this.digestInto(e);const r=e.slice(0,i);return this.destroy(),r}}const S1=function D1(t){const e=(r,s)=>t(s).update($n(r)).digest(),i=t(new Uint8Array(32));return e.outputLen=i.outputLen,e.blockLen=i.blockLen,e.create=r=>t(r),e}(t=>new I1(t));const O1=function _1(t,e){const{allowShortKeys:i,extendNonceFn:r,counterLength:s,counterRight:n,rounds:o}=function d1(t,e){if(null==e||"object"!=typeof e)throw new Error("options must be defined");return Object.assign(t,e)}({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if("function"!=typeof t)throw new Error("core must be a function");return Vs(s),Vs(o),za(n),za(i),(a,c,u,l,h=0)=>{He(a),He(c),He(u);const d=u.length;if(void 0===l&&(l=new Uint8Array(d)),He(l),Vs(h),h<0||h>=$l)throw new Error("arx: counter overflow");if(l.length<d)throw new Error(`arx: output (${l.length}) is shorter than data (${d})`);const f=[];let g,y,p=a.length;if(32===p)f.push(g=On(a)),y=b1;else{if(16!==p||!i)throw new Error(`arx: invalid 32-byte key, got length=${p}`);g=new Uint8Array(32),g.set(a),g.set(a,16),y=m1,f.push(g)}xn(c)||f.push(c=On(c));const m=Bt(g);if(r){if(24!==c.length)throw new Error("arx: extended nonce must be 24 bytes");r(y,m,Bt(c.subarray(0,16)),m),c=c.subarray(16)}const w=16-s;if(w!==c.length)throw new Error(`arx: nonce must be ${w} or 16 bytes`);if(12!==w){const E=new Uint8Array(12);E.set(c,n?0:12-c.length),c=E,f.push(c)}const b=Bt(c);return function E1(t,e,i,r,s,n,o,a){const c=s.length,u=new Uint8Array(64),l=Bt(u),h=xn(s)&&xn(n),d=h?Bt(s):Ha,f=h?Bt(n):Ha;for(let p=0;p<c;o++){if(t(e,i,r,l,o,a),o>=$l)throw new Error("arx: counter overflow");const g=Math.min(64,c-p);if(h&&64===g){const y=p/4;if(p%4!=0)throw new Error("arx: invalid block position");for(let w,m=0;m<16;m++)w=y+m,f[w]=d[w]^l[m];p+=64;continue}for(let m,y=0;y<g;y++)m=p+y,n[m]=s[m]^u[y];p+=g}}(t,y,m,b,u,l,h,o),$i(...f),l}}(function $1(t,e,i,r,s,n=20){let o=t[0],a=t[1],c=t[2],u=t[3],l=e[0],h=e[1],d=e[2],f=e[3],p=e[4],g=e[5],y=e[6],m=e[7],w=s,b=i[0],E=i[1],O=i[2],S=o,$=a,A=c,I=u,M=l,L=h,U=d,q=f,C=p,_=g,v=y,x=m,P=w,D=b,N=E,B=O;for(let j=0;j<n;j+=2)S=S+M|0,P=Z(P^S,16),C=C+P|0,M=Z(M^C,12),S=S+M|0,P=Z(P^S,8),C=C+P|0,M=Z(M^C,7),$=$+L|0,D=Z(D^$,16),_=_+D|0,L=Z(L^_,12),$=$+L|0,D=Z(D^$,8),_=_+D|0,L=Z(L^_,7),A=A+U|0,N=Z(N^A,16),v=v+N|0,U=Z(U^v,12),A=A+U|0,N=Z(N^A,8),v=v+N|0,U=Z(U^v,7),I=I+q|0,B=Z(B^I,16),x=x+B|0,q=Z(q^x,12),I=I+q|0,B=Z(B^I,8),x=x+B|0,q=Z(q^x,7),S=S+L|0,B=Z(B^S,16),v=v+B|0,L=Z(L^v,12),S=S+L|0,B=Z(B^S,8),v=v+B|0,L=Z(L^v,7),$=$+U|0,P=Z(P^$,16),x=x+P|0,U=Z(U^x,12),$=$+U|0,P=Z(P^$,8),x=x+P|0,U=Z(U^x,7),A=A+q|0,D=Z(D^A,16),C=C+D|0,q=Z(q^C,12),A=A+q|0,D=Z(D^A,8),C=C+D|0,q=Z(q^C,7),I=I+M|0,N=Z(N^I,16),_=_+N|0,M=Z(M^_,12),I=I+M|0,N=Z(N^I,8),_=_+N|0,M=Z(M^_,7);let k=0;r[k++]=o+S|0,r[k++]=a+$|0,r[k++]=c+A|0,r[k++]=u+I|0,r[k++]=l+M|0,r[k++]=h+L|0,r[k++]=d+U|0,r[k++]=f+q|0,r[k++]=p+C|0,r[k++]=g+_|0,r[k++]=y+v|0,r[k++]=m+x|0,r[k++]=w+P|0,r[k++]=b+D|0,r[k++]=E+N|0,r[k++]=O+B|0},{counterRight:!1,counterLength:4,allowShortKeys:!1}),x1=new Uint8Array(16),Wa=(t,e)=>{t.update(e);const i=e.length%16;i&&t.update(x1.subarray(i))},A1=new Uint8Array(32);function Ga(t,e,i,r,s){const n=t(e,i,A1),o=S1.create(n);s&&Wa(o,s),Wa(o,r);const a=new Uint8Array(16),c=(t=>new DataView(t.buffer,t.byteOffset,t.byteLength))(a);Ka(c,0,BigInt(s?s.length:0),!0),Ka(c,8,BigInt(r.length),!0),o.update(a);const u=o.digest();return $i(n,a),u}const Ol=((t,e)=>{function i(r,...s){if(He(r),void 0!==t.nonceLength){const u=s[0];if(!u)throw new Error("nonce / iv required");t.varSizeNonce?He(u):He(u,t.nonceLength)}const n=t.tagLength;n&&void 0!==s[1]&&He(s[1]);const o=e(r,...s),a=(u,l)=>{if(void 0!==l){if(2!==u)throw new Error("cipher output not supported");He(l)}};let c=!1;return{encrypt(u,l){if(c)throw new Error("cannot encrypt() twice with same key + nonce");return c=!0,He(u),a(o.encrypt.length,l),o.encrypt(u,l)},decrypt(u,l){if(He(u),n&&u.length<n)throw new Error("invalid ciphertext length: smaller than tagLength="+n);return a(o.decrypt.length,l),o.decrypt(u,l)}}}return Object.assign(i,t),i})({blockSize:64,nonceLength:12,tagLength:16},(t=>(e,i,r)=>({encrypt(s,n){const o=s.length;(n=Va(o+16,n,!1)).set(s);const a=n.subarray(0,-16);t(e,i,a,a,1);const c=Ga(t,e,i,a,r);return n.set(c,o),$i(c),n},decrypt(s,n){n=Va(s.length-16,n,!1);const o=s.subarray(0,-16),a=s.subarray(-16),c=Ga(t,e,i,o,r);if(!function p1(t,e){if(t.length!==e.length)return!1;let i=0;for(let r=0;r<t.length;r++)i|=t[r]^e[r];return 0===i}(a,c))throw new Error("invalid tag");return n.set(s.subarray(0,-16)),t(e,i,n,n,1),$i(c),n}}))(O1));let xl=class extends uo{constructor(e,i){super(),this.finished=!1,this.destroyed=!1,co(e);const r=Si(i);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,n=new Uint8Array(s);n.set(r.length>s?e.create().update(r).digest():r);for(let o=0;o<n.length;o++)n[o]^=54;this.iHash.update(n),this.oHash=e.create();for(let o=0;o<n.length;o++)n[o]^=106;this.oHash.update(n),n.fill(0)}update(e){return Di(this),this.iHash.update(e),this}digestInto(e){Di(this),br(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:i,iHash:r,finished:s,destroyed:n,blockLen:o,outputLen:a}=this;return e.finished=s,e.destroyed=n,e.blockLen=o,e.outputLen=a,e.oHash=i._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const ps=(t,e,i)=>new xl(t,e).update(i).digest();ps.create=(t,e)=>new xl(t,e);const Ks=new Uint8Array([0]),Ya=new Uint8Array;const T1=(t,e,i,r,s)=>function R1(t,e,i,r=32){if(co(t),or(r),r>255*t.outputLen)throw new Error("Length should be <= 255*HashLen");const s=Math.ceil(r/t.outputLen);void 0===i&&(i=Ya);const n=new Uint8Array(s*t.outputLen),o=ps.create(t,e),a=o._cloneInto(),c=new Uint8Array(o.outputLen);for(let u=0;u<s;u++)Ks[0]=u+1,a.update(0===u?Ya:c).update(i).update(Ks).digestInto(c),n.set(c,t.outputLen*u),o._cloneInto(a);return o.destroy(),a.destroy(),c.fill(0),Ks.fill(0),n.slice(0,r)}(t,function C1(t,e,i){return co(t),void 0===i&&(i=new Uint8Array(t.outputLen)),ps(t,Si(i),Si(e))}(t,e,i),r,s);function F1(t,e,i){return t&e^~t&i}function L1(t,e,i){return t&e^t&i^e&i}let B1=class extends uo{constructor(e,i,r,s){super(),this.blockLen=e,this.outputLen=i,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=zs(this.buffer)}update(e){Di(this);const{view:i,buffer:r,blockLen:s}=this,n=(e=Si(e)).length;for(let o=0;o<n;){const a=Math.min(s-this.pos,n-o);if(a===s){const c=zs(e);for(;s<=n-o;o+=s)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(i,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Di(this),gl(e,this),this.finished=!0;const{buffer:i,view:r,blockLen:s,isLE:n}=this;let{pos:o}=this;i[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(r,0),o=0);for(let h=o;h<s;h++)i[h]=0;(function N1(t,e,i,r){if("function"==typeof t.setBigUint64)return t.setBigUint64(e,i,r);const s=BigInt(32),n=BigInt(4294967295),o=Number(i>>s&n),a=Number(i&n),c=r?4:0,u=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+u,a,r)})(r,s-8,BigInt(8*this.length),n),this.process(r,0);const a=zs(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<u;h++)a.setUint32(4*h,l[h],n)}digest(){const{buffer:e,outputLen:i}=this;this.digestInto(e);const r=e.slice(0,i);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:i,buffer:r,length:s,finished:n,destroyed:o,pos:a}=this;return e.length=s,e.pos=a,e.finished=n,e.destroyed=o,s%i&&e.buffer.set(r),e}};const U1=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Rt=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Tt=new Uint32Array(64);class k1 extends B1{constructor(){super(64,32,8,!1),this.A=0|Rt[0],this.B=0|Rt[1],this.C=0|Rt[2],this.D=0|Rt[3],this.E=0|Rt[4],this.F=0|Rt[5],this.G=0|Rt[6],this.H=0|Rt[7]}get(){const{A:e,B:i,C:r,D:s,E:n,F:o,G:a,H:c}=this;return[e,i,r,s,n,o,a,c]}set(e,i,r,s,n,o,a,c){this.A=0|e,this.B=0|i,this.C=0|r,this.D=0|s,this.E=0|n,this.F=0|o,this.G=0|a,this.H=0|c}process(e,i){for(let h=0;h<16;h++,i+=4)Tt[h]=e.getUint32(i,!1);for(let h=16;h<64;h++){const d=Tt[h-15],f=Tt[h-2],p=ct(d,7)^ct(d,18)^d>>>3,g=ct(f,17)^ct(f,19)^f>>>10;Tt[h]=g+Tt[h-7]+p+Tt[h-16]|0}let{A:r,B:s,C:n,D:o,E:a,F:c,G:u,H:l}=this;for(let h=0;h<64;h++){const f=l+(ct(a,6)^ct(a,11)^ct(a,25))+F1(a,c,u)+U1[h]+Tt[h]|0,p=(ct(r,2)^ct(r,13)^ct(r,22))+L1(r,s,n)|0;l=u,u=c,c=a,a=o+f|0,o=n,n=s,s=r,r=f+p|0}r=r+this.A|0,s=s+this.B|0,n=n+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(r,s,n,o,a,c,u,l)}roundClean(){Tt.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const vr=yl(()=>new k1),fs=BigInt(0),gs=BigInt(1),M1=BigInt(2);function ri(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&"Uint8Array"===t.constructor.name}function Er(t){if(!ri(t))throw new Error("Uint8Array expected")}function Oi(t,e){if("boolean"!=typeof e)throw new Error(t+" boolean expected, got "+e)}const q1=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function xi(t){Er(t);let e="";for(let i=0;i<t.length;i++)e+=q1[t[i]];return e}function Ei(t){const e=t.toString(16);return 1&e.length?"0"+e:e}function ho(t){if("string"!=typeof t)throw new Error("hex string expected, got "+typeof t);return""===t?fs:BigInt("0x"+t)}const _t__0=48,_t__9=57,_t_A=65,_t_F=70,_t_a=97,_t_f=102;function Ja(t){return t>=_t__0&&t<=_t__9?t-_t__0:t>=_t_A&&t<=_t_F?t-(_t_A-10):t>=_t_a&&t<=_t_f?t-(_t_a-10):void 0}function Ai(t){if("string"!=typeof t)throw new Error("hex string expected, got "+typeof t);const e=t.length,i=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(i);for(let s=0,n=0;s<i;s++,n+=2){const o=Ja(t.charCodeAt(n)),a=Ja(t.charCodeAt(n+1));if(void 0===o||void 0===a){const c=t[n]+t[n+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+n)}r[s]=16*o+a}return r}function Xt(t){return ho(xi(t))}function cr(t){return Er(t),ho(xi(Uint8Array.from(t).reverse()))}function Pi(t,e){return Ai(t.toString(16).padStart(2*e,"0"))}function ys(t,e){return Pi(t,e).reverse()}function Ke(t,e,i){let r;if("string"==typeof e)try{r=Ai(e)}catch(n){throw new Error(t+" must be hex string or Uint8Array, cause: "+n)}else{if(!ri(e))throw new Error(t+" must be hex string or Uint8Array");r=Uint8Array.from(e)}const s=r.length;if("number"==typeof i&&s!==i)throw new Error(t+" of length "+i+" expected, got "+s);return r}function ur(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];Er(s),e+=s.length}const i=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const n=t[r];i.set(n,s),s+=n.length}return i}const Hs=t=>"bigint"==typeof t&&fs<=t;function ws(t,e,i){return Hs(t)&&Hs(e)&&Hs(i)&&e<=t&&t<i}function xt(t,e,i,r){if(!ws(e,i,r))throw new Error("expected valid "+t+": "+i+" <= n < "+r+", got "+e)}function Al(t){let e;for(e=0;t>fs;t>>=gs,e+=1);return e}const po=t=>(M1<<BigInt(t-1))-gs,Ws=t=>new Uint8Array(t),Za=t=>Uint8Array.from(t);function Pl(t,e,i){if("number"!=typeof t||t<2)throw new Error("hashLen must be a number");if("number"!=typeof e||e<2)throw new Error("qByteLen must be a number");if("function"!=typeof i)throw new Error("hmacFn must be a function");let r=Ws(t),s=Ws(t),n=0;const o=()=>{r.fill(1),s.fill(0),n=0},a=(...l)=>i(s,r,...l),c=(l=Ws())=>{s=a(Za([0]),l),r=a(),0!==l.length&&(s=a(Za([1]),l),r=a())},u=()=>{if(n++>=1e3)throw new Error("drbg: tried 1000 values");let l=0;const h=[];for(;l<e;){r=a();const d=r.slice();h.push(d),l+=r.length}return ur(...h)};return(l,h)=>{let d;for(o(),c(l);!(d=h(u()));)c();return o(),d}}const W1={bigint:t=>"bigint"==typeof t,function:t=>"function"==typeof t,boolean:t=>"boolean"==typeof t,string:t=>"string"==typeof t,stringOrUint8Array:t=>"string"==typeof t||ri(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>"function"==typeof t&&Number.isSafeInteger(t.outputLen)};function Bi(t,e,i={}){const r=(s,n,o)=>{const a=W1[n];if("function"!=typeof a)throw new Error("invalid validator function");const c=t[s];if(!(o&&void 0===c||a(c,t)))throw new Error("param "+String(s)+" is invalid. Expected "+n+", got "+c)};for(const[s,n]of Object.entries(e))r(s,n,!1);for(const[s,n]of Object.entries(i))r(s,n,!0);return t}function An(t){const e=new WeakMap;return(i,...r)=>{const s=e.get(i);if(void 0!==s)return s;const n=t(i,...r);return e.set(i,n),n}}var Y1=Object.freeze({__proto__:null,isBytes:ri,abytes:Er,abool:Oi,bytesToHex:xi,numberToHexUnpadded:Ei,hexToNumber:ho,hexToBytes:Ai,bytesToNumberBE:Xt,bytesToNumberLE:cr,numberToBytesBE:Pi,numberToBytesLE:ys,numberToVarBytesBE:function j1(t){return Ai(Ei(t))},ensureBytes:Ke,concatBytes:ur,equalBytes:function z1(t,e){if(t.length!==e.length)return!1;let i=0;for(let r=0;r<t.length;r++)i|=t[r]^e[r];return 0===i},utf8ToBytes:function V1(t){if("string"!=typeof t)throw new Error("string expected");return new Uint8Array((new TextEncoder).encode(t))},inRange:ws,aInRange:xt,bitLen:Al,bitGet:function K1(t,e){return t>>BigInt(e)&gs},bitSet:function H1(t,e,i){return t|(i?gs:fs)<<BigInt(e)},bitMask:po,createHmacDrbg:Pl,validateObject:Bi,notImplemented:()=>{throw new Error("not implemented")},memoized:An});const Ee=BigInt(0),le=BigInt(1),Gt=BigInt(2),J1=BigInt(3),Pn=BigInt(4),Qa=BigInt(5),Xa=BigInt(8);function Me(t,e){const i=t%e;return i>=Ee?i:e+i}function Cl(t,e,i){if(e<Ee)throw new Error("invalid exponent, negatives unsupported");if(i<=Ee)throw new Error("invalid modulus");if(i===le)return Ee;let r=le;for(;e>Ee;)e&le&&(r=r*t%i),t=t*t%i,e>>=le;return r}function st(t,e,i){let r=t;for(;e-- >Ee;)r*=r,r%=i;return r}function Cn(t,e){if(t===Ee)throw new Error("invert: expected non-zero number");if(e<=Ee)throw new Error("invert: expected positive modulus, got "+e);let i=Me(t,e),r=e,s=Ee,n=le;for(;i!==Ee;){const a=r%i,c=s-n*(r/i);r=i,i=a,s=n,n=c}if(r!==le)throw new Error("invert: does not exist");return Me(s,e)}function Q1(t){if(t%Pn===J1){const e=(t+le)/Pn;return function(i,r){const s=i.pow(r,e);if(!i.eql(i.sqr(s),r))throw new Error("Cannot find square root");return s}}if(t%Xa===Qa){const e=(t-Qa)/Xa;return function(i,r){const s=i.mul(r,Gt),n=i.pow(s,e),o=i.mul(r,n),a=i.mul(i.mul(o,Gt),n),c=i.mul(o,i.sub(a,i.ONE));if(!i.eql(i.sqr(c),r))throw new Error("Cannot find square root");return c}}return function Z1(t){const e=(t-le)/Gt;let i,r,s;for(i=t-le,r=0;i%Gt===Ee;i/=Gt,r++);for(s=Gt;s<t&&Cl(s,e,t)!==t-le;s++)if(s>1e3)throw new Error("Cannot find square root: likely non-prime P");if(1===r){const o=(t+le)/Pn;return function(a,c){const u=a.pow(c,o);if(!a.eql(a.sqr(u),c))throw new Error("Cannot find square root");return u}}const n=(i+le)/Gt;return function(o,a){if(o.pow(a,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let c=r,u=o.pow(o.mul(o.ONE,s),i),l=o.pow(a,n),h=o.pow(a,i);for(;!o.eql(h,o.ONE);){if(o.eql(h,o.ZERO))return o.ZERO;let d=1;for(let p=o.sqr(h);d<c&&!o.eql(p,o.ONE);d++)p=o.sqr(p);const f=o.pow(u,le<<BigInt(c-d-1));u=o.sqr(f),l=o.mul(l,f),h=o.mul(h,u),c=d}return l}}(t)}const X1=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Rl(t,e){const i=void 0!==e?e:t.toString(2).length;return{nBitLength:i,nByteLength:Math.ceil(i/8)}}function Tl(t,e,i=!1,r={}){if(t<=Ee)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:s,nByteLength:n}=Rl(t,e);if(n>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:i,BITS:s,BYTES:n,MASK:po(s),ZERO:Ee,ONE:le,create:c=>Me(c,t),isValid:c=>{if("bigint"!=typeof c)throw new Error("invalid field element: expected bigint, got "+typeof c);return Ee<=c&&c<t},is0:c=>c===Ee,isOdd:c=>(c&le)===le,neg:c=>Me(-c,t),eql:(c,u)=>c===u,sqr:c=>Me(c*c,t),add:(c,u)=>Me(c+u,t),sub:(c,u)=>Me(c-u,t),mul:(c,u)=>Me(c*u,t),pow:(c,u)=>function t0(t,e,i){if(i<Ee)throw new Error("invalid exponent, negatives unsupported");if(i===Ee)return t.ONE;if(i===le)return e;let r=t.ONE,s=e;for(;i>Ee;)i&le&&(r=t.mul(r,s)),s=t.sqr(s),i>>=le;return r}(a,c,u),div:(c,u)=>Me(c*Cn(u,t),t),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>Cn(c,t),sqrt:r.sqrt||(c=>(o||(o=Q1(t)),o(a,c))),invertBatch:c=>function i0(t,e){const i=new Array(e.length),r=e.reduce((n,o,a)=>t.is0(o)?n:(i[a]=n,t.mul(n,o)),t.ONE),s=t.inv(r);return e.reduceRight((n,o,a)=>t.is0(o)?n:(i[a]=t.mul(n,i[a]),t.mul(n,o)),s),i}(a,c),cmov:(c,u,l)=>l?u:c,toBytes:c=>i?ys(c,n):Pi(c,n),fromBytes:c=>{if(c.length!==n)throw new Error("Field.fromBytes: expected "+n+" bytes, got "+c.length);return i?cr(c):Xt(c)}});return Object.freeze(a)}function Nl(t){if("bigint"!=typeof t)throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function Fl(t){const e=Nl(t);return e+Math.ceil(e/2)}const ec=BigInt(0),Fr=BigInt(1);function Gs(t,e){const i=e.negate();return t?i:e}function Ll(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function Ys(t,e){Ll(t,e);return{windows:Math.ceil(e/t)+1,windowSize:2**(t-1)}}const Js=new WeakMap,Bl=new WeakMap;function Zs(t){return Bl.get(t)||1}function a0(t,e,i,r){if(function s0(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((i,r)=>{if(!(i instanceof e))throw new Error("invalid point at index "+r)})}(i,t),function n0(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((i,r)=>{if(!e.isValid(i))throw new Error("invalid scalar at index "+r)})}(r,e),i.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const s=t.ZERO,n=Al(BigInt(i.length)),o=n>12?n-3:n>4?n-2:n?2:1,a=(1<<o)-1,c=new Array(a+1).fill(s);let l=s;for(let h=Math.floor((e.BITS-1)/o)*o;h>=0;h-=o){c.fill(s);for(let f=0;f<r.length;f++){const p=r[f],g=Number(p>>BigInt(h)&BigInt(a));c[g]=c[g].add(i[f])}let d=s;for(let f=c.length-1,p=s;f>0;f--)p=p.add(c[f]),d=d.add(p);if(l=l.add(d),0!==h)for(let f=0;f<o;f++)l=l.double()}return l}function Ul(t){return function e0(t){return Bi(t,X1.reduce((r,s)=>(r[s]="function",r),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"}))}(t.Fp),Bi(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Rl(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}BigInt(0),BigInt(1),BigInt(2),BigInt(8);const wi=BigInt(0),Qs=BigInt(1);const Rn=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949");BigInt(0);const l0=BigInt(1),tc=BigInt(2),h0=BigInt(3),d0=BigInt(5);BigInt(8);const Tn=function u0(t){const e=function c0(t){return Bi(t,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...t})}(t),{P:i}=e,r=w=>Me(w,i),s=e.montgomeryBits,n=Math.ceil(s/8),o=e.nByteLength,a=e.adjustScalarBytes||(w=>w),c=e.powPminus2||(w=>Cl(w,i-BigInt(2),i));function u(w,b,E){const O=r(w*(b-E));return[b=r(b-O),E=r(E+O)]}const l=(e.a-BigInt(2))/BigInt(4);function d(w){return ys(r(w),n)}function g(w,b){const E=function f(w){const b=Ke("u coordinate",w,n);return 32===o&&(b[31]&=127),cr(b)}(b),O=function p(w){const b=Ke("scalar",w),E=b.length;if(E!==n&&E!==o)throw new Error("invalid scalar, expected "+n+" or "+o+" bytes, got "+E);return cr(a(b))}(w),S=function h(w,b){xt("u",w,wi,i),xt("scalar",b,wi,i);const E=b,O=w;let L,S=Qs,$=wi,A=w,I=Qs,M=wi;for(let q=BigInt(s-1);q>=wi;q--){const C=E>>q&Qs;M^=C,L=u(M,S,A),S=L[0],A=L[1],L=u(M,$,I),$=L[0],I=L[1],M=C;const _=S+$,v=r(_*_),x=S-$,P=r(x*x),D=v-P,N=A+I,k=r((A-I)*_),j=r(N*x),z=k+j,H=k-j;A=r(z*z),I=r(O*r(H*H)),S=r(v*P),$=r(D*(v+r(l*D)))}L=u(M,S,A),S=L[0],A=L[1],L=u(M,$,I),$=L[0],I=L[1];const U=c($);return r(S*U)}(E,O);if(S===wi)throw new Error("invalid private or public key received");return d(S)}const y=d(e.Gu);function m(w){return g(w,y)}return{scalarMult:g,scalarMultBase:m,getSharedSecret:(w,b)=>g(w,b),getPublicKey:w=>m(w),utils:{randomPrivateKey:()=>e.randomBytes(e.nByteLength)},GuBytes:y}}({P:Rn,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:t=>{const e=Rn,{pow_p_5_8:i,b2:r}=function p0(t){const e=BigInt(10),i=BigInt(20),r=BigInt(40),s=BigInt(80),n=Rn,o=t*t%n*t%n,a=st(o,tc,n)*o%n,c=st(a,l0,n)*t%n,u=st(c,d0,n)*c%n,l=st(u,e,n)*u%n,h=st(l,i,n)*l%n,d=st(h,r,n)*h%n,f=st(d,s,n)*d%n,p=st(f,s,n)*d%n,g=st(p,e,n)*u%n;return{pow_p_5_8:st(g,tc,n)*t%n,b2:o}}(t);return Me(st(i,h0,e)*r,e)},adjustScalarBytes:function f0(t){return t[0]&=248,t[31]&=127,t[31]|=64,t},randomBytes:Li});function ic(t){void 0!==t.lowS&&Oi("lowS",t.lowS),void 0!==t.prehash&&Oi("prehash",t.prehash)}const{bytesToNumberBE:y0,hexToBytes:w0}=Y1;class m0 extends Error{constructor(e=""){super(e)}}const $t={Err:m0,_tlv:{encode:(t,e)=>{const{Err:i}=$t;if(t<0||t>256)throw new i("tlv.encode: wrong tag");if(1&e.length)throw new i("tlv.encode: unpadded data");const r=e.length/2,s=Ei(r);if(s.length/2&128)throw new i("tlv.encode: long form length too big");const n=r>127?Ei(s.length/2|128):"";return Ei(t)+n+s+e},decode(t,e){const{Err:i}=$t;let r=0;if(t<0||t>256)throw new i("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new i("tlv.decode: wrong tlv");const s=e[r++];let o=0;if(!!(128&s)){const c=127&s;if(!c)throw new i("tlv.decode(long): indefinite length not supported");if(c>4)throw new i("tlv.decode(long): byte length is too big");const u=e.subarray(r,r+c);if(u.length!==c)throw new i("tlv.decode: length bytes not complete");if(0===u[0])throw new i("tlv.decode(long): zero leftmost byte");for(const l of u)o=o<<8|l;if(r+=c,o<128)throw new i("tlv.decode(long): not minimal encoding")}else o=s;const a=e.subarray(r,r+o);if(a.length!==o)throw new i("tlv.decode: wrong value length");return{v:a,l:e.subarray(r+o)}}},_int:{encode(t){const{Err:e}=$t;if(t<Ot)throw new e("integer: negative integers are not allowed");let i=Ei(t);if(8&Number.parseInt(i[0],16)&&(i="00"+i),1&i.length)throw new e("unexpected DER parsing assertion: unpadded hex");return i},decode(t){const{Err:e}=$t;if(128&t[0])throw new e("invalid signature integer: negative");if(0===t[0]&&!(128&t[1]))throw new e("invalid signature integer: unnecessary leading zero");return y0(t)}},toSig(t){const{Err:e,_int:i,_tlv:r}=$t,s="string"==typeof t?w0(t):t;Er(s);const{v:n,l:o}=r.decode(48,s);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,n),{v:u,l}=r.decode(2,c);if(l.length)throw new e("invalid signature: left bytes after parsing");return{r:i.decode(a),s:i.decode(u)}},hexFromSig(t){const{_tlv:e,_int:i}=$t,n=e.encode(2,i.encode(t.r))+e.encode(2,i.encode(t.s));return e.encode(48,n)}},Ot=BigInt(0),me=BigInt(1);BigInt(2);const rc=BigInt(3);function b0(t){const e=function g0(t){const e=Ul(t);Bi(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:i,Fp:r,a:s}=e;if(i){if(!r.eql(s,r.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if("object"!=typeof i||"bigint"!=typeof i.beta||"function"!=typeof i.splitScalar)throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...e})}(t),{Fp:i}=e,r=Tl(e.n,e.nBitLength),s=e.toBytes||((g,y,m)=>{const w=y.toAffine();return ur(Uint8Array.from([4]),i.toBytes(w.x),i.toBytes(w.y))}),n=e.fromBytes||(g=>{const y=g.subarray(1);return{x:i.fromBytes(y.subarray(0,i.BYTES)),y:i.fromBytes(y.subarray(i.BYTES,2*i.BYTES))}});function o(g){const{a:y,b:m}=e,w=i.sqr(g),b=i.mul(w,g);return i.add(i.add(b,i.mul(g,y)),m)}if(!i.eql(i.sqr(e.Gy),o(e.Gx)))throw new Error("bad generator point: equation left != right");function c(g){const{allowedPrivateKeyLengths:y,nByteLength:m,wrapPrivateKey:w,n:b}=e;if(y&&"bigint"!=typeof g){if(ri(g)&&(g=xi(g)),"string"!=typeof g||!y.includes(g.length))throw new Error("invalid private key");g=g.padStart(2*m,"0")}let E;try{E="bigint"==typeof g?g:Xt(Ke("private key",g,m))}catch{throw new Error("invalid private key, expected hex or "+m+" bytes, got "+typeof g)}return w&&(E=Me(E,b)),xt("private key",E,me,b),E}function u(g){if(!(g instanceof d))throw new Error("ProjectivePoint expected")}const l=An((g,y)=>{const{px:m,py:w,pz:b}=g;if(i.eql(b,i.ONE))return{x:m,y:w};const E=g.is0();null==y&&(y=E?i.ONE:i.inv(b));const O=i.mul(m,y),S=i.mul(w,y),$=i.mul(b,y);if(E)return{x:i.ZERO,y:i.ZERO};if(!i.eql($,i.ONE))throw new Error("invZ was invalid");return{x:O,y:S}}),h=An(g=>{if(g.is0()){if(e.allowInfinityPoint&&!i.is0(g.py))return;throw new Error("bad point: ZERO")}const{x:y,y:m}=g.toAffine();if(!i.isValid(y)||!i.isValid(m))throw new Error("bad point: x or y not FE");const w=i.sqr(m),b=o(y);if(!i.eql(w,b))throw new Error("bad point: equation left != right");if(!g.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class d{constructor(y,m,w){if(this.px=y,this.py=m,this.pz=w,null==y||!i.isValid(y))throw new Error("x required");if(null==m||!i.isValid(m))throw new Error("y required");if(null==w||!i.isValid(w))throw new Error("z required");Object.freeze(this)}static fromAffine(y){const{x:m,y:w}=y||{};if(!y||!i.isValid(m)||!i.isValid(w))throw new Error("invalid affine point");if(y instanceof d)throw new Error("projective point not allowed");const b=E=>i.eql(E,i.ZERO);return b(m)&&b(w)?d.ZERO:new d(m,w,i.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(y){const m=i.invertBatch(y.map(w=>w.pz));return y.map((w,b)=>w.toAffine(m[b])).map(d.fromAffine)}static fromHex(y){const m=d.fromAffine(n(Ke("pointHex",y)));return m.assertValidity(),m}static fromPrivateKey(y){return d.BASE.multiply(c(y))}static msm(y,m){return a0(d,r,y,m)}_setWindowSize(y){p.setWindowSize(this,y)}assertValidity(){h(this)}hasEvenY(){const{y}=this.toAffine();if(i.isOdd)return!i.isOdd(y);throw new Error("Field doesn't support isOdd")}equals(y){u(y);const{px:m,py:w,pz:b}=this,{px:E,py:O,pz:S}=y,$=i.eql(i.mul(m,S),i.mul(E,b)),A=i.eql(i.mul(w,S),i.mul(O,b));return $&&A}negate(){return new d(this.px,i.neg(this.py),this.pz)}double(){const{a:y,b:m}=e,w=i.mul(m,rc),{px:b,py:E,pz:O}=this;let S=i.ZERO,$=i.ZERO,A=i.ZERO,I=i.mul(b,b),M=i.mul(E,E),L=i.mul(O,O),U=i.mul(b,E);return U=i.add(U,U),A=i.mul(b,O),A=i.add(A,A),S=i.mul(y,A),$=i.mul(w,L),$=i.add(S,$),S=i.sub(M,$),$=i.add(M,$),$=i.mul(S,$),S=i.mul(U,S),A=i.mul(w,A),L=i.mul(y,L),U=i.sub(I,L),U=i.mul(y,U),U=i.add(U,A),A=i.add(I,I),I=i.add(A,I),I=i.add(I,L),I=i.mul(I,U),$=i.add($,I),L=i.mul(E,O),L=i.add(L,L),I=i.mul(L,U),S=i.sub(S,I),A=i.mul(L,M),A=i.add(A,A),A=i.add(A,A),new d(S,$,A)}add(y){u(y);const{px:m,py:w,pz:b}=this,{px:E,py:O,pz:S}=y;let $=i.ZERO,A=i.ZERO,I=i.ZERO;const M=e.a,L=i.mul(e.b,rc);let U=i.mul(m,E),q=i.mul(w,O),C=i.mul(b,S),_=i.add(m,w),v=i.add(E,O);_=i.mul(_,v),v=i.add(U,q),_=i.sub(_,v),v=i.add(m,b);let x=i.add(E,S);return v=i.mul(v,x),x=i.add(U,C),v=i.sub(v,x),x=i.add(w,b),$=i.add(O,S),x=i.mul(x,$),$=i.add(q,C),x=i.sub(x,$),I=i.mul(M,v),$=i.mul(L,C),I=i.add($,I),$=i.sub(q,I),I=i.add(q,I),A=i.mul($,I),q=i.add(U,U),q=i.add(q,U),C=i.mul(M,C),v=i.mul(L,v),q=i.add(q,C),C=i.sub(U,C),C=i.mul(M,C),v=i.add(v,C),U=i.mul(q,v),A=i.add(A,U),U=i.mul(x,v),$=i.mul(_,$),$=i.sub($,U),U=i.mul(_,q),I=i.mul(x,I),I=i.add(I,U),new d($,A,I)}subtract(y){return this.add(y.negate())}is0(){return this.equals(d.ZERO)}wNAF(y){return p.wNAFCached(this,y,d.normalizeZ)}multiplyUnsafe(y){const{endo:m,n:w}=e;xt("scalar",y,Ot,w);const b=d.ZERO;if(y===Ot)return b;if(this.is0()||y===me)return this;if(!m||p.hasPrecomputes(this))return p.wNAFCachedUnsafe(this,y,d.normalizeZ);let{k1neg:E,k1:O,k2neg:S,k2:$}=m.splitScalar(y),A=b,I=b,M=this;for(;O>Ot||$>Ot;)O&me&&(A=A.add(M)),$&me&&(I=I.add(M)),M=M.double(),O>>=me,$>>=me;return E&&(A=A.negate()),S&&(I=I.negate()),I=new d(i.mul(I.px,m.beta),I.py,I.pz),A.add(I)}multiply(y){const{endo:m,n:w}=e;let b,E;if(xt("scalar",y,me,w),m){const{k1neg:O,k1:S,k2neg:$,k2:A}=m.splitScalar(y);let{p:I,f:M}=this.wNAF(S),{p:L,f:U}=this.wNAF(A);I=p.constTimeNegate(O,I),L=p.constTimeNegate($,L),L=new d(i.mul(L.px,m.beta),L.py,L.pz),b=I.add(L),E=M.add(U)}else{const{p:O,f:S}=this.wNAF(y);b=O,E=S}return d.normalizeZ([b,E])[0]}multiplyAndAddUnsafe(y,m,w){const b=d.BASE,E=(S,$)=>$!==Ot&&$!==me&&S.equals(b)?S.multiply($):S.multiplyUnsafe($),O=E(this,m).add(E(y,w));return O.is0()?void 0:O}toAffine(y){return l(this,y)}isTorsionFree(){const{h:y,isTorsionFree:m}=e;if(y===me)return!0;if(m)return m(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:y,clearCofactor:m}=e;return y===me?this:m?m(d,this):this.multiplyUnsafe(e.h)}toRawBytes(y=!0){return Oi("isCompressed",y),this.assertValidity(),s(d,this,y)}toHex(y=!0){return Oi("isCompressed",y),xi(this.toRawBytes(y))}}d.BASE=new d(e.Gx,e.Gy,i.ONE),d.ZERO=new d(i.ZERO,i.ONE,i.ZERO);const f=e.nBitLength,p=function o0(t,e){return{constTimeNegate:Gs,hasPrecomputes:i=>1!==Zs(i),unsafeLadder(i,r,s=t.ZERO){let n=i;for(;r>ec;)r&Fr&&(s=s.add(n)),n=n.double(),r>>=Fr;return s},precomputeWindow(i,r){const{windows:s,windowSize:n}=Ys(r,e),o=[];let a=i,c=a;for(let u=0;u<s;u++){c=a,o.push(c);for(let l=1;l<n;l++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(i,r,s){const{windows:n,windowSize:o}=Ys(i,e);let a=t.ZERO,c=t.BASE;const u=BigInt(2**i-1),l=2**i,h=BigInt(i);for(let d=0;d<n;d++){const f=d*o;let p=Number(s&u);s>>=h,p>o&&(p-=l,s+=Fr);const g=f,y=f+Math.abs(p)-1,m=d%2!=0,w=p<0;0===p?c=c.add(Gs(m,r[g])):a=a.add(Gs(w,r[y]))}return{p:a,f:c}},wNAFUnsafe(i,r,s,n=t.ZERO){const{windows:o,windowSize:a}=Ys(i,e),c=BigInt(2**i-1),u=2**i,l=BigInt(i);for(let h=0;h<o;h++){const d=h*a;if(s===ec)break;let f=Number(s&c);if(s>>=l,f>a&&(f-=u,s+=Fr),0===f)continue;let p=r[d+Math.abs(f)-1];f<0&&(p=p.negate()),n=n.add(p)}return n},getPrecomputes(i,r,s){let n=Js.get(r);return n||(n=this.precomputeWindow(r,i),1!==i&&Js.set(r,s(n))),n},wNAFCached(i,r,s){const n=Zs(i);return this.wNAF(n,this.getPrecomputes(n,i,s),r)},wNAFCachedUnsafe(i,r,s,n){const o=Zs(i);return 1===o?this.unsafeLadder(i,r,n):this.wNAFUnsafe(o,this.getPrecomputes(o,i,s),r,n)},setWindowSize(i,r){Ll(r,e),Bl.set(i,r),Js.delete(i)}}}(d,e.endo?Math.ceil(f/2):f);return{CURVE:e,ProjectivePoint:d,normPrivateKeyToScalar:c,weierstrassEquation:o,isWithinCurveOrder:function a(g){return ws(g,me,e.n)}}}function E0(t){const e=function v0(t){const e=Ul(t);return Bi(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}(t),{Fp:i,n:r}=e,s=i.BYTES+1,n=2*i.BYTES+1;function o(C){return Me(C,r)}function a(C){return Cn(C,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:l,isWithinCurveOrder:h}=b0({...e,toBytes(C,_,v){const x=_.toAffine(),P=i.toBytes(x.x),D=ur;return Oi("isCompressed",v),v?D(Uint8Array.from([_.hasEvenY()?2:3]),P):D(Uint8Array.from([4]),P,i.toBytes(x.y))},fromBytes(C){const _=C.length,v=C[0],x=C.subarray(1);if(_!==s||2!==v&&3!==v){if(_===n&&4===v){return{x:i.fromBytes(x.subarray(0,i.BYTES)),y:i.fromBytes(x.subarray(i.BYTES,2*i.BYTES))}}throw new Error("invalid Point, expected length of "+s+", or uncompressed "+n+", got "+_)}{const P=Xt(x);if(!ws(P,me,i.ORDER))throw new Error("Point is not on curve");const D=l(P);let N;try{N=i.sqrt(D)}catch(k){const j=k instanceof Error?": "+k.message:"";throw new Error("Point is not on curve"+j)}return!(1&~v)!==((N&me)===me)&&(N=i.neg(N)),{x:P,y:N}}}}),d=C=>xi(Pi(C,e.nByteLength));function f(C){return C>r>>me}const g=(C,_,v)=>Xt(C.slice(_,v));class y{constructor(_,v,x){this.r=_,this.s=v,this.recovery=x,this.assertValidity()}static fromCompact(_){const v=e.nByteLength;return _=Ke("compactSignature",_,2*v),new y(g(_,0,v),g(_,v,2*v))}static fromDER(_){const{r:v,s:x}=$t.toSig(Ke("DER",_));return new y(v,x)}assertValidity(){xt("r",this.r,me,r),xt("s",this.s,me,r)}addRecoveryBit(_){return new y(this.r,this.s,_)}recoverPublicKey(_){const{r:v,s:x,recovery:P}=this,D=S(Ke("msgHash",_));if(null==P||![0,1,2,3].includes(P))throw new Error("recovery id invalid");const N=2===P||3===P?v+e.n:v;if(N>=i.ORDER)throw new Error("recovery id 2 or 3 invalid");const B=1&P?"03":"02",k=c.fromHex(B+d(N)),j=a(N),z=o(-D*j),H=o(x*j),Y=c.BASE.multiplyAndAddUnsafe(k,z,H);if(!Y)throw new Error("point at infinify");return Y.assertValidity(),Y}hasHighS(){return f(this.s)}normalizeS(){return this.hasHighS()?new y(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return Ai(this.toDERHex())}toDERHex(){return $t.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Ai(this.toCompactHex())}toCompactHex(){return d(this.r)+d(this.s)}}const m={isValidPrivateKey(C){try{return u(C),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const C=Fl(e.n);return function r0(t,e,i=!1){const r=t.length,s=Nl(e),n=Fl(e);if(r<16||r<n||r>1024)throw new Error("expected "+n+"-1024 bytes of input, got "+r);const a=Me(i?cr(t):Xt(t),e-le)+le;return i?ys(a,s):Pi(a,s)}(e.randomBytes(C),e.n)},precompute:(C=8,_=c.BASE)=>(_._setWindowSize(C),_.multiply(BigInt(3)),_)};function b(C){const _=ri(C),v="string"==typeof C,x=(_||v)&&C.length;return _?x===s||x===n:v?x===2*s||x===2*n:C instanceof c}const O=e.bits2int||function(C){if(C.length>8192)throw new Error("input is too large");const _=Xt(C),v=8*C.length-e.nBitLength;return v>0?_>>BigInt(v):_},S=e.bits2int_modN||function(C){return o(O(C))},$=po(e.nBitLength);function A(C){return xt("num < 2^"+e.nBitLength,C,Ot,$),Pi(C,e.nByteLength)}function I(C,_,v=M){if(["recovered","canonical"].some(ee=>ee in v))throw new Error("sign() legacy options not supported");const{hash:x,randomBytes:P}=e;let{lowS:D,prehash:N,extraEntropy:B}=v;null==D&&(D=!0),C=Ke("msgHash",C),ic(v),N&&(C=Ke("prehashed msgHash",x(C)));const k=S(C),j=u(_),z=[A(j),A(k)];if(null!=B&&!1!==B){const ee=!0===B?P(i.BYTES):B;z.push(Ke("extraEntropy",ee))}const H=ur(...z),Y=k;return{seed:H,k2sig:function ne(ee){const J=O(ee);if(!h(J))return;const Pe=a(J),_e=c.BASE.multiply(J).toAffine(),Re=o(_e.x);if(Re===Ot)return;const Ye=o(Pe*o(Y+Re*j));if(Ye===Ot)return;let mt=(_e.x===Re?0:2)|Number(_e.y&me),ui=Ye;return D&&f(Ye)&&(ui=function p(C){return f(C)?o(-C):C}(Ye),mt^=1),new y(Re,ui,mt)}}}const M={lowS:e.lowS,prehash:!1},L={lowS:e.lowS,prehash:!1};return c.BASE._setWindowSize(8),{CURVE:e,getPublicKey:function w(C,_=!0){return c.fromPrivateKey(C).toRawBytes(_)},getSharedSecret:function E(C,_,v=!0){if(b(C))throw new Error("first arg must be private key");if(!b(_))throw new Error("second arg must be public key");return c.fromHex(_).multiply(u(C)).toRawBytes(v)},sign:function U(C,_,v=M){const{seed:x,k2sig:P}=I(C,_,v),D=e;return Pl(D.hash.outputLen,D.nByteLength,D.hmac)(x,P)},verify:function q(C,_,v,x=L){const P=C;_=Ke("msgHash",_),v=Ke("publicKey",v);const{lowS:D,prehash:N,format:B}=x;if(ic(x),"strict"in x)throw new Error("options.strict was renamed to lowS");if(void 0!==B&&"compact"!==B&&"der"!==B)throw new Error("format must be compact or der");const k="string"==typeof P||ri(P),j=!k&&!B&&"object"==typeof P&&null!==P&&"bigint"==typeof P.r&&"bigint"==typeof P.s;if(!k&&!j)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let z,H;try{if(j&&(z=new y(P.r,P.s)),k){try{"compact"!==B&&(z=y.fromDER(P))}catch(Ye){if(!(Ye instanceof $t.Err))throw Ye}!z&&"der"!==B&&(z=y.fromCompact(P))}H=c.fromHex(v)}catch{return!1}if(!z||D&&z.hasHighS())return!1;N&&(_=e.hash(_));const{r:Y,s:ne}=z,ee=S(_),J=a(ne),Pe=o(ee*J),_e=o(Y*J),Re=c.BASE.multiplyAndAddUnsafe(H,Pe,_e)?.toAffine();return!!Re&&o(Re.x)===Y},ProjectivePoint:c,Signature:y,utils:m}}function _0(t){return{hash:t,hmac:(e,...i)=>ps(t,e,function $b(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];br(s),e+=s.length}const i=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const n=t[r];i.set(n,s),s+=n.length}return i}(...i)),randomBytes:Li}}BigInt(4);const kl=Tl(BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff")),$0=function I0(t,e){const i=r=>E0({...t,..._0(r)});return{...i(e),create:i}}({a:kl.create(BigInt("-3")),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Fp:kl,n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),h:BigInt(1),lowS:!1},vr),Ne="base16",ot="base64pad",Ft="base64url",_r="utf8";function Nn(){return qe(Li(32),Ne)}function Vr(t){return qe(vr(Xe(t,Ne)),Ne)}function gt(t){return qe(vr(Xe(t,_r)),Ne)}function jl(t){return Xe(`${t}`,"base10")}function si(t){return Number(qe(t,"base10"))}function zl(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function Vl(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),i=(4-e.length%4)%4;return e+"=".repeat(i)}function Kl(t){if(2===si(t.type))return qe(Zi([t.type,t.sealed]),ot);if(1===si(t.type)){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return qe(Zi([t.type,t.senderPublicKey,t.iv,t.sealed]),ot)}return qe(Zi([t.type,t.iv,t.sealed]),ot)}function lr(t){const i=Xe((t.encoding||ot)===Ft?Vl(t.encoded):t.encoded,ot),r=i.slice(0,1);if(1===si(r)){const c=33,u=c+12,l=i.slice(1,c),h=i.slice(c,u);return{type:r,sealed:i.slice(u),iv:h,senderPublicKey:l}}if(2===si(r)){return{type:r,sealed:i.slice(1),iv:Li(12)}}const o=i.slice(1,13);return{type:r,sealed:i.slice(13),iv:o}}function Hl(t){const e=t?.type||0;if(1===e){if(typeof t?.senderPublicKey>"u")throw new Error("missing sender public key");if(typeof t?.receiverPublicKey>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t?.senderPublicKey,receiverPublicKey:t?.receiverPublicKey}}function nc(t){return 1===t.type&&"string"==typeof t.senderPublicKey&&"string"==typeof t.receiverPublicKey}function oc(t){return 2===t.type}function L0(t,e){const[i,r,s]=t.split("."),n=Buffer.from(Vl(s),"base64");if(64!==n.length)throw new Error("Invalid signature length");const o=n.slice(0,32),a=n.slice(32,64),u=vr(`${i}.${r}`),l=function F0(t){const e=Buffer.from(t.x,"base64"),i=Buffer.from(t.y,"base64");return Zi([new Uint8Array([4]),e,i])}(e);if(!$0.verify(Zi([o,a]),u,l))throw new Error("Invalid signature");return vn(t).payload}function es(t){return t?.relay||{protocol:"irn"}}function Yi(t){const e=Bm[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}function U0(t,e="-"){const i={},r="relay"+e;return Object.keys(t).forEach(s=>{if(s.startsWith(r)){const n=s.replace(r,""),o=t[s];i[n]=o}}),i}function ac(t){if(!t.includes("wc:")){const u=fl(t);null!=u&&u.includes("wc:")&&(t=u)}const e=(t=(t=t.includes("wc://")?t.replace("wc://",""):t).includes("wc:")?t.replace("wc:",""):t).indexOf(":"),i=-1!==t.indexOf("?")?t.indexOf("?"):void 0,r=t.substring(0,e),s=t.substring(e+1,i).split("@"),n=typeof i<"u"?t.substring(i):"",o=new URLSearchParams(n),a={};o.forEach((u,l)=>{a[l]=u});const c="string"==typeof a.methods?a.methods.split(","):void 0;return{protocol:r,topic:k0(s[0]),version:parseInt(s[1],10),symKey:a.symKey,relay:U0(a),methods:c,expiryTimestamp:a.expiryTimestamp?parseInt(a.expiryTimestamp,10):void 0}}function k0(t){return t.startsWith("//")?t.substring(2):t}function cc(t){const e=new URLSearchParams,i=function M0(t,e="-"){const r={};return Object.keys(t).forEach(s=>{const n=s,o="relay"+e+n;t[n]&&(r[o]=t[n])}),r}(t.relay);Object.keys(i).sort().forEach(s=>{e.set(s,i[s])}),e.set("symKey",t.symKey),t.expiryTimestamp&&e.set("expiryTimestamp",t.expiryTimestamp.toString()),t.methods&&e.set("methods",t.methods.join(","));const r=e.toString();return`${t.protocol}:${t.topic}@${t.version}?${r}`}function Lr(t,e,i){return`${t}?wc_ev=${i}&topic=${e}`}function Ui(t){const e=[];return t.forEach(i=>{const[r,s]=i.split(":");e.push(`${r}:${s}`)}),e}function uc(t,e){const i=function V0(t){const e={};return t?.forEach(i=>{var r;const[s,n]=i.split(":");e[s]||(e[s]={accounts:[],chains:[],events:[],methods:[]}),e[s].accounts.push(i),null==(r=e[s].chains)||r.push(`${s}:${n}`)}),e}(e=e.map(r=>r.replace("did:pkh:","")));for(const[r,s]of Object.entries(i))s.methods?s.methods=ab(s.methods,t):s.methods=t,s.events=["chainChanged","accountsChanged"];return i}const K0={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},H0={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function F(t,e){const{message:i,code:r}=H0[t];return{message:e?`${i} ${e}`:i,code:r}}function se(t,e){const{message:i,code:r}=K0[t];return{message:e?`${i} ${e}`:i,code:r}}function Dr(t,e){return!!Array.isArray(t)&&(!(typeof e<"u"&&t.length)||t.every(e))}function ts(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function $e(t){return typeof t>"u"}function de(t,e){return!(!e||!$e(t))||"string"==typeof t&&!!t.trim().length}function go(t,e){return!(!e||!$e(t))||"number"==typeof t&&!isNaN(t)}function is(t){return!(!de(t,!1)||!t.includes(":"))&&2===t.split(":").length}function lc(t){let e=!0;return Dr(t)?t.length&&(e=t.every(i=>de(i,!1))):e=!1,e}function ev(t,e,i){let r=null;return Object.entries(t).forEach(([s,n])=>{if(r)return;const o=function X0(t,e,i){let r=null;return Dr(e)&&e.length?e.forEach(s=>{r||is(s)||(r=se("UNSUPPORTED_CHAINS",`${i}, chain ${s} should be a string and conform to "namespace:chainId" format`))}):is(t)||(r=se("UNSUPPORTED_CHAINS",`${i}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),r}(s,oo(s,n),`${e} ${i}`);o&&(r=o)}),r}function tv(t,e){let i=null;return Dr(t)?t.forEach(r=>{i||function G0(t){if(de(t,!1)&&t.includes(":")){const e=t.split(":");if(3===e.length){const i=e[0]+":"+e[1];return!!e[2]&&is(i)}}return!1}(r)||(i=se("UNSUPPORTED_ACCOUNTS",`${e}, account ${r} should be a string and conform to "namespace:chainId:address" format`))}):i=se("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),i}function Wl(t,e){let i=null;return Object.values(t).forEach(r=>{if(i)return;const s=function rv(t,e){let i=null;return lc(t?.methods)?lc(t?.events)||(i=se("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):i=se("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),i}(r,`${e}, namespace`);s&&(i=s)}),i}function Xs(t,e){let i=null;if(t&&ts(t)){const r=Wl(t,e);r&&(i=r);const s=function iv(t,e){let i=null;return Object.values(t).forEach(r=>{if(i)return;const s=tv(r?.accounts,`${e} namespace`);s&&(i=s)}),i}(t,e);s&&(i=s)}else i=F("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return i}function Gl(t){return de(t.protocol,!0)}function ke(t){return typeof t<"u"&&null!==typeof t}function hc(t,e){return!(!is(e)||!function q0(t){const e=[];return Object.values(t).forEach(i=>{e.push(...Ui(i.accounts))}),e}(t).includes(e))}function hv(t,e,i){return!!de(i,!1)&&function j0(t,e){const i=[];return Object.values(t).forEach(r=>{Ui(r.accounts).includes(e)&&i.push(...r.methods)}),i}(t,e).includes(i)}function dv(t,e,i){return!!de(i,!1)&&function z0(t,e){const i=[];return Object.values(t).forEach(r=>{Ui(r.accounts).includes(e)&&i.push(...r.events)}),i}(t,e).includes(i)}function dc(t,e,i){let r=null;const s=function pv(t){const e={};return Object.keys(t).forEach(i=>{var r;i.includes(":")?e[i]=t[i]:null==(r=t[i].chains)||r.forEach(s=>{e[s]={methods:t[i].methods,events:t[i].events}})}),e}(t),n=function fv(t){const e={};return Object.keys(t).forEach(i=>{i.includes(":")?e[i]=t[i]:Ui(t[i].accounts)?.forEach(s=>{e[s]={accounts:t[i].accounts.filter(n=>n.includes(`${s}:`)),methods:t[i].methods,events:t[i].events}})}),e}(e),o=Object.keys(s),a=Object.keys(n),c=pc(Object.keys(t)),u=pc(Object.keys(e)),l=c.filter(h=>!u.includes(h));return l.length&&(r=F("NON_CONFORMING_NAMESPACES",`${i} namespaces keys don't satisfy requiredNamespaces.\n      Required: ${l.toString()}\n      Received: ${Object.keys(e).toString()}`)),Jt(o,a)||(r=F("NON_CONFORMING_NAMESPACES",`${i} namespaces chains don't satisfy required namespaces.\n      Required: ${o.toString()}\n      Approved: ${a.toString()}`)),Object.keys(e).forEach(h=>{if(!h.includes(":")||r)return;const d=Ui(e[h].accounts);d.includes(h)||(r=F("NON_CONFORMING_NAMESPACES",`${i} namespaces accounts don't satisfy namespace accounts for ${h}\n        Required: ${h}\n        Approved: ${d.toString()}`))}),o.forEach(h=>{r||(Jt(s[h].methods,n[h].methods)?Jt(s[h].events,n[h].events)||(r=F("NON_CONFORMING_NAMESPACES",`${i} namespaces events don't satisfy namespace events for ${h}`)):r=F("NON_CONFORMING_NAMESPACES",`${i} namespaces methods don't satisfy namespace methods for ${h}`))}),r}function pc(t){return[...new Set(t.map(e=>e.includes(":")?e.split(":")[0]:e))]}function fc(){const t=mr();return new Promise(e=>{switch(t){case We_browser:e(function yv(){return wr()&&navigator?.onLine}());break;case We_reactNative:e(async function wv(){return!(Ut()&&typeof __webpack_require__.g<"u"&&null!=__webpack_require__.g&&__webpack_require__.g.NetInfo)||(await(null==__webpack_require__.g?void 0:__webpack_require__.g.NetInfo.fetch()))?.isConnected}());break;default:e(!0)}})}function bv(t){switch(mr()){case We_browser:!function vv(t){!Ut()&&wr()&&(window.addEventListener("online",()=>t(!0)),window.addEventListener("offline",()=>t(!1)))}(t);break;case We_reactNative:!function Ev(t){Ut()&&typeof __webpack_require__.g<"u"&&null!=__webpack_require__.g&&__webpack_require__.g.NetInfo&&__webpack_require__.g?.NetInfo.addEventListener(e=>t(e?.isConnected))}(t)}}const en={};class Vi{static get(e){return en[e]}static set(e,i){en[e]=i}static delete(e){delete en[e]}}const _v="PARSE_ERROR",Iv="INVALID_REQUEST",Dv="METHOD_NOT_FOUND",Sv="INVALID_PARAMS",Yl="INTERNAL_ERROR",yo="SERVER_ERROR",$v=[-32700,-32600,-32601,-32602,-32603],Xi={[_v]:{code:-32700,message:"Parse error"},[Iv]:{code:-32600,message:"Invalid Request"},[Dv]:{code:-32601,message:"Method not found"},[Sv]:{code:-32602,message:"Invalid params"},[Yl]:{code:-32603,message:"Internal error"},[yo]:{code:-32e3,message:"Server error"}},Jl=yo;function gc(t){return Object.keys(Xi).includes(t)?Xi[t]:Xi[Jl]}var yc,Zl={},It={};var wc,Dt={};function dt(t=3){return Date.now()*Math.pow(10,t)+Math.floor(Math.random()*Math.pow(10,t))}function Zt(t=6){return BigInt(dt(t))}function Qt(t,e,i){return{id:i||dt(),jsonrpc:"2.0",method:t,params:e}}function ms(t,e){return{id:t,jsonrpc:"2.0",result:e}}function bs(t,e,i){return{id:t,jsonrpc:"2.0",error:Rv(e,i)}}function Rv(t,e){return typeof t>"u"?gc(Yl):("string"==typeof t&&(t=Object.assign(Object.assign({},gc(yo)),{message:t})),typeof e<"u"&&(t.data=e),function Ov(t){return $v.includes(t)}(t.code)&&(t=function xv(t){const e=Object.values(Xi).find(i=>i.code===t);return e||Xi[Jl]}(t.code)),t)}!function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=hr;e.__exportStar(function Pv(){if(yc)return It;function t(){return(null===_connector_d58f0dd8_js__WEBPACK_IMPORTED_MODULE_0__.c||void 0===_connector_d58f0dd8_js__WEBPACK_IMPORTED_MODULE_0__.c?void 0:_connector_d58f0dd8_js__WEBPACK_IMPORTED_MODULE_0__.c.crypto)||(null===_connector_d58f0dd8_js__WEBPACK_IMPORTED_MODULE_0__.c||void 0===_connector_d58f0dd8_js__WEBPACK_IMPORTED_MODULE_0__.c?void 0:_connector_d58f0dd8_js__WEBPACK_IMPORTED_MODULE_0__.c.msCrypto)||{}}function e(){const r=t();return r.subtle||r.webkitSubtle}return yc=1,Object.defineProperty(It,"__esModule",{value:!0}),It.isBrowserCryptoAvailable=It.getSubtleCrypto=It.getBrowerCrypto=void 0,It.getBrowerCrypto=t,It.getSubtleCrypto=e,It.isBrowserCryptoAvailable=function i(){return!!t()&&!!e()},It}(),t),e.__exportStar(function Cv(){if(wc)return Dt;function t(){return typeof document>"u"&&typeof navigator<"u"&&"ReactNative"===navigator.product}function e(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}return wc=1,Object.defineProperty(Dt,"__esModule",{value:!0}),Dt.isBrowser=Dt.isNode=Dt.isReactNative=void 0,Dt.isReactNative=t,Dt.isNode=e,Dt.isBrowser=function i(){return!t()&&!e()},Dt}(),t)}(Zl);class Ql{}let Tv=class extends Ql{constructor(e){super()}},Nv=class extends Ql{constructor(){super()}};class Fv extends Nv{constructor(e){super()}}function Uv(t,e){const i=function Bv(t){const e=t.match(new RegExp(/^\w+:/,"gi"));if(e&&e.length)return e[0]}(t);return!(typeof i>"u")&&new RegExp(e).test(i)}function mc(t){return Uv(t,"^wss?:")}function kv(t){return new RegExp("wss?://localhost(:d{2,5})?").test(t)}function Xl(t){return"object"==typeof t&&"id"in t&&"jsonrpc"in t&&"2.0"===t.jsonrpc}function wo(t){return Xl(t)&&"method"in t}function vs(t){return Xl(t)&&(pt(t)||Qe(t))}function pt(t){return"result"in t}function Qe(t){return"error"in t}let eh=class extends Fv{constructor(e){super(e),this.events=new Ge.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,i){this.events.on(e,i)}once(e,i){this.events.once(e,i)}off(e,i){this.events.off(e,i)}removeListener(e,i){this.events.removeListener(e,i)}async request(e,i){return this.requestStrict(Qt(e.method,e.params||[],e.id||Zt().toString()),i)}async requestStrict(e,i){return new Promise(async(r,s)=>{if(!this.connection.connected)try{await this.open()}catch(n){s(n)}this.events.on(`${e.id}`,n=>{Qe(n)?s(n.error):r(n.result)});try{await this.connection.send(e,i)}catch(n){s(n)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),vs(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&3e3===e.code&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),"string"==typeof e&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}};const bc=t=>t.split("?")[0],jv=typeof WebSocket<"u"?WebSocket:typeof __webpack_require__.g<"u"&&typeof __webpack_require__.g.WebSocket<"u"?__webpack_require__.g.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:__webpack_require__("./node_modules/ws/browser.js");let zv=class{constructor(e){if(this.url=e,this.events=new Ge.EventEmitter,this.registering=!1,!mc(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,i){this.events.on(e,i)}once(e,i){this.events.once(e,i)}off(e,i){this.events.off(e,i)}removeListener(e,i){this.events.removeListener(e,i)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,i)=>{typeof this.socket>"u"?i(new Error("Connection already closed")):(this.socket.onclose=r=>{this.onClose(r),e()},this.socket.close())})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(ei(e))}catch(i){this.onError(e.id,i)}}register(e=this.url){if(!mc(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const i=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=i||this.events.listenerCount("open")>=i)&&this.events.setMaxListeners(i+1),new Promise((r,s)=>{this.events.once("register_error",n=>{this.resetMaxListeners(),s(n)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return s(new Error("WebSocket connection is missing or invalid"));r(this.socket)})})}return this.url=e,this.registering=!0,new Promise((i,r)=>{const s=Zl.isReactNative()?void 0:{rejectUnauthorized:!kv(e)},n=new jv(e,[],s);typeof WebSocket<"u"||typeof __webpack_require__.g<"u"&&typeof __webpack_require__.g.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u"?n.onerror=o=>{const a=o;r(this.emitError(a.error))}:n.on("error",o=>{r(this.emitError(o))}),n.onopen=()=>{this.onOpen(n),i(n)}})}onOpen(e){e.onmessage=i=>this.onPayload(i),e.onclose=i=>this.onClose(i),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const i="string"==typeof e.data?Ii(e.data):e.data;this.events.emit("payload",i)}onError(e,i){const r=this.parseError(i),n=bs(e,r.message||r.toString());this.events.emit("payload",n)}parseError(e,i=this.url){return function Av(t,e,i){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${i} RPC url at ${e}`):t}(e,bc(i),"WS")}resetMaxListeners(){this.events.getMaxListeners()>10&&this.events.setMaxListeners(10)}emitError(e){const i=this.parseError(new Error(e?.message||`WebSocket connection failed for host: ${bc(this.url)}`));return this.events.emit("register_error",i),i}};const rs="core",wt=`wc@2:${rs}:`,Vv_logger="error",Kv={database:":memory:"},Ec="client_ed25519_seed",Wv=T.ONE_DAY,_c=T.SIX_HOURS,sh="wss://relay.walletconnect.org",be_message="relayer_message",be_message_ack="relayer_message_ack",be_connect="relayer_connect",be_disconnect="relayer_disconnect",be_error="relayer_error",be_connection_stalled="relayer_connection_stalled",be_publish="relayer_publish",Je_payload="payload",Je_connect="connect",Je_disconnect="disconnect",Je_error="error",Fn="2.20.2",ce={link_mode:"link_mode",relay:"relay"},Kr_inbound="inbound",Kr_outbound="outbound",Ic="WALLETCONNECT_LINK_MODE_APPS",Ve_created="subscription_created",Ve_deleted="subscription_deleted",Ve_sync="subscription_sync",Ve_resubscribed="subscription_resubscribed",Ki={wc_pairingDelete:{req:{ttl:T.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:T.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:T.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:T.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:T.ONE_DAY,prompt:!1,tag:0},res:{ttl:T.ONE_DAY,prompt:!1,tag:0}}},Yt_create="pairing_create",Yt_expire="pairing_expire",Yt_delete="pairing_delete",Yt_ping="pairing_ping",tt_created="history_created",tt_updated="history_updated",tt_deleted="history_deleted",tt_sync="history_sync",Ze_created="expirer_created",Ze_deleted="expirer_deleted",Ze_expired="expirer_expired",Ze_sync="expirer_sync",nh="https://verify.walletconnect.org",er=nh,gE=`${er}/v3`,yE=["https://verify.walletconnect.com",nh],ht_pairing_started="pairing_started",ht_pairing_uri_validation_success="pairing_uri_validation_success",ht_pairing_uri_not_expired="pairing_uri_not_expired",ht_store_new_pairing="store_new_pairing",ht_subscribing_pairing_topic="subscribing_pairing_topic",ht_subscribe_pairing_topic_success="subscribe_pairing_topic_success",ht_existing_pairing="existing_pairing",ht_pairing_not_expired="pairing_not_expired",ht_emit_inactive_pairing="emit_inactive_pairing",ht_emit_session_proposal="emit_session_proposal",St_no_internet_connection="no_internet_connection",St_malformed_pairing_uri="malformed_pairing_uri",St_active_pairing_already_exists="active_pairing_already_exists",St_subscribe_pairing_topic_failure="subscribe_pairing_topic_failure",St_pairing_expired="pairing_expired",St_proposal_listener_not_found="proposal_listener_not_found",it_session_approve_started="session_approve_started",it_session_namespaces_validation_success="session_namespaces_validation_success",it_subscribing_session_topic="subscribing_session_topic",it_subscribe_session_topic_success="subscribe_session_topic_success",it_publishing_session_approve="publishing_session_approve",it_session_approve_publish_success="session_approve_publish_success",it_store_session="store_session",it_publishing_session_settle="publishing_session_settle",it_session_settle_publish_success="session_settle_publish_success",jt_no_internet_connection="no_internet_connection",jt_proposal_expired="proposal_expired",jt_subscribe_session_topic_failure="subscribe_session_topic_failure",jt_session_approve_publish_failure="session_approve_publish_failure",jt_session_settle_publish_failure="session_settle_publish_failure",jt_session_approve_namespace_validation_failure="session_approve_namespace_validation_failure",jt_proposal_not_found="proposal_not_found",zt_authenticated_session_approve_started="authenticated_session_approve_started",zt_create_authenticated_session_topic="create_authenticated_session_topic",zt_cacaos_verified="cacaos_verified",zt_store_authenticated_session="store_authenticated_session",zt_subscribing_authenticated_session_topic="subscribing_authenticated_session_topic",zt_subscribe_authenticated_session_topic_success="subscribe_authenticated_session_topic_success",zt_publishing_authenticated_session_approve="publishing_authenticated_session_approve",Hi_no_internet_connection="no_internet_connection",Hi_invalid_cacao="invalid_cacao",Hi_subscribe_authenticated_session_topic_failure="subscribe_authenticated_session_topic_failure",Hi_authenticated_session_approve_publish_failure="authenticated_session_approve_publish_failure",Hi_authenticated_session_pending_request_not_found="authenticated_session_pending_request_not_found";var DE=function IE(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var i=new Uint8Array(256),r=0;r<i.length;r++)i[r]=255;for(var s=0;s<t.length;s++){var n=t.charAt(s),o=n.charCodeAt(0);if(255!==i[o])throw new TypeError(n+" is ambiguous");i[o]=s}var a=t.length,c=t.charAt(0),u=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function d(p){if("string"!=typeof p)throw new TypeError("Expected String");if(0===p.length)return new Uint8Array;var g=0;if(" "!==p[g]){for(var y=0,m=0;p[g]===c;)y++,g++;for(var w=(p.length-g)*u+1>>>0,b=new Uint8Array(w);p[g];){var E=i[p.charCodeAt(g)];if(255===E)return;for(var O=0,S=w-1;(0!==E||O<m)&&-1!==S;S--,O++)E+=a*b[S]>>>0,b[S]=E%256>>>0,E=E/256>>>0;if(0!==E)throw new Error("Non-zero carry");m=O,g++}if(" "!==p[g]){for(var $=w-m;$!==w&&0===b[$];)$++;for(var A=new Uint8Array(y+(w-$)),I=y;$!==w;)A[I++]=b[$++];return A}}}return{encode:function h(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===p.length)return"";for(var g=0,y=0,m=0,w=p.length;m!==w&&0===p[m];)m++,g++;for(var b=(w-m)*l+1>>>0,E=new Uint8Array(b);m!==w;){for(var O=p[m],S=0,$=b-1;(0!==O||S<y)&&-1!==$;$--,S++)O+=256*E[$]>>>0,E[$]=O%a>>>0,O=O/a>>>0;if(0!==O)throw new Error("Non-zero carry");y=S,m++}for(var A=b-y;A!==b&&0===E[A];)A++;for(var I=c.repeat(g);A<b;++A)I+=t.charAt(E[A]);return I},decodeUnsafe:d,decode:function f(p){var g=d(p);if(g)return g;throw new Error(`Non-${e} character`)}}},SE=DE;const oh=t=>{if(t instanceof Uint8Array&&"Uint8Array"===t.constructor.name)return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")};class xE{constructor(e,i,r){this.name=e,this.prefix=i,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class AE{constructor(e,i,r){if(this.name=e,this.prefix=i,void 0===i.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=i.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return ah(this,e)}}class PE{constructor(e){this.decoders=e}or(e){return ah(this,e)}decode(e){const i=e[0],r=this.decoders[i];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const ah=(t,e)=>new PE({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class CE{constructor(e,i,r,s){this.name=e,this.prefix=i,this.baseEncode=r,this.baseDecode=s,this.encoder=new xE(e,i,r),this.decoder=new AE(e,i,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const Es=({name:t,prefix:e,encode:i,decode:r})=>new CE(t,e,i,r),Sr=({prefix:t,name:e,alphabet:i})=>{const{encode:r,decode:s}=SE(i,e);return Es({prefix:t,name:e,encode:r,decode:n=>oh(s(n))})},Ae=({name:t,prefix:e,bitsPerChar:i,alphabet:r})=>Es({prefix:e,name:t,encode:s=>((t,e,i)=>{const r="="===e[e.length-1],s=(1<<i)-1;let n="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>i;)o-=i,n+=e[s&a>>o];if(o&&(n+=e[s&a<<i-o]),r)for(;n.length*i&7;)n+="=";return n})(s,r,i),decode:s=>((t,e,i,r)=>{const s={};for(let l=0;l<e.length;++l)s[e[l]]=l;let n=t.length;for(;"="===t[n-1];)--n;const o=new Uint8Array(n*i/8|0);let a=0,c=0,u=0;for(let l=0;l<n;++l){const h=s[t[l]];if(void 0===h)throw new SyntaxError(`Non-${r} character`);c=c<<i|h,a+=i,a>=8&&(a-=8,o[u++]=255&c>>a)}if(a>=i||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o})(s,r,i,t)}),NE=Es({prefix:"\0",name:"identity",encode:t=>(t=>(new TextDecoder).decode(t))(t),decode:t=>(t=>(new TextEncoder).encode(t))(t)});var FE=Object.freeze({__proto__:null,identity:NE});const LE=Ae({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var BE=Object.freeze({__proto__:null,base2:LE});const UE=Ae({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var kE=Object.freeze({__proto__:null,base8:UE});const ME=Sr({prefix:"9",name:"base10",alphabet:"0123456789"});var qE=Object.freeze({__proto__:null,base10:ME});const jE=Ae({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),zE=Ae({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var VE=Object.freeze({__proto__:null,base16:jE,base16upper:zE});const KE=Ae({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),HE=Ae({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),WE=Ae({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),GE=Ae({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),YE=Ae({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),JE=Ae({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),ZE=Ae({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),QE=Ae({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),XE=Ae({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var e_=Object.freeze({__proto__:null,base32:KE,base32upper:HE,base32pad:WE,base32padupper:GE,base32hex:YE,base32hexupper:JE,base32hexpad:ZE,base32hexpadupper:QE,base32z:XE});const t_=Sr({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),i_=Sr({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var r_=Object.freeze({__proto__:null,base36:t_,base36upper:i_});const s_=Sr({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),n_=Sr({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var o_=Object.freeze({__proto__:null,base58btc:s_,base58flickr:n_});const a_=Ae({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),c_=Ae({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),u_=Ae({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),l_=Ae({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var h_=Object.freeze({__proto__:null,base64:a_,base64pad:c_,base64url:u_,base64urlpad:l_});const ch=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),d_=ch.reduce((t,e,i)=>(t[i]=e,t),[]),p_=ch.reduce((t,e,i)=>(t[e.codePointAt(0)]=i,t),[]);const y_=Es({prefix:"🚀",name:"base256emoji",encode:function f_(t){return t.reduce((e,i)=>e+=d_[i],"")},decode:function g_(t){const e=[];for(const i of t){const r=p_[i.codePointAt(0)];if(void 0===r)throw new Error(`Non-base256emoji character: ${i}`);e.push(r)}return new Uint8Array(e)}});var w_=Object.freeze({__proto__:null,base256emoji:y_}),m_=function uh(t,e,i){e=e||[];for(var r=i=i||0;t>=E_;)e[i++]=255&t|Dc,t/=128;for(;t&v_;)e[i++]=255&t|Dc,t>>>=7;return e[i]=0|t,uh.bytes=i-r+1,e},Dc=128,v_=-128,E_=Math.pow(2,31);var __=function Ln(t,r){var o,i=0,s=0,n=r=r||0,a=t.length;do{if(n>=a)throw Ln.bytes=0,new RangeError("Could not decode varint");o=t[n++],i+=s<28?(o&Sc)<<s:(o&Sc)*Math.pow(2,s),s+=7}while(o>=I_);return Ln.bytes=n-r,i},I_=128,Sc=127;var D_=Math.pow(2,7),S_=Math.pow(2,14),$_=Math.pow(2,21),O_=Math.pow(2,28),x_=Math.pow(2,35),A_=Math.pow(2,42),P_=Math.pow(2,49),C_=Math.pow(2,56),R_=Math.pow(2,63),N_={encode:m_,decode:__,encodingLength:function(t){return t<D_?1:t<S_?2:t<$_?3:t<O_?4:t<x_?5:t<A_?6:t<P_?7:t<C_?8:t<R_?9:10}},lh=N_;const $c=(t,e,i=0)=>(lh.encode(t,e,i),e),Oc=t=>lh.encodingLength(t),Bn=(t,e)=>{const i=e.byteLength,r=Oc(t),s=r+Oc(i),n=new Uint8Array(s+i);return $c(t,n,0),$c(i,n,r),n.set(e,s),new F_(t,i,e,n)};class F_{constructor(e,i,r,s){this.code=e,this.size=i,this.digest=r,this.bytes=s}}const hh=({name:t,code:e,encode:i})=>new L_(t,e,i);class L_{constructor(e,i,r){this.name=e,this.code=i,this.encode=r}digest(e){if(e instanceof Uint8Array){const i=this.encode(e);return i instanceof Uint8Array?Bn(this.code,i):i.then(r=>Bn(this.code,r))}throw Error("Unknown type, must be binary type")}}const dh=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),B_=hh({name:"sha2-256",code:18,encode:dh("SHA-256")}),U_=hh({name:"sha2-512",code:19,encode:dh("SHA-512")});Object.freeze({__proto__:null,sha256:B_,sha512:U_});const fh=oh,j_={code:0,name:"identity",encode:fh,digest:t=>Bn(0,fh(t))};Object.freeze({__proto__:null,identity:j_});new TextEncoder,new TextDecoder;const xc={...FE,...BE,...kE,...qE,...VE,...e_,...r_,...o_,...h_,...w_};function gh(t,e,i,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:i},decoder:{decode:r}}}const Ac=gh("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>(new TextEncoder).encode(t.substring(1))),tn=gh("ascii","a",t=>{let e="a";for(let i=0;i<t.length;i++)e+=String.fromCharCode(t[i]);return e},t=>{const e=function V_(t=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?globalThis.Buffer.allocUnsafe(t):new Uint8Array(t)}((t=t.substring(1)).length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}),K_={utf8:Ac,"utf-8":Ac,hex:xc.base16,latin1:tn,ascii:tn,binary:tn,...xc};var W_=Object.defineProperty,ut=(t,e,i)=>((t,e,i)=>e in t?W_(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i)(t,"symbol"!=typeof e?e+"":e,i);class Y_{constructor(e,i){this.core=e,this.logger=i,ut(this,"keychain",new Map),ut(this,"name","keychain"),ut(this,"version","0.3"),ut(this,"initialized",!1),ut(this,"storagePrefix",wt),ut(this,"init",async()=>{if(!this.initialized){const r=await this.getKeyChain();typeof r<"u"&&(this.keychain=r),this.initialized=!0}}),ut(this,"has",r=>(this.isInitialized(),this.keychain.has(r))),ut(this,"set",async(r,s)=>{this.isInitialized(),this.keychain.set(r,s),await this.persist()}),ut(this,"get",r=>{this.isInitialized();const s=this.keychain.get(r);if(typeof s>"u"){const{message:n}=F("NO_MATCHING_KEY",`${this.name}: ${r}`);throw new Error(n)}return s}),ut(this,"del",async r=>{this.isInitialized(),this.keychain.delete(r),await this.persist()}),this.core=e,this.logger=Fe(i,this.name)}get context(){return je(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,In(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?Dn(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=F("NOT_INITIALIZED",this.name);throw new Error(e)}}}var J_=Object.defineProperty,De=(t,e,i)=>((t,e,i)=>e in t?J_(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i)(t,"symbol"!=typeof e?e+"":e,i);class Q_{constructor(e,i,r){this.core=e,this.logger=i,De(this,"name","crypto"),De(this,"keychain"),De(this,"randomSessionIdentifier",Nn()),De(this,"initialized",!1),De(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),De(this,"hasKeys",s=>(this.isInitialized(),this.keychain.has(s))),De(this,"getClientId",async()=>{this.isInitialized();return ju(pa(await this.getClientSeed()).publicKey)}),De(this,"generateKeyPair",()=>{this.isInitialized();const s=function x0(){const t=Tn.utils.randomPrivateKey(),e=Tn.getPublicKey(t);return{privateKey:qe(t,Ne),publicKey:qe(e,Ne)}}();return this.setPrivateKey(s.publicKey,s.privateKey)}),De(this,"signJWT",async s=>{this.isInitialized();const o=pa(await this.getClientSeed()),a=this.randomSessionIdentifier;return await ky(a,s,Wv,o)}),De(this,"generateSharedKey",(s,n,o)=>{this.isInitialized();const c=function A0(t,e){const i=Tn.getSharedSecret(Xe(t,Ne),Xe(e,Ne));return qe(T1(vr,i,void 0,void 0,32),Ne)}(this.getPrivateKey(s),n);return this.setSymKey(c,o)}),De(this,"setSymKey",async(s,n)=>{this.isInitialized();const o=n||Vr(s);return await this.keychain.set(o,s),o}),De(this,"deleteKeyPair",async s=>{this.isInitialized(),await this.keychain.del(s)}),De(this,"deleteSymKey",async s=>{this.isInitialized(),await this.keychain.del(s)}),De(this,"encode",async(s,n,o)=>{this.isInitialized();const a=Hl(o),c=ei(n);if(oc(a))return function R0(t,e){const i=jl(2),r=Li(12),n=Kl({type:i,sealed:Xe(t,_r),iv:r});return e===Ft?zl(n):n}(c,o?.encoding);if(nc(a)){const d=a.senderPublicKey,f=a.receiverPublicKey;s=await this.generateSharedKey(d,f)}const u=this.getSymKey(s),{type:l,senderPublicKey:h}=a;return function P0(t){const e=jl(typeof t.type<"u"?t.type:0);if(1===si(e)&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const i=typeof t.senderPublicKey<"u"?Xe(t.senderPublicKey,Ne):void 0,r=typeof t.iv<"u"?Xe(t.iv,Ne):Li(12),s=Xe(t.symKey,Ne),o=Kl({type:e,sealed:Ol(s,r).encrypt(Xe(t.message,_r)),iv:r,senderPublicKey:i});return t.encoding===Ft?zl(o):o}({type:l,symKey:u,message:c,senderPublicKey:h,encoding:o?.encoding})}),De(this,"decode",async(s,n,o)=>{this.isInitialized();const a=function N0(t,e){const i=lr({encoded:t,encoding:e?.encoding});return Hl({type:si(i.type),senderPublicKey:typeof i.senderPublicKey<"u"?qe(i.senderPublicKey,Ne):void 0,receiverPublicKey:e?.receiverPublicKey})}(n,o);if(oc(a)){const c=function T0(t,e){const{sealed:i}=lr({encoded:t,encoding:e});return qe(i,_r)}(n,o?.encoding);return Ii(c)}if(nc(a)){const c=a.receiverPublicKey,u=a.senderPublicKey;s=await this.generateSharedKey(c,u)}try{const u=function C0(t){const e=Xe(t.symKey,Ne),{sealed:i,iv:r}=lr({encoded:t.encoded,encoding:t.encoding}),s=Ol(e,r).decrypt(i);if(null===s)throw new Error("Failed to decrypt");return qe(s,_r)}({symKey:this.getSymKey(s),encoded:n,encoding:o?.encoding});return Ii(u)}catch(c){this.logger.error(`Failed to decode message from topic: '${s}', clientId: '${await this.getClientId()}'`),this.logger.error(c)}}),De(this,"getPayloadType",(s,n=ot)=>si(lr({encoded:s,encoding:n}).type)),De(this,"getPayloadSenderPublicKey",(s,n=ot)=>{const o=lr({encoded:s,encoding:n});return o.senderPublicKey?qe(o.senderPublicKey,Ne):void 0}),this.core=e,this.logger=Fe(i,this.name),this.keychain=r||new Y_(this.core,this.logger)}get context(){return je(this.logger)}async setPrivateKey(e,i){return await this.keychain.set(e,i),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(Ec)}catch{e=Nn(),await this.keychain.set(Ec,e)}return function H_(t,e="utf8"){const i=K_[e];if(!i)throw new Error(`Unsupported encoding "${e}"`);return"utf8"!==e&&"utf-8"!==e||null==globalThis.Buffer||null==globalThis.Buffer.from?i.decoder.decode(`${i.prefix}${t}`):globalThis.Buffer.from(t,"utf8")}(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=F("NOT_INITIALIZED",this.name);throw new Error(e)}}}var X_=Object.defineProperty,e2=Object.defineProperties,t2=Object.getOwnPropertyDescriptors,Pc=Object.getOwnPropertySymbols,i2=Object.prototype.hasOwnProperty,r2=Object.prototype.propertyIsEnumerable,Un=(t,e,i)=>e in t?X_(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,ze=(t,e,i)=>Un(t,"symbol"!=typeof e?e+"":e,i);class o2 extends Fp{constructor(e,i){super(e,i),this.logger=e,this.core=i,ze(this,"messages",new Map),ze(this,"messagesWithoutClientAck",new Map),ze(this,"name","messages"),ze(this,"version","0.3"),ze(this,"initialized",!1),ze(this,"storagePrefix",wt),ze(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const r=await this.getRelayerMessages();typeof r<"u"&&(this.messages=r);const s=await this.getRelayerMessagesWithoutClientAck();typeof s<"u"&&(this.messagesWithoutClientAck=s),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(r){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(r)}finally{this.initialized=!0}}}),ze(this,"set",async(r,s,n)=>{this.isInitialized();const o=gt(s);let a=this.messages.get(r);if(typeof a>"u"&&(a={}),typeof a[o]<"u")return o;if(a[o]=s,this.messages.set(r,a),n===Kr_inbound){const c=this.messagesWithoutClientAck.get(r)||{};this.messagesWithoutClientAck.set(r,((t,e)=>e2(t,t2(e)))(((t,e)=>{for(var i in e||(e={}))i2.call(e,i)&&Un(t,i,e[i]);if(Pc)for(var i of Pc(e))r2.call(e,i)&&Un(t,i,e[i]);return t})({},c),{[o]:s}))}return await this.persist(),o}),ze(this,"get",r=>{this.isInitialized();let s=this.messages.get(r);return typeof s>"u"&&(s={}),s}),ze(this,"getWithoutAck",r=>{this.isInitialized();const s={};for(const n of r){const o=this.messagesWithoutClientAck.get(n)||{};s[n]=Object.values(o)}return s}),ze(this,"has",(r,s)=>{this.isInitialized();return typeof this.get(r)[gt(s)]<"u"}),ze(this,"ack",async(r,s)=>{this.isInitialized();const n=this.messagesWithoutClientAck.get(r);if(typeof n>"u")return;delete n[gt(s)],0===Object.keys(n).length?this.messagesWithoutClientAck.delete(r):this.messagesWithoutClientAck.set(r,n),await this.persist()}),ze(this,"del",async r=>{this.isInitialized(),this.messages.delete(r),this.messagesWithoutClientAck.delete(r),await this.persist()}),this.logger=Fe(e,this.name),this.core=i}get context(){return je(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,In(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,In(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?Dn(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<"u"?Dn(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=F("NOT_INITIALIZED",this.name);throw new Error(e)}}}var a2=Object.defineProperty,c2=Object.defineProperties,u2=Object.getOwnPropertyDescriptors,Cc=Object.getOwnPropertySymbols,l2=Object.prototype.hasOwnProperty,h2=Object.prototype.propertyIsEnumerable,kn=(t,e,i)=>e in t?a2(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,Br=(t,e)=>{for(var i in e||(e={}))l2.call(e,i)&&kn(t,i,e[i]);if(Cc)for(var i of Cc(e))h2.call(e,i)&&kn(t,i,e[i]);return t},rn=(t,e)=>c2(t,u2(e)),rt=(t,e,i)=>kn(t,"symbol"!=typeof e?e+"":e,i);class d2 extends Lp{constructor(e,i){super(e,i),this.relayer=e,this.logger=i,rt(this,"events",new Ge.EventEmitter),rt(this,"name","publisher"),rt(this,"queue",new Map),rt(this,"publishTimeout",T.toMiliseconds(T.ONE_MINUTE)),rt(this,"initialPublishTimeout",T.toMiliseconds(15*T.ONE_SECOND)),rt(this,"needsTransportRestart",!1),rt(this,"publish",async(r,s,n)=>{var o;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:r,message:s,opts:n}});const a=n?.ttl||_c,c=es(n),u=n?.prompt||!1,l=n?.tag||0,h=n?.id||Zt().toString(),d={topic:r,message:s,opts:{ttl:a,relay:c,prompt:u,tag:l,id:h,attestation:n?.attestation,tvf:n?.tvf}},f=`Failed to publish payload, please try again. id:${h} tag:${l}`;try{const p=new Promise(async g=>{const y=({id:w})=>{d.opts.id===w&&(this.removeRequestFromQueue(w),this.relayer.events.removeListener(be_publish,y),g(d))};this.relayer.events.on(be_publish,y);const m=Lt(new Promise((w,b)=>{this.rpcPublish({topic:r,message:s,ttl:a,prompt:u,tag:l,id:h,attestation:n?.attestation,tvf:n?.tvf}).then(w).catch(E=>{this.logger.warn(E,E?.message),b(E)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${h} tag:${l}`);try{await m,this.events.removeListener(be_publish,y)}catch(w){this.queue.set(h,rn(Br({},d),{attempt:1})),this.logger.warn(w,w?.message)}});this.logger.trace({type:"method",method:"publish",params:{id:h,topic:r,message:s,opts:n}}),await Lt(p,this.publishTimeout,f)}catch(p){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(p),null!=(o=n?.internal)&&o.throwOnFailedPublish)throw p}finally{this.queue.delete(h)}}),rt(this,"on",(r,s)=>{this.events.on(r,s)}),rt(this,"once",(r,s)=>{this.events.once(r,s)}),rt(this,"off",(r,s)=>{this.events.off(r,s)}),rt(this,"removeListener",(r,s)=>{this.events.removeListener(r,s)}),this.relayer=e,this.logger=Fe(i,this.name),this.registerEventListeners()}get context(){return je(this.logger)}async rpcPublish(e){var i,r,s,n;const{topic:o,message:a,ttl:c=_c,prompt:u,tag:l,id:h,attestation:d,tvf:f}=e,p={method:Yi(es().protocol).publish,params:Br({topic:o,message:a,ttl:c,prompt:u,tag:l,attestation:d},f),id:h};$e(null==(i=p.params)?void 0:i.prompt)&&(null==(r=p.params)||delete r.prompt),$e(null==(s=p.params)?void 0:s.tag)&&(null==(n=p.params)||delete n.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:p});const g=await this.relayer.request(p);return this.relayer.events.emit(be_publish,e),this.logger.debug("Successfully Published Payload"),g}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,i)=>{const r=e.attempt+1;this.queue.set(i,rn(Br({},e),{attempt:r}));const{topic:s,message:n,opts:o,attestation:a}=e;this.logger.warn({},`Publisher: queue->publishing: ${e.opts.id}, tag: ${e.opts.tag}, attempt: ${r}`),await this.rpcPublish(rn(Br({},e),{topic:s,message:n,ttl:o.ttl,prompt:o.prompt,tag:o.tag,id:o.id,attestation:a,tvf:o.tvf})),this.logger.warn({},`Publisher: queue->published: ${e.opts.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(Ci_pulse,()=>{if(this.needsTransportRestart)return this.needsTransportRestart=!1,void this.relayer.events.emit(be_connection_stalled);this.checkQueue()}),this.relayer.on(be_message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}}var p2=Object.defineProperty,mi=(t,e,i)=>((t,e,i)=>e in t?p2(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i)(t,"symbol"!=typeof e?e+"":e,i);class g2{constructor(){mi(this,"map",new Map),mi(this,"set",(e,i)=>{const r=this.get(e);this.exists(e,i)||this.map.set(e,[...r,i])}),mi(this,"get",e=>this.map.get(e)||[]),mi(this,"exists",(e,i)=>this.get(e).includes(i)),mi(this,"delete",(e,i)=>{if(typeof i>"u")return void this.map.delete(e);if(!this.map.has(e))return;const r=this.get(e);if(!this.exists(e,i))return;const s=r.filter(n=>n!==i);s.length?this.map.set(e,s):this.map.delete(e)}),mi(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var y2=Object.defineProperty,w2=Object.defineProperties,m2=Object.getOwnPropertyDescriptors,Rc=Object.getOwnPropertySymbols,b2=Object.prototype.hasOwnProperty,v2=Object.prototype.propertyIsEnumerable,Mn=(t,e,i)=>e in t?y2(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,Wi=(t,e)=>{for(var i in e||(e={}))b2.call(e,i)&&Mn(t,i,e[i]);if(Rc)for(var i of Rc(e))v2.call(e,i)&&Mn(t,i,e[i]);return t},sn=(t,e)=>w2(t,m2(e)),ie=(t,e,i)=>Mn(t,"symbol"!=typeof e?e+"":e,i);class E2 extends kp{constructor(e,i){super(e,i),this.relayer=e,this.logger=i,ie(this,"subscriptions",new Map),ie(this,"topicMap",new g2),ie(this,"events",new Ge.EventEmitter),ie(this,"name","subscription"),ie(this,"version","0.3"),ie(this,"pending",new Map),ie(this,"cached",[]),ie(this,"initialized",!1),ie(this,"storagePrefix",wt),ie(this,"subscribeTimeout",T.toMiliseconds(T.ONE_MINUTE)),ie(this,"initialSubscribeTimeout",T.toMiliseconds(15*T.ONE_SECOND)),ie(this,"clientId"),ie(this,"batchSubscribeTopicsLimit",500),ie(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),ie(this,"subscribe",async(r,s)=>{this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:s}});try{const n=es(s),o={topic:r,relay:n,transportType:s?.transportType};this.pending.set(r,o);const a=await this.rpcSubscribe(r,n,s);return"string"==typeof a&&(this.onSubscribe(a,o),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:s}})),a}catch(n){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(n),n}}),ie(this,"unsubscribe",async(r,s)=>{this.isInitialized(),typeof s?.id<"u"?await this.unsubscribeById(r,s.id,s):await this.unsubscribeByTopic(r,s)}),ie(this,"isSubscribed",r=>new Promise(s=>{s(this.topicMap.topics.includes(r))})),ie(this,"isKnownTopic",r=>new Promise(s=>{s(this.topicMap.topics.includes(r)||this.pending.has(r)||this.cached.some(n=>n.topic===r))})),ie(this,"on",(r,s)=>{this.events.on(r,s)}),ie(this,"once",(r,s)=>{this.events.once(r,s)}),ie(this,"off",(r,s)=>{this.events.off(r,s)}),ie(this,"removeListener",(r,s)=>{this.events.removeListener(r,s)}),ie(this,"start",async()=>{await this.onConnect()}),ie(this,"stop",async()=>{await this.onDisconnect()}),ie(this,"restart",async()=>{await this.restore(),await this.onRestart()}),ie(this,"checkPending",async()=>{if(!(0!==this.pending.size||this.initialized&&this.relayer.connected))return;const r=[];this.pending.forEach(s=>{r.push(s)}),await this.batchSubscribe(r)}),ie(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(Ci_pulse,async()=>{await this.checkPending()}),this.events.on(Ve_created,async r=>{const s=Ve_created;this.logger.info(`Emitting ${s}`),this.logger.debug({type:"event",event:s,data:r}),await this.persist()}),this.events.on(Ve_deleted,async r=>{const s=Ve_deleted;this.logger.info(`Emitting ${s}`),this.logger.debug({type:"event",event:s,data:r}),await this.persist()})}),this.relayer=e,this.logger=Fe(i,this.name),this.clientId=""}get context(){return je(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,i){let r=!1;try{r=this.getSubscription(e).topic===i}catch{}return r}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,i){const r=this.topicMap.get(e);await Promise.all(r.map(async s=>await this.unsubscribeById(e,s,i)))}async unsubscribeById(e,i,r){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:i,opts:r}});try{const s=es(r);await this.restartToComplete({topic:e,id:i,relay:s}),await this.rpcUnsubscribe(e,i,s);const n=se("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,i,n),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:i,opts:r}})}catch(s){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(s),s}}async rpcSubscribe(e,i,r){var s;(!r||r?.transportType===ce.relay)&&await this.restartToComplete({topic:e,id:e,relay:i});const n={method:Yi(i.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});const o=null==(s=r?.internal)?void 0:s.throwOnFailedPublish;try{const a=await this.getSubscriptionId(e);if(r?.transportType===ce.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(n).catch(l=>this.logger.warn(l))},T.toMiliseconds(T.ONE_SECOND)),a;const c=new Promise(async l=>{const h=d=>{d.topic===e&&(this.events.removeListener(Ve_created,h),l(d.id))};this.events.on(Ve_created,h);try{const d=await Lt(new Promise((f,p)=>{this.relayer.request(n).catch(g=>{this.logger.warn(g,g?.message),p(g)}).then(f)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(Ve_created,h),l(d)}catch{}}),u=await Lt(c,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!u&&o)throw new Error(`Subscribing to ${e} failed, please try again`);return u?a:null}catch(a){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(be_connection_stalled),o)throw a}return null}async rpcBatchSubscribe(e){if(!e.length)return;const r={method:Yi(e[0].relay.protocol).batchSubscribe,params:{topics:e.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});try{await await Lt(new Promise(s=>{this.relayer.request(r).catch(n=>this.logger.warn(n)).then(s)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(be_connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;const r={method:Yi(e[0].relay.protocol).batchFetchMessages,params:{topics:e.map(n=>n.topic)}};let s;this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});try{s=await await Lt(new Promise((n,o)=>{this.relayer.request(r).catch(a=>{this.logger.warn(a),o(a)}).then(n)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(be_connection_stalled)}return s}rpcUnsubscribe(e,i,r){const s={method:Yi(r.protocol).unsubscribe,params:{topic:e,id:i}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:s}),this.relayer.request(s)}onSubscribe(e,i){this.setSubscription(e,sn(Wi({},i),{id:e})),this.pending.delete(i.topic)}onBatchSubscribe(e){e.length&&e.forEach(i=>{this.setSubscription(i.id,Wi({},i)),this.pending.delete(i.topic)})}async onUnsubscribe(e,i,r){this.events.removeAllListeners(i),this.hasSubscription(i,e)&&this.deleteSubscription(i,r),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,i){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:i}),this.addSubscription(e,i)}addSubscription(e,i){this.subscriptions.set(e,Wi({},i)),this.topicMap.set(i.topic,e),this.events.emit(Ve_created,i)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const i=this.subscriptions.get(e);if(!i){const{message:r}=F("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return i}deleteSubscription(e,i){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:i});const r=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(r.topic,e),this.events.emit(Ve_deleted,sn(Wi({},r),{reason:i}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(Ve_sync)}async onRestart(){if(this.cached.length){const e=[...this.cached],i=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let r=0;r<i;r++){const s=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(s)}}this.events.emit(Ve_resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size){const{message:i}=F("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(i),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(i)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async i=>sn(Wi({},i),{id:await this.getSubscriptionId(i.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const i=await this.rpcBatchFetchMessages(e);i&&i.messages&&(await function gb(t){return new Promise(e=>setTimeout(e,t))}(T.toMiliseconds(T.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(i.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=F("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return gt(e+await this.getClientId())}}var _2=Object.defineProperty,Tc=Object.getOwnPropertySymbols,I2=Object.prototype.hasOwnProperty,D2=Object.prototype.propertyIsEnumerable,qn=(t,e,i)=>e in t?_2(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,Nc=(t,e)=>{for(var i in e||(e={}))I2.call(e,i)&&qn(t,i,e[i]);if(Tc)for(var i of Tc(e))D2.call(e,i)&&qn(t,i,e[i]);return t},Q=(t,e,i)=>qn(t,"symbol"!=typeof e?e+"":e,i);class S2 extends Bp{constructor(e){super(e),Q(this,"protocol","wc"),Q(this,"version",2),Q(this,"core"),Q(this,"logger"),Q(this,"events",new Ge.EventEmitter),Q(this,"provider"),Q(this,"messages"),Q(this,"subscriber"),Q(this,"publisher"),Q(this,"name","relayer"),Q(this,"transportExplicitlyClosed",!1),Q(this,"initialized",!1),Q(this,"connectionAttemptInProgress",!1),Q(this,"relayUrl"),Q(this,"projectId"),Q(this,"packageName"),Q(this,"bundleId"),Q(this,"hasExperiencedNetworkDisruption",!1),Q(this,"pingTimeout"),Q(this,"heartBeatTimeout",T.toMiliseconds(T.THIRTY_SECONDS+T.FIVE_SECONDS)),Q(this,"reconnectTimeout"),Q(this,"connectPromise"),Q(this,"reconnectInProgress",!1),Q(this,"requestsInFlight",[]),Q(this,"connectTimeout",T.toMiliseconds(15*T.ONE_SECOND)),Q(this,"request",async i=>{var r,s;this.logger.debug("Publishing Request Payload");const n=i.id||Zt().toString();await this.toEstablishConnection();try{this.logger.trace({id:n,method:i.method,topic:null==(r=i.params)?void 0:r.topic},"relayer.request - publishing...");const o=`${n}:${(null==(s=i.params)?void 0:s.tag)||""}`;this.requestsInFlight.push(o);const a=await this.provider.request(i);return this.requestsInFlight=this.requestsInFlight.filter(c=>c!==o),a}catch(o){throw this.logger.debug(`Failed to Publish Request: ${n}`),o}}),Q(this,"resetPingTimeout",()=>{Qr()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var i,r,s,n;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),null==(n=null==(s=null==(r=null==(i=this.provider)?void 0:i.connection)?void 0:r.socket)?void 0:s.terminate)||n.call(s)}catch(o){this.logger.warn(o,o?.message)}},this.heartBeatTimeout))}),Q(this,"onPayloadHandler",i=>{this.onProviderPayload(i),this.resetPingTimeout()}),Q(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected 🛜"),this.startPingTimeout(),this.events.emit(be_connect)}),Q(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected 🛑"),this.requestsInFlight=[],this.onProviderDisconnect()}),Q(this,"onProviderErrorHandler",i=>{this.logger.fatal(`Fatal socket error: ${i.message}`),this.events.emit(be_error,i),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),Q(this,"registerProviderListeners",()=>{this.provider.on(Je_payload,this.onPayloadHandler),this.provider.on(Je_connect,this.onConnectHandler),this.provider.on(Je_disconnect,this.onDisconnectHandler),this.provider.on(Je_error,this.onProviderErrorHandler)}),this.core=e.core,this.logger=typeof e.logger<"u"&&"string"!=typeof e.logger?Fe(e.logger,this.name):as(Gn({level:e.logger||"error"})),this.messages=new o2(this.logger,e.core),this.subscriber=new E2(this,this.logger),this.publisher=new d2(this,this.logger),this.relayUrl=e?.relayUrl||sh,this.projectId=e.projectId,function Qm(){return Ut()&&typeof __webpack_require__.g<"u"&&typeof(null==__webpack_require__.g?void 0:__webpack_require__.g.Platform)<"u"&&"android"===(null==__webpack_require__.g?void 0:__webpack_require__.g.Platform.OS)}()?this.packageName=Aa():function Xm(){return Ut()&&typeof __webpack_require__.g<"u"&&typeof(null==__webpack_require__.g?void 0:__webpack_require__.g.Platform)<"u"&&"ios"===(null==__webpack_require__.g?void 0:__webpack_require__.g.Platform.OS)}()&&(this.bundleId=Aa()),this.provider={}}async init(){if(this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.subscriber.hasAnyTopics)try{await this.transportOpen()}catch(e){this.logger.warn(e,e?.message)}}get context(){return je(this.logger)}get connected(){var e,i,r;return 1===(null==(r=null==(i=null==(e=this.provider)?void 0:e.connection)?void 0:i.socket)?void 0:r.readyState)||!1}get connecting(){var e,i,r;return 0===(null==(r=null==(i=null==(e=this.provider)?void 0:e.connection)?void 0:i.socket)?void 0:r.readyState)||void 0!==this.connectPromise||!1}async publish(e,i,r){this.isInitialized(),await this.publisher.publish(e,i,r),await this.recordMessageEvent({topic:e,message:i,publishedAt:Date.now(),transportType:ce.relay},Kr_outbound)}async subscribe(e,i){var r,s,n;this.isInitialized(),(null==i||!i.transportType||"relay"===i?.transportType)&&await this.toEstablishConnection();const o=typeof(null==(r=i?.internal)?void 0:r.throwOnFailedPublish)>"u"||(null==(s=i?.internal)?void 0:s.throwOnFailedPublish);let c,a=(null==(n=this.subscriber.topicMap.get(e))?void 0:n[0])||"";const u=l=>{l.topic===e&&(this.subscriber.off(Ve_created,u),c())};return await Promise.all([new Promise(l=>{c=l,this.subscriber.on(Ve_created,u)}),new Promise(async(l,h)=>{a=await this.subscriber.subscribe(e,Nc({internal:{throwOnFailedPublish:o}},i)).catch(d=>{o&&h(d)})||a,l()})]),a}async unsubscribe(e,i){this.isInitialized(),await this.subscriber.unsubscribe(e,i)}on(e,i){this.events.on(e,i)}once(e,i){this.events.once(e,i)}off(e,i){this.events.off(e,i)}removeListener(e,i){this.events.removeListener(e,i)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await Lt(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(this.subscriber.hasAnyTopics){if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(i,r)=>{await this.connect(e).then(i).catch(r).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}else this.logger.warn("Starting WS connection skipped because the client has no topics to work with.")}async restartTransport(e){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await fc())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if(0===e?.length)return void this.logger.trace("Batch message events is empty. Ignoring...");const i=e.sort((r,s)=>r.publishedAt-s.publishedAt);this.logger.debug(`Batch of ${i.length} message events sorted`);for(const r of i)try{await this.onMessageEvent(r)}catch(s){this.logger.warn(s,"Error while processing batch message event: "+s?.message)}this.logger.trace(`Batch of ${i.length} message events processed`)}async onLinkMessageEvent(e,i){const{topic:r}=e;if(!i.sessionExists){const n={topic:r,expiry:pe(T.FIVE_MINUTES),relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(r,n)}this.events.emit(be_message,e),await this.recordMessageEvent(e,Kr_inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let i=1;for(;i<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${i}...`),await this.createProvider(),await new Promise(async(r,s)=>{const n=()=>{s(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(Je_disconnect,n),await Lt(new Promise((o,a)=>{this.provider.connect().then(o).catch(a)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(o=>{s(o)}).finally(()=>{this.provider.off(Je_disconnect,n),clearTimeout(this.reconnectTimeout)}),await new Promise(async(o,a)=>{const c=()=>{a(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(Je_disconnect,c),await this.subscriber.start().then(o).catch(a).finally(()=>{this.provider.off(Je_disconnect,c)})}),this.hasExperiencedNetworkDisruption=!1,r()})}catch(r){await this.subscriber.stop();const s=r;this.logger.warn({},s.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${i}`);break}await new Promise(r=>setTimeout(r,T.toMiliseconds(1*i))),i++}}startPingTimeout(){var e,i,r,s,n;if(Qr())try{null!=(i=null==(e=this.provider)?void 0:e.connection)&&i.socket&&(null==(n=null==(s=null==(r=this.provider)?void 0:r.connection)?void 0:s.socket)||n.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(o){this.logger.warn(o,o?.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new eh(new zv(sb({sdkVersion:Fn,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,i){const{topic:r,message:s}=e;await this.messages.set(r,s,i)}async shouldIgnoreMessageEvent(e){const{topic:i,message:r}=e;if(!r||0===r.length)return this.logger.warn(`Ignoring invalid/empty message: ${r}`),!0;if(!await this.subscriber.isKnownTopic(i))return this.logger.warn(`Ignoring message for unknown topic ${i}`),!0;const s=this.messages.has(i,r);return s&&this.logger.warn(`Ignoring duplicate message: ${r}`),s}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),wo(e)){if(!e.method.endsWith("_subscription"))return;const i=e.params,{topic:r,message:s,publishedAt:n,attestation:o}=i.data,a={topic:r,message:s,publishedAt:n,transportType:ce.relay,attestation:o};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(Nc({type:"event",event:i.id},a)),this.events.emit(i.id,a),await this.acknowledgePayload(e),await this.onMessageEvent(a)}else vs(e)&&this.events.emit(be_message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,Kr_inbound),this.events.emit(be_message,e))}async acknowledgePayload(e){const i=ms(e.id,!0);await this.provider.connection.send(i)}unregisterProviderListeners(){this.provider.off(Je_payload,this.onPayloadHandler),this.provider.off(Je_connect,this.onConnectHandler),this.provider.off(Je_disconnect,this.onDisconnectHandler),this.provider.off(Je_error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await fc();bv(async i=>{e!==i&&(e=i,i?await this.transportOpen().catch(r=>this.logger.error(r,r?.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(be_disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e?.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},T.toMiliseconds(.1)))))}isInitialized(){if(!this.initialized){const{message:e}=F("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise)return void await this.connectPromise;await this.connect()}}}function $2(){}function Fc(t){if(!t||"object"!=typeof t)return!1;const e=Object.getPrototypeOf(t);return(null===e||e===Object.prototype||null===Object.getPrototypeOf(e))&&"[object Object]"===Object.prototype.toString.call(t)}function Lc(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function Bc(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const Uc="[object Arguments]",nn="[object Object]";function Ji(t,e,i,r,s,n,o){const a=o(t,e,i,r,s,n);if(void 0!==a)return a;if(typeof t==typeof e)switch(typeof t){case"bigint":case"string":case"boolean":case"symbol":case"undefined":case"function":return t===e;case"number":return t===e||Object.is(t,e);case"object":return tr(t,e,n,o)}return tr(t,e,n,o)}function tr(t,e,i,r){if(Object.is(t,e))return!0;let s=Bc(t),n=Bc(e);if(s===Uc&&(s=nn),n===Uc&&(n=nn),s!==n)return!1;switch(s){case"[object String]":return t.toString()===e.toString();case"[object Number]":return function Z2(t,e){return t===e||Number.isNaN(t)&&Number.isNaN(e)}(t.valueOf(),e.valueOf());case"[object Boolean]":case"[object Date]":case"[object Symbol]":return Object.is(t.valueOf(),e.valueOf());case"[object RegExp]":return t.source===e.source&&t.flags===e.flags;case"[object Function]":return t===e}const o=(i=i??new Map).get(t),a=i.get(e);if(null!=o&&null!=a)return o===e;i.set(t,e),i.set(e,t);try{switch(s){case"[object Map]":if(t.size!==e.size)return!1;for(const[c,u]of t.entries())if(!e.has(c)||!Ji(u,e.get(c),c,t,e,i,r))return!1;return!0;case"[object Set]":{if(t.size!==e.size)return!1;const c=Array.from(t.values()),u=Array.from(e.values());for(let l=0;l<c.length;l++){const h=c[l],d=u.findIndex(f=>Ji(h,f,void 0,t,e,i,r));if(-1===d)return!1;u.splice(d,1)}return!0}case"[object Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":case"[object BigUint64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object BigInt64Array]":case"[object Float32Array]":case"[object Float64Array]":if(typeof Buffer<"u"&&Buffer.isBuffer(t)!==Buffer.isBuffer(e)||t.length!==e.length)return!1;for(let c=0;c<t.length;c++)if(!Ji(t[c],e[c],c,t,e,i,r))return!1;return!0;case"[object ArrayBuffer]":return t.byteLength===e.byteLength&&tr(new Uint8Array(t),new Uint8Array(e),i,r);case"[object DataView]":return t.byteLength===e.byteLength&&t.byteOffset===e.byteOffset&&tr(new Uint8Array(t),new Uint8Array(e),i,r);case"[object Error]":return t.name===e.name&&t.message===e.message;case nn:{if(!(tr(t.constructor,e.constructor,i,r)||Fc(t)&&Fc(e)))return!1;const c=[...Object.keys(t),...Lc(t)],u=[...Object.keys(e),...Lc(e)];if(c.length!==u.length)return!1;for(let l=0;l<c.length;l++){const h=c[l],d=t[h];if(!Object.hasOwn(e,h))return!1;if(!Ji(d,e[h],h,t,e,i,r))return!1}return!0}default:return!1}}finally{i.delete(t),i.delete(e)}}function X2(t,e){return function Q2(t,e,i){return Ji(t,e,void 0,void 0,void 0,void 0,i)}(t,e,$2)}var eI=Object.defineProperty,kc=Object.getOwnPropertySymbols,tI=Object.prototype.hasOwnProperty,iI=Object.prototype.propertyIsEnumerable,jn=(t,e,i)=>e in t?eI(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,Mc=(t,e)=>{for(var i in e||(e={}))tI.call(e,i)&&jn(t,i,e[i]);if(kc)for(var i of kc(e))iI.call(e,i)&&jn(t,i,e[i]);return t},Be=(t,e,i)=>jn(t,"symbol"!=typeof e?e+"":e,i);class ci extends Up{constructor(e,i,r,s=wt,n=void 0){super(e,i,r,s),this.core=e,this.logger=i,this.name=r,Be(this,"map",new Map),Be(this,"version","0.3"),Be(this,"cached",[]),Be(this,"initialized",!1),Be(this,"getKey"),Be(this,"storagePrefix",wt),Be(this,"recentlyDeleted",[]),Be(this,"recentlyDeletedLimit",200),Be(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(o=>{this.getKey&&null!==o&&!$e(o)?this.map.set(this.getKey(o),o):function J0(t){var e;return null==(e=t?.proposer)?void 0:e.publicKey}(o)?this.map.set(o.id,o):function Z0(t){return t?.topic}(o)&&this.map.set(o.topic,o)}),this.cached=[],this.initialized=!0)}),Be(this,"set",async(o,a)=>{this.isInitialized(),this.map.has(o)?await this.update(o,a):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:o,value:a}),this.map.set(o,a),await this.persist())}),Be(this,"get",o=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:o}),this.getData(o))),Be(this,"getAll",o=>(this.isInitialized(),o?this.values.filter(a=>Object.keys(o).every(c=>X2(a[c],o[c]))):this.values)),Be(this,"update",async(o,a)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:o,update:a});const c=Mc(Mc({},this.getData(o)),a);this.map.set(o,c),await this.persist()}),Be(this,"delete",async(o,a)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:o,reason:a}),this.map.delete(o),this.addToRecentlyDeleted(o),await this.persist())}),this.logger=Fe(i,this.name),this.storagePrefix=s,this.getKey=n}get context(){return je(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const i=this.map.get(e);if(!i){if(this.recentlyDeleted.includes(e)){const{message:s}=F("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(s),new Error(s)}const{message:r}=F("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(r),new Error(r)}return i}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:i}=F("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(i),new Error(i)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=F("NOT_INITIALIZED",this.name);throw new Error(e)}}}var rI=Object.defineProperty,W=(t,e,i)=>((t,e,i)=>e in t?rI(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i)(t,"symbol"!=typeof e?e+"":e,i);class nI{constructor(e,i){this.core=e,this.logger=i,W(this,"name","pairing"),W(this,"version","0.3"),W(this,"events",new ou),W(this,"pairings"),W(this,"initialized",!1),W(this,"storagePrefix",wt),W(this,"ignoredPayloadTypes",[1]),W(this,"registeredMethods",[]),W(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),W(this,"register",({methods:r})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...r])]}),W(this,"create",async r=>{this.isInitialized();const s=Nn(),n=await this.core.crypto.setSymKey(s),o=pe(T.FIVE_MINUTES),a={protocol:"irn"},c={topic:n,expiry:o,relay:a,active:!1,methods:r?.methods},u=cc({protocol:this.core.protocol,version:this.core.version,topic:n,symKey:s,relay:a,expiryTimestamp:o,methods:r?.methods});return this.events.emit(Yt_create,c),this.core.expirer.set(n,o),await this.pairings.set(n,c),await this.core.relayer.subscribe(n,{transportType:r?.transportType}),{topic:n,uri:u}}),W(this,"pair",async r=>{this.isInitialized();const s=this.core.eventClient.createEvent({properties:{topic:r?.uri,trace:[ht_pairing_started]}});this.isValidPair(r,s);const{topic:n,symKey:o,relay:a,expiryTimestamp:c,methods:u}=ac(r.uri);let l;if(s.props.properties.topic=n,s.addTrace(ht_pairing_uri_validation_success),s.addTrace(ht_pairing_uri_not_expired),this.pairings.keys.includes(n)){if(l=this.pairings.get(n),s.addTrace(ht_existing_pairing),l.active)throw s.setError(St_active_pairing_already_exists),new Error(`Pairing already exists: ${n}. Please try again with a new connection URI.`);s.addTrace(ht_pairing_not_expired)}const h=c||pe(T.FIVE_MINUTES),d={topic:n,relay:a,expiry:h,active:!1,methods:u};this.core.expirer.set(n,h),await this.pairings.set(n,d),s.addTrace(ht_store_new_pairing),r.activatePairing&&await this.activate({topic:n}),this.events.emit(Yt_create,d),s.addTrace(ht_emit_inactive_pairing),this.core.crypto.keychain.has(n)||await this.core.crypto.setSymKey(o,n),s.addTrace(ht_subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{s.setError(St_no_internet_connection)}try{await this.core.relayer.subscribe(n,{relay:a})}catch(f){throw s.setError(St_subscribe_pairing_topic_failure),f}return s.addTrace(ht_subscribe_pairing_topic_success),d}),W(this,"activate",async({topic:r})=>{this.isInitialized();const s=pe(T.FIVE_MINUTES);this.core.expirer.set(r,s),await this.pairings.update(r,{active:!0,expiry:s})}),W(this,"ping",async r=>{this.isInitialized(),await this.isValidPing(r),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:s}=r;if(this.pairings.keys.includes(s)){const n=await this.sendRequest(s,"wc_pairingPing",{}),{done:o,resolve:a,reject:c}=Ht();this.events.once(X("pairing_ping",n),({error:u})=>{u?c(u):a()}),await o()}}),W(this,"updateExpiry",async({topic:r,expiry:s})=>{this.isInitialized(),await this.pairings.update(r,{expiry:s})}),W(this,"updateMetadata",async({topic:r,metadata:s})=>{this.isInitialized(),await this.pairings.update(r,{peerMetadata:s})}),W(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),W(this,"disconnect",async r=>{this.isInitialized(),await this.isValidDisconnect(r);const{topic:s}=r;this.pairings.keys.includes(s)&&(await this.sendRequest(s,"wc_pairingDelete",se("USER_DISCONNECTED")),await this.deletePairing(s))}),W(this,"formatUriFromPairing",r=>{this.isInitialized();const{topic:s,relay:n,expiry:o,methods:a}=r,c=this.core.crypto.keychain.get(s);return cc({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:c,relay:n,expiryTimestamp:o,methods:a})}),W(this,"sendRequest",async(r,s,n)=>{const o=Qt(s,n),a=await this.core.crypto.encode(r,o),c=Ki[s].req;return this.core.history.set(r,o),this.core.relayer.publish(r,a,c),o.id}),W(this,"sendResult",async(r,s,n)=>{const o=ms(r,n),a=await this.core.crypto.encode(s,o),c=(await this.core.history.get(s,r)).request.method,u=Ki[c].res;await this.core.relayer.publish(s,a,u),await this.core.history.resolve(o)}),W(this,"sendError",async(r,s,n)=>{const o=bs(r,n),a=await this.core.crypto.encode(s,o),c=(await this.core.history.get(s,r)).request.method,u=Ki[c]?Ki[c].res:Ki.unregistered_method.res;await this.core.relayer.publish(s,a,u),await this.core.history.resolve(o)}),W(this,"deletePairing",async(r,s)=>{await this.core.relayer.unsubscribe(r),await Promise.all([this.pairings.delete(r,se("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(r),s?Promise.resolve():this.core.expirer.del(r)])}),W(this,"cleanup",async()=>{const r=this.pairings.getAll().filter(s=>Nt(s.expiry));await Promise.all(r.map(s=>this.deletePairing(s.topic)))}),W(this,"onRelayEventRequest",async r=>{const{topic:s,payload:n}=r;switch(n.method){case"wc_pairingPing":return await this.onPairingPingRequest(s,n);case"wc_pairingDelete":return await this.onPairingDeleteRequest(s,n);default:return await this.onUnknownRpcMethodRequest(s,n)}}),W(this,"onRelayEventResponse",async r=>{const{topic:s,payload:n}=r,o=(await this.core.history.get(s,n.id)).request.method;return"wc_pairingPing"===o?this.onPairingPingResponse(s,n):this.onUnknownRpcMethodResponse(o)}),W(this,"onPairingPingRequest",async(r,s)=>{const{id:n}=s;try{this.isValidPing({topic:r}),await this.sendResult(n,r,!0),this.events.emit(Yt_ping,{id:n,topic:r})}catch(o){await this.sendError(n,r,o),this.logger.error(o)}}),W(this,"onPairingPingResponse",(r,s)=>{const{id:n}=s;setTimeout(()=>{pt(s)?this.events.emit(X("pairing_ping",n),{}):Qe(s)&&this.events.emit(X("pairing_ping",n),{error:s.error})},500)}),W(this,"onPairingDeleteRequest",async(r,s)=>{const{id:n}=s;try{this.isValidDisconnect({topic:r}),await this.deletePairing(r),this.events.emit(Yt_delete,{id:n,topic:r})}catch(o){await this.sendError(n,r,o),this.logger.error(o)}}),W(this,"onUnknownRpcMethodRequest",async(r,s)=>{const{id:n,method:o}=s;try{if(this.registeredMethods.includes(o))return;const a=se("WC_METHOD_UNSUPPORTED",o);await this.sendError(n,r,a),this.logger.error(a)}catch(a){await this.sendError(n,r,a),this.logger.error(a)}}),W(this,"onUnknownRpcMethodResponse",r=>{this.registeredMethods.includes(r)||this.logger.error(se("WC_METHOD_UNSUPPORTED",r))}),W(this,"isValidPair",(r,s)=>{var n;if(!ke(r)){const{message:a}=F("MISSING_OR_INVALID",`pair() params: ${r}`);throw s.setError(St_malformed_pairing_uri),new Error(a)}if(!function Y0(t){function e(i){try{return typeof new URL(i)<"u"}catch{return!1}}try{if(de(t,!1))return!!e(t)||e(fl(t))}catch{}return!1}(r.uri)){const{message:a}=F("MISSING_OR_INVALID",`pair() uri: ${r.uri}`);throw s.setError(St_malformed_pairing_uri),new Error(a)}const o=ac(r?.uri);if(null==(n=o?.relay)||!n.protocol){const{message:a}=F("MISSING_OR_INVALID","pair() uri#relay-protocol");throw s.setError(St_malformed_pairing_uri),new Error(a)}if(null==o||!o.symKey){const{message:a}=F("MISSING_OR_INVALID","pair() uri#symKey");throw s.setError(St_malformed_pairing_uri),new Error(a)}if(null!=o&&o.expiryTimestamp&&T.toMiliseconds(o?.expiryTimestamp)<Date.now()){s.setError(St_pairing_expired);const{message:a}=F("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(a)}}),W(this,"isValidPing",async r=>{if(!ke(r)){const{message:n}=F("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(n)}const{topic:s}=r;await this.isValidPairingTopic(s)}),W(this,"isValidDisconnect",async r=>{if(!ke(r)){const{message:n}=F("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(n)}const{topic:s}=r;await this.isValidPairingTopic(s)}),W(this,"isValidPairingTopic",async r=>{if(!de(r,!1)){const{message:s}=F("MISSING_OR_INVALID",`pairing topic should be a string: ${r}`);throw new Error(s)}if(!this.pairings.keys.includes(r)){const{message:s}=F("NO_MATCHING_KEY",`pairing topic doesn't exist: ${r}`);throw new Error(s)}if(Nt(this.pairings.get(r).expiry)){await this.deletePairing(r);const{message:s}=F("EXPIRED",`pairing topic: ${r}`);throw new Error(s)}}),this.core=e,this.logger=Fe(i,this.name),this.pairings=new ci(this.core,this.logger,this.name,this.storagePrefix)}get context(){return je(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=F("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(be_message,async e=>{const{topic:i,message:r,transportType:s}=e;if(this.pairings.keys.includes(i)&&s!==ce.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(r)))try{const n=await this.core.crypto.decode(i,r);wo(n)?(this.core.history.set(i,n),await this.onRelayEventRequest({topic:i,payload:n})):vs(n)&&(await this.core.history.resolve(n),await this.onRelayEventResponse({topic:i,payload:n}),this.core.history.delete(i,n.id)),await this.core.relayer.messages.ack(i,r)}catch(n){this.logger.error(n)}})}registerExpirerEvents(){this.core.expirer.on(Ze_expired,async e=>{const{topic:i}=pl(e.target);i&&this.pairings.keys.includes(i)&&(await this.deletePairing(i,!0),this.events.emit(Yt_expire,{topic:i}))})}}var oI=Object.defineProperty,Se=(t,e,i)=>((t,e,i)=>e in t?oI(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i)(t,"symbol"!=typeof e?e+"":e,i);class cI extends Np{constructor(e,i){super(e,i),this.core=e,this.logger=i,Se(this,"records",new Map),Se(this,"events",new Ge.EventEmitter),Se(this,"name","history"),Se(this,"version","0.3"),Se(this,"cached",[]),Se(this,"initialized",!1),Se(this,"storagePrefix",wt),Se(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.records.set(r.id,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),Se(this,"set",(r,s,n)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:r,request:s,chainId:n}),this.records.has(s.id))return;const o={id:s.id,topic:r,request:{method:s.method,params:s.params||null},chainId:n,expiry:pe(T.THIRTY_DAYS)};this.records.set(o.id,o),this.persist(),this.events.emit(tt_created,o)}),Se(this,"resolve",async r=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:r}),!this.records.has(r.id))return;const s=await this.getRecord(r.id);typeof s.response>"u"&&(s.response=Qe(r)?{error:r.error}:{result:r.result},this.records.set(s.id,s),this.persist(),this.events.emit(tt_updated,s))}),Se(this,"get",async(r,s)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:r,id:s}),await this.getRecord(s))),Se(this,"delete",(r,s)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:s}),this.values.forEach(n=>{if(n.topic===r){if(typeof s<"u"&&n.id!==s)return;this.records.delete(n.id),this.events.emit(tt_deleted,n)}}),this.persist()}),Se(this,"exists",async(r,s)=>(this.isInitialized(),!!this.records.has(s)&&(await this.getRecord(s)).topic===r)),Se(this,"on",(r,s)=>{this.events.on(r,s)}),Se(this,"once",(r,s)=>{this.events.once(r,s)}),Se(this,"off",(r,s)=>{this.events.off(r,s)}),Se(this,"removeListener",(r,s)=>{this.events.removeListener(r,s)}),this.logger=Fe(i,this.name)}get context(){return je(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(i=>{if(typeof i.response<"u")return;const r={topic:i.topic,request:Qt(i.request.method,i.request.params,i.id),chainId:i.chainId};return e.push(r)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const i=this.records.get(e);if(!i){const{message:r}=F("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return i}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(tt_sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:i}=F("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(i),new Error(i)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(tt_created,e=>{const i=tt_created;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,record:e})}),this.events.on(tt_updated,e=>{const i=tt_updated;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,record:e})}),this.events.on(tt_deleted,e=>{const i=tt_deleted;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,record:e})}),this.core.heartbeat.on(Ci_pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(i=>{T.toMiliseconds(i.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${i.id}`),this.records.delete(i.id),this.events.emit(tt_deleted,i,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=F("NOT_INITIALIZED",this.name);throw new Error(e)}}}var uI=Object.defineProperty,Ce=(t,e,i)=>((t,e,i)=>e in t?uI(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i)(t,"symbol"!=typeof e?e+"":e,i);class hI extends Mp{constructor(e,i){super(e,i),this.core=e,this.logger=i,Ce(this,"expirations",new Map),Ce(this,"events",new Ge.EventEmitter),Ce(this,"name","expirer"),Ce(this,"version","0.3"),Ce(this,"cached",[]),Ce(this,"initialized",!1),Ce(this,"storagePrefix",wt),Ce(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.expirations.set(r.target,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),Ce(this,"has",r=>{try{const s=this.formatTarget(r);return typeof this.getExpiration(s)<"u"}catch{return!1}}),Ce(this,"set",(r,s)=>{this.isInitialized();const n=this.formatTarget(r),o={target:n,expiry:s};this.expirations.set(n,o),this.checkExpiry(n,o),this.events.emit(Ze_created,{target:n,expiration:o})}),Ce(this,"get",r=>{this.isInitialized();const s=this.formatTarget(r);return this.getExpiration(s)}),Ce(this,"del",r=>{if(this.isInitialized(),this.has(r)){const s=this.formatTarget(r),n=this.getExpiration(s);this.expirations.delete(s),this.events.emit(Ze_deleted,{target:s,expiration:n})}}),Ce(this,"on",(r,s)=>{this.events.on(r,s)}),Ce(this,"once",(r,s)=>{this.events.once(r,s)}),Ce(this,"off",(r,s)=>{this.events.off(r,s)}),Ce(this,"removeListener",(r,s)=>{this.events.removeListener(r,s)}),this.logger=Fe(i,this.name)}get context(){return je(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if("string"==typeof e)return function nb(t){return dl("topic",t)}(e);if("number"==typeof e)return function ob(t){return dl("id",t)}(e);const{message:i}=F("UNKNOWN_TYPE","Target type: "+typeof e);throw new Error(i)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(Ze_sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:i}=F("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(i),new Error(i)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const i=this.expirations.get(e);if(!i){const{message:r}=F("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(r),new Error(r)}return i}checkExpiry(e,i){const{expiry:r}=i;T.toMiliseconds(r)-Date.now()<=0&&this.expire(e,i)}expire(e,i){this.expirations.delete(e),this.events.emit(Ze_expired,{target:e,expiration:i})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,i)=>this.checkExpiry(i,e))}registerEventListeners(){this.core.heartbeat.on(Ci_pulse,()=>this.checkExpirations()),this.events.on(Ze_created,e=>{const i=Ze_created;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:e}),this.persist()}),this.events.on(Ze_expired,e=>{const i=Ze_expired;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:e}),this.persist()}),this.events.on(Ze_deleted,e=>{const i=Ze_deleted;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=F("NOT_INITIALIZED",this.name);throw new Error(e)}}}var dI=Object.defineProperty,he=(t,e,i)=>((t,e,i)=>e in t?dI(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i)(t,"symbol"!=typeof e?e+"":e,i);class fI extends qp{constructor(e,i,r){super(e,i,r),this.core=e,this.logger=i,this.store=r,he(this,"name","verify-api"),he(this,"abortController"),he(this,"isDevEnv"),he(this,"verifyUrlV3",gE),he(this,"storagePrefix",wt),he(this,"version",2),he(this,"publicKey"),he(this,"fetchPromise"),he(this,"init",async()=>{var s;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&T.toMiliseconds(null==(s=this.publicKey)?void 0:s.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),he(this,"register",async s=>{if(!wr()||this.isDevEnv)return;const n=window.location.origin,{id:o,decryptedId:a}=s,c=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${n}&id=${o}&decryptedId=${a}`;try{const u=gr(),l=this.startAbortTimer(5*T.ONE_SECOND),h=await new Promise((d,f)=>{const p=()=>{window.removeEventListener("message",y),u.body.removeChild(g),f("attestation aborted")};this.abortController.signal.addEventListener("abort",p);const g=u.createElement("iframe");g.src=c,g.style.display="none",g.addEventListener("error",p,{signal:this.abortController.signal});const y=m=>{if(m.data&&"string"==typeof m.data)try{const w=JSON.parse(m.data);if("verify_attestation"===w.type){if(vn(w.attestation).payload.id!==o)return;clearInterval(l),u.body.removeChild(g),this.abortController.signal.removeEventListener("abort",p),window.removeEventListener("message",y),d(null===w.attestation?"":w.attestation)}}catch(w){this.logger.warn(w)}};u.body.appendChild(g),window.addEventListener("message",y,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",h),h}catch(u){this.logger.warn(u)}return""}),he(this,"resolve",async s=>{if(this.isDevEnv)return"";const{attestationId:n,hash:o,encryptedId:a}=s;if(""===n)return void this.logger.debug("resolve: attestationId is empty, skipping");if(n){if(vn(n).payload.id!==a)return;const u=await this.isValidJwtAttestation(n);if(u)return u.isVerified?u:void this.logger.warn("resolve: jwt attestation: origin url not verified")}if(!o)return;const c=this.getVerifyUrl(s?.verifyUrl);return this.fetchAttestation(o,c)}),he(this,"fetchAttestation",async(s,n)=>{this.logger.debug(`resolving attestation: ${s} from url: ${n}`);const o=this.startAbortTimer(5*T.ONE_SECOND),a=await fetch(`${n}/attestation/${s}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(o),200===a.status?await a.json():void 0}),he(this,"getVerifyUrl",s=>{let n=s||er;return yE.includes(n)||(this.logger.info(`verify url: ${n}, not included in trusted list, assigning default: ${er}`),n=er),n}),he(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const s=this.startAbortTimer(T.FIVE_SECONDS),n=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(s),await n.json()}catch(s){this.logger.warn(s)}}),he(this,"persistPublicKey",async s=>{this.logger.debug("persisting public key to local storage",s),await this.store.setItem(this.storeKey,s),this.publicKey=s}),he(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),he(this,"isValidJwtAttestation",async s=>{const n=await this.getPublicKey();try{if(n)return this.validateAttestation(s,n)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}const o=await this.fetchAndPersistPublicKey();try{if(o)return this.validateAttestation(s,o)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}}),he(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),he(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async n=>{const o=await this.fetchPublicKey();o&&(await this.persistPublicKey(o),n(o))});const s=await this.fetchPromise;return this.fetchPromise=void 0,s}),he(this,"validateAttestation",(s,n)=>{const o=L0(s,n.publicKey),a={hasExpired:T.toMiliseconds(o.exp)<Date.now(),payload:o};if(a.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:a.payload.origin,isScam:a.payload.isScam,isVerified:a.payload.isVerified}}),this.logger=Fe(i,this.name),this.abortController=new AbortController,this.isDevEnv=ao(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return je(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),T.toMiliseconds(e))}}var gI=Object.defineProperty,qc=(t,e,i)=>((t,e,i)=>e in t?gI(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i)(t,"symbol"!=typeof e?e+"":e,i);class wI extends jp{constructor(e,i){super(e,i),this.projectId=e,this.logger=i,qc(this,"context","echo"),qc(this,"registerDeviceToken",async r=>{const{clientId:s,token:n,notificationType:o,enableEncrypted:a=!1}=r,c=`https://echo.walletconnect.com/${this.projectId}/clients`;await fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:s,type:o,token:n,always_raw:a})})}),this.logger=Fe(i,this.context)}}var mI=Object.defineProperty,jc=Object.getOwnPropertySymbols,bI=Object.prototype.hasOwnProperty,vI=Object.prototype.propertyIsEnumerable,zn=(t,e,i)=>e in t?mI(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,Gi=(t,e)=>{for(var i in e||(e={}))bI.call(e,i)&&zn(t,i,e[i]);if(jc)for(var i of jc(e))vI.call(e,i)&&zn(t,i,e[i]);return t},ge=(t,e,i)=>zn(t,"symbol"!=typeof e?e+"":e,i);class EI extends zp{constructor(e,i,r=!0){super(e,i,r),this.core=e,this.logger=i,ge(this,"context","event-client"),ge(this,"storagePrefix",wt),ge(this,"storageVersion",.1),ge(this,"events",new Map),ge(this,"shouldPersist",!1),ge(this,"init",async()=>{if(!ao())try{const s={eventId:Ca(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:hl(this.core.relayer.protocol,this.core.relayer.version,Fn)}}};await this.sendEvent([s])}catch(s){this.logger.warn(s)}}),ge(this,"createEvent",s=>{const{event:n="ERROR",type:o="",properties:{topic:a,trace:c}}=s,u=Ca(),l=this.core.projectId||"",h=Date.now(),d=Gi({eventId:u,timestamp:h,props:{event:n,type:o,properties:{topic:a,trace:c}},bundleId:l,domain:this.getAppDomain()},this.setMethods(u));return this.telemetryEnabled&&(this.events.set(u,d),this.shouldPersist=!0),d}),ge(this,"getEvent",s=>{const{eventId:n,topic:o}=s;if(n)return this.events.get(n);const a=Array.from(this.events.values()).find(c=>c.props.properties.topic===o);return a?Gi(Gi({},a),this.setMethods(a.eventId)):void 0}),ge(this,"deleteEvent",s=>{const{eventId:n}=s;this.events.delete(n),this.shouldPersist=!0}),ge(this,"setEventListeners",()=>{this.core.heartbeat.on(Ci_pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(s=>{T.fromMiliseconds(Date.now())-T.fromMiliseconds(s.timestamp)>86400&&(this.events.delete(s.eventId),this.shouldPersist=!0)})})}),ge(this,"setMethods",s=>({addTrace:n=>this.addTrace(s,n),setError:n=>this.setError(s,n)})),ge(this,"addTrace",(s,n)=>{const o=this.events.get(s);o&&(o.props.properties.trace.push(n),this.events.set(s,o),this.shouldPersist=!0)}),ge(this,"setError",(s,n)=>{const o=this.events.get(s);o&&(o.props.type=n,o.timestamp=Date.now(),this.events.set(s,o),this.shouldPersist=!0)}),ge(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),ge(this,"restore",async()=>{try{const s=await this.core.storage.getItem(this.storageKey)||[];if(!s.length)return;s.forEach(n=>{this.events.set(n.eventId,Gi(Gi({},n),this.setMethods(n.eventId)))})}catch(s){this.logger.warn(s)}}),ge(this,"submit",async()=>{if(!this.telemetryEnabled||0===this.events.size)return;const s=[];for(const[n,o]of this.events)o.props.type&&s.push(o);if(0!==s.length)try{if((await this.sendEvent(s)).ok)for(const n of s)this.events.delete(n.eventId),this.shouldPersist=!0}catch(n){this.logger.warn(n)}}),ge(this,"sendEvent",async s=>{const n=this.getAppDomain()?"":"&sp=desktop";return await fetch(`https://pulse.walletconnect.org/batch?projectId=${this.core.projectId}&st=events_sdk&sv=js-${Fn}${n}`,{method:"POST",body:JSON.stringify(s)})}),ge(this,"getAppDomain",()=>ll().url),this.logger=Fe(i,this.context),this.telemetryEnabled=r,r?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var _I=Object.defineProperty,zc=Object.getOwnPropertySymbols,II=Object.prototype.hasOwnProperty,DI=Object.prototype.propertyIsEnumerable,Vn=(t,e,i)=>e in t?_I(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,Vc=(t,e)=>{for(var i in e||(e={}))II.call(e,i)&&Vn(t,i,e[i]);if(zc)for(var i of zc(e))DI.call(e,i)&&Vn(t,i,e[i]);return t},oe=(t,e,i)=>Vn(t,"symbol"!=typeof e?e+"":e,i);class mo extends Pp{constructor(e){var i;super(e),oe(this,"protocol","wc"),oe(this,"version",2),oe(this,"name",rs),oe(this,"relayUrl"),oe(this,"projectId"),oe(this,"customStoragePrefix"),oe(this,"events",new Ge.EventEmitter),oe(this,"logger"),oe(this,"heartbeat"),oe(this,"relayer"),oe(this,"crypto"),oe(this,"storage"),oe(this,"history"),oe(this,"expirer"),oe(this,"pairing"),oe(this,"verify"),oe(this,"echoClient"),oe(this,"linkModeSupportedApps"),oe(this,"eventClient"),oe(this,"initialized",!1),oe(this,"logChunkController"),oe(this,"on",(a,c)=>this.events.on(a,c)),oe(this,"once",(a,c)=>this.events.once(a,c)),oe(this,"off",(a,c)=>this.events.off(a,c)),oe(this,"removeListener",(a,c)=>this.events.removeListener(a,c)),oe(this,"dispatchEnvelope",({topic:a,message:c,sessionExists:u})=>{if(!a||!c)return;const l={topic:a,message:c,publishedAt:Date.now(),transportType:ce.link_mode};this.relayer.onLinkMessageEvent(l,{sessionExists:u})});const r=this.getGlobalCore(e?.customStoragePrefix);if(r)try{return this.customStoragePrefix=r.customStoragePrefix,this.logger=r.logger,this.heartbeat=r.heartbeat,this.crypto=r.crypto,this.history=r.history,this.expirer=r.expirer,this.storage=r.storage,this.relayer=r.relayer,this.pairing=r.pairing,this.verify=r.verify,this.echoClient=r.echoClient,this.linkModeSupportedApps=r.linkModeSupportedApps,this.eventClient=r.eventClient,this.initialized=r.initialized,this.logChunkController=r.logChunkController,r}catch(a){console.warn("Failed to copy global core",a)}this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||sh,this.customStoragePrefix=null!=e&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const s=Gn({level:"string"==typeof e?.logger&&e.logger?e.logger:Vv_logger,name:rs}),{logger:n,chunkLoggerController:o}=Op({opts:s,maxSizeInBytes:e?.maxLogBlobSizeInBytes,loggerOverride:e?.logger});this.logChunkController=o,null!=(i=this.logChunkController)&&i.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var a,c;null!=(a=this.logChunkController)&&a.downloadLogsBlobInBrowser&&(null==(c=this.logChunkController)||c.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=Fe(n,this.name),this.heartbeat=new wd,this.crypto=new Q_(this,this.logger,e?.keychain),this.history=new cI(this,this.logger),this.expirer=new hI(this,this.logger),this.storage=null!=e&&e.storage?e.storage:new Xd(Vc(Vc({},Kv),e?.storageOptions)),this.relayer=new S2({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new nI(this,this.logger),this.verify=new fI(this,this.logger,this.storage),this.echoClient=new wI(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new EI(this,this.logger,e?.telemetryEnabled),this.setGlobalCore(this)}static async init(e){const i=new mo(e);await i.initialize();const r=await i.crypto.getClientId();return await i.storage.setItem("WALLETCONNECT_CLIENT_ID",r),i}get context(){return je(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return null==(e=this.logChunkController)?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(Ic,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(Ic)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}getGlobalCore(e=""){try{if(this.isGlobalCoreDisabled())return;const i=`_walletConnectCore_${e}`,r=`${i}_count`;return globalThis[r]=(globalThis[r]||0)+1,globalThis[r]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[r]} times.`),globalThis[i]}catch(i){return void console.warn("Failed to get global WalletConnect core",i)}}setGlobalCore(e){var i;try{if(this.isGlobalCoreDisabled())return;const r=`_walletConnectCore_${(null==(i=e.opts)?void 0:i.customStoragePrefix)||""}`;globalThis[r]=e}catch(r){console.warn("Failed to set global WalletConnect core",r)}}isGlobalCoreDisabled(){try{return typeof process<"u"&&"true"===process.env.DISABLE_GLOBAL_CORE}catch{return!0}}}const SI=mo,bo="wc@2:client:",on_name="client",on_logger="error",Kc="WALLETCONNECT_DEEPLINK_CHOICE",Hc="Proposal expired",bi=T.SEVEN_DAYS,ye={wc_sessionPropose:{req:{ttl:T.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:T.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:T.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:T.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:T.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:T.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:T.ONE_DAY,prompt:!1,tag:1104},res:{ttl:T.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:T.ONE_DAY,prompt:!1,tag:1106},res:{ttl:T.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:T.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:T.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:T.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:T.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:T.ONE_DAY,prompt:!1,tag:1112},res:{ttl:T.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:T.ONE_DAY,prompt:!1,tag:1114},res:{ttl:T.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:T.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:T.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:T.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:T.FIVE_MINUTES,prompt:!1,tag:1119}}},an={min:T.FIVE_MINUTES,max:T.SEVEN_DAYS},lt_idle="IDLE",lt_active="ACTIVE",Wc={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"}},PI=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],_s="wc@1.5:auth:",Hr=`${_s}:PUB_KEY`;var LI=Object.defineProperty,BI=Object.defineProperties,UI=Object.getOwnPropertyDescriptors,Gc=Object.getOwnPropertySymbols,kI=Object.prototype.hasOwnProperty,MI=Object.prototype.propertyIsEnumerable,Kn=(t,e,i)=>e in t?LI(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,re=(t,e)=>{for(var i in e||(e={}))kI.call(e,i)&&Kn(t,i,e[i]);if(Gc)for(var i of Gc(e))MI.call(e,i)&&Kn(t,i,e[i]);return t},Te=(t,e)=>BI(t,UI(e)),R=(t,e,i)=>Kn(t,"symbol"!=typeof e?e+"":e,i);class qI extends Wp{constructor(e){super(e),R(this,"name","engine"),R(this,"events",new ou),R(this,"initialized",!1),R(this,"requestQueue",{state:lt_idle,queue:[]}),R(this,"sessionRequestQueue",{state:lt_idle,queue:[]}),R(this,"requestQueueDelay",T.ONE_SECOND),R(this,"expectedPairingMethodMap",new Map),R(this,"recentlyDeletedMap",new Map),R(this,"recentlyDeletedLimit",200),R(this,"relayMessageCache",[]),R(this,"pendingSessions",new Map),R(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(ye)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},T.toMiliseconds(this.requestQueueDelay)))}),R(this,"connect",async i=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const r=Te(re({},i),{requiredNamespaces:i.requiredNamespaces||{},optionalNamespaces:i.optionalNamespaces||{}});await this.isValidConnect(r);const{pairingTopic:s,requiredNamespaces:n,optionalNamespaces:o,sessionProperties:a,scopedProperties:c,relays:u}=r;let h,l=s,d=!1;try{if(l){const S=this.client.core.pairing.pairings.get(l);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),d=S.active}}catch(S){throw this.client.logger.error(`connect() -> pairing.get(${l}) failed`),S}if(!l||!d){const{topic:S,uri:$}=await this.client.core.pairing.create();l=S,h=$}if(!l){const{message:S}=F("NO_MATCHING_KEY",`connect() pairing topic: ${l}`);throw new Error(S)}const f=await this.client.core.crypto.generateKeyPair(),p=ye.wc_sessionPropose.req.ttl||T.FIVE_MINUTES,g=pe(p),y=Te(re(re({requiredNamespaces:n,optionalNamespaces:o,relays:u??[{protocol:"irn"}],proposer:{publicKey:f,metadata:this.client.metadata},expiryTimestamp:g,pairingTopic:l},a&&{sessionProperties:a}),c&&{scopedProperties:c}),{id:dt()}),m=X("session_connect",y.id),{reject:w,resolve:b,done:E}=Ht(p,Hc),O=({id:S})=>{S===y.id&&(this.client.events.off("proposal_expire",O),this.pendingSessions.delete(y.id),this.events.emit(m,{error:{message:Hc,code:0}}))};return this.client.events.on("proposal_expire",O),this.events.once(m,({error:S,session:$})=>{this.client.events.off("proposal_expire",O),S?w(S):$&&b($)}),await this.sendRequest({topic:l,method:"wc_sessionPropose",params:y,throwOnFailedPublish:!0,clientRpcId:y.id}),await this.setProposal(y.id,y),{uri:h,approval:E}}),R(this,"pair",async i=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(i)}catch(r){throw this.client.logger.error("pair() failed"),r}}),R(this,"approve",async i=>{var r,s,n;const o=this.client.core.eventClient.createEvent({properties:{topic:null==(r=i?.id)?void 0:r.toString(),trace:[it_session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(I){throw o.setError(jt_no_internet_connection),I}try{await this.isValidProposalId(i?.id)}catch(I){throw this.client.logger.error(`approve() -> proposal.get(${i?.id}) failed`),o.setError(jt_proposal_not_found),I}try{await this.isValidApprove(i)}catch(I){throw this.client.logger.error("approve() -> isValidApprove() failed"),o.setError(jt_session_approve_namespace_validation_failure),I}const{id:a,relayProtocol:c,namespaces:u,sessionProperties:l,scopedProperties:h,sessionConfig:d}=i,f=this.client.proposal.get(a);this.client.core.eventClient.deleteEvent({eventId:o.eventId});const{pairingTopic:p,proposer:g,requiredNamespaces:y,optionalNamespaces:m}=f;let w=null==(s=this.client.core.eventClient)?void 0:s.getEvent({topic:p});w||(w=null==(n=this.client.core.eventClient)?void 0:n.createEvent({type:it_session_approve_started,properties:{topic:p,trace:[it_session_approve_started,it_session_namespaces_validation_success]}}));const b=await this.client.core.crypto.generateKeyPair(),E=g.publicKey,O=await this.client.core.crypto.generateSharedKey(b,E),S=re(re(re({relay:{protocol:c??"irn"},namespaces:u,controller:{publicKey:b,metadata:this.client.metadata},expiry:pe(bi)},l&&{sessionProperties:l}),h&&{scopedProperties:h}),d&&{sessionConfig:d}),$=ce.relay;w.addTrace(it_subscribing_session_topic);try{await this.client.core.relayer.subscribe(O,{transportType:$})}catch(I){throw w.setError(jt_subscribe_session_topic_failure),I}w.addTrace(it_subscribe_session_topic_success);const A=Te(re({},S),{topic:O,requiredNamespaces:y,optionalNamespaces:m,pairingTopic:p,acknowledged:!1,self:S.controller,peer:{publicKey:g.publicKey,metadata:g.metadata},controller:b,transportType:ce.relay});await this.client.session.set(O,A),w.addTrace(it_store_session);try{w.addTrace(it_publishing_session_settle),await this.sendRequest({topic:O,method:"wc_sessionSettle",params:S,throwOnFailedPublish:!0}).catch(I=>{throw w?.setError(jt_session_settle_publish_failure),I}),w.addTrace(it_session_settle_publish_success),w.addTrace(it_publishing_session_approve),await this.sendResult({id:a,topic:p,result:{relay:{protocol:c??"irn"},responderPublicKey:b},throwOnFailedPublish:!0}).catch(I=>{throw w?.setError(jt_session_approve_publish_failure),I}),w.addTrace(it_session_approve_publish_success)}catch(I){throw this.client.logger.error(I),this.client.session.delete(O,se("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(O),I}return this.client.core.eventClient.deleteEvent({eventId:w.eventId}),await this.client.core.pairing.updateMetadata({topic:p,metadata:g.metadata}),await this.client.proposal.delete(a,se("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:p}),await this.setExpiry(O,pe(bi)),{topic:O,acknowledged:()=>Promise.resolve(this.client.session.get(O))}}),R(this,"reject",async i=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(i)}catch(o){throw this.client.logger.error("reject() -> isValidReject() failed"),o}const{id:r,reason:s}=i;let n;try{n=this.client.proposal.get(r).pairingTopic}catch(o){throw this.client.logger.error(`reject() -> proposal.get(${r}) failed`),o}n&&(await this.sendError({id:r,topic:n,error:s,rpcOpts:ye.wc_sessionPropose.reject}),await this.client.proposal.delete(r,se("USER_DISCONNECTED")))}),R(this,"update",async i=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(i)}catch(h){throw this.client.logger.error("update() -> isValidUpdate() failed"),h}const{topic:r,namespaces:s}=i,{done:n,resolve:o,reject:a}=Ht(),c=dt(),u=Zt().toString(),l=this.client.session.get(r).namespaces;return this.events.once(X("session_update",c),({error:h})=>{h?a(h):o()}),await this.client.session.update(r,{namespaces:s}),await this.sendRequest({topic:r,method:"wc_sessionUpdate",params:{namespaces:s},throwOnFailedPublish:!0,clientRpcId:c,relayRpcId:u}).catch(h=>{this.client.logger.error(h),this.client.session.update(r,{namespaces:l}),a(h)}),{acknowledged:n}}),R(this,"extend",async i=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(i)}catch(c){throw this.client.logger.error("extend() -> isValidExtend() failed"),c}const{topic:r}=i,s=dt(),{done:n,resolve:o,reject:a}=Ht();return this.events.once(X("session_extend",s),({error:c})=>{c?a(c):o()}),await this.setExpiry(r,pe(bi)),this.sendRequest({topic:r,method:"wc_sessionExtend",params:{},clientRpcId:s,throwOnFailedPublish:!0}).catch(c=>{a(c)}),{acknowledged:n}}),R(this,"request",async i=>{this.isInitialized();try{await this.isValidRequest(i)}catch(m){throw this.client.logger.error("request() -> isValidRequest() failed"),m}const{chainId:r,request:s,topic:n,expiry:o=ye.wc_sessionRequest.req.ttl}=i,a=this.client.session.get(n);a?.transportType===ce.relay&&await this.confirmOnlineStateOrThrow();const c=dt(),u=Zt().toString(),{done:l,resolve:h,reject:d}=Ht(o,"Request expired. Please try again.");this.events.once(X("session_request",c),({error:m,result:w})=>{m?d(m):h(w)});const f="wc_sessionRequest",p=this.getAppLinkIfEnabled(a.peer.metadata,a.transportType);if(p)return await this.sendRequest({clientRpcId:c,relayRpcId:u,topic:n,method:f,params:{request:Te(re({},s),{expiryTimestamp:pe(o)}),chainId:r},expiry:o,throwOnFailedPublish:!0,appLink:p}).catch(m=>d(m)),this.client.events.emit("session_request_sent",{topic:n,request:s,chainId:r,id:c}),await l();const g={request:Te(re({},s),{expiryTimestamp:pe(o)}),chainId:r},y=this.shouldSetTVF(f,g);return await Promise.all([new Promise(async m=>{await this.sendRequest(re({clientRpcId:c,relayRpcId:u,topic:n,method:f,params:g,expiry:o,throwOnFailedPublish:!0},y&&{tvf:this.getTVFParams(c,g)})).catch(w=>d(w)),this.client.events.emit("session_request_sent",{topic:n,request:s,chainId:r,id:c}),m()}),new Promise(async m=>{var w;if(null==(w=a.sessionConfig)||!w.disableDeepLink){const b=await async function hb(t,e){let i="";try{if(wr()&&(i=localStorage.getItem(e),i))return i;i=await t.getItem(e)}catch(r){console.error(r)}return i}(this.client.core.storage,Kc);await cb({id:c,topic:n,wcDeepLink:b})}m()}),l()]).then(m=>m[2])}),R(this,"respond",async i=>{this.isInitialized(),await this.isValidRespond(i);const{topic:r,response:s}=i,{id:n}=s,o=this.client.session.get(r);o.transportType===ce.relay&&await this.confirmOnlineStateOrThrow();const a=this.getAppLinkIfEnabled(o.peer.metadata,o.transportType);pt(s)?await this.sendResult({id:n,topic:r,result:s.result,throwOnFailedPublish:!0,appLink:a}):Qe(s)&&await this.sendError({id:n,topic:r,error:s.error,appLink:a}),this.cleanupAfterResponse(i)}),R(this,"ping",async i=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(i)}catch(s){throw this.client.logger.error("ping() -> isValidPing() failed"),s}const{topic:r}=i;if(this.client.session.keys.includes(r)){const s=dt(),n=Zt().toString(),{done:o,resolve:a,reject:c}=Ht();this.events.once(X("session_ping",s),({error:u})=>{u?c(u):a()}),await Promise.all([this.sendRequest({topic:r,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:s,relayRpcId:n}),o()])}else this.client.core.pairing.pairings.keys.includes(r)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:r}))}),R(this,"emit",async i=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(i);const{topic:r,event:s,chainId:n}=i,o=Zt().toString(),a=dt();await this.sendRequest({topic:r,method:"wc_sessionEvent",params:{event:s,chainId:n},throwOnFailedPublish:!0,relayRpcId:o,clientRpcId:a})}),R(this,"disconnect",async i=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(i);const{topic:r}=i;if(this.client.session.keys.includes(r))await this.sendRequest({topic:r,method:"wc_sessionDelete",params:se("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:r,emitEvent:!1});else{if(!this.client.core.pairing.pairings.keys.includes(r)){const{message:s}=F("MISMATCHED_TOPIC",`Session or pairing topic not found: ${r}`);throw new Error(s)}await this.client.core.pairing.disconnect({topic:r})}}),R(this,"find",i=>(this.isInitialized(),this.client.session.getAll().filter(r=>function W0(t,e){const{requiredNamespaces:i}=e,r=Object.keys(t.namespaces),s=Object.keys(i);let n=!0;return!!Jt(s,r)&&(r.forEach(o=>{const{accounts:a,methods:c,events:u}=t.namespaces[o],l=Ui(a),h=i[o];Jt(oo(o,h),l)&&Jt(h.methods,c)&&Jt(h.events,u)||(n=!1)}),n)}(r,i)))),R(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),R(this,"authenticate",async(i,r)=>{var s;this.isInitialized(),this.isValidAuthenticate(i);const n=r&&this.client.core.linkModeSupportedApps.includes(r)&&(null==(s=this.client.metadata.redirect)?void 0:s.linkMode),o=n?ce.link_mode:ce.relay;o===ce.relay&&await this.confirmOnlineStateOrThrow();const{chains:a,statement:c="",uri:u,domain:l,nonce:h,type:d,exp:f,nbf:p,methods:g=[],expiry:y}=i,m=[...i.resources||[]],{topic:w,uri:b}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:o});this.client.logger.info({message:"Generated new pairing",pairing:{topic:w,uri:b}});const E=await this.client.core.crypto.generateKeyPair(),O=Vr(E);if(await Promise.all([this.client.auth.authKeys.set(Hr,{responseTopic:O,publicKey:E}),this.client.auth.pairingTopics.set(O,{topic:O,pairingTopic:w})]),await this.client.core.relayer.subscribe(O,{transportType:o}),this.client.logger.info(`sending request to new pairing topic: ${w}`),g.length>0){const{namespace:D}=jr(a[0]);let N=r1(D,"request",g);zr(m)&&(N=n1(N,m.pop())),m.push(N)}const S=y&&y>ye.wc_sessionAuthenticate.req.ttl?y:ye.wc_sessionAuthenticate.req.ttl,$={authPayload:{type:d??"caip122",chains:a,statement:c,aud:u,domain:l,version:"1",nonce:h,iat:(new Date).toISOString(),exp:f,nbf:p,resources:m},requester:{publicKey:E,metadata:this.client.metadata},expiryTimestamp:pe(S)},I={requiredNamespaces:{},optionalNamespaces:{eip155:{chains:a,methods:[...new Set(["personal_sign",...g])],events:["chainChanged","accountsChanged"]}},relays:[{protocol:"irn"}],pairingTopic:w,proposer:{publicKey:E,metadata:this.client.metadata},expiryTimestamp:pe(ye.wc_sessionPropose.req.ttl),id:dt()},{done:M,resolve:L,reject:U}=Ht(S,"Request expired"),q=dt(),C=X("session_connect",I.id),_=X("session_request",q),v=async({error:D,session:N})=>{this.events.off(_,x),D?U(D):N&&L({session:N})},x=async D=>{var N,B,k;if(await this.deletePendingAuthRequest(q,{message:"fulfilled",code:0}),D.error){const J=se("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return D.error.code===J.code?void 0:(this.events.off(C,v),U(D.error.message))}await this.deleteProposal(I.id),this.events.off(C,v);const{cacaos:j,responder:z}=D.result,H=[],Y=[];for(const J of j){await ka({cacao:J,projectId:this.client.core.projectId})||(this.client.logger.error(J,"Signature verification failed"),U(se("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:Pe}=J,_e=zr(Pe.resources),Re=[Sn(Pe.iss)],Ye=Xr(Pe.iss);if(_e){const mt=Ma(_e),ui=qa(_e);H.push(...mt),Re.push(...ui)}for(const mt of Re)Y.push(`${mt}:${Ye}`)}const ne=await this.client.core.crypto.generateSharedKey(E,z.publicKey);let ee;H.length>0&&(ee={topic:ne,acknowledged:!0,self:{publicKey:E,metadata:this.client.metadata},peer:z,controller:z.publicKey,expiry:pe(bi),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:w,namespaces:uc([...new Set(H)],[...new Set(Y)]),transportType:o},await this.client.core.relayer.subscribe(ne,{transportType:o}),await this.client.session.set(ne,ee),w&&await this.client.core.pairing.updateMetadata({topic:w,metadata:z.metadata}),ee=this.client.session.get(ne)),null!=(N=this.client.metadata.redirect)&&N.linkMode&&null!=(B=z.metadata.redirect)&&B.linkMode&&null!=(k=z.metadata.redirect)&&k.universal&&r&&(this.client.core.addLinkModeSupportedApp(z.metadata.redirect.universal),this.client.session.update(ne,{transportType:ce.link_mode})),L({auths:j,session:ee})};let P;this.events.once(C,v),this.events.once(_,x);try{if(n){const D=Qt("wc_sessionAuthenticate",$,q);this.client.core.history.set(w,D);const N=await this.client.core.crypto.encode("",D,{type:2,encoding:Ft});P=Lr(r,w,N)}else await Promise.all([this.sendRequest({topic:w,method:"wc_sessionAuthenticate",params:$,expiry:i.expiry,throwOnFailedPublish:!0,clientRpcId:q}),this.sendRequest({topic:w,method:"wc_sessionPropose",params:I,expiry:ye.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:I.id})])}catch(D){throw this.events.off(C,v),this.events.off(_,x),D}return await this.setProposal(I.id,I),await this.setAuthRequest(q,{request:Te(re({},$),{verifyContext:{}}),pairingTopic:w,transportType:o}),{uri:P??b,response:M}}),R(this,"approveSessionAuthenticate",async i=>{const{id:r,auths:s}=i,n=this.client.core.eventClient.createEvent({properties:{topic:r.toString(),trace:[zt_authenticated_session_approve_started]}});try{this.isInitialized()}catch(y){throw n.setError(Hi_no_internet_connection),y}const o=this.getPendingAuthRequest(r);if(!o)throw n.setError(Hi_authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${r}`);const a=o.transportType||ce.relay;a===ce.relay&&await this.confirmOnlineStateOrThrow();const c=o.requester.publicKey,u=await this.client.core.crypto.generateKeyPair(),l=Vr(c),h={type:1,receiverPublicKey:c,senderPublicKey:u},d=[],f=[];for(const y of s){if(!await ka({cacao:y,projectId:this.client.core.projectId})){n.setError(Hi_invalid_cacao);const O=se("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:r,topic:l,error:O,encodeOpts:h}),new Error(O.message)}n.addTrace(zt_cacaos_verified);const{p:m}=y,w=zr(m.resources),b=[Sn(m.iss)],E=Xr(m.iss);if(w){const O=Ma(w),S=qa(w);d.push(...O),b.push(...S)}for(const O of b)f.push(`${O}:${E}`)}const p=await this.client.core.crypto.generateSharedKey(u,c);let g;if(n.addTrace(zt_create_authenticated_session_topic),d?.length>0){g={topic:p,acknowledged:!0,self:{publicKey:u,metadata:this.client.metadata},peer:{publicKey:c,metadata:o.requester.metadata},controller:c,expiry:pe(bi),authentication:s,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:o.pairingTopic,namespaces:uc([...new Set(d)],[...new Set(f)]),transportType:a},n.addTrace(zt_subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(p,{transportType:a})}catch(y){throw n.setError(Hi_subscribe_authenticated_session_topic_failure),y}n.addTrace(zt_subscribe_authenticated_session_topic_success),await this.client.session.set(p,g),n.addTrace(zt_store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:o.pairingTopic,metadata:o.requester.metadata})}n.addTrace(zt_publishing_authenticated_session_approve);try{await this.sendResult({topic:l,id:r,result:{cacaos:s,responder:{publicKey:u,metadata:this.client.metadata}},encodeOpts:h,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(o.requester.metadata,a)})}catch(y){throw n.setError(Hi_authenticated_session_approve_publish_failure),y}return await this.client.auth.requests.delete(r,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:o.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:n.eventId}),{session:g}}),R(this,"rejectSessionAuthenticate",async i=>{this.isInitialized();const{id:r,reason:s}=i,n=this.getPendingAuthRequest(r);if(!n)throw new Error(`Could not find pending auth request with id ${r}`);n.transportType===ce.relay&&await this.confirmOnlineStateOrThrow();const o=n.requester.publicKey,a=await this.client.core.crypto.generateKeyPair(),c=Vr(o),u={type:1,receiverPublicKey:o,senderPublicKey:a};await this.sendError({id:r,topic:c,error:s,encodeOpts:u,rpcOpts:ye.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(n.requester.metadata,n.transportType)}),await this.client.auth.requests.delete(r,{message:"rejected",code:0}),await this.client.proposal.delete(r,se("USER_DISCONNECTED"))}),R(this,"formatAuthMessage",i=>{this.isInitialized();const{request:r,iss:s}=i;return _l(r,s)}),R(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(0!==this.relayMessageCache.length)for(;this.relayMessageCache.length>0;)try{const i=this.relayMessageCache.shift();i&&await this.onRelayMessage(i)}catch(i){this.client.logger.error(i)}},50)}),R(this,"cleanupDuplicatePairings",async i=>{if(i.pairingTopic)try{const r=this.client.core.pairing.pairings.get(i.pairingTopic),s=this.client.core.pairing.pairings.getAll().filter(n=>{var o,a;return(null==(o=n.peerMetadata)?void 0:o.url)&&(null==(a=n.peerMetadata)?void 0:a.url)===i.peer.metadata.url&&n.topic&&n.topic!==r.topic});if(0===s.length)return;this.client.logger.info(`Cleaning up ${s.length} duplicate pairing(s)`),await Promise.all(s.map(n=>this.client.core.pairing.disconnect({topic:n.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(r){this.client.logger.error(r)}}),R(this,"deleteSession",async i=>{var r;const{topic:s,expirerHasDeleted:n=!1,emitEvent:o=!0,id:a=0}=i,{self:c}=this.client.session.get(s);await this.client.core.relayer.unsubscribe(s),await this.client.session.delete(s,se("USER_DISCONNECTED")),this.addToRecentlyDeleted(s,"session"),this.client.core.crypto.keychain.has(c.publicKey)&&await this.client.core.crypto.deleteKeyPair(c.publicKey),this.client.core.crypto.keychain.has(s)&&await this.client.core.crypto.deleteSymKey(s),n||this.client.core.expirer.del(s),this.client.core.storage.removeItem(Kc).catch(u=>this.client.logger.warn(u)),this.getPendingSessionRequests().forEach(u=>{u.topic===s&&this.deletePendingSessionRequest(u.id,se("USER_DISCONNECTED"))}),s===(null==(r=this.sessionRequestQueue.queue[0])?void 0:r.topic)&&(this.sessionRequestQueue.state=lt_idle),o&&this.client.events.emit("session_delete",{id:a,topic:s})}),R(this,"deleteProposal",async(i,r)=>{if(r)try{const s=this.client.proposal.get(i);this.client.core.eventClient.getEvent({topic:s.pairingTopic})?.setError(jt_proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(i,se("USER_DISCONNECTED")),r?Promise.resolve():this.client.core.expirer.del(i)]),this.addToRecentlyDeleted(i,"proposal")}),R(this,"deletePendingSessionRequest",async(i,r,s=!1)=>{await Promise.all([this.client.pendingRequest.delete(i,r),s?Promise.resolve():this.client.core.expirer.del(i)]),this.addToRecentlyDeleted(i,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(n=>n.id!==i),s&&(this.sessionRequestQueue.state=lt_idle,this.client.events.emit("session_request_expire",{id:i}))}),R(this,"deletePendingAuthRequest",async(i,r,s=!1)=>{await Promise.all([this.client.auth.requests.delete(i,r),s?Promise.resolve():this.client.core.expirer.del(i)])}),R(this,"setExpiry",async(i,r)=>{this.client.session.keys.includes(i)&&(this.client.core.expirer.set(i,r),await this.client.session.update(i,{expiry:r}))}),R(this,"setProposal",async(i,r)=>{this.client.core.expirer.set(i,pe(ye.wc_sessionPropose.req.ttl)),await this.client.proposal.set(i,r)}),R(this,"setAuthRequest",async(i,r)=>{const{request:s,pairingTopic:n,transportType:o=ce.relay}=r;this.client.core.expirer.set(i,s.expiryTimestamp),await this.client.auth.requests.set(i,{authPayload:s.authPayload,requester:s.requester,expiryTimestamp:s.expiryTimestamp,id:i,pairingTopic:n,verifyContext:s.verifyContext,transportType:o})}),R(this,"setPendingSessionRequest",async i=>{const{id:r,topic:s,params:n,verifyContext:o}=i,a=n.request.expiryTimestamp||pe(ye.wc_sessionRequest.req.ttl);this.client.core.expirer.set(r,a),await this.client.pendingRequest.set(r,{id:r,topic:s,params:n,verifyContext:o})}),R(this,"sendRequest",async i=>{const{topic:r,method:s,params:n,expiry:o,relayRpcId:a,clientRpcId:c,throwOnFailedPublish:u,appLink:l,tvf:h}=i,d=Qt(s,n,c);let f;const p=!!l;try{const m=p?Ft:ot;f=await this.client.core.crypto.encode(r,d,{encoding:m})}catch(m){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${r} failed`),m}let g;if(PI.includes(s)){const m=gt(JSON.stringify(d)),w=gt(f);g=await this.client.core.verify.register({id:w,decryptedId:m})}const y=ye[s].req;if(y.attestation=g,o&&(y.ttl=o),a&&(y.id=a),this.client.core.history.set(r,d),p){const m=Lr(l,r,f);await __webpack_require__.g.Linking.openURL(m,this.client.name)}else{const m=ye[s].req;o&&(m.ttl=o),a&&(m.id=a),m.tvf=Te(re({},h),{correlationId:d.id}),u?(m.internal=Te(re({},m.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(r,f,m)):this.client.core.relayer.publish(r,f,m).catch(w=>this.client.logger.error(w))}return d.id}),R(this,"sendResult",async i=>{const{id:r,topic:s,result:n,throwOnFailedPublish:o,encodeOpts:a,appLink:c}=i,u=ms(r,n);let l;const h=c&&typeof(null==__webpack_require__.g?void 0:__webpack_require__.g.Linking)<"u";try{const p=h?Ft:ot;l=await this.client.core.crypto.encode(s,u,Te(re({},a||{}),{encoding:p}))}catch(p){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${s} failed`),p}let d,f;try{d=await this.client.core.history.get(s,r);const p=d.request;try{this.shouldSetTVF(p.method,p.params)&&(f=this.getTVFParams(r,p.params,n))}catch(g){this.client.logger.warn("sendResult() -> getTVFParams() failed",g)}}catch(p){throw this.client.logger.error(`sendResult() -> history.get(${s}, ${r}) failed`),p}if(h){const p=Lr(c,s,l);await __webpack_require__.g.Linking.openURL(p,this.client.name)}else{const p=d.request.method,g=ye[p].res;g.tvf=Te(re({},f),{correlationId:r}),o?(g.internal=Te(re({},g.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(s,l,g)):this.client.core.relayer.publish(s,l,g).catch(y=>this.client.logger.error(y))}await this.client.core.history.resolve(u)}),R(this,"sendError",async i=>{const{id:r,topic:s,error:n,encodeOpts:o,rpcOpts:a,appLink:c}=i,u=bs(r,n);let l;const h=c&&typeof(null==__webpack_require__.g?void 0:__webpack_require__.g.Linking)<"u";try{const f=h?Ft:ot;l=await this.client.core.crypto.encode(s,u,Te(re({},o||{}),{encoding:f}))}catch(f){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${s} failed`),f}let d;try{d=await this.client.core.history.get(s,r)}catch(f){throw this.client.logger.error(`sendError() -> history.get(${s}, ${r}) failed`),f}if(h){const f=Lr(c,s,l);await __webpack_require__.g.Linking.openURL(f,this.client.name)}else{const f=d.request.method,p=a||ye[f].res;this.client.core.relayer.publish(s,l,p)}await this.client.core.history.resolve(u)}),R(this,"cleanup",async()=>{const i=[],r=[];this.client.session.getAll().forEach(s=>{let n=!1;Nt(s.expiry)&&(n=!0),this.client.core.crypto.keychain.has(s.topic)||(n=!0),n&&i.push(s.topic)}),this.client.proposal.getAll().forEach(s=>{Nt(s.expiryTimestamp)&&r.push(s.id)}),await Promise.all([...i.map(s=>this.deleteSession({topic:s})),...r.map(s=>this.deleteProposal(s))])}),R(this,"onProviderMessageEvent",async i=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(i):await this.onRelayMessage(i)}),R(this,"onRelayEventRequest",async i=>{this.requestQueue.queue.push(i),await this.processRequestsQueue()}),R(this,"processRequestsQueue",async()=>{if(this.requestQueue.state!==lt_active){for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=lt_active;const i=this.requestQueue.queue.shift();if(i)try{await this.processRequest(i)}catch(r){this.client.logger.warn(r)}}this.requestQueue.state=lt_idle}else this.client.logger.info("Request queue already active, skipping...")}),R(this,"processRequest",async i=>{const{topic:r,payload:s,attestation:n,transportType:o,encryptedId:a}=i,c=s.method;if(!this.shouldIgnorePairingRequest({topic:r,requestMethod:c}))switch(c){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:r,payload:s,attestation:n,encryptedId:a});case"wc_sessionSettle":return await this.onSessionSettleRequest(r,s);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(r,s);case"wc_sessionExtend":return await this.onSessionExtendRequest(r,s);case"wc_sessionPing":return await this.onSessionPingRequest(r,s);case"wc_sessionDelete":return await this.onSessionDeleteRequest(r,s);case"wc_sessionRequest":return await this.onSessionRequest({topic:r,payload:s,attestation:n,encryptedId:a,transportType:o});case"wc_sessionEvent":return await this.onSessionEventRequest(r,s);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:r,payload:s,attestation:n,encryptedId:a,transportType:o});default:return this.client.logger.info(`Unsupported request method ${c}`)}}),R(this,"onRelayEventResponse",async i=>{const{topic:r,payload:s,transportType:n}=i,o=(await this.client.core.history.get(r,s.id)).request.method;switch(o){case"wc_sessionPropose":return this.onSessionProposeResponse(r,s,n);case"wc_sessionSettle":return this.onSessionSettleResponse(r,s);case"wc_sessionUpdate":return this.onSessionUpdateResponse(r,s);case"wc_sessionExtend":return this.onSessionExtendResponse(r,s);case"wc_sessionPing":return this.onSessionPingResponse(r,s);case"wc_sessionRequest":return this.onSessionRequestResponse(r,s);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(r,s);default:return this.client.logger.info(`Unsupported response method ${o}`)}}),R(this,"onRelayEventUnknownPayload",i=>{const{topic:r}=i,{message:s}=F("MISSING_OR_INVALID",`Decoded payload on topic ${r} is not identifiable as a JSON-RPC request or a response.`);throw new Error(s)}),R(this,"shouldIgnorePairingRequest",i=>{const{topic:r,requestMethod:s}=i,n=this.expectedPairingMethodMap.get(r);return!(!n||n.includes(s))&&!!(n.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),R(this,"onSessionProposeRequest",async i=>{const{topic:r,payload:s,attestation:n,encryptedId:o}=i,{params:a,id:c}=s;try{const u=this.client.core.eventClient.getEvent({topic:r});0===this.client.events.listenerCount("session_proposal")&&(console.warn("No listener for session_proposal event"),u?.setError(St_proposal_listener_not_found)),this.isValidConnect(re({},s.params));const l=a.expiryTimestamp||pe(ye.wc_sessionPropose.req.ttl),h=re({id:c,pairingTopic:r,expiryTimestamp:l},a);await this.setProposal(c,h);const d=await this.getVerifyContext({attestationId:n,hash:gt(JSON.stringify(s)),encryptedId:o,metadata:h.proposer.metadata});u?.addTrace(ht_emit_session_proposal),this.client.events.emit("session_proposal",{id:c,params:h,verifyContext:d})}catch(u){await this.sendError({id:c,topic:r,error:u,rpcOpts:ye.wc_sessionPropose.autoReject}),this.client.logger.error(u)}}),R(this,"onSessionProposeResponse",async(i,r,s)=>{const{id:n}=r;if(pt(r)){const{result:o}=r;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:o});const a=this.client.proposal.get(n);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:a});const c=a.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:c});const u=o.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:u});const l=await this.client.core.crypto.generateSharedKey(c,u);this.pendingSessions.set(n,{sessionTopic:l,pairingTopic:i,proposalId:n,publicKey:c});const h=await this.client.core.relayer.subscribe(l,{transportType:s});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:h}),await this.client.core.pairing.activate({topic:i})}else if(Qe(r)){await this.client.proposal.delete(n,se("USER_DISCONNECTED"));const o=X("session_connect",n);if(0===this.events.listenerCount(o))throw new Error(`emitting ${o} without any listeners, 954`);this.events.emit(o,{error:r.error})}}),R(this,"onSessionSettleRequest",async(i,r)=>{const{id:s,params:n}=r;try{this.isValidSessionSettleRequest(n);const{relay:o,controller:a,expiry:c,namespaces:u,sessionProperties:l,scopedProperties:h,sessionConfig:d}=r.params,f=[...this.pendingSessions.values()].find(y=>y.sessionTopic===i);if(!f)return this.client.logger.error(`Pending session not found for topic ${i}`);const p=this.client.proposal.get(f.proposalId),g=Te(re(re(re({topic:i,relay:o,expiry:c,namespaces:u,acknowledged:!0,pairingTopic:f.pairingTopic,requiredNamespaces:p.requiredNamespaces,optionalNamespaces:p.optionalNamespaces,controller:a.publicKey,self:{publicKey:f.publicKey,metadata:this.client.metadata},peer:{publicKey:a.publicKey,metadata:a.metadata}},l&&{sessionProperties:l}),h&&{scopedProperties:h}),d&&{sessionConfig:d}),{transportType:ce.relay});await this.client.session.set(g.topic,g),await this.setExpiry(g.topic,g.expiry),await this.client.core.pairing.updateMetadata({topic:f.pairingTopic,metadata:g.peer.metadata}),this.client.events.emit("session_connect",{session:g}),this.events.emit(X("session_connect",f.proposalId),{session:g}),this.pendingSessions.delete(f.proposalId),this.deleteProposal(f.proposalId,!1),this.cleanupDuplicatePairings(g),await this.sendResult({id:r.id,topic:i,result:!0,throwOnFailedPublish:!0})}catch(o){await this.sendError({id:s,topic:i,error:o}),this.client.logger.error(o)}}),R(this,"onSessionSettleResponse",async(i,r)=>{const{id:s}=r;pt(r)?(await this.client.session.update(i,{acknowledged:!0}),this.events.emit(X("session_approve",s),{})):Qe(r)&&(await this.client.session.delete(i,se("USER_DISCONNECTED")),this.events.emit(X("session_approve",s),{error:r.error}))}),R(this,"onSessionUpdateRequest",async(i,r)=>{const{params:s,id:n}=r;try{const o=`${i}_session_update`,a=Vi.get(o);if(a&&this.isRequestOutOfSync(a,n))return this.client.logger.warn(`Discarding out of sync request - ${n}`),void this.sendError({id:n,topic:i,error:se("INVALID_UPDATE_REQUEST")});this.isValidUpdate(re({topic:i},s));try{Vi.set(o,n),await this.client.session.update(i,{namespaces:s.namespaces}),await this.sendResult({id:n,topic:i,result:!0,throwOnFailedPublish:!0})}catch(c){throw Vi.delete(o),c}this.client.events.emit("session_update",{id:n,topic:i,params:s})}catch(o){await this.sendError({id:n,topic:i,error:o}),this.client.logger.error(o)}}),R(this,"isRequestOutOfSync",(i,r)=>r.toString().slice(0,-3)<i.toString().slice(0,-3)),R(this,"onSessionUpdateResponse",(i,r)=>{const{id:s}=r,n=X("session_update",s);if(0===this.events.listenerCount(n))throw new Error(`emitting ${n} without any listeners`);pt(r)?this.events.emit(X("session_update",s),{}):Qe(r)&&this.events.emit(X("session_update",s),{error:r.error})}),R(this,"onSessionExtendRequest",async(i,r)=>{const{id:s}=r;try{this.isValidExtend({topic:i}),await this.setExpiry(i,pe(bi)),await this.sendResult({id:s,topic:i,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_extend",{id:s,topic:i})}catch(n){await this.sendError({id:s,topic:i,error:n}),this.client.logger.error(n)}}),R(this,"onSessionExtendResponse",(i,r)=>{const{id:s}=r,n=X("session_extend",s);if(0===this.events.listenerCount(n))throw new Error(`emitting ${n} without any listeners`);pt(r)?this.events.emit(X("session_extend",s),{}):Qe(r)&&this.events.emit(X("session_extend",s),{error:r.error})}),R(this,"onSessionPingRequest",async(i,r)=>{const{id:s}=r;try{this.isValidPing({topic:i}),await this.sendResult({id:s,topic:i,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:s,topic:i})}catch(n){await this.sendError({id:s,topic:i,error:n}),this.client.logger.error(n)}}),R(this,"onSessionPingResponse",(i,r)=>{const{id:s}=r,n=X("session_ping",s);setTimeout(()=>{if(0===this.events.listenerCount(n))throw new Error(`emitting ${n} without any listeners 2176`);pt(r)?this.events.emit(X("session_ping",s),{}):Qe(r)&&this.events.emit(X("session_ping",s),{error:r.error})},500)}),R(this,"onSessionDeleteRequest",async(i,r)=>{const{id:s}=r;try{this.isValidDisconnect({topic:i,reason:r.params}),Promise.all([new Promise(n=>{this.client.core.relayer.once(be_publish,async()=>{n(await this.deleteSession({topic:i,id:s}))})}),this.sendResult({id:s,topic:i,result:!0,throwOnFailedPublish:!0}),this.cleanupPendingSentRequestsForTopic({topic:i,error:se("USER_DISCONNECTED")})]).catch(n=>this.client.logger.error(n))}catch(n){this.client.logger.error(n)}}),R(this,"onSessionRequest",async i=>{var r,s,n;const{topic:o,payload:a,attestation:c,encryptedId:u,transportType:l}=i,{id:h,params:d}=a;try{await this.isValidRequest(re({topic:o},d));const f=this.client.session.get(o),g={id:h,topic:o,params:d,verifyContext:await this.getVerifyContext({attestationId:c,hash:gt(JSON.stringify(Qt("wc_sessionRequest",d,h))),encryptedId:u,metadata:f.peer.metadata,transportType:l})};await this.setPendingSessionRequest(g),l===ce.link_mode&&null!=(r=f.peer.metadata.redirect)&&r.universal&&this.client.core.addLinkModeSupportedApp(null==(s=f.peer.metadata.redirect)?void 0:s.universal),null!=(n=this.client.signConfig)&&n.disableRequestQueue?this.emitSessionRequest(g):(this.addSessionRequestToSessionRequestQueue(g),this.processSessionRequestQueue())}catch(f){await this.sendError({id:h,topic:o,error:f}),this.client.logger.error(f)}}),R(this,"onSessionRequestResponse",(i,r)=>{const{id:s}=r,n=X("session_request",s);if(0===this.events.listenerCount(n))throw new Error(`emitting ${n} without any listeners`);pt(r)?this.events.emit(X("session_request",s),{result:r.result}):Qe(r)&&this.events.emit(X("session_request",s),{error:r.error})}),R(this,"onSessionEventRequest",async(i,r)=>{const{id:s,params:n}=r;try{const o=`${i}_session_event_${n.event.name}`,a=Vi.get(o);if(a&&this.isRequestOutOfSync(a,s))return void this.client.logger.info(`Discarding out of sync request - ${s}`);this.isValidEmit(re({topic:i},n)),this.client.events.emit("session_event",{id:s,topic:i,params:n}),Vi.set(o,s)}catch(o){await this.sendError({id:s,topic:i,error:o}),this.client.logger.error(o)}}),R(this,"onSessionAuthenticateResponse",(i,r)=>{const{id:s}=r;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:i,payload:r}),pt(r)?this.events.emit(X("session_request",s),{result:r.result}):Qe(r)&&this.events.emit(X("session_request",s),{error:r.error})}),R(this,"onSessionAuthenticateRequest",async i=>{var r;const{topic:s,payload:n,attestation:o,encryptedId:a,transportType:c}=i;try{const{requester:u,authPayload:l,expiryTimestamp:h}=n.params,d=await this.getVerifyContext({attestationId:o,hash:gt(JSON.stringify(n)),encryptedId:a,metadata:u.metadata,transportType:c}),f={requester:u,pairingTopic:s,id:n.id,authPayload:l,verifyContext:d,expiryTimestamp:h};await this.setAuthRequest(n.id,{request:f,pairingTopic:s,transportType:c}),c===ce.link_mode&&null!=(r=u.metadata.redirect)&&r.universal&&this.client.core.addLinkModeSupportedApp(u.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:s,params:n.params,id:n.id,verifyContext:d})}catch(u){this.client.logger.error(u);const l=n.params.requester.publicKey,h=await this.client.core.crypto.generateKeyPair(),d=this.getAppLinkIfEnabled(n.params.requester.metadata,c),f={type:1,receiverPublicKey:l,senderPublicKey:h};await this.sendError({id:n.id,topic:s,error:u,encodeOpts:f,rpcOpts:ye.wc_sessionAuthenticate.autoReject,appLink:d})}}),R(this,"addSessionRequestToSessionRequestQueue",i=>{this.sessionRequestQueue.queue.push(i)}),R(this,"cleanupAfterResponse",i=>{this.deletePendingSessionRequest(i.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=lt_idle,this.processSessionRequestQueue()},T.toMiliseconds(this.requestQueueDelay))}),R(this,"cleanupPendingSentRequestsForTopic",({topic:i,error:r})=>{const s=this.client.core.history.pending;s.length>0&&s.filter(n=>n.topic===i&&"wc_sessionRequest"===n.request.method).forEach(n=>{const a=X("session_request",n.request.id);if(0===this.events.listenerCount(a))throw new Error(`emitting ${a} without any listeners`);this.events.emit(X("session_request",n.request.id),{error:r})})}),R(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===lt_active)return void this.client.logger.info("session request queue is already active.");const i=this.sessionRequestQueue.queue[0];if(i)try{this.sessionRequestQueue.state=lt_active,this.emitSessionRequest(i)}catch(r){this.client.logger.error(r)}else this.client.logger.info("session request queue is empty.")}),R(this,"emitSessionRequest",i=>{this.client.events.emit("session_request",i)}),R(this,"onPairingCreated",i=>{if(i.methods&&this.expectedPairingMethodMap.set(i.topic,i.methods),i.active)return;const r=this.client.proposal.getAll().find(s=>s.pairingTopic===i.topic);r&&this.onSessionProposeRequest({topic:i.topic,payload:Qt("wc_sessionPropose",Te(re({},r),{requiredNamespaces:r.requiredNamespaces,optionalNamespaces:r.optionalNamespaces,relays:r.relays,proposer:r.proposer,sessionProperties:r.sessionProperties,scopedProperties:r.scopedProperties}),r.id)})}),R(this,"isValidConnect",async i=>{if(!ke(i)){const{message:u}=F("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(i)}`);throw new Error(u)}const{pairingTopic:r,requiredNamespaces:s,optionalNamespaces:n,sessionProperties:o,scopedProperties:a,relays:c}=i;if($e(r)||await this.isValidPairingTopic(r),!function nv(t,e){let i=!1;return e&&!t?i=!0:t&&Dr(t)&&t.length&&t.forEach(r=>{i=Gl(r)}),i}(c,!0)){const{message:u}=F("MISSING_OR_INVALID",`connect() relays: ${c}`);throw new Error(u)}if(!$e(s)&&0!==ts(s)&&this.validateNamespaces(s,"requiredNamespaces"),!$e(n)&&0!==ts(n)&&this.validateNamespaces(n,"optionalNamespaces"),$e(o)||this.validateSessionProps(o,"sessionProperties"),!$e(a)){this.validateSessionProps(a,"scopedProperties");const u=Object.keys(s||{}).concat(Object.keys(n||{}));if(!Object.keys(a).every(l=>u.includes(l)))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(a)}, required/optional namespaces: ${JSON.stringify(u)}`)}}),R(this,"validateNamespaces",(i,r)=>{const s=function sv(t,e,i){let r=null;if(t&&ts(t)){const s=Wl(t,e);s&&(r=s);const n=ev(t,e,i);n&&(r=n)}else r=F("MISSING_OR_INVALID",`${e}, ${i} should be an object with data`);return r}(i,"connect()",r);if(s)throw new Error(s.message)}),R(this,"isValidApprove",async i=>{if(!ke(i))throw new Error(F("MISSING_OR_INVALID",`approve() params: ${i}`).message);const{id:r,namespaces:s,relayProtocol:n,sessionProperties:o,scopedProperties:a}=i;this.checkRecentlyDeleted(r),await this.isValidProposalId(r);const c=this.client.proposal.get(r),u=Xs(s,"approve()");if(u)throw new Error(u.message);const l=dc(c.requiredNamespaces,s,"approve()");if(l)throw new Error(l.message);if(!de(n,!0)){const{message:h}=F("MISSING_OR_INVALID",`approve() relayProtocol: ${n}`);throw new Error(h)}if($e(o)||this.validateSessionProps(o,"sessionProperties"),!$e(a)){this.validateSessionProps(a,"scopedProperties");const h=new Set(Object.keys(s));if(!Object.keys(a).every(d=>h.has(d)))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(a)}, approved namespaces: ${Array.from(h).join(", ")}`)}}),R(this,"isValidReject",async i=>{if(!ke(i)){const{message:n}=F("MISSING_OR_INVALID",`reject() params: ${i}`);throw new Error(n)}const{id:r,reason:s}=i;if(this.checkRecentlyDeleted(r),await this.isValidProposalId(r),!function av(t){return!!(t&&"object"==typeof t&&t.code&&go(t.code,!1)&&t.message&&de(t.message,!1))}(s)){const{message:n}=F("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(s)}`);throw new Error(n)}}),R(this,"isValidSessionSettleRequest",i=>{if(!ke(i)){const{message:u}=F("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${i}`);throw new Error(u)}const{relay:r,controller:s,namespaces:n,expiry:o}=i;if(!Gl(r)){const{message:u}=F("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(u)}const a=function Q0(t,e){let i=null;return de(t?.publicKey,!1)||(i=F("MISSING_OR_INVALID",`${e} controller public key should be a string`)),i}(s,"onSessionSettleRequest()");if(a)throw new Error(a.message);const c=Xs(n,"onSessionSettleRequest()");if(c)throw new Error(c.message);if(Nt(o)){const{message:u}=F("EXPIRED","onSessionSettleRequest()");throw new Error(u)}}),R(this,"isValidUpdate",async i=>{if(!ke(i)){const{message:c}=F("MISSING_OR_INVALID",`update() params: ${i}`);throw new Error(c)}const{topic:r,namespaces:s}=i;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const n=this.client.session.get(r),o=Xs(s,"update()");if(o)throw new Error(o.message);const a=dc(n.requiredNamespaces,s,"update()");if(a)throw new Error(a.message)}),R(this,"isValidExtend",async i=>{if(!ke(i)){const{message:s}=F("MISSING_OR_INVALID",`extend() params: ${i}`);throw new Error(s)}const{topic:r}=i;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r)}),R(this,"isValidRequest",async i=>{if(!ke(i)){const{message:c}=F("MISSING_OR_INVALID",`request() params: ${i}`);throw new Error(c)}const{topic:r,request:s,chainId:n,expiry:o}=i;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const{namespaces:a}=this.client.session.get(r);if(!hc(a,n)){const{message:c}=F("MISSING_OR_INVALID",`request() chainId: ${n}`);throw new Error(c)}if(!function cv(t){return!($e(t)||!de(t.method,!1))}(s)){const{message:c}=F("MISSING_OR_INVALID",`request() ${JSON.stringify(s)}`);throw new Error(c)}if(!hv(a,n,s.method)){const{message:c}=F("MISSING_OR_INVALID",`request() method: ${s.method}`);throw new Error(c)}if(o&&!function gv(t,e){return go(t,!1)&&t<=e.max&&t>=e.min}(o,an)){const{message:c}=F("MISSING_OR_INVALID",`request() expiry: ${o}. Expiry must be a number (in seconds) between ${an.min} and ${an.max}`);throw new Error(c)}}),R(this,"isValidRespond",async i=>{var r;if(!ke(i)){const{message:o}=F("MISSING_OR_INVALID",`respond() params: ${i}`);throw new Error(o)}const{topic:s,response:n}=i;try{await this.isValidSessionTopic(s)}catch(o){throw null!=(r=i?.response)&&r.id&&this.cleanupAfterResponse(i),o}if(!function uv(t){return!($e(t)||$e(t.result)&&$e(t.error)||!go(t.id,!1)||!de(t.jsonrpc,!1))}(n)){const{message:o}=F("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(n)}`);throw new Error(o)}}),R(this,"isValidPing",async i=>{if(!ke(i)){const{message:s}=F("MISSING_OR_INVALID",`ping() params: ${i}`);throw new Error(s)}const{topic:r}=i;await this.isValidSessionOrPairingTopic(r)}),R(this,"isValidEmit",async i=>{if(!ke(i)){const{message:a}=F("MISSING_OR_INVALID",`emit() params: ${i}`);throw new Error(a)}const{topic:r,event:s,chainId:n}=i;await this.isValidSessionTopic(r);const{namespaces:o}=this.client.session.get(r);if(!hc(o,n)){const{message:a}=F("MISSING_OR_INVALID",`emit() chainId: ${n}`);throw new Error(a)}if(!function lv(t){return!($e(t)||!de(t.name,!1))}(s)){const{message:a}=F("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(s)}`);throw new Error(a)}if(!dv(o,n,s.name)){const{message:a}=F("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(s)}`);throw new Error(a)}}),R(this,"isValidDisconnect",async i=>{if(!ke(i)){const{message:s}=F("MISSING_OR_INVALID",`disconnect() params: ${i}`);throw new Error(s)}const{topic:r}=i;await this.isValidSessionOrPairingTopic(r)}),R(this,"isValidAuthenticate",i=>{const{chains:r,uri:s,domain:n,nonce:o}=i;if(!Array.isArray(r)||0===r.length)throw new Error("chains is required and must be a non-empty array");if(!de(s,!1))throw new Error("uri is required parameter");if(!de(n,!1))throw new Error("domain is required parameter");if(!de(o,!1))throw new Error("nonce is required parameter");if([...new Set(r.map(c=>jr(c).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:a}=jr(r[0]);if("eip155"!==a)throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),R(this,"getVerifyContext",async i=>{const{attestationId:r,hash:s,encryptedId:n,metadata:o,transportType:a}=i,c={verified:{verifyUrl:o.verifyUrl||er,validation:"UNKNOWN",origin:o.url||""}};try{if(a===ce.link_mode){const l=this.getAppLinkIfEnabled(o,a);return c.verified.validation=l&&new URL(l).origin===new URL(o.url).origin?"VALID":"INVALID",c}const u=await this.client.core.verify.resolve({attestationId:r,hash:s,encryptedId:n,verifyUrl:o.verifyUrl});u&&(c.verified.origin=u.origin,c.verified.isScam=u.isScam,c.verified.validation=u.origin===new URL(o.url).origin?"VALID":"INVALID")}catch(u){this.client.logger.warn(u)}return this.client.logger.debug(`Verify context: ${JSON.stringify(c)}`),c}),R(this,"validateSessionProps",(i,r)=>{Object.values(i).forEach((s,n)=>{if(null==s){const{message:o}=F("MISSING_OR_INVALID",`${r} must contain an existing value for each key. Received: ${s} for key ${Object.keys(i)[n]}`);throw new Error(o)}})}),R(this,"getPendingAuthRequest",i=>{const r=this.client.auth.requests.get(i);return"object"==typeof r?r:void 0}),R(this,"addToRecentlyDeleted",(i,r)=>{if(this.recentlyDeletedMap.set(i,r),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let s=0;const n=this.recentlyDeletedLimit/2;for(const o of this.recentlyDeletedMap.keys()){if(s++>=n)break;this.recentlyDeletedMap.delete(o)}}}),R(this,"checkRecentlyDeleted",i=>{const r=this.recentlyDeletedMap.get(i);if(r){const{message:s}=F("MISSING_OR_INVALID",`Record was recently deleted - ${r}: ${i}`);throw new Error(s)}}),R(this,"isLinkModeEnabled",(i,r)=>{var s,n,o,a,c,u,l,h,d;return!(!i||r!==ce.link_mode)&&(!0===(null==(n=null==(s=this.client.metadata)?void 0:s.redirect)?void 0:n.linkMode)&&void 0!==(null==(a=null==(o=this.client.metadata)?void 0:o.redirect)?void 0:a.universal)&&""!==(null==(u=null==(c=this.client.metadata)?void 0:c.redirect)?void 0:u.universal)&&void 0!==(null==(l=i?.redirect)?void 0:l.universal)&&""!==(null==(h=i?.redirect)?void 0:h.universal)&&!0===(null==(d=i?.redirect)?void 0:d.linkMode)&&this.client.core.linkModeSupportedApps.includes(i.redirect.universal)&&typeof(null==__webpack_require__.g?void 0:__webpack_require__.g.Linking)<"u")}),R(this,"getAppLinkIfEnabled",(i,r)=>{var s;return this.isLinkModeEnabled(i,r)?null==(s=i?.redirect)?void 0:s.universal:void 0}),R(this,"handleLinkModeMessage",({url:i})=>{if(!i||!i.includes("wc_ev")||!i.includes("topic"))return;const r=Pa(i,"topic")||"",s=decodeURIComponent(Pa(i,"wc_ev")||""),n=this.client.session.keys.includes(r);n&&this.client.session.update(r,{transportType:ce.link_mode}),this.client.core.dispatchEnvelope({topic:r,message:s,sessionExists:n})}),R(this,"registerLinkModeListeners",async()=>{var i;if(ao()||Ut()&&null!=(i=this.client.metadata.redirect)&&i.linkMode){const r=null==__webpack_require__.g?void 0:__webpack_require__.g.Linking;if(typeof r<"u"){r.addEventListener("url",this.handleLinkModeMessage,this.client.name);const s=await r.getInitialURL();s&&setTimeout(()=>{this.handleLinkModeMessage({url:s})},50)}}}),R(this,"shouldSetTVF",(i,r)=>{if(!r||"wc_sessionRequest"!==i)return!1;const{request:s}=r;return Object.keys(Wc).includes(s.method)}),R(this,"getTVFParams",(i,r,s)=>{var n,o;try{const a=r.request.method,c=this.extractTxHashesFromResult(a,s);return Te(re({correlationId:i,rpcMethods:[a],chainId:r.chainId},this.isValidContractData(r.request.params)&&{contractAddresses:[null==(o=null==(n=r.request.params)?void 0:n[0])?void 0:o.to]}),{txHashes:c})}catch(a){this.client.logger.warn("Error getting TVF params",a)}return{}}),R(this,"isValidContractData",i=>{var r;if(!i)return!1;try{const s=i?.data||(null==(r=i?.[0])?void 0:r.data);if(!s.startsWith("0x"))return!1;const n=s.slice(2);return!!/^[0-9a-fA-F]*$/.test(n)&&n.length%2==0}catch{}return!1}),R(this,"extractTxHashesFromResult",(i,r)=>{try{if("string"==typeof r)return[r];const n=r[Wc[i].key];if(Dr(n))return"solana_signAllTransactions"===i?n.map(o=>function zb(t){const e=atob(t),i=new Uint8Array(e.length);for(let o=0;o<e.length;o++)i[o]=e.charCodeAt(o);const r=i[0];if(0===r)throw new Error("No signatures found");const s=1+64*r;if(i.length<s)throw new Error("Transaction data too short for claimed signature count");if(i.length<100)throw new Error("Transaction too short");const n=Buffer.from(t,"base64").slice(1,65);return Mw.encode(n)}(o)):n;if("string"==typeof n)return[n]}catch(s){this.client.logger.warn("Error extracting tx hashes from result",s)}return[]})}async processPendingMessageEvents(){try{const e=this.client.session.keys,i=this.client.core.relayer.messages.getWithoutAck(e);for(const[r,s]of Object.entries(i))for(const n of s)try{await this.onProviderMessageEvent({topic:r,message:n,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${r}, message: ${n}`)}}catch(e){this.client.logger.warn("processPendingMessageEvents failed",e)}}isInitialized(){if(!this.initialized){const{message:e}=F("NOT_INITIALIZED",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(be_message,e=>{this.onProviderMessageEvent(e)})}async onRelayMessage(e){const{topic:i,message:r,attestation:s,transportType:n}=e,{publicKey:o}=this.client.auth.authKeys.keys.includes(Hr)?this.client.auth.authKeys.get(Hr):{responseTopic:void 0,publicKey:void 0};try{const a=await this.client.core.crypto.decode(i,r,{receiverPublicKey:o,encoding:n===ce.link_mode?Ft:ot});wo(a)?(this.client.core.history.set(i,a),await this.onRelayEventRequest({topic:i,payload:a,attestation:s,transportType:n,encryptedId:gt(r)})):vs(a)?(await this.client.core.history.resolve(a),await this.onRelayEventResponse({topic:i,payload:a,transportType:n}),this.client.core.history.delete(i,a.id)):await this.onRelayEventUnknownPayload({topic:i,payload:a,transportType:n}),await this.client.core.relayer.messages.ack(i,r)}catch(a){this.client.logger.error(a)}}registerExpirerEvents(){this.client.core.expirer.on(Ze_expired,async e=>{const{topic:i,id:r}=pl(e.target);return r&&this.client.pendingRequest.keys.includes(r)?await this.deletePendingSessionRequest(r,F("EXPIRED"),!0):r&&this.client.auth.requests.keys.includes(r)?await this.deletePendingAuthRequest(r,F("EXPIRED"),!0):void(i?this.client.session.keys.includes(i)&&(await this.deleteSession({topic:i,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:i})):r&&(await this.deleteProposal(r,!0),this.client.events.emit("proposal_expire",{id:r})))})}registerPairingEvents(){this.client.core.pairing.events.on(Yt_create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(Yt_delete,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!de(e,!1)){const{message:i}=F("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(i)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:i}=F("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(i)}if(Nt(this.client.core.pairing.pairings.get(e).expiry)){const{message:i}=F("EXPIRED",`pairing topic: ${e}`);throw new Error(i)}}async isValidSessionTopic(e){if(!de(e,!1)){const{message:i}=F("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(i)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){const{message:i}=F("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(i)}if(Nt(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:i}=F("EXPIRED",`session topic: ${e}`);throw new Error(i)}if(!this.client.core.crypto.keychain.has(e)){const{message:i}=F("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(i)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else{if(!this.client.core.pairing.pairings.keys.includes(e)){if(de(e,!1)){const{message:i}=F("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(i)}{const{message:i}=F("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(i)}}this.isValidPairingTopic(e)}}async isValidProposalId(e){if(!function ov(t){return"number"==typeof t}(e)){const{message:i}=F("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(i)}if(!this.client.proposal.keys.includes(e)){const{message:i}=F("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(i)}if(Nt(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:i}=F("EXPIRED",`proposal id: ${e}`);throw new Error(i)}}}class jI extends ci{constructor(e,i){super(e,i,"proposal",bo),this.core=e,this.logger=i}}class zI extends ci{constructor(e,i){super(e,i,"session",bo),this.core=e,this.logger=i}}class VI extends ci{constructor(e,i){super(e,i,"request",bo,r=>r.id),this.core=e,this.logger=i}}class KI extends ci{constructor(e,i){super(e,i,"authKeys",_s,()=>Hr),this.core=e,this.logger=i}}class HI extends ci{constructor(e,i){super(e,i,"pairingTopics",_s),this.core=e,this.logger=i}}class WI extends ci{constructor(e,i){super(e,i,"requests",_s,r=>r.id),this.core=e,this.logger=i}}var GI=Object.defineProperty,cn=(t,e,i)=>((t,e,i)=>e in t?GI(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i)(t,"symbol"!=typeof e?e+"":e,i);class JI{constructor(e,i){this.core=e,this.logger=i,cn(this,"authKeys"),cn(this,"pairingTopics"),cn(this,"requests"),this.authKeys=new KI(this.core,this.logger),this.pairingTopics=new HI(this.core,this.logger),this.requests=new WI(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}var ZI=Object.defineProperty,G=(t,e,i)=>((t,e,i)=>e in t?ZI(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i)(t,"symbol"!=typeof e?e+"":e,i);class Is extends Hp{constructor(e){super(e),G(this,"protocol","wc"),G(this,"version",2),G(this,"name",on_name),G(this,"metadata"),G(this,"core"),G(this,"logger"),G(this,"events",new Ge.EventEmitter),G(this,"engine"),G(this,"session"),G(this,"proposal"),G(this,"pendingRequest"),G(this,"auth"),G(this,"signConfig"),G(this,"on",(r,s)=>this.events.on(r,s)),G(this,"once",(r,s)=>this.events.once(r,s)),G(this,"off",(r,s)=>this.events.off(r,s)),G(this,"removeListener",(r,s)=>this.events.removeListener(r,s)),G(this,"removeAllListeners",r=>this.events.removeAllListeners(r)),G(this,"connect",async r=>{try{return await this.engine.connect(r)}catch(s){throw this.logger.error(s.message),s}}),G(this,"pair",async r=>{try{return await this.engine.pair(r)}catch(s){throw this.logger.error(s.message),s}}),G(this,"approve",async r=>{try{return await this.engine.approve(r)}catch(s){throw this.logger.error(s.message),s}}),G(this,"reject",async r=>{try{return await this.engine.reject(r)}catch(s){throw this.logger.error(s.message),s}}),G(this,"update",async r=>{try{return await this.engine.update(r)}catch(s){throw this.logger.error(s.message),s}}),G(this,"extend",async r=>{try{return await this.engine.extend(r)}catch(s){throw this.logger.error(s.message),s}}),G(this,"request",async r=>{try{return await this.engine.request(r)}catch(s){throw this.logger.error(s.message),s}}),G(this,"respond",async r=>{try{return await this.engine.respond(r)}catch(s){throw this.logger.error(s.message),s}}),G(this,"ping",async r=>{try{return await this.engine.ping(r)}catch(s){throw this.logger.error(s.message),s}}),G(this,"emit",async r=>{try{return await this.engine.emit(r)}catch(s){throw this.logger.error(s.message),s}}),G(this,"disconnect",async r=>{try{return await this.engine.disconnect(r)}catch(s){throw this.logger.error(s.message),s}}),G(this,"find",r=>{try{return this.engine.find(r)}catch(s){throw this.logger.error(s.message),s}}),G(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(r){throw this.logger.error(r.message),r}}),G(this,"authenticate",async(r,s)=>{try{return await this.engine.authenticate(r,s)}catch(n){throw this.logger.error(n.message),n}}),G(this,"formatAuthMessage",r=>{try{return this.engine.formatAuthMessage(r)}catch(s){throw this.logger.error(s.message),s}}),G(this,"approveSessionAuthenticate",async r=>{try{return await this.engine.approveSessionAuthenticate(r)}catch(s){throw this.logger.error(s.message),s}}),G(this,"rejectSessionAuthenticate",async r=>{try{return await this.engine.rejectSessionAuthenticate(r)}catch(s){throw this.logger.error(s.message),s}}),this.name=e?.name||on_name,this.metadata=tb(e?.metadata),this.signConfig=e?.signConfig;const i=typeof e?.logger<"u"&&"string"!=typeof e?.logger?e.logger:as(Gn({level:e?.logger||on_logger}));this.core=e?.core||new SI(e),this.logger=Fe(i,this.name),this.session=new zI(this.core,this.logger),this.proposal=new jI(this.core,this.logger),this.pendingRequest=new VI(this.core,this.logger),this.engine=new qI(this),this.auth=new JI(this.core,this.logger)}static async init(e){const i=new Is(e);return await i.initialize(),i}get context(){return je(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success"),setTimeout(()=>{this.engine.processRelayMessageCache()},T.toMiliseconds(T.ONE_SECOND))}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}}const un=(0,_Modal_f68d2590_js__WEBPACK_IMPORTED_MODULE_1__.a)(),XI={width:"245px",height:"245px",borderRadius:"40px",zIndex:"99999",backgroundColor:"white",border:"none",outline:"none"};const nt=new class tD{constructor(){V(this,"bridgeUrl","https://login.ready.co"),V(this,"mobileUrl","ready://"),V(this,"type","overlay"),V(this,"wcUri"),V(this,"overlay"),V(this,"popupWindow"),V(this,"closingTimeout"),V(this,"standaloneConnectorModal")}showWalletConnectModal(e,i){const r=encodeURIComponent(e),s=encodeURIComponent(window.location.href);this.showModal({desktop:`${this.bridgeUrl}?wc=${r}&href=${s}&device=desktop&onlyQR=true`,ios:`${this.mobileUrl}app/wc?uri=${r}&href=${s}&device=mobile&onlyQR=true`,android:`${this.mobileUrl}app/wc?uri=${r}&href=${s}&device=mobile&onlyQR=true`},i)}getWalletConnectQR(e){const i=encodeURIComponent(e),r=encodeURIComponent(window.location.href);this.getQR({desktop:`${this.bridgeUrl}?wc=${i}&href=${r}&device=desktop&onlyQR=true`,ios:`${this.mobileUrl}app/wc?uri=${i}&href=${r}&device=mobile&onlyQR=true`,android:`${this.mobileUrl}app/wc?uri=${i}&href=${r}&device=mobile&onlyQR=true`})}openMobileApp(e){const i=document.createElement("button");i.style.display="none",i.addEventListener("click",()=>{window.location.href=e[un]}),i.click()}getQR(e){if(["android","ios"].includes(un))return void this.openMobileApp(e);const i=document.createElement("div"),r=document.querySelector("#starknetkit-modal-container");if(!r?.shadowRoot)throw new Error("Cannot find modal");{const s=r.shadowRoot.querySelector(".qr-code-slot");if(!s)throw new Error("Cannot find QR code slot");{s.innerHTML='\n  <div id="argent-mobile-modal-container" style="position: relative; display: flex; justify-content: center; align-items: center">\n    <iframe class="argent-iframe" allow="clipboard-write"></iframe>\n  </div>\n',document.body.appendChild(i),this.overlay=i;const n=s.querySelector("iframe");n.setAttribute("src",e.desktop);for(const[o,a]of Object.entries(XI))n.style[o]=a}}}showApprovalModal(e){const i=encodeURIComponent(window.location.href),r={desktop:`${this.bridgeUrl}?action=sign&device=desktop&href=${i}`,ios:`${this.mobileUrl}app/wc/request?href=${i}&device=mobile`,android:`${this.mobileUrl}app/wc/request?href=${i}&device=mobile`};if(!(0,_index_ae60a5dd_js__WEBPACK_IMPORTED_MODULE_3__.a)())return this.getModal(void 0,_Modal_f68d2590_js__WEBPACK_IMPORTED_MODULE_1__.L.approval),["android","ios"].includes(un)?void this.openMobileApp(r):void 0;this.showModal(r,void 0)}closeModal({success:e,isRequest:i}={success:!1,isRequest:!1}){const r=this.standaloneConnectorModal;e?(r?.$set({layout:_Modal_f68d2590_js__WEBPACK_IMPORTED_MODULE_1__.L.success}),setTimeout(()=>r?.$destroy(),500)):i?(r?.$set({layout:_Modal_f68d2590_js__WEBPACK_IMPORTED_MODULE_1__.L.requestFailure}),setTimeout(()=>r?.$destroy(),500)):r?.$set({layout:_Modal_f68d2590_js__WEBPACK_IMPORTED_MODULE_1__.L.loginFailure})}getModal(e,i=_Modal_f68d2590_js__WEBPACK_IMPORTED_MODULE_1__.L.qrCode){this.standaloneConnectorModal=new _Modal_f68d2590_js__WEBPACK_IMPORTED_MODULE_1__.M({target:(0,_Modal_f68d2590_js__WEBPACK_IMPORTED_MODULE_1__.g)(),props:{layout:i,dappName:e?.dappName,showBackButton:!1,selectedWallet:e,callback:async r=>{try{const s=r?.connector;this.standaloneConnectorModal?.$destroy(),await(s?.connect())}catch{this.standaloneConnectorModal?.$set({layout:_Modal_f68d2590_js__WEBPACK_IMPORTED_MODULE_1__.L.loginFailure})}}}})}showModal(e,i){this.getModal(i,_Modal_f68d2590_js__WEBPACK_IMPORTED_MODULE_1__.L.qrCode),this.getQR(e)}},ss=starknet__WEBPACK_IMPORTED_MODULE_2__.AA.NetworkName,rD=t=>{if(!t)throw new Error(`Unknown or unsupported chainId (${t}), either specify a supported chain or set bridgeUrl.`);const e=parseInt(`${t}`);return String(t).startsWith(ss.SN_SEPOLIA)||11155111===e?"https://mobile-login.hydrogen.argent47.net":String(t).startsWith(ss.SN_MAIN)||1===e?"https://login.argent.xyz":void 0},sD=t=>{if(!t)throw new Error(`Unknown or unsupported chainId (${t}), either specify a supported chain or set mobileUrl.`);const e=parseInt(`${t}`);return String(t).startsWith(ss.SN_SEPOLIA)||11155111===e?"argent-dev://":String(t).startsWith(ss.SN_MAIN)||1===e?"argent://":void 0};var nD=Object.defineProperty,Vt=(t,e,i)=>((t,e,i)=>e in t?nD(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i)(t,"symbol"!=typeof e?e+"":e,i);const ft_init="signer_init",ft_uri="signer_uri",ft_created="signer_created",ft_updated="signer_updated",ft_deleted="signer_deleted",ft_event="signer_event";class cD extends Tv{constructor(e){super(),Vt(this,"events",new Ge.EventEmitter),Vt(this,"requiredNamespaces"),Vt(this,"pending",!1),Vt(this,"session"),Vt(this,"opts"),Vt(this,"client"),Vt(this,"initializing",!1),this.requiredNamespaces=e?.requiredNamespaces||{},this.opts=e?.client}get connected(){return typeof this.session<"u"}get connecting(){return this.pending}get chains(){return this.session?ul(this.session.namespaces):function zm(t,e=[]){const i=[];return Object.keys(t).forEach(r=>{if(e.length&&!e.includes(r))return;const s=t[r];i.push(...oo(r,s))}),i}(this.requiredNamespaces)}get accounts(){return this.session?cl(this.session.namespaces):[]}on(e,i){this.events.on(e,i)}once(e,i){this.events.once(e,i)}off(e,i){this.events.off(e,i)}removeListener(e,i){this.events.removeListener(e,i)}async open(){if(this.pending)return new Promise((e,i)=>{this.events.once("open",()=>{if(this.events.once("open_error",r=>{i(r)}),typeof this.client>"u")return i(new Error("Sign Client not initialized"));e()})});try{this.pending=!0;const e=await this.register(),i=e.find({requiredNamespaces:this.requiredNamespaces});if(i.length)return this.onOpen(i[0]);const{uri:r,approval:s}=await e.connect({requiredNamespaces:this.requiredNamespaces});this.events.emit(ft_uri,{uri:r}),this.session=await s(),this.events.emit(ft_created,this.session),this.onOpen()}catch(e){throw this.events.emit("open_error",e),e}}async close(){typeof this.session>"u"||(await(await this.register()).disconnect({topic:this.session.topic,reason:se("USER_DISCONNECTED")}),this.onClose())}async send(e,i){if(typeof this.client>"u"&&(this.client=await this.register(),this.connected||await this.open()),typeof this.session>"u")throw new Error("Signer connection is missing session");this.client.request({topic:this.session.topic,request:e,chainId:i?.chainId}).then(r=>this.events.emit("payload",ms(e.id,r))).catch(r=>this.events.emit("payload",bs(e.id,r.message)))}async register(e=this.opts){if(typeof this.client<"u")return this.client;if(this.initializing)return new Promise((i,r)=>{this.events.once("register_error",s=>{r(s)}),this.events.once(ft_init,()=>{if(typeof this.client>"u")return r(new Error("Sign Client not initialized"));i(this.client)})});if(function aD(t){return typeof t<"u"&&typeof t.context<"u"}(e))return this.client=e,this.registerEventListeners(),this.client;try{return this.initializing=!0,this.client=await Is.init(e),this.initializing=!1,this.registerEventListeners(),this.events.emit(ft_init),this.client}catch(i){throw this.events.emit("register_error",i),i}}onOpen(e){this.pending=!1,e&&(this.session=e),this.events.emit("open")}onClose(){this.pending=!1,this.client&&(this.client=void 0),this.events.emit("close")}registerEventListeners(){typeof this.client<"u"&&(this.client.on("session_event",e=>{var i;this.session&&(null==(i=this.session)?void 0:i.topic)!==e.topic||this.events.emit(ft_event,e.params)}),this.client.on("session_update",e=>{var i;typeof this.client<"u"&&(this.session&&(null==(i=this.session)?void 0:i.topic)!==e.topic||(this.session=this.client.session.get(e.topic),this.events.emit(ft_updated,this.session)))}),this.client.on("session_delete",e=>{var i;this.session&&(this.session&&(null==(i=this.session)?void 0:i.topic)!==e.topic||(this.onClose(),this.events.emit(ft_deleted,this.session),this.session=void 0))}))}}class uD{constructor(){V(this,"accounts",[]),V(this,"eventEmitter",new Ge.EventEmitter),V(this,"updateSession",e=>{if(!this.isValidSession(e))throw console.warn("updateSession incompatible session",e,"for adapter",this.formatChainId(this.chainId)),new Error("Invalid session");this.session=e;const i=ul(e.namespaces,[this.namespace]);this.setChainIds(i);const r=cl(e.namespaces,[this.namespace]);this.setAccounts(r)}),V(this,"isValidSession",({namespaces:e,requiredNamespaces:i})=>{const r=this.formatChainId(this.chainId);return i?!!i[this.namespace]?.chains?.includes(r):!!e?.[this.namespace]?.accounts.some(s=>s.startsWith(r))})}getRequiredNamespaces(){const e=[this.formatChainId(this.chainId)];return{[this.namespace]:{chains:e,methods:this.methods,events:this.events}}}isCompatibleChainId(e){return"string"==typeof e&&e.startsWith(`${this.namespace}:`)}setChainIds(e){const r=e.filter(s=>this.isCompatibleChainId(s)).map(s=>this.parseChainId(s)).filter(s=>s!==this.chainId);r.length&&(this.chainId=r[0],this.eventEmitter.emit("chainChanged",this.chainId))}setChainId(e){if(this.isCompatibleChainId(e)){const i=this.parseChainId(e);this.chainId=i,this.eventEmitter.emit("chainChanged",this.chainId)}}parseAccountId(e){const[i,r,s]=e.split(":");return{chainId:`${i}:${r}`,address:s}}getSignerConnection(e){return new cD({requiredNamespaces:{[this.namespace]:{chains:this.rpc.chains,methods:this.rpc.methods,events:this.rpc.events}},client:e})}registerEventListeners(){this.rpcProvider.on("connect",()=>{const{chains:e,accounts:i}=this.signerConnection;e?.length&&this.setChainIds(e),i?.length&&this.setAccounts(i)}),this.signerConnection.on(ft_created,this.updateSession),this.signerConnection.on(ft_updated,this.updateSession),this.signerConnection.on(ft_event,e=>{if(!this.rpc.chains.includes(e.chainId))return;const{event:i}=e;"accountsChanged"===i.name?(this.accounts=i.data,this.eventEmitter.emit("accountsChanged",this.accounts)):"chainChanged"===i.name?this.setChainId(i.data):this.eventEmitter.emit(i.name,i.data)}),this.rpcProvider.on("disconnect",()=>{this.eventEmitter.emit("disconnect")})}}class Yc extends starknet__WEBPACK_IMPORTED_MODULE_2__.gD{constructor(e,i,r,s){super(e,i,r),this.wallet=s}async execute(e,i,r={}){const s=Array.isArray(e)?e:[e],n=void 0===i||Array.isArray(i)?r:i;return await this.wallet.wallet_requestAddInvokeTransaction({accountAddress:this.address,executionRequest:{calls:s,invocationDetails:n}})}async declare(e,i){throw new Error("Not supported via Ready Login")}async deployAccount(e,i){throw new Error("Not supported via Ready Login")}}class lD{constructor(e){this.wallet=e}async getPubKey(){throw new Error("Not supported via Ready Login")}async signMessage(e,i){const{signature:r}=await this.wallet.wallet_signTypedData({accountAddress:i,typedData:e});return r}async signTransaction(e,i,r){throw new Error("Not supported via Ready Login")}async signDeployAccountTransaction(e){throw new Error("Not supported via Ready Login")}async signDeclareTransaction(e){throw new Error("Not supported via Ready Login")}}class pD extends uD{constructor({client:i,chainId:r,rpcUrl:s,provider:n}){super(),V(this,"id","argentMobile"),V(this,"name","Ready (formerly Argent)"),V(this,"version","0.1.0"),V(this,"icon",""),V(this,"provider"),V(this,"signer"),V(this,"account"),V(this,"selectedAddress",""),V(this,"namespace","starknet"),V(this,"methods",["starknet_supportedSpecs","starknet_signTypedData","starknet_requestAddInvokeTransaction","wallet_supportedSpecs","wallet_signTypedData","wallet_addInvokeTransaction"]),V(this,"events",["chainChanged","accountsChanged"]),V(this,"remoteSigner"),V(this,"signerConnection"),V(this,"rpcProvider"),V(this,"chainId"),V(this,"client"),V(this,"session"),V(this,"rpc"),V(this,"walletRpc"),V(this,"handleRequest"),V(this,"request",async i=>{if(!this.session)throw new Error("No session");let r=i.type;("wallet_addInvokeTransaction"===r||"wallet_supportedSpecs"===r||"wallet_signTypedData"===r)&&(r=r.replace("wallet_","starknet_"));const s=this.handleRequest[r];if(s)return s(i.params);throw new Error(`Not implemented: .request() for ${i.type}`)}),V(this,"on",(i,r)=>{this.eventEmitter.on(i,r)}),V(this,"off",(i,r)=>{this.eventEmitter.off(i,r)}),V(this,"handleRequestChainId",()=>this.chainId===starknet__WEBPACK_IMPORTED_MODULE_2__.AA.NetworkName.SN_SEPOLIA?starknet__WEBPACK_IMPORTED_MODULE_2__.AA.StarknetChainId.SN_SEPOLIA:starknet__WEBPACK_IMPORTED_MODULE_2__.AA.StarknetChainId.SN_MAIN),V(this,"handleRequestAccounts",()=>this.accounts),V(this,"handleGetPermissions",async()=>await this.isPreauthorized()?["accounts"]:[]),V(this,"handleAddInvokeTransaction",async i=>{const{calls:r}=i;return await this.requestWallet({method:"starknet_requestAddInvokeTransaction",params:{accountAddress:this.account.address,executionRequest:{calls:r?.map(({contract_address:s,entry_point:n,...o})=>({...o,contractAddress:s,entrypoint:n}))}}})}),V(this,"handleSignTypedData",async i=>{const r={accountAddress:this.account.address,typedData:i},s=await this.requestWallet({method:"starknet_signTypedData",params:r});return"signature"in s?s.signature:s}),V(this,"handleSupportedSpecs",async()=>await this.requestWallet({method:"starknet_supportedSpecs",params:{}})),this.chainId=String(r??starknet__WEBPACK_IMPORTED_MODULE_2__.AA.NetworkName.SN_MAIN),this.rpc={chains:r?[this.formatChainId(this.chainId)]:[],methods:this.methods,events:this.events},this.signerConnection=this.getSignerConnection(i),this.rpcProvider=new eh(this.signerConnection),this.client=i,this.registerEventListeners(),this.walletRpc=new Proxy({},{get:(o,a)=>c=>this.requestWallet({method:a,params:c})}),this.remoteSigner=new lD(this.walletRpc),this.provider=n||new starknet__WEBPACK_IMPORTED_MODULE_2__.RpcProvider({nodeUrl:s}),this.account=new Yc(this.provider,"",this.remoteSigner,this.walletRpc),this.handleRequest=Object.freeze({wallet_requestChainId:this.handleRequestChainId,wallet_requestAccounts:this.handleRequestAccounts,wallet_getPermissions:this.handleGetPermissions,starknet_addInvokeTransaction:this.handleAddInvokeTransaction,starknet_signTypedData:this.handleSignTypedData,starknet_supportedSpecs:this.handleSupportedSpecs,wallet_addInvokeTransaction:this.handleAddInvokeTransaction,wallet_signTypedData:this.handleSignTypedData,wallet_supportedSpecs:this.handleSupportedSpecs})}getNetworkName(i){if("SN_SEPOLIA"===i)return starknet__WEBPACK_IMPORTED_MODULE_2__.AA.NetworkName.SN_SEPOLIA;if("SN_MAIN"===i)return starknet__WEBPACK_IMPORTED_MODULE_2__.AA.NetworkName.SN_MAIN;throw new Error(`Unknown starknet.js network name for chainId ${i}`)}async enable(){return await this.rpcProvider.connect(),this.accounts}get isConnected(){return!0}async isPreauthorized(){return!!this.client.session.getAll().find(this.isValidSession)}async requestWallet(i){if(!this.session)throw new Error("No session");try{const{topic:r}=this.session,s=this.formatChainId(this.chainId);nt.showApprovalModal(i);const n=await this.client.request({topic:r,chainId:s,request:i});return nt.closeModal({success:!0}),n}catch(r){throw nt.closeModal({isRequest:!0}),r instanceof Error||r&&void 0!==r.message?new Error(r.message):new Error("Unknown error on requestWallet")}}get isConnecting(){return this.signerConnection.connecting}async disable(){await this.rpcProvider.disconnect()}get isWalletConnect(){return!0}registerEventListeners(){super.registerEventListeners(),this.eventEmitter.on("chainChanged",i=>{throw new Error("Not implemented: chainChanged")})}formatChainId(i){return`${this.namespace}:${(t=>t.replace(/^SN_/,"SN"))(i)}`}parseChainId(i){return(t=>t.replace(/^SN/,"SN_"))(i.split(":")[1])}setAccounts(i){this.accounts=i.filter(n=>this.parseChainId(this.parseAccountId(n).chainId)===this.chainId).map(n=>this.parseAccountId(n).address);const{address:r}=this.parseAccountId(i[0]),s=r.startsWith("0x")?r:`0x${r}`;this.account=new Yc(this.provider,s,this.remoteSigner,this.walletRpc),this.eventEmitter.emit("accountsChanged",this.accounts),this.selectedAddress=s}}const nS=Object.freeze(Object.defineProperty({__proto__:null,getStarknetWindowObject:async t=>(async({projectId:t,chainId:e,name:i,description:r,rpcUrl:s,bridgeUrl:n=rD(e),mobileUrl:o=sD(e),modalType:a="overlay",url:c,icons:u,walletConnect:l,onlyQRCode:h,modalWallet:d},f)=>{if(!n)throw new Error("bridgeUrl is required");if(!o)throw new Error("mobileUrl is required");nt.bridgeUrl=n,nt.mobileUrl=o,nt.type=a;const p={projectId:t,metadata:{name:i??"Unknown dapp",description:r??"Unknown dapp description",url:c??"#",icons:u??[],...l?.metadata}},g=await Is.init(p),y=new starknet__WEBPACK_IMPORTED_MODULE_2__.RpcProvider({nodeUrl:s}),m=new f({client:g,chainId:e,rpcUrl:s,provider:y});g.on("session_event",w=>{}),g.on("session_update",({topic:w,params:b})=>{const{namespaces:E}=b,O=g.session.get(w);m.updateSession({...O,namespaces:E})}),g.on("session_delete",()=>{});try{const w=g.session.getAll().find(m.isValidSession);if(w)return m.updateSession(w),m;const b={requiredNamespaces:m.getRequiredNamespaces()};(0,_index_ae60a5dd_js__WEBPACK_IMPORTED_MODULE_3__.r)(),await new Promise(S=>setTimeout(S,200));const{uri:E,approval:O}=await g.connect(b);if(E){h?nt.getWalletConnectQR(E):nt.showWalletConnectModal(E,{...d,dappName:i||""}),nt.wcUri=E;const S=await O();m.updateSession(S),nt.closeModal({success:!0})}return m}catch{return console.error("@argent/login::error"),nt.closeModal(),null}})(t,pD)},Symbol.toStringTag,{value:"Module"}))},"./node_modules/ws/browser.js":module=>{module.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}}}]);